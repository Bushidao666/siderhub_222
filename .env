# Local development
# Requires docker-compose.db.yml running (service: siderhub-db)

# Primary app database (multi-schema managed by Prisma)
DATABASE_URL="postgresql://postgres:postgres@localhost:5432/siderhub_dev"

# Test database (used by Jest/Playwright or local CI)
TEST_DATABASE_URL="postgresql://postgres:postgres@localhost:5432/siderhub_test"

# Optional: Shadow DB for Prisma migrate (advanced)
# SHADOW_DATABASE_URL="postgresql://postgres:postgres@localhost:5432/siderhub_shadow"

# Server Configuration
PORT=3000
NODE_ENV=development

# JWT Configuration
JWT_SECRET=dev-secret-change-in-production-use-openssl-rand-base64-32
JWT_ACCESS_TTL=15m
JWT_REFRESH_TTL=7d
REFRESH_TOKEN_TTL=7d

# Frontend URL (for CORS)
FRONTEND_URL=http://localhost:5173

# Redis for BullMQ queues (jobs)
# Required for campaign dispatch, metrics sync, and cleanup workers
REDIS_URL="redis://localhost:6379"

# BullMQ Configuration
BULLMQ_ENABLED=true
REDIS_PREFIX="siderhub:"
BULLMQ_CONCURRENCY=5
BULLMQ_RETENTION_COMPLETED=24
BULLMQ_RETENTION_FAILED=168
