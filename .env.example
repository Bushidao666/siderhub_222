# Local development
# Requires docker-compose.db.yml running (service: siderhub-db)

# Primary app database (multi-schema managed by Prisma)
DATABASE_URL="postgresql://postgres:postgres@localhost:5432/siderhub_dev"

# Test database (used by Jest/Playwright or local CI)
TEST_DATABASE_URL="postgresql://postgres:postgres@localhost:5432/siderhub_test"

# Optional: Shadow DB for Prisma migrate (advanced)
# SHADOW_DATABASE_URL="postgresql://postgres:postgres@localhost:5432/siderhub_shadow"

# Redis for BullMQ queues (jobs)
# Required for campaign dispatch, metrics sync, and cleanup workers
# Local development (docker-compose.db.yml service: siderhub-redis)
REDIS_URL="redis://localhost:6379"

# BullMQ Configuration
BULLMQ_ENABLED=true
REDIS_PREFIX="siderhub:"
BULLMQ_CONCURRENCY=5
BULLMQ_RETENTION_COMPLETED=24  # hours
BULLMQ_RETENTION_FAILED=168    # hours (7 days)
