# Gaps — Follow-up Check

Timestamp: 2025-11-03T11-39-22Z

- **Lesson detail ainda mockado** — `src/frontend/pages/Academy/LessonDetail.tsx:19` continua fabricando um `Lesson` em memória e passa `comments=[]`, ignorando `useCourseTree`/`useLessonComments`. Fluxos de progresso, replies e moderação seguem impossíveis.
- **Course detail sem árvore real** — `src/frontend/pages/Academy/CourseDetail.tsx:18` só recicla dados do `useHubData`; tree, módulos e drip não aparecem porque `useCourseTree` não é utilizado.
- **Wizard do Hidra permanece casca** — `src/frontend/pages/Hidra/Wizard.tsx:8` alterna etapas estáticas, sem `hidraService`, segmentos ou templates reais; o PRD exige fluxo multi-step com validação e agendamento.
- **Admin members depende de placeholder** — `src/frontend/hooks/useAdminMembers.ts:27` injeta `placeholderMembers` e chama `/admin/members`, mas `src/backend/api/admin/index.ts` segue sem rota e `AdminService` não fornece listagem.
- **Threads e moderação ausentes** — `src/backend/services/academy/AcademyService.ts:482` só cria/lista comentários raiz; `src/backend/repositories/academy/PrismaLessonCommentRepository.ts:12` devolve `replies: []` e não existe repositório para replies/moderação.
- **Infra BullMQ inexistente** — `src/backend/jobs/` continua vazio e `src/backend/server.ts` não registra filas/workers, contrariando a decisão de usar BullMQ para campanhas Hidra, métricas e limpeza.
- **Query key duplicada no Hidra** — `src/frontend/lib/queryClient.ts:63` define `queryKeys.hidra.campaignStats` igual a `hidra.dashboard`, mantendo colisão e invalidation incorreta.
- **Admin members endpoint faltando** — `src/backend/api/admin/index.ts` não expõe `/admin/members` e `AdminService` carece de método equivalente, bloqueando a UI e testes Supertest.
