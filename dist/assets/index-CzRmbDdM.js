import{r as ow,a as lw,g as Kh,c as wu,b as uw}from"./vendor-6tvklxHp.js";import{r as oe,a as aM,Q as oM,h as lM,u as uM,b as Ea,c as vl,d as vo,e as cM,H as dM,R as hM}from"./query-W4iwmMNp.js";import{c as fM}from"./zustand-jaNc-gAA.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function i(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(o){if(o.ep)return;o.ep=!0;const l=i(o);fetch(o.href,l)}})();var P_={exports:{}},mb={},PD;function mM(){if(PD)return mb;PD=1;/**
 * @license React
 * react-jsx-dev-runtime.development.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */return(function(){function n(le){if(le==null)return null;if(typeof le=="function")return le.$$typeof===ge?null:le.displayName||le.name||null;if(typeof le=="string")return le;switch(le){case U:return"Fragment";case B:return"Profiler";case M:return"StrictMode";case se:return"Suspense";case q:return"SuspenseList";case j:return"Activity"}if(typeof le=="object")switch(typeof le.tag=="number"&&console.error("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),le.$$typeof){case A:return"Portal";case H:return le.displayName||"Context";case L:return(le._context.displayName||"Context")+".Consumer";case Q:var Be=le.render;return le=le.displayName,le||(le=Be.displayName||Be.name||"",le=le!==""?"ForwardRef("+le+")":"ForwardRef"),le;case te:return Be=le.displayName||null,Be!==null?Be:n(le.type)||"Memo";case I:Be=le._payload,le=le._init;try{return n(le(Be))}catch{}}return null}function e(le){return""+le}function i(le){try{e(le);var Be=!1}catch{Be=!0}if(Be){Be=console;var Ge=Be.error,Pe=typeof Symbol=="function"&&Symbol.toStringTag&&le[Symbol.toStringTag]||le.constructor.name||"Object";return Ge.call(Be,"The provided key is an unsupported type %s. This value must be coerced to a string before using it here.",Pe),e(le)}}function s(le){if(le===U)return"<>";if(typeof le=="object"&&le!==null&&le.$$typeof===I)return"<...>";try{var Be=n(le);return Be?"<"+Be+">":"<...>"}catch{return"<...>"}}function o(){var le=de.A;return le===null?null:le.getOwner()}function l(){return Error("react-stack-top-frame")}function c(le){if(ie.call(le,"key")){var Be=Object.getOwnPropertyDescriptor(le,"key").get;if(Be&&Be.isReactWarning)return!1}return le.key!==void 0}function d(le,Be){function Ge(){be||(be=!0,console.error("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://react.dev/link/special-props)",Be))}Ge.isReactWarning=!0,Object.defineProperty(le,"key",{get:Ge,configurable:!0})}function m(){var le=n(this.type);return ve[le]||(ve[le]=!0,console.error("Accessing element.ref was removed in React 19. ref is now a regular prop. It will be removed from the JSX Element type in a future release.")),le=this.props.ref,le!==void 0?le:null}function p(le,Be,Ge,Pe,Qe,Zt){var gt=Ge.ref;return le={$$typeof:P,type:le,key:Be,props:Ge,_owner:Pe},(gt!==void 0?gt:null)!==null?Object.defineProperty(le,"ref",{enumerable:!1,get:m}):Object.defineProperty(le,"ref",{enumerable:!1,value:null}),le._store={},Object.defineProperty(le._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:0}),Object.defineProperty(le,"_debugInfo",{configurable:!1,enumerable:!1,writable:!0,value:null}),Object.defineProperty(le,"_debugStack",{configurable:!1,enumerable:!1,writable:!0,value:Qe}),Object.defineProperty(le,"_debugTask",{configurable:!1,enumerable:!1,writable:!0,value:Zt}),Object.freeze&&(Object.freeze(le.props),Object.freeze(le)),le}function v(le,Be,Ge,Pe,Qe,Zt){var gt=Be.children;if(gt!==void 0)if(Pe)if(fe(gt)){for(Pe=0;Pe<gt.length;Pe++)E(gt[Pe]);Object.freeze&&Object.freeze(gt)}else console.error("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else E(gt);if(ie.call(Be,"key")){gt=n(le);var It=Object.keys(Be).filter(function(an){return an!=="key"});Pe=0<It.length?"{key: someKey, "+It.join(": ..., ")+": ...}":"{key: someKey}",ke[gt+Pe]||(It=0<It.length?"{"+It.join(": ..., ")+": ...}":"{}",console.error(`A props object containing a "key" prop is being spread into JSX:
  let props = %s;
  <%s {...props} />
React keys must be passed directly to JSX without using spread:
  let props = %s;
  <%s key={someKey} {...props} />`,Pe,gt,It,gt),ke[gt+Pe]=!0)}if(gt=null,Ge!==void 0&&(i(Ge),gt=""+Ge),c(Be)&&(i(Be.key),gt=""+Be.key),"key"in Be){Ge={};for(var Gt in Be)Gt!=="key"&&(Ge[Gt]=Be[Gt])}else Ge=Be;return gt&&d(Ge,typeof le=="function"?le.displayName||le.name||"Unknown":le),p(le,gt,Ge,o(),Qe,Zt)}function E(le){C(le)?le._store&&(le._store.validated=1):typeof le=="object"&&le!==null&&le.$$typeof===I&&(le._payload.status==="fulfilled"?C(le._payload.value)&&le._payload.value._store&&(le._payload.value._store.validated=1):le._store&&(le._store.validated=1))}function C(le){return typeof le=="object"&&le!==null&&le.$$typeof===P}var D=ow(),P=Symbol.for("react.transitional.element"),A=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),L=Symbol.for("react.consumer"),H=Symbol.for("react.context"),Q=Symbol.for("react.forward_ref"),se=Symbol.for("react.suspense"),q=Symbol.for("react.suspense_list"),te=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),j=Symbol.for("react.activity"),ge=Symbol.for("react.client.reference"),de=D.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie=Object.prototype.hasOwnProperty,fe=Array.isArray,Re=console.createTask?console.createTask:function(){return null};D={react_stack_bottom_frame:function(le){return le()}};var be,ve={},Te=D.react_stack_bottom_frame.bind(D,l)(),De=Re(s(l)),ke={};mb.Fragment=U,mb.jsxDEV=function(le,Be,Ge,Pe){var Qe=1e4>de.recentlyCreatedOwnerStacks++;return v(le,Be,Ge,Pe,Qe?Error("react-stack-top-frame"):Te,Qe?Re(s(le)):De)}})(),mb}var BD;function pM(){return BD||(BD=1,P_.exports=mM()),P_.exports}var y=pM(),B_={exports:{}},Im={},j_={exports:{}},U_={},jD;function gM(){return jD||(jD=1,(function(n){/**
 * @license React
 * scheduler.development.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(){function e(){if(Q=!1,I){var be=n.unstable_now();de=be;var ve=!0;try{e:{L=!1,H&&(H=!1,q(j),j=-1),B=!0;var Te=M;try{t:{for(c(be),U=s(D);U!==null&&!(U.expirationTime>be&&m());){var De=U.callback;if(typeof De=="function"){U.callback=null,M=U.priorityLevel;var ke=De(U.expirationTime<=be);if(be=n.unstable_now(),typeof ke=="function"){U.callback=ke,c(be),ve=!0;break t}U===s(D)&&o(D),c(be)}else o(D);U=s(D)}if(U!==null)ve=!0;else{var le=s(P);le!==null&&p(d,le.startTime-be),ve=!1}}break e}finally{U=null,M=Te,B=!1}ve=void 0}}finally{ve?ie():I=!1}}}function i(be,ve){var Te=be.length;be.push(ve);e:for(;0<Te;){var De=Te-1>>>1,ke=be[De];if(0<l(ke,ve))be[De]=ve,be[Te]=ke,Te=De;else break e}}function s(be){return be.length===0?null:be[0]}function o(be){if(be.length===0)return null;var ve=be[0],Te=be.pop();if(Te!==ve){be[0]=Te;e:for(var De=0,ke=be.length,le=ke>>>1;De<le;){var Be=2*(De+1)-1,Ge=be[Be],Pe=Be+1,Qe=be[Pe];if(0>l(Ge,Te))Pe<ke&&0>l(Qe,Ge)?(be[De]=Qe,be[Pe]=Te,De=Pe):(be[De]=Ge,be[Be]=Te,De=Be);else if(Pe<ke&&0>l(Qe,Te))be[De]=Qe,be[Pe]=Te,De=Pe;else break e}}return ve}function l(be,ve){var Te=be.sortIndex-ve.sortIndex;return Te!==0?Te:be.id-ve.id}function c(be){for(var ve=s(P);ve!==null;){if(ve.callback===null)o(P);else if(ve.startTime<=be)o(P),ve.sortIndex=ve.expirationTime,i(D,ve);else break;ve=s(P)}}function d(be){if(H=!1,c(be),!L)if(s(D)!==null)L=!0,I||(I=!0,ie());else{var ve=s(P);ve!==null&&p(d,ve.startTime-be)}}function m(){return Q?!0:!(n.unstable_now()-de<ge)}function p(be,ve){j=se(function(){be(n.unstable_now())},ve)}if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(Error()),n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var v=performance;n.unstable_now=function(){return v.now()}}else{var E=Date,C=E.now();n.unstable_now=function(){return E.now()-C}}var D=[],P=[],A=1,U=null,M=3,B=!1,L=!1,H=!1,Q=!1,se=typeof setTimeout=="function"?setTimeout:null,q=typeof clearTimeout=="function"?clearTimeout:null,te=typeof setImmediate<"u"?setImmediate:null,I=!1,j=-1,ge=5,de=-1;if(typeof te=="function")var ie=function(){te(e)};else if(typeof MessageChannel<"u"){var fe=new MessageChannel,Re=fe.port2;fe.port1.onmessage=e,ie=function(){Re.postMessage(null)}}else ie=function(){se(e,0)};n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(be){be.callback=null},n.unstable_forceFrameRate=function(be){0>be||125<be?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ge=0<be?Math.floor(1e3/be):5},n.unstable_getCurrentPriorityLevel=function(){return M},n.unstable_next=function(be){switch(M){case 1:case 2:case 3:var ve=3;break;default:ve=M}var Te=M;M=ve;try{return be()}finally{M=Te}},n.unstable_requestPaint=function(){Q=!0},n.unstable_runWithPriority=function(be,ve){switch(be){case 1:case 2:case 3:case 4:case 5:break;default:be=3}var Te=M;M=be;try{return ve()}finally{M=Te}},n.unstable_scheduleCallback=function(be,ve,Te){var De=n.unstable_now();switch(typeof Te=="object"&&Te!==null?(Te=Te.delay,Te=typeof Te=="number"&&0<Te?De+Te:De):Te=De,be){case 1:var ke=-1;break;case 2:ke=250;break;case 5:ke=1073741823;break;case 4:ke=1e4;break;default:ke=5e3}return ke=Te+ke,be={id:A++,callback:ve,priorityLevel:be,startTime:Te,expirationTime:ke,sortIndex:-1},Te>De?(be.sortIndex=Te,i(P,be),s(D)===null&&be===s(P)&&(H?(q(j),j=-1):H=!0,p(d,Te-De))):(be.sortIndex=ke,i(D,be),L||B||(L=!0,I||(I=!0,ie()))),be},n.unstable_shouldYield=m,n.unstable_wrapCallback=function(be){var ve=M;return function(){var Te=M;M=ve;try{return be.apply(this,arguments)}finally{M=Te}}},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(Error())})()})(U_)),U_}var UD;function bM(){return UD||(UD=1,j_.exports=gM()),j_.exports}var VD;function yM(){if(VD)return Im;VD=1;/**
 * @license React
 * react-dom-client.development.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */return(function(){function n(t,r){for(t=t.memoizedState;t!==null&&0<r;)t=t.next,r--;return t}function e(t,r,a,u){if(a>=r.length)return u;var h=r[a],f=Ci(t)?t.slice():Dt({},t);return f[h]=e(t[h],r,a+1,u),f}function i(t,r,a){if(r.length!==a.length)console.warn("copyWithRename() expects paths of the same length");else{for(var u=0;u<a.length-1;u++)if(r[u]!==a[u]){console.warn("copyWithRename() expects paths to be the same except for the deepest key");return}return s(t,r,a,0)}}function s(t,r,a,u){var h=r[u],f=Ci(t)?t.slice():Dt({},t);return u+1===r.length?(f[a[u]]=f[h],Ci(f)?f.splice(h,1):delete f[h]):f[h]=s(t[h],r,a,u+1),f}function o(t,r,a){var u=r[a],h=Ci(t)?t.slice():Dt({},t);return a+1===r.length?(Ci(h)?h.splice(u,1):delete h[u],h):(h[u]=o(t[u],r,a+1),h)}function l(){return!1}function c(){return null}function d(){console.error("Do not call Hooks inside useEffect(...), useMemo(...), or other built-in Hooks. You can only call Hooks at the top level of your React function. For more information, see https://react.dev/link/rules-of-hooks")}function m(){console.error("Context can only be read while React is rendering. In classes, you can read it in the render method or getDerivedStateFromProps. In function components, you can read it directly in the function body, but not inside Hooks like useReducer() or useMemo().")}function p(){}function v(){}function E(t){var r=[];return t.forEach(function(a){r.push(a)}),r.sort().join(", ")}function C(t,r,a,u){return new R(t,r,a,u)}function D(t,r){t.context===iu&&(tv(t.current,2,r,t,null,null),Id())}function P(t,r){if(Bs!==null){var a=r.staleFamilies;r=r.updatedFamilies,wf(),Ml(t.current,r,a),Id()}}function A(t){Bs=t}function U(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function M(t){var r=t,a=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(a=r.return),t=r.return;while(t)}return r.tag===3?a:null}function B(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function L(t){if(t.tag===31){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function H(t){if(M(t)!==t)throw Error("Unable to find node on an unmounted component.")}function Q(t){var r=t.alternate;if(!r){if(r=M(t),r===null)throw Error("Unable to find node on an unmounted component.");return r!==t?null:t}for(var a=t,u=r;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(u=h.return,u!==null){a=u;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return H(h),t;if(f===u)return H(h),r;f=f.sibling}throw Error("Unable to find node on an unmounted component.")}if(a.return!==u.return)a=h,u=f;else{for(var b=!1,S=h.child;S;){if(S===a){b=!0,a=h,u=f;break}if(S===u){b=!0,u=h,a=f;break}S=S.sibling}if(!b){for(S=f.child;S;){if(S===a){b=!0,a=f,u=h;break}if(S===u){b=!0,u=f,a=h;break}S=S.sibling}if(!b)throw Error("Child was not found in either parent set. This indicates a bug in React related to the return pointer. Please file an issue.")}}if(a.alternate!==u)throw Error("Return fibers should always be each others' alternates. This error is likely caused by a bug in React. Please file an issue.")}if(a.tag!==3)throw Error("Unable to find node on an unmounted component.");return a.stateNode.current===a?t:r}function se(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=se(t),r!==null)return r;t=t.sibling}return null}function q(t){return t===null||typeof t!="object"?null:(t=QE&&t[QE]||t["@@iterator"],typeof t=="function"?t:null)}function te(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===pO?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Fd:return"Fragment";case lv:return"Profiler";case lg:return"StrictMode";case cv:return"Suspense";case dv:return"SuspenseList";case hv:return"Activity"}if(typeof t=="object")switch(typeof t.tag=="number"&&console.error("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),t.$$typeof){case Vd:return"Portal";case to:return t.displayName||"Context";case uv:return(t._context.displayName||"Context")+".Consumer";case Uf:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ug:return r=t.displayName||null,r!==null?r:te(t.type)||"Memo";case ss:r=t._payload,t=t._init;try{return te(t(r))}catch{}}return null}function I(t){return typeof t.tag=="number"?j(t):typeof t.name=="string"?t.name:null}function j(t){var r=t.type;switch(t.tag){case 31:return"Activity";case 24:return"Cache";case 9:return(r._context.displayName||"Context")+".Consumer";case 10:return r.displayName||"Context";case 18:return"DehydratedFragment";case 11:return t=r.render,t=t.displayName||t.name||"",r.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 26:case 27:case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return te(r);case 8:return r===lg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;break;case 29:if(r=t._debugInfo,r!=null){for(var a=r.length-1;0<=a;a--)if(typeof r[a].name=="string")return r[a].name}if(t.return!==null)return j(t.return)}return null}function ge(t){return{current:t}}function de(t,r){0>Yo?console.error("Unexpected pop."):(r!==mv[Yo]&&console.error("Unexpected Fiber popped."),t.current=fv[Yo],fv[Yo]=null,mv[Yo]=null,Yo--)}function ie(t,r,a){Yo++,fv[Yo]=t.current,mv[Yo]=a,t.current=r}function fe(t){return t===null&&console.error("Expected host context to exist. This error is likely caused by a bug in React. Please file an issue."),t}function Re(t,r){ie(Wl,r,t),ie(Vf,t,t),ie(Zl,null,t);var a=r.nodeType;switch(a){case 9:case 11:a=a===9?"#document":"#fragment",r=(r=r.documentElement)&&(r=r.namespaceURI)?vE(r):ul;break;default:if(a=r.tagName,r=r.namespaceURI)r=vE(r),r=_E(r,a);else switch(a){case"svg":r=xh;break;case"math":r=ob;break;default:r=ul}}a=a.toLowerCase(),a=rd(null,a),a={context:r,ancestorInfo:a},de(Zl,t),ie(Zl,a,t)}function be(t){de(Zl,t),de(Vf,t),de(Wl,t)}function ve(){return fe(Zl.current)}function Te(t){t.memoizedState!==null&&ie(cg,t,t);var r=fe(Zl.current),a=t.type,u=_E(r.context,a);a=rd(r.ancestorInfo,a),u={context:u,ancestorInfo:a},r!==u&&(ie(Vf,t,t),ie(Zl,u,t))}function De(t){Vf.current===t&&(de(Zl,t),de(Vf,t)),cg.current===t&&(de(cg,t),km._currentValue=Uc)}function ke(){}function le(){if(Ff===0){ZE=console.log,WE=console.info,KE=console.warn,JE=console.error,eN=console.group,tN=console.groupCollapsed,nN=console.groupEnd;var t={configurable:!0,enumerable:!0,value:ke,writable:!0};Object.defineProperties(console,{info:t,log:t,warn:t,error:t,group:t,groupCollapsed:t,groupEnd:t})}Ff++}function Be(){if(Ff--,Ff===0){var t={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:Dt({},t,{value:ZE}),info:Dt({},t,{value:WE}),warn:Dt({},t,{value:KE}),error:Dt({},t,{value:JE}),group:Dt({},t,{value:eN}),groupCollapsed:Dt({},t,{value:tN}),groupEnd:Dt({},t,{value:nN})})}0>Ff&&console.error("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}function Ge(t){var r=Error.prepareStackTrace;if(Error.prepareStackTrace=void 0,t=t.stack,Error.prepareStackTrace=r,t.startsWith(`Error: react-stack-top-frame
`)&&(t=t.slice(29)),r=t.indexOf(`
`),r!==-1&&(t=t.slice(r+1)),r=t.indexOf("react_stack_bottom_frame"),r!==-1&&(r=t.lastIndexOf(`
`,r)),r!==-1)t=t.slice(0,r);else return"";return t}function Pe(t){if(pv===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);pv=r&&r[1]||"",iN=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+pv+t+iN}function Qe(t,r){if(!t||gv)return"";var a=bv.get(t);if(a!==void 0)return a;gv=!0,a=Error.prepareStackTrace,Error.prepareStackTrace=void 0;var u=null;u=we.H,we.H=null,le();try{var h={DetermineComponentFrameRoot:function(){try{if(r){var re=function(){throw Error()};if(Object.defineProperty(re.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(re,[])}catch(He){var Ne=He}Reflect.construct(t,[],re)}else{try{re.call()}catch(He){Ne=He}t.call(re.prototype)}}else{try{throw Error()}catch(He){Ne=He}(re=t())&&typeof re.catch=="function"&&re.catch(function(){})}}catch(He){if(He&&Ne&&typeof He.stack=="string")return[He.stack,Ne.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=h.DetermineComponentFrameRoot(),S=b[0],k=b[1];if(S&&k){var F=S.split(`
`),ce=k.split(`
`);for(b=f=0;f<F.length&&!F[f].includes("DetermineComponentFrameRoot");)f++;for(;b<ce.length&&!ce[b].includes("DetermineComponentFrameRoot");)b++;if(f===F.length||b===ce.length)for(f=F.length-1,b=ce.length-1;1<=f&&0<=b&&F[f]!==ce[b];)b--;for(;1<=f&&0<=b;f--,b--)if(F[f]!==ce[b]){if(f!==1||b!==1)do if(f--,b--,0>b||F[f]!==ce[b]){var he=`
`+F[f].replace(" at new "," at ");return t.displayName&&he.includes("<anonymous>")&&(he=he.replace("<anonymous>",t.displayName)),typeof t=="function"&&bv.set(t,he),he}while(1<=f&&0<=b);break}}}finally{gv=!1,we.H=u,Be(),Error.prepareStackTrace=a}return F=(F=t?t.displayName||t.name:"")?Pe(F):"",typeof t=="function"&&bv.set(t,F),F}function Zt(t,r){switch(t.tag){case 26:case 27:case 5:return Pe(t.type);case 16:return Pe("Lazy");case 13:return t.child!==r&&r!==null?Pe("Suspense Fallback"):Pe("Suspense");case 19:return Pe("SuspenseList");case 0:case 15:return Qe(t.type,!1);case 11:return Qe(t.type.render,!1);case 1:return Qe(t.type,!0);case 31:return Pe("Activity");default:return""}}function gt(t){try{var r="",a=null;do{r+=Zt(t,a);var u=t._debugInfo;if(u)for(var h=u.length-1;0<=h;h--){var f=u[h];if(typeof f.name=="string"){var b=r;e:{var S=f.name,k=f.env,F=f.debugLocation;if(F!=null){var ce=Ge(F),he=ce.lastIndexOf(`
`),re=he===-1?ce:ce.slice(he+1);if(re.indexOf(S)!==-1){var Ne=`
`+re;break e}}Ne=Pe(S+(k?" ["+k+"]":""))}r=b+Ne}}a=t,t=t.return}while(t);return r}catch(He){return`
Error generating stack: `+He.message+`
`+He.stack}}function It(t){return(t=t?t.displayName||t.name:"")?Pe(t):""}function Gt(){if(as===null)return null;var t=as._debugOwner;return t!=null?I(t):null}function an(){if(as===null)return"";var t=as;try{var r="";switch(t.tag===6&&(t=t.return),t.tag){case 26:case 27:case 5:r+=Pe(t.type);break;case 13:r+=Pe("Suspense");break;case 19:r+=Pe("SuspenseList");break;case 31:r+=Pe("Activity");break;case 30:case 0:case 15:case 1:t._debugOwner||r!==""||(r+=It(t.type));break;case 11:t._debugOwner||r!==""||(r+=It(t.type.render))}for(;t;)if(typeof t.tag=="number"){var a=t;t=a._debugOwner;var u=a._debugStack;if(t&&u){var h=Ge(u);h!==""&&(r+=`
`+h)}}else if(t.debugStack!=null){var f=t.debugStack;(t=t.owner)&&f&&(r+=`
`+Ge(f))}else break;var b=r}catch(S){b=`
Error generating stack: `+S.message+`
`+S.stack}return b}function je(t,r,a,u,h,f,b){var S=as;Xe(t);try{return t!==null&&t._debugTask?t._debugTask.run(r.bind(null,a,u,h,f,b)):r(a,u,h,f,b)}finally{Xe(S)}throw Error("runWithFiberInDEV should never be called in production. This is a bug in React.")}function Xe(t){we.getCurrentStack=t===null?null:an,no=!1,as=t}function tt(t){return typeof Symbol=="function"&&Symbol.toStringTag&&t[Symbol.toStringTag]||t.constructor.name||"Object"}function st(t){try{return Wt(t),!1}catch{return!0}}function Wt(t){return""+t}function Ke(t,r){if(st(t))return console.error("The provided `%s` attribute is an unsupported type %s. This value must be coerced to a string before using it here.",r,tt(t)),Wt(t)}function Kn(t,r){if(st(t))return console.error("The provided `%s` CSS property is an unsupported type %s. This value must be coerced to a string before using it here.",r,tt(t)),Wt(t)}function yn(t){if(st(t))return console.error("Form field values (value, checked, defaultValue, or defaultChecked props) must be strings, not %s. This value must be coerced to a string before using it here.",tt(t)),Wt(t)}function Vn(t){if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")return!1;var r=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(r.isDisabled)return!0;if(!r.supportsFiber)return console.error("The installed version of React DevTools is too old and will not work with the current version of React. Please update React DevTools. https://react.dev/link/react-devtools"),!0;try{Hd=r.inject(t),Wi=r}catch(a){console.error("React instrumentation encountered an error: %o.",a)}return!!r.checkDCE}function Ze(t){if(typeof TO=="function"&&SO(t),Wi&&typeof Wi.setStrictMode=="function")try{Wi.setStrictMode(Hd,t)}catch(r){io||(io=!0,console.error("React instrumentation encountered an error: %o",r))}}function Xt(t){return t>>>=0,t===0?32:31-(EO(t)/NO|0)|0}function Lt(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return console.error("Should have found matching lanes. This is a bug in React."),t}}function Jn(t,r,a){var u=t.pendingLanes;if(u===0)return 0;var h=0,f=t.suspendedLanes,b=t.pingedLanes;t=t.warmLanes;var S=u&134217727;return S!==0?(u=S&~f,u!==0?h=Lt(u):(b&=S,b!==0?h=Lt(b):a||(a=S&~t,a!==0&&(h=Lt(a))))):(S=u&~f,S!==0?h=Lt(S):b!==0?h=Lt(b):a||(a=u&~t,a!==0&&(h=Lt(a)))),h===0?0:r!==0&&r!==h&&(r&f)===0&&(f=h&-h,a=r&-r,f>=a||f===32&&(a&4194048)!==0)?r:h}function Ri(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function kn(t,r){switch(t){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return console.error("Should have found matching lanes. This is a bug in React."),-1}}function Gr(){var t=fg;return fg<<=1,(fg&62914560)===0&&(fg=4194304),t}function nr(t){for(var r=[],a=0;31>a;a++)r.push(t);return r}function Ht(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Eo(t,r,a,u,h,f){var b=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var S=t.entanglements,k=t.expirationTimes,F=t.hiddenUpdates;for(a=b&~a;0<a;){var ce=31-dr(a),he=1<<ce;S[ce]=0,k[ce]=-1;var re=F[ce];if(re!==null)for(F[ce]=null,ce=0;ce<re.length;ce++){var Ne=re[ce];Ne!==null&&(Ne.lane&=-536870913)}a&=~he}u!==0&&ta(t,u,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(b&~r))}function ta(t,r,a){t.pendingLanes|=r,t.suspendedLanes&=~r;var u=31-dr(r);t.entangledLanes|=r,t.entanglements[u]=t.entanglements[u]|1073741824|a&261930}function Ct(t,r){var a=t.entangledLanes|=r;for(t=t.entanglements;a;){var u=31-dr(a),h=1<<u;h&r|t[u]&r&&(t[u]|=r),a&=~h}}function Pt(t,r){var a=r&-r;return a=(a&42)!==0?1:bs(a),(a&(t.suspendedLanes|r))!==0?0:a}function bs(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Dr(t,r,a){if(ro)for(t=t.pendingUpdatersLaneMap;0<a;){var u=31-dr(a),h=1<<u;t[u].add(r),a&=~h}}function Ca(t,r){if(ro)for(var a=t.pendingUpdatersLaneMap,u=t.memoizedUpdaters;0<r;){var h=31-dr(r);t=1<<h,h=a[h],0<h.size&&(h.forEach(function(f){var b=f.alternate;b!==null&&u.has(b)||u.add(f)}),h.clear()),r&=~t}}function Da(t){return t&=-t,Is<t?so<t?(t&134217727)!==0?Qo:mg:so:Is}function Ar(){var t=Qt.p;return t!==0?t:(t=window.event,t===void 0?Qo:zE(t.type))}function ir(t,r){var a=Qt.p;try{return Qt.p=t,r()}finally{Qt.p=a}}function ys(t){delete t[Yi],delete t[hr],delete t[Tv],delete t[CO],delete t[DO]}function rr(t){var r=t[Yi];if(r)return r;for(var a=t.parentNode;a;){if(r=a[Jl]||a[Yi]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(t=AE(t);t!==null;){if(a=t[Yi])return a;t=AE(t)}return r}t=a,a=t.parentNode}return null}function Fi(t){if(t=t[Yi]||t[Jl]){var r=t.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return t}return null}function V(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error("getNodeFromInstance: Invalid argument.")}function $(t){var r=t[rN];return r||(r=t[rN]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function K(t){t[zf]=!0}function Se(t,r){Ue(t,r),Ue(t+"Capture",r)}function Ue(t,r){gc[t]&&console.error("EventRegistry: More than one plugin attempted to publish the same registration name, `%s`.",t),gc[t]=r;var a=t.toLowerCase();for(Sv[a]=t,t==="onDoubleClick"&&(Sv.ondblclick=t),t=0;t<r.length;t++)sN.add(r[t])}function et(t,r){AO[r.type]||r.onChange||r.onInput||r.readOnly||r.disabled||r.value==null||console.error(t==="select"?"You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set `onChange`.":"You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set either `onChange` or `readOnly`."),r.onChange||r.readOnly||r.disabled||r.checked==null||console.error("You provided a `checked` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultChecked`. Otherwise, set either `onChange` or `readOnly`.")}function $t(t){return ma.call(oN,t)?!0:ma.call(aN,t)?!1:wO.test(t)?oN[t]=!0:(aN[t]=!0,console.error("Invalid attribute name: `%s`",t),!1)}function ei(t,r,a){if($t(r)){if(!t.hasAttribute(r)){switch(typeof a){case"symbol":case"object":return a;case"function":return a;case"boolean":if(a===!1)return a}return a===void 0?void 0:null}return t=t.getAttribute(r),t===""&&a===!0?!0:(Ke(a,r),t===""+a?a:t)}}function vn(t,r,a){if($t(r))if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){t.removeAttribute(r);return}}Ke(a,r),t.setAttribute(r,""+a)}}function zi(t,r,a){if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}Ke(a,r),t.setAttribute(r,""+a)}}function Cn(t,r,a,u){if(u===null)t.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}Ke(u,a),t.setAttributeNS(r,a,""+u)}}function on(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return yn(t),t;default:return""}}function Ti(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function hn(t,r,a){var u=Object.getOwnPropertyDescriptor(t.constructor.prototype,r);if(!t.hasOwnProperty(r)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var h=u.get,f=u.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return h.call(this)},set:function(b){yn(b),a=""+b,f.call(this,b)}}),Object.defineProperty(t,r,{enumerable:u.enumerable}),{getValue:function(){return a},setValue:function(b){yn(b),a=""+b},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function ti(t){if(!t._valueTracker){var r=Ti(t)?"checked":"value";t._valueTracker=hn(t,r,""+t[r])}}function sr(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var a=r.getValue(),u="";return t&&(u=Ti(t)?t.checked?"true":"false":t.value),t=u,t!==a?(r.setValue(t),!0):!1}function Hi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function _t(t){return t.replace(RO,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function vs(t,r){r.checked===void 0||r.defaultChecked===void 0||uN||(console.error("%s contains an input of type %s with both checked and defaultChecked props. Input elements must be either controlled or uncontrolled (specify either the checked prop, or the defaultChecked prop, but not both). Decide between using a controlled or uncontrolled input element and remove one of these props. More info: https://react.dev/link/controlled-components",Gt()||"A component",r.type),uN=!0),r.value===void 0||r.defaultValue===void 0||lN||(console.error("%s contains an input of type %s with both value and defaultValue props. Input elements must be either controlled or uncontrolled (specify either the value prop, or the defaultValue prop, but not both). Decide between using a controlled or uncontrolled input element and remove one of these props. More info: https://react.dev/link/controlled-components",Gt()||"A component",r.type),lN=!0)}function Et(t,r,a,u,h,f,b,S){t.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?(Ke(b,"type"),t.type=b):t.removeAttribute("type"),r!=null?b==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+on(r)):t.value!==""+on(r)&&(t.value=""+on(r)):b!=="submit"&&b!=="reset"||t.removeAttribute("value"),r!=null?na(t,b,on(r)):a!=null?na(t,b,on(a)):u!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?(Ke(S,"name"),t.name=""+on(S)):t.removeAttribute("name")}function No(t,r,a,u,h,f,b,S){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(Ke(f,"type"),t.type=f),r!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||r!=null)){ti(t);return}a=a!=null?""+on(a):"",r=r!=null?""+on(r):a,S||r===t.value||(t.value=r),t.defaultValue=r}u=u??h,u=typeof u!="function"&&typeof u!="symbol"&&!!u,t.checked=S?t.checked:!!u,t.defaultChecked=!!u,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(Ke(b,"name"),t.name=b),ti(t)}function na(t,r,a){r==="number"&&Hi(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Xr(t,r){r.value==null&&(typeof r.children=="object"&&r.children!==null?ov.Children.forEach(r.children,function(a){a==null||typeof a=="string"||typeof a=="number"||typeof a=="bigint"||dN||(dN=!0,console.error("Cannot infer the option value of complex children. Pass a `value` prop or use a plain string as children to <option>."))}):r.dangerouslySetInnerHTML==null||hN||(hN=!0,console.error("Pass a `value` prop if you set dangerouslyInnerHTML so React knows which value should be selected."))),r.selected==null||cN||(console.error("Use the `defaultValue` or `value` props on <select> instead of setting `selected` on <option>."),cN=!0)}function _l(){var t=Gt();return t?`

Check the render method of \``+t+"`.":""}function $i(t,r,a,u){if(t=t.options,r){r={};for(var h=0;h<a.length;h++)r["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=r.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&u&&(t[a].defaultSelected=!0)}else{for(a=""+on(a),r=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,u&&(t[h].defaultSelected=!0);return}r!==null||t[h].disabled||(r=t[h])}r!==null&&(r.selected=!0)}}function nn(t,r){for(t=0;t<mN.length;t++){var a=mN[t];if(r[a]!=null){var u=Ci(r[a]);r.multiple&&!u?console.error("The `%s` prop supplied to <select> must be an array if `multiple` is true.%s",a,_l()):!r.multiple&&u&&console.error("The `%s` prop supplied to <select> must be a scalar value if `multiple` is false.%s",a,_l())}}r.value===void 0||r.defaultValue===void 0||fN||(console.error("Select elements must be either controlled or uncontrolled (specify either the value prop, or the defaultValue prop, but not both). Decide between using a controlled or uncontrolled select element and remove one of these props. More info: https://react.dev/link/controlled-components"),fN=!0)}function Co(t,r){r.value===void 0||r.defaultValue===void 0||pN||(console.error("%s contains a textarea with both value and defaultValue props. Textarea elements must be either controlled or uncontrolled (specify either the value prop, or the defaultValue prop, but not both). Decide between using a controlled or uncontrolled textarea and remove one of these props. More info: https://react.dev/link/controlled-components",Gt()||"A component"),pN=!0),r.children!=null&&r.value==null&&console.error("Use the `defaultValue` or `value` props instead of setting children on <textarea>.")}function Yr(t,r,a){if(r!=null&&(r=""+on(r),r!==t.value&&(t.value=r),a==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=a!=null?""+on(a):""}function xl(t,r,a,u){if(r==null){if(u!=null){if(a!=null)throw Error("If you supply `defaultValue` on a <textarea>, do not pass children.");if(Ci(u)){if(1<u.length)throw Error("<textarea> can only have at most one child.");u=u[0]}a=u}a==null&&(a=""),r=a}a=on(r),t.defaultValue=a,u=t.textContent,u===a&&u!==""&&u!==null&&(t.value=u),ti(t)}function Aa(t,r){return t.serverProps===void 0&&t.serverTail.length===0&&t.children.length===1&&3<t.distanceFromLeaf&&t.distanceFromLeaf>15-r?Aa(t.children[0],r):t}function ki(t){return"  "+"  ".repeat(t)}function Qr(t){return"+ "+"  ".repeat(t)}function _n(t){return"- "+"  ".repeat(t)}function Tl(t){switch(t.tag){case 26:case 27:case 5:return t.type;case 16:return"Lazy";case 31:return"Activity";case 13:return"Suspense";case 19:return"SuspenseList";case 0:case 15:return t=t.type,t.displayName||t.name||null;case 11:return t=t.type.render,t.displayName||t.name||null;case 1:return t=t.type,t.displayName||t.name||null;default:return null}}function ia(t,r){return gN.test(t)?(t=JSON.stringify(t),t.length>r-2?8>r?'{"..."}':"{"+t.slice(0,r-7)+'..."}':"{"+t+"}"):t.length>r?5>r?'{"..."}':t.slice(0,r-3)+"...":t}function Sl(t,r,a){var u=120-2*a;if(r===null)return Qr(a)+ia(t,u)+`
`;if(typeof r=="string"){for(var h=0;h<r.length&&h<t.length&&r.charCodeAt(h)===t.charCodeAt(h);h++);return h>u-8&&10<h&&(t="..."+t.slice(h-8),r="..."+r.slice(h-8)),Qr(a)+ia(t,u)+`
`+_n(a)+ia(r,u)+`
`}return ki(a)+ia(t,u)+`
`}function ju(t){return Object.prototype.toString.call(t).replace(/^\[object (.*)\]$/,function(r,a){return a})}function wr(t,r){switch(typeof t){case"string":return t=JSON.stringify(t),t.length>r?5>r?'"..."':t.slice(0,r-4)+'..."':t;case"object":if(t===null)return"null";if(Ci(t))return"[...]";if(t.$$typeof===eo)return(r=te(t.type))?"<"+r+">":"<...>";var a=ju(t);if(a==="Object"){a="",r-=2;for(var u in t)if(t.hasOwnProperty(u)){var h=JSON.stringify(u);if(h!=='"'+u+'"'&&(u=h),r-=u.length-2,h=wr(t[u],15>r?r:15),r-=h.length,0>r){a+=a===""?"...":", ...";break}a+=(a===""?"":",")+u+":"+h}return"{"+a+"}"}return a;case"function":return(r=t.displayName||t.name)?"function "+r:"function";default:return String(t)}}function qi(t,r){return typeof t!="string"||gN.test(t)?"{"+wr(t,r-2)+"}":t.length>r-2?5>r?'"..."':'"'+t.slice(0,r-5)+'..."':'"'+t+'"'}function Do(t,r,a){var u=120-a.length-t.length,h=[],f;for(f in r)if(r.hasOwnProperty(f)&&f!=="children"){var b=qi(r[f],120-a.length-f.length-1);u-=f.length+b.length+2,h.push(f+"="+b)}return h.length===0?a+"<"+t+`>
`:0<u?a+"<"+t+" "+h.join(" ")+`>
`:a+"<"+t+`
`+a+"  "+h.join(`
`+a+"  ")+`
`+a+`>
`}function wa(t,r,a){var u="",h=Dt({},r),f;for(f in t)if(t.hasOwnProperty(f)){delete h[f];var b=120-2*a-f.length-2,S=wr(t[f],b);r.hasOwnProperty(f)?(b=wr(r[f],b),u+=Qr(a)+f+": "+S+`
`,u+=_n(a)+f+": "+b+`
`):u+=Qr(a)+f+": "+S+`
`}for(var k in h)h.hasOwnProperty(k)&&(t=wr(h[k],120-2*a-k.length-2),u+=_n(a)+k+": "+t+`
`);return u}function Ao(t,r,a,u){var h="",f=new Map;for(F in a)a.hasOwnProperty(F)&&f.set(F.toLowerCase(),F);if(f.size===1&&f.has("children"))h+=Do(t,r,ki(u));else{for(var b in r)if(r.hasOwnProperty(b)&&b!=="children"){var S=120-2*(u+1)-b.length-1,k=f.get(b.toLowerCase());if(k!==void 0){f.delete(b.toLowerCase());var F=r[b];k=a[k];var ce=qi(F,S);S=qi(k,S),typeof F=="object"&&F!==null&&typeof k=="object"&&k!==null&&ju(F)==="Object"&&ju(k)==="Object"&&(2<Object.keys(F).length||2<Object.keys(k).length||-1<ce.indexOf("...")||-1<S.indexOf("..."))?h+=ki(u+1)+b+`={{
`+wa(F,k,u+2)+ki(u+1)+`}}
`:(h+=Qr(u+1)+b+"="+ce+`
`,h+=_n(u+1)+b+"="+S+`
`)}else h+=ki(u+1)+b+"="+qi(r[b],S)+`
`}f.forEach(function(he){if(he!=="children"){var re=120-2*(u+1)-he.length-1;h+=_n(u+1)+he+"="+qi(a[he],re)+`
`}}),h=h===""?ki(u)+"<"+t+`>
`:ki(u)+"<"+t+`
`+h+ki(u)+`>
`}return t=a.children,r=r.children,typeof t=="string"||typeof t=="number"||typeof t=="bigint"?(f="",(typeof r=="string"||typeof r=="number"||typeof r=="bigint")&&(f=""+r),h+=Sl(f,""+t,u+1)):(typeof r=="string"||typeof r=="number"||typeof r=="bigint")&&(h=t==null?h+Sl(""+r,null,u+1):h+Sl(""+r,void 0,u+1)),h}function Ra(t,r){var a=Tl(t);if(a===null){for(a="",t=t.child;t;)a+=Ra(t,r),t=t.sibling;return a}return ki(r)+"<"+a+`>
`}function ra(t,r){var a=Aa(t,r);if(a!==t&&(t.children.length!==1||t.children[0]!==a))return ki(r)+`...
`+ra(a,r+1);a="";var u=t.fiber._debugInfo;if(u)for(var h=0;h<u.length;h++){var f=u[h].name;typeof f=="string"&&(a+=ki(r)+"<"+f+`>
`,r++)}if(u="",h=t.fiber.pendingProps,t.fiber.tag===6)u=Sl(h,t.serverProps,r),r++;else if(f=Tl(t.fiber),f!==null)if(t.serverProps===void 0){u=r;var b=120-2*u-f.length-2,S="";for(F in h)if(h.hasOwnProperty(F)&&F!=="children"){var k=qi(h[F],15);if(b-=F.length+k.length+2,0>b){S+=" ...";break}S+=" "+F+"="+k}u=ki(u)+"<"+f+S+`>
`,r++}else t.serverProps===null?(u=Do(f,h,Qr(r)),r++):typeof t.serverProps=="string"?console.error("Should not have matched a non HostText fiber to a Text node. This is a bug in React."):(u=Ao(f,h,t.serverProps,r),r++);var F="";for(h=t.fiber.child,f=0;h&&f<t.children.length;)b=t.children[f],b.fiber===h?(F+=ra(b,r),f++):F+=Ra(h,r),h=h.sibling;for(h&&0<t.children.length&&(F+=ki(r)+`...
`),h=t.serverTail,t.serverProps===null&&r--,t=0;t<h.length;t++)f=h[t],F=typeof f=="string"?F+(_n(r)+ia(f,120-2*r)+`
`):F+Do(f.type,f.props,_n(r));return a+u+F}function Uu(t){try{return`

`+ra(t,0)}catch{return""}}function wo(t,r,a){for(var u=r,h=null,f=0;u;)u===t&&(f=0),h={fiber:u,children:h!==null?[h]:[],serverProps:u===r?a:u===t?null:void 0,serverTail:[],distanceFromLeaf:f},f++,u=u.return;return h!==null?Uu(h).replaceAll(/^[+-]/gm,">"):""}function rd(t,r){var a=Dt({},t||yN),u={tag:r};return bN.indexOf(r)!==-1&&(a.aTagInScope=null,a.buttonTagInScope=null,a.nobrTagInScope=null),OO.indexOf(r)!==-1&&(a.pTagInButtonScope=null),kO.indexOf(r)!==-1&&r!=="address"&&r!=="div"&&r!=="p"&&(a.listItemTagAutoclosing=null,a.dlItemTagAutoclosing=null),a.current=u,r==="form"&&(a.formTag=u),r==="a"&&(a.aTagInScope=u),r==="button"&&(a.buttonTagInScope=u),r==="nobr"&&(a.nobrTagInScope=u),r==="p"&&(a.pTagInButtonScope=u),r==="li"&&(a.listItemTagAutoclosing=u),(r==="dd"||r==="dt")&&(a.dlItemTagAutoclosing=u),r==="#document"||r==="html"?a.containerTagInScope=null:a.containerTagInScope||(a.containerTagInScope=u),t!==null||r!=="#document"&&r!=="html"&&r!=="body"?a.implicitRootScope===!0&&(a.implicitRootScope=!1):a.implicitRootScope=!0,a}function sd(t,r,a){switch(r){case"select":return t==="hr"||t==="option"||t==="optgroup"||t==="script"||t==="template"||t==="#text";case"optgroup":return t==="option"||t==="#text";case"option":return t==="#text";case"tr":return t==="th"||t==="td"||t==="style"||t==="script"||t==="template";case"tbody":case"thead":case"tfoot":return t==="tr"||t==="style"||t==="script"||t==="template";case"colgroup":return t==="col"||t==="template";case"table":return t==="caption"||t==="colgroup"||t==="tbody"||t==="tfoot"||t==="thead"||t==="style"||t==="script"||t==="template";case"head":return t==="base"||t==="basefont"||t==="bgsound"||t==="link"||t==="meta"||t==="title"||t==="noscript"||t==="noframes"||t==="style"||t==="script"||t==="template";case"html":if(a)break;return t==="head"||t==="body"||t==="frameset";case"frameset":return t==="frame";case"#document":if(!a)return t==="html"}switch(t){case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":return r!=="h1"&&r!=="h2"&&r!=="h3"&&r!=="h4"&&r!=="h5"&&r!=="h6";case"rp":case"rt":return MO.indexOf(r)===-1;case"caption":case"col":case"colgroup":case"frameset":case"frame":case"tbody":case"td":case"tfoot":case"th":case"thead":case"tr":return r==null;case"head":return a||r===null;case"html":return a&&r==="#document"||r===null;case"body":return a&&(r==="#document"||r==="html")||r===null}return!0}function _s(t,r){switch(t){case"address":case"article":case"aside":case"blockquote":case"center":case"details":case"dialog":case"dir":case"div":case"dl":case"fieldset":case"figcaption":case"figure":case"footer":case"header":case"hgroup":case"main":case"menu":case"nav":case"ol":case"p":case"section":case"summary":case"ul":case"pre":case"listing":case"table":case"hr":case"xmp":case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":return r.pTagInButtonScope;case"form":return r.formTag||r.pTagInButtonScope;case"li":return r.listItemTagAutoclosing;case"dd":case"dt":return r.dlItemTagAutoclosing;case"button":return r.buttonTagInScope;case"a":return r.aTagInScope;case"nobr":return r.nobrTagInScope}return null}function Ro(t,r){for(;t;){switch(t.tag){case 5:case 26:case 27:if(t.type===r)return t}t=t.return}return null}function Vu(t,r){r=r||yN;var a=r.current;if(r=(a=sd(t,a&&a.tag,r.implicitRootScope)?null:a)?null:_s(t,r),r=a||r,!r)return!0;var u=r.tag;if(r=String(!!a)+"|"+t+"|"+u,pg[r])return!1;pg[r]=!0;var h=(r=as)?Ro(r.return,u):null,f=r!==null&&h!==null?wo(h,r,null):"",b="<"+t+">";return a?(a="",u==="table"&&t==="tr"&&(a+=" Add a <tbody>, <thead> or <tfoot> to your code to match the DOM tree generated by the browser."),console.error(`In HTML, %s cannot be a child of <%s>.%s
This will cause a hydration error.%s`,b,u,a,f)):console.error(`In HTML, %s cannot be a descendant of <%s>.
This will cause a hydration error.%s`,b,u,f),r&&(t=r.return,h===null||t===null||h===t&&t._debugOwner===r._debugOwner||je(h,function(){console.error(`<%s> cannot contain a nested %s.
See this log for the ancestor stack trace.`,u,b)})),!1}function ka(t,r,a){if(a||sd("#text",r,!1))return!0;if(a="#text|"+r,pg[a])return!1;pg[a]=!0;var u=(a=as)?Ro(a,r):null;return a=a!==null&&u!==null?wo(u,a,a.tag!==6?{children:null}:null):"",/\S/.test(t)?console.error(`In HTML, text nodes cannot be a child of <%s>.
This will cause a hydration error.%s`,r,a):console.error(`In HTML, whitespace text nodes cannot be a child of <%s>. Make sure you don't have any extra whitespace between tags on each line of your source code.
This will cause a hydration error.%s`,r,a),!1}function sa(t,r){if(r){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=r;return}}t.textContent=r}function ar(t){return t.replace(PO,function(r,a){return a.toUpperCase()})}function ad(t,r,a){var u=r.indexOf("--")===0;u||(-1<r.indexOf("-")?$d.hasOwnProperty(r)&&$d[r]||($d[r]=!0,console.error("Unsupported style property %s. Did you mean %s?",r,ar(r.replace(LO,"ms-")))):IO.test(r)?$d.hasOwnProperty(r)&&$d[r]||($d[r]=!0,console.error("Unsupported vendor-prefixed style property %s. Did you mean %s?",r,r.charAt(0).toUpperCase()+r.slice(1))):!xN.test(a)||Nv.hasOwnProperty(a)&&Nv[a]||(Nv[a]=!0,console.error(`Style property values shouldn't contain a semicolon. Try "%s: %s" instead.`,r,a.replace(xN,""))),typeof a=="number"&&(isNaN(a)?TN||(TN=!0,console.error("`NaN` is an invalid value for the `%s` css style property.",r)):isFinite(a)||SN||(SN=!0,console.error("`Infinity` is an invalid value for the `%s` css style property.",r)))),a==null||typeof a=="boolean"||a===""?u?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":u?t.setProperty(r,a):typeof a!="number"||a===0||EN.has(r)?r==="float"?t.cssFloat=a:(Kn(a,r),t[r]=(""+a).trim()):t[r]=a+"px"}function Oa(t,r,a){if(r!=null&&typeof r!="object")throw Error("The `style` prop expects a mapping from style properties to values, not a string. For example, style={{marginRight: spacing + 'em'}} when using JSX.");if(r&&Object.freeze(r),t=t.style,a!=null){if(r){var u={};if(a){for(var h in a)if(a.hasOwnProperty(h)&&!r.hasOwnProperty(h))for(var f=Ev[h]||[h],b=0;b<f.length;b++)u[f[b]]=h}for(var S in r)if(r.hasOwnProperty(S)&&(!a||a[S]!==r[S]))for(h=Ev[S]||[S],f=0;f<h.length;f++)u[h[f]]=S;S={};for(var k in r)for(h=Ev[k]||[k],f=0;f<h.length;f++)S[h[f]]=k;k={};for(var F in u)if(h=u[F],(f=S[F])&&h!==f&&(b=h+","+f,!k[b])){k[b]=!0,b=console;var ce=r[h];b.error.call(b,"%s a style property during rerender (%s) when a conflicting property is set (%s) can lead to styling bugs. To avoid this, don't mix shorthand and non-shorthand properties for the same value; instead, replace the shorthand with separate values.",ce==null||typeof ce=="boolean"||ce===""?"Removing":"Updating",h,f)}}for(var he in a)!a.hasOwnProperty(he)||r!=null&&r.hasOwnProperty(he)||(he.indexOf("--")===0?t.setProperty(he,""):he==="float"?t.cssFloat="":t[he]="");for(var re in r)F=r[re],r.hasOwnProperty(re)&&a[re]!==F&&ad(t,re,F)}else for(u in r)r.hasOwnProperty(u)&&ad(t,u,r[u])}function Oi(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Ma(t){return BO.get(t)||t}function Fn(t,r){if(ma.call(Gd,r)&&Gd[r])return!0;if(UO.test(r)){if(t="aria-"+r.slice(4).toLowerCase(),t=NN.hasOwnProperty(t)?t:null,t==null)return console.error("Invalid ARIA attribute `%s`. ARIA attributes follow the pattern aria-* and must be lowercase.",r),Gd[r]=!0;if(r!==t)return console.error("Invalid ARIA attribute `%s`. Did you mean `%s`?",r,t),Gd[r]=!0}if(jO.test(r)){if(t=r.toLowerCase(),t=NN.hasOwnProperty(t)?t:null,t==null)return Gd[r]=!0,!1;r!==t&&(console.error("Unknown ARIA attribute `%s`. Did you mean `%s`?",r,t),Gd[r]=!0)}return!0}function Zr(t,r){var a=[],u;for(u in r)Fn(t,u)||a.push(u);r=a.map(function(h){return"`"+h+"`"}).join(", "),a.length===1?console.error("Invalid aria prop %s on <%s> tag. For details, see https://react.dev/link/invalid-aria-props",r,t):1<a.length&&console.error("Invalid aria props %s on <%s> tag. For details, see https://react.dev/link/invalid-aria-props",r,t)}function od(t,r,a,u){if(ma.call(fr,r)&&fr[r])return!0;var h=r.toLowerCase();if(h==="onfocusin"||h==="onfocusout")return console.error("React uses onFocus and onBlur instead of onFocusIn and onFocusOut. All React events are normalized to bubble, so onFocusIn and onFocusOut are not needed/supported by React."),fr[r]=!0;if(typeof a=="function"&&(t==="form"&&r==="action"||t==="input"&&r==="formAction"||t==="button"&&r==="formAction"))return!0;if(u!=null){if(t=u.possibleRegistrationNames,u.registrationNameDependencies.hasOwnProperty(r))return!0;if(u=t.hasOwnProperty(h)?t[h]:null,u!=null)return console.error("Invalid event handler property `%s`. Did you mean `%s`?",r,u),fr[r]=!0;if(DN.test(r))return console.error("Unknown event handler property `%s`. It will be ignored.",r),fr[r]=!0}else if(DN.test(r))return VO.test(r)&&console.error("Invalid event handler property `%s`. React events use the camelCase naming convention, for example `onClick`.",r),fr[r]=!0;if(FO.test(r)||zO.test(r))return!0;if(h==="innerhtml")return console.error("Directly setting property `innerHTML` is not permitted. For more information, lookup documentation on `dangerouslySetInnerHTML`."),fr[r]=!0;if(h==="aria")return console.error("The `aria` attribute is reserved for future use in React. Pass individual `aria-` attributes instead."),fr[r]=!0;if(h==="is"&&a!==null&&a!==void 0&&typeof a!="string")return console.error("Received a `%s` for a string attribute `is`. If this is expected, cast the value to a string.",typeof a),fr[r]=!0;if(typeof a=="number"&&isNaN(a))return console.error("Received NaN for the `%s` attribute. If this is expected, cast the value to a string.",r),fr[r]=!0;if(bg.hasOwnProperty(h)){if(h=bg[h],h!==r)return console.error("Invalid DOM property `%s`. Did you mean `%s`?",r,h),fr[r]=!0}else if(r!==h)return console.error("React does not recognize the `%s` prop on a DOM element. If you intentionally want it to appear in the DOM as a custom attribute, spell it as lowercase `%s` instead. If you accidentally passed it from a parent component, remove it from the DOM element.",r,h),fr[r]=!0;switch(r){case"dangerouslySetInnerHTML":case"children":case"style":case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":return!0;case"innerText":case"textContent":return!0}switch(typeof a){case"boolean":switch(r){case"autoFocus":case"checked":case"multiple":case"muted":case"selected":case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":case"capture":case"download":case"inert":return!0;default:return h=r.toLowerCase().slice(0,5),h==="data-"||h==="aria-"?!0:(a?console.error('Received `%s` for a non-boolean attribute `%s`.\n\nIf you want to write it to the DOM, pass a string instead: %s="%s" or %s={value.toString()}.',a,r,r,a,r):console.error('Received `%s` for a non-boolean attribute `%s`.\n\nIf you want to write it to the DOM, pass a string instead: %s="%s" or %s={value.toString()}.\n\nIf you used to conditionally omit it with %s={condition && value}, pass %s={condition ? value : undefined} instead.',a,r,r,a,r,r,r),fr[r]=!0)}case"function":case"symbol":return fr[r]=!0,!1;case"string":if(a==="false"||a==="true"){switch(r){case"checked":case"selected":case"multiple":case"muted":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":case"inert":break;default:return!0}console.error("Received the string `%s` for the boolean attribute `%s`. %s Did you mean %s={%s}?",a,r,a==="false"?"The browser will interpret it as a truthy value.":'Although this works, it will not work as expected if you pass the string "false".',r,a),fr[r]=!0}}return!0}function Fu(t,r,a){var u=[],h;for(h in r)od(t,h,r[h],a)||u.push(h);r=u.map(function(f){return"`"+f+"`"}).join(", "),u.length===1?console.error("Invalid value for prop %s on <%s> tag. Either remove it from the element, or pass a string or number value to keep it in the DOM. For details, see https://react.dev/link/attribute-behavior ",r,t):1<u.length&&console.error("Invalid values for props %s on <%s> tag. Either remove them from the element, or pass a string or number value to keep them in the DOM. For details, see https://react.dev/link/attribute-behavior ",r,t)}function Ia(t){return HO.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Wr(){}function zu(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}function ko(t){var r=Fi(t);if(r&&(t=r.stateNode)){var a=t[hr]||null;e:switch(t=r.stateNode,r.type){case"input":if(Et(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=t;a.parentNode;)a=a.parentNode;for(Ke(r,"name"),a=a.querySelectorAll('input[name="'+_t(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var u=a[r];if(u!==t&&u.form===t.form){var h=u[hr]||null;if(!h)throw Error("ReactDOMInput: Mixing React and non-React radio inputs with the same `name` is not supported.");Et(u,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(r=0;r<a.length;r++)u=a[r],u.form===t.form&&sr(u)}break e;case"textarea":Yr(t,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&$i(t,!!a.multiple,r,!1)}}}function Hu(t,r,a){if(Cv)return t(r,a);Cv=!0;try{var u=t(r);return u}finally{if(Cv=!1,(Xd!==null||Yd!==null)&&(Id(),Xd&&(r=Xd,t=Yd,Yd=Xd=null,ko(r),t)))for(r=0;r<t.length;r++)ko(t[r])}}function aa(t,r){var a=t.stateNode;if(a===null)return null;var u=a[hr]||null;if(u===null)return null;a=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(t=t.type,u=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!u;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error("Expected `"+r+"` listener to be a function, instead got a value of `"+typeof a+"` type.");return a}function $u(){if(yg)return yg;var t,r=Av,a=r.length,u,h="value"in eu?eu.value:eu.textContent,f=h.length;for(t=0;t<a&&r[t]===h[t];t++);var b=a-t;for(u=1;u<=b&&r[a-u]===h[f-u];u++);return yg=h.slice(t,1<u?1-u:void 0)}function El(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function La(){return!0}function ld(){return!1}function Qn(t){function r(a,u,h,f,b){this._reactName=a,this._targetInst=h,this.type=u,this.nativeEvent=f,this.target=b,this.currentTarget=null;for(var S in t)t.hasOwnProperty(S)&&(a=t[S],this[S]=a?a(f):f[S]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?La:ld,this.isPropagationStopped=ld,this}return Dt(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=La)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=La)},persist:function(){},isPersistent:La}),r}function Oo(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=n5[t])?!!r[t]:!1}function Pa(){return Oo}function qu(t,r){switch(t){case"keyup":return m5.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==kN;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Gu(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}function Xu(t,r){switch(t){case"compositionend":return Gu(r);case"keypress":return r.which!==MN?null:(LN=!0,IN);case"textInput":return t=r.data,t===IN&&LN?null:t;default:return null}}function Yu(t,r){if(Qd)return t==="compositionend"||!Ov&&qu(t,r)?(t=$u(),yg=Av=eu=null,Qd=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return ON&&r.locale!=="ko"?null:r.data;default:return null}}function ud(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!g5[t.type]:r==="textarea"}function Nl(t){if(!ao)return!1;t="on"+t;var r=t in document;return r||(r=document.createElement("div"),r.setAttribute(t,"return;"),r=typeof r[t]=="function"),r}function cd(t,r,a,u){Xd?Yd?Yd.push(u):Yd=[u]:Xd=u,r=Kp(r,"onChange"),0<r.length&&(a=new vg("onChange","change",null,a,u),t.push({event:a,listeners:r}))}function Kr(t){lE(t,0)}function Rr(t){var r=V(t);if(sr(r))return t}function Qu(t,r){if(t==="change")return r}function Cl(){Yf&&(Yf.detachEvent("onpropertychange",Zu),Qf=Yf=null)}function Zu(t){if(t.propertyName==="value"&&Rr(Qf)){var r=[];cd(r,Qf,t,zu(t)),Hu(Kr,r)}}function xs(t,r,a){t==="focusin"?(Cl(),Yf=r,Qf=a,Yf.attachEvent("onpropertychange",Zu)):t==="focusout"&&Cl()}function uf(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Rr(Qf)}function Wu(t,r){if(t==="click")return Rr(r)}function Mo(t,r){if(t==="input"||t==="change")return Rr(r)}function Jr(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}function Io(t,r){if(mr(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var a=Object.keys(t),u=Object.keys(r);if(a.length!==u.length)return!1;for(u=0;u<a.length;u++){var h=a[u];if(!ma.call(r,h)||!mr(t[h],r[h]))return!1}return!0}function Dl(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function dd(t,r){var a=Dl(t);t=0;for(var u;a;){if(a.nodeType===3){if(u=t+a.textContent.length,t<=r&&u>=r)return{node:a,offset:r-t};t=u}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Dl(a)}}function Ku(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?Ku(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function Lo(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=Hi(t.document);r instanceof t.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)t=r.contentWindow;else break;r=Hi(t.document)}return r}function Ts(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}function Ba(t,r,a){var u=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Iv||Zd==null||Zd!==Hi(u)||(u=Zd,"selectionStart"in u&&Ts(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Zf&&Io(Zf,u)||(Zf=u,u=Kp(Mv,"onSelect"),0<u.length&&(r=new vg("onSelect","select",null,r,a),t.push({event:r,listeners:u}),r.target=Zd)))}function kr(t,r){var a={};return a[t.toLowerCase()]=r.toLowerCase(),a["Webkit"+t]="webkit"+r,a["Moz"+t]="moz"+r,a}function On(t){if(Lv[t])return Lv[t];if(!Wd[t])return t;var r=Wd[t],a;for(a in r)if(r.hasOwnProperty(a)&&a in BN)return Lv[t]=r[a];return t}function zn(t,r){zN.set(t,r),Se(r,[t])}function Al(t){for(var r=xg,a=0;a<t.length;a++){var u=t[a];if(typeof u=="object"&&u!==null)if(Ci(u)&&u.length===2&&typeof u[0]=="string"){if(r!==xg&&r!==Vv)return jv;r=Vv}else return jv;else{if(typeof u=="function"||typeof u=="string"&&50<u.length||r!==xg&&r!==Uv)return jv;r=Uv}}return r}function wl(t,r,a,u){for(var h in t)ma.call(t,h)&&h[0]!=="_"&&Or(h,t[h],r,a,u)}function Or(t,r,a,u,h){switch(typeof r){case"object":if(r===null){r="null";break}else{if(r.$$typeof===eo){var f=te(r.type)||"",b=r.key;r=r.props;var S=Object.keys(r),k=S.length;if(b==null&&k===0){r="<"+f+" />";break}if(3>u||k===1&&S[0]==="children"&&b==null){r="<"+f+"  />";break}a.push([h+"".repeat(u)+t,"<"+f]),b!==null&&Or("key",b,a,u+1,h),t=!1;for(var F in r)F==="children"?r.children!=null&&(!Ci(r.children)||0<r.children.length)&&(t=!0):ma.call(r,F)&&F[0]!=="_"&&Or(F,r[F],a,u+1,h);a.push(["",t?"></"+f+">":"/>"]);return}if(f=Object.prototype.toString.call(r),f=f.slice(8,f.length-1),f==="Array"){if(F=Al(r),F===Uv||F===xg){r=JSON.stringify(r);break}else if(F===Vv){for(a.push([h+"".repeat(u)+t,""]),t=0;t<r.length;t++)f=r[t],Or(f[0],f[1],a,u+1,h);return}}if(f==="Promise"){if(r.status==="fulfilled"){if(f=a.length,Or(t,r.value,a,u,h),a.length>f){a=a[f],a[1]="Promise<"+(a[1]||"Object")+">";return}}else if(r.status==="rejected"&&(f=a.length,Or(t,r.reason,a,u,h),a.length>f)){a=a[f],a[1]="Rejected Promise<"+a[1]+">";return}a.push(["".repeat(u)+t,"Promise"]);return}f==="Object"&&(F=Object.getPrototypeOf(r))&&typeof F.constructor=="function"&&(f=F.constructor.name),a.push([h+"".repeat(u)+t,f==="Object"?3>u?"":"":f]),3>u&&wl(r,a,u+1,h);return}case"function":r=r.name===""?"() => {}":r.name+"() {}";break;case"string":r=r===S5?"":JSON.stringify(r);break;case"undefined":r="undefined";break;case"boolean":r=r?"true":"false";break;default:r=String(r)}a.push([h+"".repeat(u)+t,r])}function hd(t,r,a,u){var h=!0;for(b in t)b in r||(a.push([Tg+"".repeat(u)+b,""]),h=!1);for(var f in r)if(f in t){var b=t[f],S=r[f];if(b!==S){if(u===0&&f==="children")h="".repeat(u)+f,a.push([Tg+h,""],[Sg+h,""]);else{if(!(3<=u)){if(typeof b=="object"&&typeof S=="object"&&b!==null&&S!==null&&b.$$typeof===S.$$typeof)if(S.$$typeof===eo){if(b.type===S.type&&b.key===S.key){b=te(S.type)||"",h="".repeat(u)+f,b="<"+b+"  />",a.push([Tg+h,b],[Sg+h,b]),h=!1;continue}}else{var k=Object.prototype.toString.call(b),F=Object.prototype.toString.call(S);if(k===F&&(F==="[object Object]"||F==="[object Array]")){k=[qN+"".repeat(u)+f,F==="[object Array]"?"Array":""],a.push(k),F=a.length,hd(b,S,a,u+1)?F===a.length&&(k[1]="Referentially unequal but deeply equal objects. Consider memoization."):h=!1;continue}}else if(typeof b=="function"&&typeof S=="function"&&b.name===S.name&&b.length===S.length&&(k=Function.prototype.toString.call(b),F=Function.prototype.toString.call(S),k===F)){b=S.name===""?"() => {}":S.name+"() {}",a.push([qN+"".repeat(u)+f,b+" Referentially unequal function closure. Consider memoization."]);continue}}Or(f,b,a,u,Tg),Or(f,S,a,u,Sg)}h=!1}}else a.push([Sg+"".repeat(u)+f,""]),h=!1;return h}function or(t){jt=t&63?"Blocking":t&64?"Gesture":t&4194176?"Transition":t&62914560?"Suspense":t&2080374784?"Idle":"Other"}function Mr(t,r,a,u){xn&&(nu.start=r,nu.end=a,Zo.color="warning",Zo.tooltipText=u,Zo.properties=null,(t=t._debugTask)?t.run(performance.measure.bind(performance,u,nu)):performance.measure(u,nu))}function Po(t,r,a){Mr(t,r,a,"Reconnect")}function ja(t,r,a,u,h){var f=j(t);if(f!==null&&xn){var b=t.alternate,S=t.actualDuration;if(b===null||b.child!==t.child)for(var k=t.child;k!==null;k=k.sibling)S-=k.actualDuration;u=.5>S?u?"tertiary-light":"primary-light":10>S?u?"tertiary":"primary":100>S?u?"tertiary-dark":"primary-dark":"error";var F=t.memoizedProps;S=t._debugTask,F!==null&&b!==null&&b.memoizedProps!==F?(k=[E5],F=hd(b.memoizedProps,F,k,0),1<k.length&&(F&&!tu&&(b.lanes&h)===0&&100<t.actualDuration?(tu=!0,k[0]=N5,Zo.color="warning",Zo.tooltipText=GN):(Zo.color=u,Zo.tooltipText=f),Zo.properties=k,nu.start=r,nu.end=a,S!=null?S.run(performance.measure.bind(performance,""+f,nu)):performance.measure(""+f,nu))):S!=null?S.run(console.timeStamp.bind(console,f,r,a,Ls,void 0,u)):console.timeStamp(f,r,a,Ls,void 0,u)}}function Ua(t,r,a,u){if(xn){var h=j(t);if(h!==null){for(var f=null,b=[],S=0;S<u.length;S++){var k=u[S];f==null&&k.source!==null&&(f=k.source._debugTask),k=k.value,b.push(["Error",typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k)])}t.key!==null&&Or("key",t.key,b,0,""),t.memoizedProps!==null&&wl(t.memoizedProps,b,0,""),f==null&&(f=t._debugTask),t={start:r,end:a,detail:{devtools:{color:"error",track:Ls,tooltipText:t.tag===13?"Hydration failed":"Error boundary caught an error",properties:b}}},f?f.run(performance.measure.bind(performance,""+h,t)):performance.measure(""+h,t)}}}function Si(t,r,a,u,h){if(h!==null){if(xn){var f=j(t);if(f!==null){u=[];for(var b=0;b<h.length;b++){var S=h[b].value;u.push(["Error",typeof S=="object"&&S!==null&&typeof S.message=="string"?String(S.message):String(S)])}t.key!==null&&Or("key",t.key,u,0,""),t.memoizedProps!==null&&wl(t.memoizedProps,u,0,""),r={start:r,end:a,detail:{devtools:{color:"error",track:Ls,tooltipText:"A lifecycle or effect errored",properties:u}}},(t=t._debugTask)?t.run(performance.measure.bind(performance,""+f,r)):performance.measure(""+f,r)}}}else f=j(t),f!==null&&xn&&(h=1>u?"secondary-light":100>u?"secondary":500>u?"secondary-dark":"error",(t=t._debugTask)?t.run(console.timeStamp.bind(console,f,r,a,Ls,void 0,h)):console.timeStamp(f,r,a,Ls,void 0,h))}function Va(t,r,a,u){if(xn&&!(r<=t)){var h=(a&738197653)===a?"tertiary-dark":"primary-dark";a=(a&536870912)===a?"Prepared":(a&201326741)===a?"Hydrated":"Render",u?u.run(console.timeStamp.bind(console,a,t,r,jt,kt,h)):console.timeStamp(a,t,r,jt,kt,h)}}function lr(t,r,a,u){!xn||r<=t||(a=(a&738197653)===a?"tertiary-dark":"primary-dark",u?u.run(console.timeStamp.bind(console,"Prewarm",t,r,jt,kt,a)):console.timeStamp("Prewarm",t,r,jt,kt,a))}function fd(t,r,a,u){!xn||r<=t||(a=(a&738197653)===a?"tertiary-dark":"primary-dark",u?u.run(console.timeStamp.bind(console,"Suspended",t,r,jt,kt,a)):console.timeStamp("Suspended",t,r,jt,kt,a))}function md(t,r,a,u,h,f){if(xn&&!(r<=t)){a=[];for(var b=0;b<u.length;b++){var S=u[b].value;a.push(["Recoverable Error",typeof S=="object"&&S!==null&&typeof S.message=="string"?String(S.message):String(S)])}t={start:t,end:r,detail:{devtools:{color:"primary-dark",track:jt,trackGroup:kt,tooltipText:h?"Hydration Failed":"Recovered after Error",properties:a}}},f?f.run(performance.measure.bind(performance,"Recovered",t)):performance.measure("Recovered",t)}}function Rl(t,r,a,u){!xn||r<=t||(u?u.run(console.timeStamp.bind(console,"Errored",t,r,jt,kt,"error")):console.timeStamp("Errored",t,r,jt,kt,"error"))}function Ju(t,r,a,u){!xn||r<=t||(u?u.run(console.timeStamp.bind(console,a,t,r,jt,kt,"secondary-light")):console.timeStamp(a,t,r,jt,kt,"secondary-light"))}function pd(t,r,a,u,h){if(xn&&!(r<=t)){for(var f=[],b=0;b<a.length;b++){var S=a[b].value;f.push(["Error",typeof S=="object"&&S!==null&&typeof S.message=="string"?String(S.message):String(S)])}t={start:t,end:r,detail:{devtools:{color:"error",track:jt,trackGroup:kt,tooltipText:u?"Remaining Effects Errored":"Commit Errored",properties:f}}},h?h.run(performance.measure.bind(performance,"Errored",t)):performance.measure("Errored",t)}}function Bo(t,r,a){!xn||r<=t||console.timeStamp("Animating",t,r,jt,kt,"secondary-dark")}function kl(){for(var t=Kd,r=Fv=Kd=0;r<t;){var a=Ps[r];Ps[r++]=null;var u=Ps[r];Ps[r++]=null;var h=Ps[r];Ps[r++]=null;var f=Ps[r];if(Ps[r++]=null,u!==null&&h!==null){var b=u.pending;b===null?h.next=h:(h.next=b.next,b.next=h),u.pending=h}f!==0&&gd(a,h,f)}}function oa(t,r,a,u){Ps[Kd++]=t,Ps[Kd++]=r,Ps[Kd++]=a,Ps[Kd++]=u,Fv|=u,t.lanes|=u,t=t.alternate,t!==null&&(t.lanes|=u)}function jo(t,r,a,u){return oa(t,r,a,u),Ol(t)}function ni(t,r){return oa(t,null,null,r),Ol(t)}function gd(t,r,a){t.lanes|=a;var u=t.alternate;u!==null&&(u.lanes|=a);for(var h=!1,f=t.return;f!==null;)f.childLanes|=a,u=f.alternate,u!==null&&(u.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&Wf||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&r!==null&&(h=31-dr(a),t=f.hiddenUpdates,u=t[h],u===null?t[h]=[r]:u.push(r),r.lane=a|536870912),f):null}function Ol(t){if(Em>F5)throw Mc=Em=0,Nm=__=null,Error("Maximum update depth exceeded. This can happen when a component repeatedly calls setState inside componentWillUpdate or componentDidUpdate. React limits the number of nested updates to prevent infinite loops.");Mc>z5&&(Mc=0,Nm=null,console.error("Maximum update depth exceeded. This can happen when a component calls setState inside useEffect, but useEffect either doesn't have a dependency array, or one of the dependencies changes on every render.")),t.alternate===null&&(t.flags&4098)!==0&&tE(t);for(var r=t,a=r.return;a!==null;)r.alternate===null&&(r.flags&4098)!==0&&tE(t),r=a,a=r.return;return r.tag===3?r.stateNode:null}function Ss(t){if(Bs===null)return t;var r=Bs(t);return r===void 0?t:r.current}function la(t){if(Bs===null)return t;var r=Bs(t);return r===void 0?t!=null&&typeof t.render=="function"&&(r=Ss(t.render),t.render!==r)?(r={$$typeof:Uf,render:r},t.displayName!==void 0&&(r.displayName=t.displayName),r):t:r.current}function ec(t,r){if(Bs===null)return!1;var a=t.elementType;r=r.type;var u=!1,h=typeof r=="object"&&r!==null?r.$$typeof:null;switch(t.tag){case 1:typeof r=="function"&&(u=!0);break;case 0:(typeof r=="function"||h===ss)&&(u=!0);break;case 11:(h===Uf||h===ss)&&(u=!0);break;case 14:case 15:(h===ug||h===ss)&&(u=!0);break;default:return!1}return!!(u&&(t=Bs(a),t!==void 0&&t===Bs(r)))}function bd(t){Bs!==null&&typeof WeakSet=="function"&&(Jd===null&&(Jd=new WeakSet),Jd.add(t))}function Ml(t,r,a){do{var u=t,h=u.alternate,f=u.child,b=u.sibling,S=u.tag;u=u.type;var k=null;switch(S){case 0:case 15:case 1:k=u;break;case 11:k=u.render}if(Bs===null)throw Error("Expected resolveFamily to be set during hot reload.");var F=!1;if(u=!1,k!==null&&(k=Bs(k),k!==void 0&&(a.has(k)?u=!0:r.has(k)&&(S===1?u=!0:F=!0))),Jd!==null&&(Jd.has(t)||h!==null&&Jd.has(h))&&(u=!0),u&&(t._debugNeedsRemount=!0),(u||F)&&(h=ni(t,2),h!==null&&$n(h,t,2)),f===null||u||Ml(f,r,a),b===null)break;t=b}while(!0)}function R(t,r,a,u){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null,this.actualDuration=-0,this.actualStartTime=-1.1,this.treeBaseDuration=this.selfBaseDuration=-0,this._debugTask=this._debugStack=this._debugOwner=this._debugInfo=null,this._debugNeedsRemount=!1,this._debugHookTypes=null,XN||typeof Object.preventExtensions!="function"||Object.preventExtensions(this)}function z(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Y(t,r){var a=t.alternate;switch(a===null?(a=C(t.tag,r,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a._debugOwner=t._debugOwner,a._debugStack=t._debugStack,a._debugTask=t._debugTask,a._debugHookTypes=t._debugHookTypes,a.alternate=t,t.alternate=a):(a.pendingProps=r,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null,a.actualDuration=-0,a.actualStartTime=-1.1),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,r=t.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext,_debugThenableState:r._debugThenableState},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a.selfBaseDuration=t.selfBaseDuration,a.treeBaseDuration=t.treeBaseDuration,a._debugInfo=t._debugInfo,a._debugNeedsRemount=t._debugNeedsRemount,a.tag){case 0:case 15:a.type=Ss(t.type);break;case 1:a.type=Ss(t.type);break;case 11:a.type=la(t.type)}return a}function ne(t,r){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null,t.selfBaseDuration=0,t.treeBaseDuration=0):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,r=a.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext,_debugThenableState:r._debugThenableState},t.selfBaseDuration=a.selfBaseDuration,t.treeBaseDuration=a.treeBaseDuration),t}function ye(t,r,a,u,h,f){var b=0,S=t;if(typeof t=="function")z(t)&&(b=1),S=Ss(S);else if(typeof t=="string")b=ve(),b=nO(t,a,b)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case hv:return r=C(31,a,r,h),r.elementType=hv,r.lanes=f,r;case Fd:return Me(a.children,h,f,r);case lg:b=8,h|=Ki,h|=pa;break;case lv:return t=a,u=h,typeof t.id!="string"&&console.error('Profiler must specify an "id" of type `string` as a prop. Received the type `%s` instead.',typeof t.id),r=C(12,t,r,u|xt),r.elementType=lv,r.lanes=f,r.stateNode={effectDuration:0,passiveEffectDuration:0},r;case cv:return r=C(13,a,r,h),r.elementType=cv,r.lanes=f,r;case dv:return r=C(19,a,r,h),r.elementType=dv,r.lanes=f,r;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case to:b=10;break e;case uv:b=9;break e;case Uf:b=11,S=la(S);break e;case ug:b=14;break e;case ss:b=16,S=null;break e}S="",(t===void 0||typeof t=="object"&&t!==null&&Object.keys(t).length===0)&&(S+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports."),t===null?a="null":Ci(t)?a="array":t!==void 0&&t.$$typeof===eo?(a="<"+(te(t.type)||"Unknown")+" />",S=" Did you accidentally export a JSX literal instead of a component?"):a=typeof t,(b=u?I(u):null)&&(S+=`

Check the render method of \``+b+"`."),b=29,a=Error("Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: "+(a+"."+S)),S=null}return r=C(b,a,r,h),r.elementType=t,r.type=S,r.lanes=f,r._debugOwner=u,r}function me(t,r,a){return r=ye(t.type,t.key,t.props,t._owner,r,a),r._debugOwner=t._owner,r._debugStack=t._debugStack,r._debugTask=t._debugTask,r}function Me(t,r,a,u){return t=C(7,t,u,r),t.lanes=a,t}function Fe(t,r,a){return t=C(6,t,null,r),t.lanes=a,t}function dt(t){var r=C(18,null,null,ut);return r.stateNode=t,r}function at(t,r,a){return r=C(4,t.children!==null?t.children:[],t.key,r),r.lanes=a,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}function Vt(t,r){if(typeof t=="object"&&t!==null){var a=zv.get(t);return a!==void 0?a:(r={value:t,source:r,stack:gt(r)},zv.set(t,r),r)}return{value:t,source:r,stack:gt(r)}}function fn(t,r){ua(),eh[th++]=Kf,eh[th++]=Eg,Eg=t,Kf=r}function Fa(t,r,a){ua(),js[Us++]=Ko,js[Us++]=Jo,js[Us++]=yc,yc=t;var u=Ko;t=Jo;var h=32-dr(u)-1;u&=~(1<<h),a+=1;var f=32-dr(r)+h;if(30<f){var b=h-h%5;f=(u&(1<<b)-1).toString(32),u>>=b,h-=b,Ko=1<<32-dr(r)+h|a<<h|u,Jo=f+t}else Ko=1<<f|a<<h|u,Jo=t}function Il(t){ua(),t.return!==null&&(fn(t,1),Fa(t,1,0))}function cf(t){for(;t===Eg;)Eg=eh[--th],eh[th]=null,Kf=eh[--th],eh[th]=null;for(;t===yc;)yc=js[--Us],js[Us]=null,Jo=js[--Us],js[Us]=null,Ko=js[--Us],js[Us]=null}function _p(){return ua(),yc!==null?{id:Ko,overflow:Jo}:null}function xp(t,r){ua(),js[Us++]=Ko,js[Us++]=Jo,js[Us++]=yc,Ko=r.id,Jo=r.overflow,yc=t}function ua(){wt||console.error("Expected to be hydrating. This is a bug in React. Please file an issue.")}function Uo(t,r){if(t.return===null){if(os===null)os={fiber:t,children:[],serverProps:void 0,serverTail:[],distanceFromLeaf:r};else{if(os.fiber!==t)throw Error("Saw multiple hydration diff roots in a pass. This is a bug in React.");os.distanceFromLeaf>r&&(os.distanceFromLeaf=r)}return os}var a=Uo(t.return,r+1).children;return 0<a.length&&a[a.length-1].fiber===t?(a=a[a.length-1],a.distanceFromLeaf>r&&(a.distanceFromLeaf=r),a):(r={fiber:t,children:[],serverProps:void 0,serverTail:[],distanceFromLeaf:r},a.push(r),r)}function Ll(){wt&&console.error("We should not be hydrating here. This is a bug in React. Please file a bug.")}function tc(t,r){oo||(t=Uo(t,0),t.serverProps=null,r!==null&&(r=CE(r),t.serverTail.push(r)))}function es(t){var r=1<arguments.length&&arguments[1]!==void 0?arguments[1]:!1,a="",u=os;throw u!==null&&(os=null,a=Uu(u)),nc(Vt(Error("Hydration failed because the server rendered "+(r?"text":"HTML")+` didn't match the client. As a result this tree will be regenerated on the client. This can happen if a SSR-ed Client Component used:

- A server/client branch \`if (typeof window !== 'undefined')\`.
- Variable input such as \`Date.now()\` or \`Math.random()\` which changes each time it's called.
- Date formatting in a user's locale which doesn't match the server.
- External changing data without sending a snapshot of it along with the HTML.
- Invalid HTML tag nesting.

It can also happen if the client has a browser extension installed which messes with the HTML before React loaded.

https://react.dev/link/hydration-mismatch`+a),t)),Hv}function Pl(t){var r=t.stateNode,a=t.type,u=t.memoizedProps;switch(r[Yi]=t,r[hr]=u,Hy(a,u),a){case"dialog":Rt("cancel",r),Rt("close",r);break;case"iframe":case"object":case"embed":Rt("load",r);break;case"video":case"audio":for(a=0;a<Cm.length;a++)Rt(Cm[a],r);break;case"source":Rt("error",r);break;case"img":case"image":case"link":Rt("error",r),Rt("load",r);break;case"details":Rt("toggle",r);break;case"input":et("input",u),Rt("invalid",r),vs(r,u),No(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"option":Xr(r,u);break;case"select":et("select",u),Rt("invalid",r),nn(r,u);break;case"textarea":et("textarea",u),Rt("invalid",r),Co(r,u),xl(r,u.value,u.defaultValue,u.children)}a=u.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||u.suppressHydrationWarning===!0||hE(r.textContent,a)?(u.popover!=null&&(Rt("beforetoggle",r),Rt("toggle",r)),u.onScroll!=null&&Rt("scroll",r),u.onScrollEnd!=null&&Rt("scrollend",r),u.onClick!=null&&(r.onclick=Wr),r=!0):r=!1,r||es(t,!0)}function Mn(t){for(Qi=t.return;Qi;)switch(Qi.tag){case 5:case 31:case 13:Vs=!1;return;case 27:case 3:Vs=!0;return;default:Qi=Qi.return}}function ts(t){if(t!==Qi)return!1;if(!wt)return Mn(t),wt=!0,!1;var r=t.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Yy(t.type,t.memoizedProps)),a=!a),a&&Tn){for(a=Tn;a;){var u=Uo(t,0),h=CE(a);u.serverTail.push(h),a=h.type==="Suspense"?Ky(a):rs(a.nextSibling)}es(t)}if(Mn(t),r===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error("Expected to have a hydrated suspense instance. This error is likely caused by a bug in React. Please file an issue.");Tn=Ky(t)}else if(r===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error("Expected to have a hydrated suspense instance. This error is likely caused by a bug in React. Please file an issue.");Tn=Ky(t)}else r===27?(r=Tn,Ql(t.type)?(t=O_,O_=null,Tn=t):Tn=r):Tn=Qi?rs(t.stateNode.nextSibling):null;return!0}function ca(){Tn=Qi=null,oo=wt=!1}function df(){var t=ru;return t!==null&&(yr===null?yr=t:yr.push.apply(yr,t),ru=null),t}function nc(t){ru===null?ru=[t]:ru.push(t)}function hf(){var t=os;if(t!==null){os=null;for(var r=Uu(t);0<t.children.length;)t=t.children[0];je(t.fiber,function(){console.error(`A tree hydrated but some attributes of the server rendered HTML didn't match the client properties. This won't be patched up. This can happen if a SSR-ed Client Component used:

- A server/client branch \`if (typeof window !== 'undefined')\`.
- Variable input such as \`Date.now()\` or \`Math.random()\` which changes each time it's called.
- Date formatting in a user's locale which doesn't match the server.
- External changing data without sending a snapshot of it along with the HTML.
- Invalid HTML tag nesting.

It can also happen if the client has a browser extension installed which messes with the HTML before React loaded.

%s%s`,"https://react.dev/link/hydration-mismatch",r)})}}function yd(){nh=Ng=null,ih=!1}function da(t,r,a){ie($v,r._currentValue,t),r._currentValue=a,ie(qv,r._currentRenderer,t),r._currentRenderer!==void 0&&r._currentRenderer!==null&&r._currentRenderer!==QN&&console.error("Detected multiple renderers concurrently rendering the same context provider. This is currently unsupported."),r._currentRenderer=QN}function Es(t,r){t._currentValue=$v.current;var a=qv.current;de(qv,r),t._currentRenderer=a,de($v,r)}function vd(t,r,a){for(;t!==null;){var u=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),t===a)break;t=t.return}t!==a&&console.error("Expected to find the propagation root when scheduling context work. This error is likely caused by a bug in React. Please file an issue.")}function _d(t,r,a,u){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var b=h.child;f=f.firstContext;e:for(;f!==null;){var S=f;f=h;for(var k=0;k<r.length;k++)if(S.context===r[k]){f.lanes|=a,S=f.alternate,S!==null&&(S.lanes|=a),vd(f.return,a,t),u||(b=null);break e}f=S.next}}else if(h.tag===18){if(b=h.return,b===null)throw Error("We just came from a parent so we must have had a parent. This is a bug in React.");b.lanes|=a,f=b.alternate,f!==null&&(f.lanes|=a),vd(b,a,t),b=null}else b=h.child;if(b!==null)b.return=h;else for(b=h;b!==null;){if(b===t){b=null;break}if(h=b.sibling,h!==null){h.return=b.return,b=h;break}b=b.return}h=b}}function Vo(t,r,a,u){t=null;for(var h=r,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var b=h.alternate;if(b===null)throw Error("Should have a current fiber. This is a bug in React.");if(b=b.memoizedProps,b!==null){var S=h.type;mr(h.pendingProps.value,b.value)||(t!==null?t.push(S):t=[S])}}else if(h===cg.current){if(b=h.alternate,b===null)throw Error("Should have a current fiber. This is a bug in React.");b.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(km):t=[km])}h=h.return}t!==null&&_d(r,t,a,u),r.flags|=262144}function Bl(t){for(t=t.firstContext;t!==null;){if(!mr(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function za(t){Ng=t,nh=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function rn(t){return ih&&console.error("Context can only be read while React is rendering. In classes, you can read it in the render method or getDerivedStateFromProps. In function components, you can read it directly in the function body, but not inside Hooks like useReducer() or useMemo()."),jl(Ng,t)}function xd(t,r){return Ng===null&&za(t),jl(t,r)}function jl(t,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},nh===null){if(t===null)throw Error("Context can only be read while React is rendering. In classes, you can read it in the render method or getDerivedStateFromProps. In function components, you can read it directly in the function body, but not inside Hooks like useReducer() or useMemo().");nh=r,t.dependencies={lanes:0,firstContext:r,_debugThenableState:null},t.flags|=524288}else nh=nh.next=r;return a}function ff(){return{controller:new A5,data:new Map,refCount:0}}function Ha(t){t.controller.signal.aborted&&console.warn("A cache instance was retained after it was already freed. This likely indicates a bug in React."),t.refCount++}function Ul(t){t.refCount--,0>t.refCount&&console.warn("A cache instance was released after it was already freed. This likely indicates a bug in React."),t.refCount===0&&w5(R5,function(){t.controller.abort()})}function Ns(t,r,a){(t&127)!==0?0>lo&&(lo=di(),em=Cg(r),Gv=r,a!=null&&(Xv=j(a)),(Ut&(Ai|cs))!==Bi&&(qn=!0,au=Jf),t=If(),r=Mf(),t!==rh||r!==tm?rh=-1.1:r!==null&&(au=Jf),xc=t,tm=r):(t&4194048)!==0&&0>Fs&&(Fs=di(),nm=Cg(r),ZN=r,a!=null&&(WN=j(a)),0>il)&&(t=If(),r=Mf(),(t!==lu||r!==Tc)&&(lu=-1.1),ou=t,Tc=r)}function z0(t){if(0>lo){lo=di(),em=t._debugTask!=null?t._debugTask:null,(Ut&(Ai|cs))!==Bi&&(au=Jf);var r=If(),a=Mf();r!==rh||a!==tm?rh=-1.1:a!==null&&(au=Jf),xc=r,tm=a}0>Fs&&(Fs=di(),nm=t._debugTask!=null?t._debugTask:null,0>il)&&(t=If(),r=Mf(),(t!==lu||r!==Tc)&&(lu=-1.1),ou=t,Tc=r)}function Cs(){var t=vc;return vc=0,t}function Td(t){var r=vc;return vc=t,r}function ic(t){var r=vc;return vc+=t,r}function Vl(){lt=rt=-1.1}function ur(){var t=rt;return rt=-1.1,t}function cr(t){0<=t&&(rt=t)}function Ds(){var t=In;return In=-0,t}function As(t){0<=t&&(In=t)}function ws(){var t=Dn;return Dn=null,t}function Rs(){var t=qn;return qn=!1,t}function mf(t){pr=di(),0>t.actualStartTime&&(t.actualStartTime=pr)}function pf(t){if(0<=pr){var r=di()-pr;t.actualDuration+=r,t.selfBaseDuration=r,pr=-1}}function Tp(t){if(0<=pr){var r=di()-pr;t.actualDuration+=r,pr=-1}}function ks(){if(0<=pr){var t=di(),r=t-pr;pr=-1,vc+=r,In+=r,lt=t}}function Sp(t){Dn===null&&(Dn=[]),Dn.push(t),tl===null&&(tl=[]),tl.push(t)}function Ei(){pr=di(),0>rt&&(rt=pr)}function rc(t){for(var r=t.child;r;)t.actualDuration+=r.actualDuration,r=r.sibling}function H0(t,r){if(rm===null){var a=rm=[];Qv=0,Sc=Uy(),sh={status:"pending",value:void 0,then:function(u){a.push(u)}}}return Qv++,r.then(Ep,Ep),r}function Ep(){if(--Qv===0&&(-1<Fs||(il=-1.1),rm!==null)){sh!==null&&(sh.status="fulfilled");var t=rm;rm=null,Sc=0,sh=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function gT(t,r){var a=[],u={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){u.status="fulfilled",u.value=r;for(var h=0;h<a.length;h++)(0,a[h])(r)},function(h){for(u.status="rejected",u.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),u}function Sd(){var t=Ec.current;return t!==null?t:cn.pooledCache}function Fl(t,r){r===null?ie(Ec,Ec.current,t):ie(Ec,r.pool,t)}function gf(){var t=Sd();return t===null?null:{parent:ci._currentValue,pool:t}}function sc(){return{didWarnAboutUncachedPromise:!1,thenables:[]}}function ac(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Np(t,r,a){we.actQueue!==null&&(we.didUsePromise=!0);var u=t.thenables;if(a=u[a],a===void 0?u.push(r):a!==r&&(t.didWarnAboutUncachedPromise||(t.didWarnAboutUncachedPromise=!0,console.error("A component was suspended by an uncached promise. Creating promises inside a Client Component or hook is not yet supported, except via a Suspense-compatible library or framework.")),r.then(Wr,Wr),r=a),r._debugInfo===void 0){t=performance.now(),u=r.displayName;var h={name:typeof u=="string"?u:"Promise",start:t,end:t,value:r};r._debugInfo=[{awaited:h}],r.status!=="fulfilled"&&r.status!=="rejected"&&(t=function(){h.end=performance.now()},r.then(t,t))}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,Dp(t),t;default:if(typeof r.status=="string")r.then(Wr,Wr);else{if(t=cn,t!==null&&100<t.shellSuspendCounter)throw Error("An unknown Component is an async Client Component. Only Server Components can be async at the moment. This error is often caused by accidentally adding `'use client'` to a module that was originally written for the server.");t=r,t.status="pending",t.then(function(f){if(r.status==="pending"){var b=r;b.status="fulfilled",b.value=f}},function(f){if(r.status==="pending"){var b=r;b.status="rejected",b.reason=f}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,Dp(t),t}throw Cc=r,dm=!0,ah}}function $a(t){try{return L5(t)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(Cc=r,dm=!0,ah):r}}function Cp(){if(Cc===null)throw Error("Expected a suspended thenable. This is a bug in React. Please file an issue.");var t=Cc;return Cc=null,dm=!1,t}function Dp(t){if(t===ah||t===Ig)throw Error("Hooks are not supported inside an async component. This error is often caused by accidentally adding `'use client'` to a module that was originally written for the server.")}function Ni(t){var r=Tt;return t!=null&&(Tt=r===null?t:r.concat(t)),r}function oc(){var t=Tt;if(t!=null){for(var r=t.length-1;0<=r;r--)if(t[r].name!=null){var a=t[r].debugTask;if(a!=null)return a}}return null}function Ed(t,r,a){for(var u=Object.keys(t.props),h=0;h<u.length;h++){var f=u[h];if(f!=="children"&&f!=="key"){r===null&&(r=me(t,a.mode,0),r._debugInfo=Tt,r.return=a),je(r,function(b){console.error("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.",b)},f);break}}}function Nd(t){var r=hm;return hm+=1,oh===null&&(oh=sc()),Np(oh,t,r)}function zl(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function Fo(t,r){throw r.$$typeof===fO?Error(`A React Element from an older version of React was rendered. This is not supported. It can happen if:
- Multiple copies of the "react" package is used.
- A library pre-bundled an old copy of "react" or "react/jsx-runtime".
- A compiler tries to "inline" JSX instead of using the runtime.`):(t=Object.prototype.toString.call(r),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead."))}function Ft(t,r){var a=oc();a!==null?a.run(Fo.bind(null,t,r)):Fo(t,r)}function qa(t,r){var a=j(t)||"Component";bC[a]||(bC[a]=!0,r=r.displayName||r.name||"Component",t.tag===3?console.error(`Functions are not valid as a React child. This may happen if you return %s instead of <%s /> from render. Or maybe you meant to call this function rather than return it.
  root.render(%s)`,r,r,r):console.error(`Functions are not valid as a React child. This may happen if you return %s instead of <%s /> from render. Or maybe you meant to call this function rather than return it.
  <%s>{%s}</%s>`,r,r,a,r,a))}function li(t,r){var a=oc();a!==null?a.run(qa.bind(null,t,r)):qa(t,r)}function ns(t,r){var a=j(t)||"Component";yC[a]||(yC[a]=!0,r=String(r),t.tag===3?console.error(`Symbols are not valid as a React child.
  root.render(%s)`,r):console.error(`Symbols are not valid as a React child.
  <%s>%s</%s>`,a,r,a))}function Cd(t,r){var a=oc();a!==null?a.run(ns.bind(null,t,r)):ns(t,r)}function bf(t){function r(ee,ae){if(t){var ue=ee.deletions;ue===null?(ee.deletions=[ae],ee.flags|=16):ue.push(ae)}}function a(ee,ae){if(!t)return null;for(;ae!==null;)r(ee,ae),ae=ae.sibling;return null}function u(ee){for(var ae=new Map;ee!==null;)ee.key!==null?ae.set(ee.key,ee):ae.set(ee.index,ee),ee=ee.sibling;return ae}function h(ee,ae){return ee=Y(ee,ae),ee.index=0,ee.sibling=null,ee}function f(ee,ae,ue){return ee.index=ue,t?(ue=ee.alternate,ue!==null?(ue=ue.index,ue<ae?(ee.flags|=67108866,ae):ue):(ee.flags|=67108866,ae)):(ee.flags|=1048576,ae)}function b(ee){return t&&ee.alternate===null&&(ee.flags|=67108866),ee}function S(ee,ae,ue,Ie){return ae===null||ae.tag!==6?(ae=Fe(ue,ee.mode,Ie),ae.return=ee,ae._debugOwner=ee,ae._debugTask=ee._debugTask,ae._debugInfo=Tt,ae):(ae=h(ae,ue),ae.return=ee,ae._debugInfo=Tt,ae)}function k(ee,ae,ue,Ie){var qe=ue.type;return qe===Fd?(ae=ce(ee,ae,ue.props.children,Ie,ue.key),Ed(ue,ae,ee),ae):ae!==null&&(ae.elementType===qe||ec(ae,ue)||typeof qe=="object"&&qe!==null&&qe.$$typeof===ss&&$a(qe)===ae.type)?(ae=h(ae,ue.props),zl(ae,ue),ae.return=ee,ae._debugOwner=ue._owner,ae._debugInfo=Tt,ae):(ae=me(ue,ee.mode,Ie),zl(ae,ue),ae.return=ee,ae._debugInfo=Tt,ae)}function F(ee,ae,ue,Ie){return ae===null||ae.tag!==4||ae.stateNode.containerInfo!==ue.containerInfo||ae.stateNode.implementation!==ue.implementation?(ae=at(ue,ee.mode,Ie),ae.return=ee,ae._debugInfo=Tt,ae):(ae=h(ae,ue.children||[]),ae.return=ee,ae._debugInfo=Tt,ae)}function ce(ee,ae,ue,Ie,qe){return ae===null||ae.tag!==7?(ae=Me(ue,ee.mode,Ie,qe),ae.return=ee,ae._debugOwner=ee,ae._debugTask=ee._debugTask,ae._debugInfo=Tt,ae):(ae=h(ae,ue),ae.return=ee,ae._debugInfo=Tt,ae)}function he(ee,ae,ue){if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return ae=Fe(""+ae,ee.mode,ue),ae.return=ee,ae._debugOwner=ee,ae._debugTask=ee._debugTask,ae._debugInfo=Tt,ae;if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case eo:return ue=me(ae,ee.mode,ue),zl(ue,ae),ue.return=ee,ee=Ni(ae._debugInfo),ue._debugInfo=Tt,Tt=ee,ue;case Vd:return ae=at(ae,ee.mode,ue),ae.return=ee,ae._debugInfo=Tt,ae;case ss:var Ie=Ni(ae._debugInfo);return ae=$a(ae),ee=he(ee,ae,ue),Tt=Ie,ee}if(Ci(ae)||q(ae))return ue=Me(ae,ee.mode,ue,null),ue.return=ee,ue._debugOwner=ee,ue._debugTask=ee._debugTask,ee=Ni(ae._debugInfo),ue._debugInfo=Tt,Tt=ee,ue;if(typeof ae.then=="function")return Ie=Ni(ae._debugInfo),ee=he(ee,Nd(ae),ue),Tt=Ie,ee;if(ae.$$typeof===to)return he(ee,xd(ee,ae),ue);Ft(ee,ae)}return typeof ae=="function"&&li(ee,ae),typeof ae=="symbol"&&Cd(ee,ae),null}function re(ee,ae,ue,Ie){var qe=ae!==null?ae.key:null;if(typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint")return qe!==null?null:S(ee,ae,""+ue,Ie);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case eo:return ue.key===qe?(qe=Ni(ue._debugInfo),ee=k(ee,ae,ue,Ie),Tt=qe,ee):null;case Vd:return ue.key===qe?F(ee,ae,ue,Ie):null;case ss:return qe=Ni(ue._debugInfo),ue=$a(ue),ee=re(ee,ae,ue,Ie),Tt=qe,ee}if(Ci(ue)||q(ue))return qe!==null?null:(qe=Ni(ue._debugInfo),ee=ce(ee,ae,ue,Ie,null),Tt=qe,ee);if(typeof ue.then=="function")return qe=Ni(ue._debugInfo),ee=re(ee,ae,Nd(ue),Ie),Tt=qe,ee;if(ue.$$typeof===to)return re(ee,ae,xd(ee,ue),Ie);Ft(ee,ue)}return typeof ue=="function"&&li(ee,ue),typeof ue=="symbol"&&Cd(ee,ue),null}function Ne(ee,ae,ue,Ie,qe){if(typeof Ie=="string"&&Ie!==""||typeof Ie=="number"||typeof Ie=="bigint")return ee=ee.get(ue)||null,S(ae,ee,""+Ie,qe);if(typeof Ie=="object"&&Ie!==null){switch(Ie.$$typeof){case eo:return ue=ee.get(Ie.key===null?ue:Ie.key)||null,ee=Ni(Ie._debugInfo),ae=k(ae,ue,Ie,qe),Tt=ee,ae;case Vd:return ee=ee.get(Ie.key===null?ue:Ie.key)||null,F(ae,ee,Ie,qe);case ss:var mt=Ni(Ie._debugInfo);return Ie=$a(Ie),ae=Ne(ee,ae,ue,Ie,qe),Tt=mt,ae}if(Ci(Ie)||q(Ie))return ue=ee.get(ue)||null,ee=Ni(Ie._debugInfo),ae=ce(ae,ue,Ie,qe,null),Tt=ee,ae;if(typeof Ie.then=="function")return mt=Ni(Ie._debugInfo),ae=Ne(ee,ae,ue,Nd(Ie),qe),Tt=mt,ae;if(Ie.$$typeof===to)return Ne(ee,ae,ue,xd(ae,Ie),qe);Ft(ae,Ie)}return typeof Ie=="function"&&li(ae,Ie),typeof Ie=="symbol"&&Cd(ae,Ie),null}function He(ee,ae,ue,Ie){if(typeof ue!="object"||ue===null)return Ie;switch(ue.$$typeof){case eo:case Vd:v(ee,ae,ue);var qe=ue.key;if(typeof qe!="string")break;if(Ie===null){Ie=new Set,Ie.add(qe);break}if(!Ie.has(qe)){Ie.add(qe);break}je(ae,function(){console.error("Encountered two children with the same key, `%s`. Keys should be unique so that components maintain their identity across updates. Non-unique keys may cause children to be duplicated and/or omitted  the behavior is unsupported and could change in a future version.",qe)});break;case ss:ue=$a(ue),He(ee,ae,ue,Ie)}return Ie}function Ye(ee,ae,ue,Ie){for(var qe=null,mt=null,nt=null,Je=ae,yt=ae=0,Sn=null;Je!==null&&yt<ue.length;yt++){Je.index>yt?(Sn=Je,Je=null):Sn=Je.sibling;var ri=re(ee,Je,ue[yt],Ie);if(ri===null){Je===null&&(Je=Sn);break}qe=He(ee,ri,ue[yt],qe),t&&Je&&ri.alternate===null&&r(ee,Je),ae=f(ri,ae,yt),nt===null?mt=ri:nt.sibling=ri,nt=ri,Je=Sn}if(yt===ue.length)return a(ee,Je),wt&&fn(ee,yt),mt;if(Je===null){for(;yt<ue.length;yt++)Je=he(ee,ue[yt],Ie),Je!==null&&(qe=He(ee,Je,ue[yt],qe),ae=f(Je,ae,yt),nt===null?mt=Je:nt.sibling=Je,nt=Je);return wt&&fn(ee,yt),mt}for(Je=u(Je);yt<ue.length;yt++)Sn=Ne(Je,ee,yt,ue[yt],Ie),Sn!==null&&(qe=He(ee,Sn,ue[yt],qe),t&&Sn.alternate!==null&&Je.delete(Sn.key===null?yt:Sn.key),ae=f(Sn,ae,yt),nt===null?mt=Sn:nt.sibling=Sn,nt=Sn);return t&&Je.forEach(function(dl){return r(ee,dl)}),wt&&fn(ee,yt),mt}function gn(ee,ae,ue,Ie){if(ue==null)throw Error("An iterable object provided no iterator.");for(var qe=null,mt=null,nt=ae,Je=ae=0,yt=null,Sn=null,ri=ue.next();nt!==null&&!ri.done;Je++,ri=ue.next()){nt.index>Je?(yt=nt,nt=null):yt=nt.sibling;var dl=re(ee,nt,ri.value,Ie);if(dl===null){nt===null&&(nt=yt);break}Sn=He(ee,dl,ri.value,Sn),t&&nt&&dl.alternate===null&&r(ee,nt),ae=f(dl,ae,Je),mt===null?qe=dl:mt.sibling=dl,mt=dl,nt=yt}if(ri.done)return a(ee,nt),wt&&fn(ee,Je),qe;if(nt===null){for(;!ri.done;Je++,ri=ue.next())nt=he(ee,ri.value,Ie),nt!==null&&(Sn=He(ee,nt,ri.value,Sn),ae=f(nt,ae,Je),mt===null?qe=nt:mt.sibling=nt,mt=nt);return wt&&fn(ee,Je),qe}for(nt=u(nt);!ri.done;Je++,ri=ue.next())yt=Ne(nt,ee,Je,ri.value,Ie),yt!==null&&(Sn=He(ee,yt,ri.value,Sn),t&&yt.alternate!==null&&nt.delete(yt.key===null?Je:yt.key),ae=f(yt,ae,Je),mt===null?qe=yt:mt.sibling=yt,mt=yt);return t&&nt.forEach(function(sM){return r(ee,sM)}),wt&&fn(ee,Je),qe}function Ot(ee,ae,ue,Ie){if(typeof ue=="object"&&ue!==null&&ue.type===Fd&&ue.key===null&&(Ed(ue,null,ee),ue=ue.props.children),typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case eo:var qe=Ni(ue._debugInfo);e:{for(var mt=ue.key;ae!==null;){if(ae.key===mt){if(mt=ue.type,mt===Fd){if(ae.tag===7){a(ee,ae.sibling),Ie=h(ae,ue.props.children),Ie.return=ee,Ie._debugOwner=ue._owner,Ie._debugInfo=Tt,Ed(ue,Ie,ee),ee=Ie;break e}}else if(ae.elementType===mt||ec(ae,ue)||typeof mt=="object"&&mt!==null&&mt.$$typeof===ss&&$a(mt)===ae.type){a(ee,ae.sibling),Ie=h(ae,ue.props),zl(Ie,ue),Ie.return=ee,Ie._debugOwner=ue._owner,Ie._debugInfo=Tt,ee=Ie;break e}a(ee,ae);break}else r(ee,ae);ae=ae.sibling}ue.type===Fd?(Ie=Me(ue.props.children,ee.mode,Ie,ue.key),Ie.return=ee,Ie._debugOwner=ee,Ie._debugTask=ee._debugTask,Ie._debugInfo=Tt,Ed(ue,Ie,ee),ee=Ie):(Ie=me(ue,ee.mode,Ie),zl(Ie,ue),Ie.return=ee,Ie._debugInfo=Tt,ee=Ie)}return ee=b(ee),Tt=qe,ee;case Vd:e:{for(qe=ue,ue=qe.key;ae!==null;){if(ae.key===ue)if(ae.tag===4&&ae.stateNode.containerInfo===qe.containerInfo&&ae.stateNode.implementation===qe.implementation){a(ee,ae.sibling),Ie=h(ae,qe.children||[]),Ie.return=ee,ee=Ie;break e}else{a(ee,ae);break}else r(ee,ae);ae=ae.sibling}Ie=at(qe,ee.mode,Ie),Ie.return=ee,ee=Ie}return b(ee);case ss:return qe=Ni(ue._debugInfo),ue=$a(ue),ee=Ot(ee,ae,ue,Ie),Tt=qe,ee}if(Ci(ue))return qe=Ni(ue._debugInfo),ee=Ye(ee,ae,ue,Ie),Tt=qe,ee;if(q(ue)){if(qe=Ni(ue._debugInfo),mt=q(ue),typeof mt!="function")throw Error("An object is not an iterable. This error is likely caused by a bug in React. Please file an issue.");var nt=mt.call(ue);return nt===ue?(ee.tag!==0||Object.prototype.toString.call(ee.type)!=="[object GeneratorFunction]"||Object.prototype.toString.call(nt)!=="[object Generator]")&&(pC||console.error("Using Iterators as children is unsupported and will likely yield unexpected results because enumerating a generator mutates it. You may convert it to an array with `Array.from()` or the `[...spread]` operator before rendering. You can also use an Iterable that can iterate multiple times over the same items."),pC=!0):ue.entries!==mt||Jv||(console.error("Using Maps as children is not supported. Use an array of keyed ReactElements instead."),Jv=!0),ee=gn(ee,ae,nt,Ie),Tt=qe,ee}if(typeof ue.then=="function")return qe=Ni(ue._debugInfo),ee=Ot(ee,ae,Nd(ue),Ie),Tt=qe,ee;if(ue.$$typeof===to)return Ot(ee,ae,xd(ee,ue),Ie);Ft(ee,ue)}return typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint"?(qe=""+ue,ae!==null&&ae.tag===6?(a(ee,ae.sibling),Ie=h(ae,qe),Ie.return=ee,ee=Ie):(a(ee,ae),Ie=Fe(qe,ee.mode,Ie),Ie.return=ee,Ie._debugOwner=ee,Ie._debugTask=ee._debugTask,Ie._debugInfo=Tt,ee=Ie),b(ee)):(typeof ue=="function"&&li(ee,ue),typeof ue=="symbol"&&Cd(ee,ue),a(ee,ae))}return function(ee,ae,ue,Ie){var qe=Tt;Tt=null;try{hm=0;var mt=Ot(ee,ae,ue,Ie);return oh=null,mt}catch(Sn){if(Sn===ah||Sn===Ig)throw Sn;var nt=C(29,Sn,null,ee.mode);nt.lanes=Ie,nt.return=ee;var Je=nt._debugInfo=Tt;if(nt._debugOwner=ee._debugOwner,nt._debugTask=ee._debugTask,Je!=null){for(var yt=Je.length-1;0<=yt;yt--)if(typeof Je[yt].stack=="string"){nt._debugOwner=Je[yt],nt._debugTask=Je[yt].debugTask;break}}return nt}finally{Tt=qe}}}function Ap(t,r){var a=Ci(t);return t=!a&&typeof q(t)=="function",a||t?(a=a?"array":"iterable",console.error("A nested %s was passed to row #%s in <SuspenseList />. Wrap it in an additional SuspenseList to configure its revealOrder: <SuspenseList revealOrder=...> ... <SuspenseList revealOrder=...>{%s}</SuspenseList> ... </SuspenseList>",a,r,a),!1):!0}function yf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function vf(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ga(t){return{lane:t,tag:_C,payload:null,callback:null,next:null}}function Xa(t,r,a){var u=t.updateQueue;if(u===null)return null;if(u=u.shared,t_===u&&!SC){var h=j(t);console.error(`An update (setState, replaceState, or forceUpdate) was scheduled from inside an update function. Update functions should be pure, with zero side-effects. Consider using componentDidUpdate or a callback.

Please update the following component: %s`,h),SC=!0}return(Ut&Ai)!==Bi?(h=u.pending,h===null?r.next=r:(r.next=h.next,h.next=r),u.pending=r,r=Ol(t),gd(t,null,a),r):(oa(t,u,r,a),Ol(t))}function lc(t,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var u=r.lanes;u&=t.pendingLanes,a|=u,r.lanes=a,Ct(t,a)}}function Dd(t,r){var a=t.updateQueue,u=t.alternate;if(u!==null&&(u=u.updateQueue,a===u)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var b={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=b:f=f.next=b,a=a.next}while(a!==null);f===null?h=f=r:f=f.next=r}else h=f=r;a={baseState:u.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:u.shared,callbacks:u.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=r:t.next=r,a.lastBaseUpdate=r}function Hl(){if(n_){var t=sh;if(t!==null)throw t}}function g(t,r,a,u){n_=!1;var h=t.updateQueue;uu=!1,t_=h.shared;var f=h.firstBaseUpdate,b=h.lastBaseUpdate,S=h.shared.pending;if(S!==null){h.shared.pending=null;var k=S,F=k.next;k.next=null,b===null?f=F:b.next=F,b=k;var ce=t.alternate;ce!==null&&(ce=ce.updateQueue,S=ce.lastBaseUpdate,S!==b&&(S===null?ce.firstBaseUpdate=F:S.next=F,ce.lastBaseUpdate=k))}if(f!==null){var he=h.baseState;b=0,ce=F=k=null,S=f;do{var re=S.lane&-536870913,Ne=re!==S.lane;if(Ne?(St&re)===re:(u&re)===re){re!==0&&re===Sc&&(n_=!0),ce!==null&&(ce=ce.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{re=t;var He=S,Ye=r,gn=a;switch(He.tag){case xC:if(He=He.payload,typeof He=="function"){ih=!0;var Ot=He.call(gn,he,Ye);if(re.mode&Ki){Ze(!0);try{He.call(gn,he,Ye)}finally{Ze(!1)}}ih=!1,he=Ot;break e}he=He;break e;case e_:re.flags=re.flags&-65537|128;case _C:if(Ot=He.payload,typeof Ot=="function"){if(ih=!0,He=Ot.call(gn,he,Ye),re.mode&Ki){Ze(!0);try{Ot.call(gn,he,Ye)}finally{Ze(!1)}}ih=!1}else He=Ot;if(He==null)break e;he=Dt({},he,He);break e;case TC:uu=!0}}re=S.callback,re!==null&&(t.flags|=64,Ne&&(t.flags|=8192),Ne=h.callbacks,Ne===null?h.callbacks=[re]:Ne.push(re))}else Ne={lane:re,tag:S.tag,payload:S.payload,callback:S.callback,next:null},ce===null?(F=ce=Ne,k=he):ce=ce.next=Ne,b|=re;if(S=S.next,S===null){if(S=h.shared.pending,S===null)break;Ne=S,S=Ne.next,Ne.next=null,h.lastBaseUpdate=Ne,h.shared.pending=null}}while(!0);ce===null&&(k=he),h.baseState=k,h.firstBaseUpdate=F,h.lastBaseUpdate=ce,f===null&&(h.shared.lanes=0),hu|=b,t.lanes=b,t.memoizedState=he}t_=null}function _(t,r){if(typeof t!="function")throw Error("Invalid argument passed as callback. Expected a function. Instead received: "+t);t.call(r)}function T(t,r){var a=t.shared.hiddenCallbacks;if(a!==null)for(t.shared.hiddenCallbacks=null,t=0;t<a.length;t++)_(a[t],r)}function x(t,r){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)_(a[t],r)}function N(t,r){var a=co;ie(Pg,a,t),ie(lh,r,t),co=a|r.baseLanes}function w(t){ie(Pg,co,t),ie(lh,lh.current,t)}function G(t){co=Pg.current,de(lh,t),de(Pg,t)}function X(t){var r=t.alternate;ie(ii,ii.current&uh,t),ie(ls,t,t),zs===null&&(r===null||lh.current!==null||r.memoizedState!==null)&&(zs=t)}function Z(t){ie(ii,ii.current,t),ie(ls,t,t),zs===null&&(zs=t)}function J(t){t.tag===22?(ie(ii,ii.current,t),ie(ls,t,t),zs===null&&(zs=t)):pe(t)}function pe(t){ie(ii,ii.current,t),ie(ls,ls.current,t)}function Ce(t){de(ls,t),zs===t&&(zs=null),de(ii,t)}function ze(t){for(var r=t;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Zy(a)||Wy(a)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function xe(){var t=Ae;$s===null?$s=[t]:$s.push(t)}function Ee(){var t=Ae;if($s!==null&&(al++,$s[al]!==t)){var r=j(ft);if(!EC.has(r)&&(EC.add(r),$s!==null)){for(var a="",u=0;u<=al;u++){var h=$s[u],f=u===al?t:h;for(h=u+1+". "+h;30>h.length;)h+=" ";h+=f+`
`,a+=h}console.error(`React has detected a change in the order of Hooks called by %s. This will lead to bugs and errors if not fixed. For more information, read the Rules of Hooks: https://react.dev/link/rules-of-hooks

   Previous render            Next render
   ------------------------------------------------------
%s   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
`,r,a)}}}function ht(t){t==null||Ci(t)||console.error("%s received a final argument that is not an array (instead, received `%s`). When specified, the final argument must be an array.",Ae,typeof t)}function Hn(){var t=j(ft);CC.has(t)||(CC.add(t),console.error("ReactDOM.useFormState has been renamed to React.useActionState. Please update %s to use React.useActionState.",t))}function Bt(){throw Error(`Invalid hook call. Hooks can only be called inside of the body of a function component. This could happen for one of the following reasons:
1. You might have mismatching versions of React and the renderer (such as React DOM)
2. You might be breaking the Rules of Hooks
3. You might have more than one copy of React in the same app
See https://react.dev/link/invalid-hook-call for tips about how to debug and fix this problem.`)}function Os(t,r){if(pm)return!1;if(r===null)return console.error("%s received a final argument during this render, but not during the previous render. Even though the final argument is optional, its type cannot change between renders.",Ae),!1;t.length!==r.length&&console.error(`The final argument passed to %s changed size between renders. The order and size of this array must remain constant.

Previous: %s
Incoming: %s`,Ae,"["+r.join(", ")+"]","["+t.join(", ")+"]");for(var a=0;a<r.length&&a<t.length;a++)if(!mr(t[a],r[a]))return!1;return!0}function zo(t,r,a,u,h,f){rl=f,ft=r,$s=t!==null?t._debugHookTypes:null,al=-1,pm=t!==null&&t.type!==r.type,(Object.prototype.toString.call(a)==="[object AsyncFunction]"||Object.prototype.toString.call(a)==="[object AsyncGeneratorFunction]")&&(f=j(ft),i_.has(f)||(i_.add(f),console.error("%s is an async Client Component. Only Server Components can be async at the moment. This error is often caused by accidentally adding `'use client'` to a module that was originally written for the server.",f===null?"An unknown Component":"<"+f+">"))),r.memoizedState=null,r.updateQueue=null,r.lanes=0,we.H=t!==null&&t.memoizedState!==null?s_:$s!==null?DC:r_,Ac=f=(r.mode&Ki)!==ut;var b=Zv(a,u,h);if(Ac=!1,dh&&(b=Ho(r,a,u,h)),f){Ze(!0);try{b=Ho(r,a,u,h)}finally{Ze(!1)}}return $l(t,r),b}function $l(t,r){r._debugHookTypes=$s,r.dependencies===null?sl!==null&&(r.dependencies={lanes:0,firstContext:null,_debugThenableState:sl}):r.dependencies._debugThenableState=sl,we.H=gm;var a=un!==null&&un.next!==null;if(rl=0,$s=Ae=hi=un=ft=null,al=-1,t!==null&&(t.flags&65011712)!==(r.flags&65011712)&&console.error("Internal React error: Expected static flag was missing. Please notify the React team."),jg=!1,mm=0,sl=null,a)throw Error("Rendered fewer hooks than expected. This may be caused by an accidental early return statement.");t===null||fi||(t=t.dependencies,t!==null&&Bl(t)&&(fi=!0)),dm?(dm=!1,t=!0):t=!1,t&&(r=j(r)||"Unknown",NC.has(r)||i_.has(r)||(NC.add(r),console.error("`use` was called from inside a try/catch block. This is not allowed and can lead to unexpected behavior. To handle errors triggered by `use`, wrap your component in a error boundary.")))}function Ho(t,r,a,u){ft=t;var h=0;do{if(dh&&(sl=null),mm=0,dh=!1,h>=B5)throw Error("Too many re-renders. React limits the number of renders to prevent an infinite loop.");if(h+=1,pm=!1,hi=un=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}al=-1,we.H=AC,f=Zv(r,a,u)}while(dh);return f}function uc(){var t=we.H,r=t.useState()[0];return r=typeof r.then=="function"?_f(r):r,t=t.useState()[0],(un!==null?un.memoizedState:null)!==t&&(ft.flags|=1024),r}function ql(){var t=Ug!==0;return Ug=0,t}function sn(t,r,a){r.updateQueue=t.updateQueue,r.flags=(r.mode&pa)!==ut?r.flags&-402655237:r.flags&-2053,t.lanes&=~a}function $o(t){if(jg){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}jg=!1}rl=0,$s=hi=un=ft=null,al=-1,Ae=null,dh=!1,mm=Ug=0,sl=null}function mn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return hi===null?ft.memoizedState=hi=t:hi=hi.next=t,hi}function Kt(){if(un===null){var t=ft.alternate;t=t!==null?t.memoizedState:null}else t=un.next;var r=hi===null?ft.memoizedState:hi.next;if(r!==null)hi=r,un=t;else{if(t===null)throw ft.alternate===null?Error("Update hook called on initial render. This is likely a bug in React. Please file an issue."):Error("Rendered more hooks than during the previous render.");un=t,t={memoizedState:un.memoizedState,baseState:un.baseState,baseQueue:un.baseQueue,queue:un.queue,next:null},hi===null?ft.memoizedState=hi=t:hi=hi.next=t}return hi}function wp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function _f(t){var r=mm;return mm+=1,sl===null&&(sl=sc()),t=Np(sl,t,r),r=ft,(hi===null?r.memoizedState:hi.next)===null&&(r=r.alternate,we.H=r!==null&&r.memoizedState!==null?s_:r_),t}function Gl(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return _f(t);if(t.$$typeof===to)return rn(t)}throw Error("An unsupported type was passed to use(): "+String(t))}function cc(t){var r=null,a=ft.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var u=ft.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(h){return h.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=wp(),ft.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0||pm)for(a=r.data[r.index]=Array(t),u=0;u<t;u++)a[u]=mO;else a.length!==t&&console.error("Expected a constant size argument for each invocation of useMemoCache. The previous cache was allocated with size %s but size %s was requested.",a.length,t);return r.index++,a}function ha(t,r){return typeof r=="function"?r(t):r}function $0(t,r,a){var u=mn();if(a!==void 0){var h=a(r);if(Ac){Ze(!0);try{a(r)}finally{Ze(!1)}}}else h=r;return u.memoizedState=u.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},u.queue=t,t=t.dispatch=ik.bind(null,ft,t),[u.memoizedState,t]}function Ad(t){var r=Kt();return q0(r,un,t)}function q0(t,r,a){var u=t.queue;if(u===null)throw Error("Should have a queue. You are likely calling Hooks conditionally, which is not allowed. (https://react.dev/link/invalid-hook-call)");u.lastRenderedReducer=a;var h=t.baseQueue,f=u.pending;if(f!==null){if(h!==null){var b=h.next;h.next=f.next,f.next=b}r.baseQueue!==h&&console.error("Internal error: Expected work-in-progress queue to be a clone. This is a bug in React."),r.baseQueue=h=f,u.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{r=h.next;var S=b=null,k=null,F=r,ce=!1;do{var he=F.lane&-536870913;if(he!==F.lane?(St&he)===he:(rl&he)===he){var re=F.revertLane;if(re===0)k!==null&&(k=k.next={lane:0,revertLane:0,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),he===Sc&&(ce=!0);else if((rl&re)===re){F=F.next,re===Sc&&(ce=!0);continue}else he={lane:0,revertLane:F.revertLane,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},k===null?(S=k=he,b=f):k=k.next=he,ft.lanes|=re,hu|=re;he=F.action,Ac&&a(f,he),f=F.hasEagerState?F.eagerState:a(f,he)}else re={lane:he,revertLane:F.revertLane,gesture:F.gesture,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},k===null?(S=k=re,b=f):k=k.next=re,ft.lanes|=he,hu|=he;F=F.next}while(F!==null&&F!==r);if(k===null?b=f:k.next=S,!mr(f,t.memoizedState)&&(fi=!0,ce&&(a=sh,a!==null)))throw a;t.memoizedState=f,t.baseState=b,t.baseQueue=k,u.lastRenderedState=f}return h===null&&(u.lanes=0),[t.memoizedState,u.dispatch]}function xf(t){var r=Kt(),a=r.queue;if(a===null)throw Error("Should have a queue. You are likely calling Hooks conditionally, which is not allowed. (https://react.dev/link/invalid-hook-call)");a.lastRenderedReducer=t;var u=a.dispatch,h=a.pending,f=r.memoizedState;if(h!==null){a.pending=null;var b=h=h.next;do f=t(f,b.action),b=b.next;while(b!==h);mr(f,r.memoizedState)||(fi=!0),r.memoizedState=f,r.baseQueue===null&&(r.baseState=f),a.lastRenderedState=f}return[f,u]}function G0(t,r,a){var u=ft,h=mn();if(wt){if(a===void 0)throw Error("Missing getServerSnapshot, which is required for server-rendered content. Will revert to client rendering.");var f=a();ch||f===a()||(console.error("The result of getServerSnapshot should be cached to avoid an infinite loop"),ch=!0)}else{if(f=r(),ch||(a=r(),mr(f,a)||(console.error("The result of getSnapshot should be cached to avoid an infinite loop"),ch=!0)),cn===null)throw Error("Expected a work-in-progress root. This is a bug in React. Please file an issue.");(St&127)!==0||bT(u,r,f)}return h.memoizedState=f,a={value:f,getSnapshot:r},h.queue=a,Mp(vT.bind(null,u,a,t),[t]),u.flags|=2048,Rd(Hs|br,{destroy:void 0},yT.bind(null,u,a,f,r),null),f}function Rp(t,r,a){var u=ft,h=Kt(),f=wt;if(f){if(a===void 0)throw Error("Missing getServerSnapshot, which is required for server-rendered content. Will revert to client rendering.");a=a()}else if(a=r(),!ch){var b=r();mr(a,b)||(console.error("The result of getSnapshot should be cached to avoid an infinite loop"),ch=!0)}(b=!mr((un||h).memoizedState,a))&&(h.memoizedState=a,fi=!0),h=h.queue;var S=vT.bind(null,u,h,t);if(Ir(2048,br,S,[t]),h.getSnapshot!==r||b||hi!==null&&hi.memoizedState.tag&Hs){if(u.flags|=2048,Rd(Hs|br,{destroy:void 0},yT.bind(null,u,h,a,r),null),cn===null)throw Error("Expected a work-in-progress root. This is a bug in React. Please file an issue.");f||(rl&127)!==0||bT(u,r,a)}return a}function bT(t,r,a){t.flags|=16384,t={getSnapshot:r,value:a},r=ft.updateQueue,r===null?(r=wp(),ft.updateQueue=r,r.stores=[t]):(a=r.stores,a===null?r.stores=[t]:a.push(t))}function yT(t,r,a,u){r.value=a,r.getSnapshot=u,_T(r)&&xT(t)}function vT(t,r,a){return a(function(){_T(r)&&(Ns(2,"updateSyncExternalStore()",t),xT(t))})}function _T(t){var r=t.getSnapshot;t=t.value;try{var a=r();return!mr(t,a)}catch{return!0}}function xT(t){var r=ni(t,2);r!==null&&$n(r,t,2)}function X0(t){var r=mn();if(typeof t=="function"){var a=t;if(t=a(),Ac){Ze(!0);try{a()}finally{Ze(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ha,lastRenderedState:t},r}function Y0(t){t=X0(t);var r=t.queue,a=VT.bind(null,ft,r);return r.dispatch=a,[t.memoizedState,a]}function Q0(t){var r=mn();r.memoizedState=r.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=uy.bind(null,ft,!0,a),a.dispatch=r,[t,r]}function TT(t,r){var a=Kt();return ST(a,un,t,r)}function ST(t,r,a,u){return t.baseState=a,q0(t,un,typeof u=="function"?u:ha)}function ET(t,r){var a=Kt();return un!==null?ST(a,un,t,r):(a.baseState=t,[t,a.queue.dispatch])}function JR(t,r,a,u,h){if(Up(t))throw Error("Cannot update form state while rendering.");if(t=r.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){f.listeners.push(b)}};we.T!==null?a(!0):f.isTransition=!1,u(f),a=r.pending,a===null?(f.next=r.pending=f,NT(r,f)):(f.next=a.next,r.pending=a.next=f)}}function NT(t,r){var a=r.action,u=r.payload,h=t.state;if(r.isTransition){var f=we.T,b={};b._updatedFibers=new Set,we.T=b;try{var S=a(h,u),k=we.S;k!==null&&k(b,S),CT(t,r,S)}catch(F){Z0(t,r,F)}finally{f!==null&&b.types!==null&&(f.types!==null&&f.types!==b.types&&console.error("We expected inner Transitions to have transferred the outer types set and that you cannot add to the outer Transition while inside the inner.This is a bug in React."),f.types=b.types),we.T=f,f===null&&b._updatedFibers&&(t=b._updatedFibers.size,b._updatedFibers.clear(),10<t&&console.warn("Detected a large number of updates inside startTransition. If this is due to a subscription please re-write it to use React provided hooks. Otherwise concurrent mode guarantees are off the table."))}}else try{b=a(h,u),CT(t,r,b)}catch(F){Z0(t,r,F)}}function CT(t,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?(we.asyncTransitions++,a.then(jp,jp),a.then(function(u){DT(t,r,u)},function(u){return Z0(t,r,u)}),r.isTransition||console.error("An async function with useActionState was called outside of a transition. This is likely not what you intended (for example, isPending will not update correctly). Either call the returned function inside startTransition, or pass it to an `action` or `formAction` prop.")):DT(t,r,a)}function DT(t,r,a){r.status="fulfilled",r.value=a,AT(r),t.state=a,r=t.pending,r!==null&&(a=r.next,a===r?t.pending=null:(a=a.next,r.next=a,NT(t,a)))}function Z0(t,r,a){var u=t.pending;if(t.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=a,AT(r),r=r.next;while(r!==u)}t.action=null}function AT(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function wT(t,r){return r}function wd(t,r){if(wt){var a=cn.formState;if(a!==null){e:{var u=ft;if(wt){if(Tn){t:{for(var h=Tn,f=Vs;h.nodeType!==8;){if(!f){h=null;break t}if(h=rs(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f===A_||f===fD?h:null}if(h){Tn=rs(h.nextSibling),u=h.data===A_;break e}}es(u)}u=!1}u&&(r=a[0])}}return a=mn(),a.memoizedState=a.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:wT,lastRenderedState:r},a.queue=u,a=VT.bind(null,ft,u),u.dispatch=a,u=X0(!1),f=uy.bind(null,ft,!1,u.queue),u=mn(),h={state:r,dispatch:null,action:t,pending:null},u.queue=h,a=JR.bind(null,ft,h,f,a),h.dispatch=a,u.memoizedState=t,[r,a,!1]}function kp(t){var r=Kt();return RT(r,un,t)}function RT(t,r,a){if(r=q0(t,r,wT)[0],t=Ad(ha)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var u=_f(r)}catch(b){throw b===ah?Ig:b}else u=r;r=Kt();var h=r.queue,f=h.dispatch;return a!==r.memoizedState&&(ft.flags|=2048,Rd(Hs|br,{destroy:void 0},ek.bind(null,h,a),null)),[u,f,t]}function ek(t,r){t.action=r}function Op(t){var r=Kt(),a=un;if(a!==null)return RT(r,a,t);Kt(),r=r.memoizedState,a=Kt();var u=a.queue.dispatch;return a.memoizedState=t,[r,u,!1]}function Rd(t,r,a,u){return t={tag:t,create:a,deps:u,inst:r,next:null},r=ft.updateQueue,r===null&&(r=wp(),ft.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=t.next=t:(u=a.next,a.next=t,t.next=u,r.lastEffect=t),t}function W0(t){var r=mn();return t={current:t},r.memoizedState=t}function dc(t,r,a,u){var h=mn();ft.flags|=t,h.memoizedState=Rd(Hs|r,{destroy:void 0},a,u===void 0?null:u)}function Ir(t,r,a,u){var h=Kt();u=u===void 0?null:u;var f=h.memoizedState.inst;un!==null&&u!==null&&Os(u,un.memoizedState.deps)?h.memoizedState=Rd(r,f,a,u):(ft.flags|=t,h.memoizedState=Rd(Hs|r,f,a,u))}function Mp(t,r){(ft.mode&pa)!==ut?dc(276826112,br,t,r):dc(8390656,br,t,r)}function tk(t){ft.flags|=4;var r=ft.updateQueue;if(r===null)r=wp(),ft.updateQueue=r,r.events=[t];else{var a=r.events;a===null?r.events=[t]:a.push(t)}}function K0(t){var r=mn(),a={impl:t};return r.memoizedState=a,function(){if((Ut&Ai)!==Bi)throw Error("A function wrapped in useEffectEvent can't be called during rendering.");return a.impl.apply(void 0,arguments)}}function Ip(t){var r=Kt().memoizedState;return tk({ref:r,nextImpl:t}),function(){if((Ut&Ai)!==Bi)throw Error("A function wrapped in useEffectEvent can't be called during rendering.");return r.impl.apply(void 0,arguments)}}function J0(t,r){var a=4194308;return(ft.mode&pa)!==ut&&(a|=134217728),dc(a,us,t,r)}function kT(t,r){if(typeof r=="function"){t=t();var a=r(t);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return r.hasOwnProperty("current")||console.error("Expected useImperativeHandle() first argument to either be a ref callback or React.createRef() object. Instead received: %s.","an object with keys {"+Object.keys(r).join(", ")+"}"),t=t(),r.current=t,function(){r.current=null}}function ey(t,r,a){typeof r!="function"&&console.error("Expected useImperativeHandle() second argument to be a function that creates a handle. Instead received: %s.",r!==null?typeof r:"null"),a=a!=null?a.concat([t]):null;var u=4194308;(ft.mode&pa)!==ut&&(u|=134217728),dc(u,us,kT.bind(null,r,t),a)}function Lp(t,r,a){typeof r!="function"&&console.error("Expected useImperativeHandle() second argument to be a function that creates a handle. Instead received: %s.",r!==null?typeof r:"null"),a=a!=null?a.concat([t]):null,Ir(4,us,kT.bind(null,r,t),a)}function ty(t,r){return mn().memoizedState=[t,r===void 0?null:r],t}function Pp(t,r){var a=Kt();r=r===void 0?null:r;var u=a.memoizedState;return r!==null&&Os(r,u[1])?u[0]:(a.memoizedState=[t,r],t)}function ny(t,r){var a=mn();r=r===void 0?null:r;var u=t();if(Ac){Ze(!0);try{t()}finally{Ze(!1)}}return a.memoizedState=[u,r],u}function Bp(t,r){var a=Kt();r=r===void 0?null:r;var u=a.memoizedState;if(r!==null&&Os(r,u[1]))return u[0];if(u=t(),Ac){Ze(!0);try{t()}finally{Ze(!1)}}return a.memoizedState=[u,r],u}function iy(t,r){var a=mn();return ry(a,t,r)}function OT(t,r){var a=Kt();return IT(a,un.memoizedState,t,r)}function MT(t,r){var a=Kt();return un===null?ry(a,t,r):IT(a,un.memoizedState,t,r)}function ry(t,r,a){return a===void 0||(rl&1073741824)!==0&&(St&261930)===0?t.memoizedState=r:(t.memoizedState=a,t=LS(),ft.lanes|=t,hu|=t,a)}function IT(t,r,a,u){return mr(a,r)?a:lh.current!==null?(t=ry(t,a,u),mr(t,r)||(fi=!0),t):(rl&42)===0||(rl&1073741824)!==0&&(St&261930)===0?(fi=!0,t.memoizedState=a):(t=LS(),ft.lanes|=t,hu|=t,r)}function jp(){we.asyncTransitions--}function LT(t,r,a,u,h){var f=Qt.p;Qt.p=f!==0&&f<so?f:so;var b=we.T,S={};S._updatedFibers=new Set,we.T=S,uy(t,!1,r,a);try{var k=h(),F=we.S;if(F!==null&&F(S,k),k!==null&&typeof k=="object"&&typeof k.then=="function"){we.asyncTransitions++,k.then(jp,jp);var ce=gT(k,u);Tf(t,r,ce,is(t))}else Tf(t,r,u,is(t))}catch(he){Tf(t,r,{then:function(){},status:"rejected",reason:he},is(t))}finally{Qt.p=f,b!==null&&S.types!==null&&(b.types!==null&&b.types!==S.types&&console.error("We expected inner Transitions to have transferred the outer types set and that you cannot add to the outer Transition while inside the inner.This is a bug in React."),b.types=S.types),we.T=b,b===null&&S._updatedFibers&&(t=S._updatedFibers.size,S._updatedFibers.clear(),10<t&&console.warn("Detected a large number of updates inside startTransition. If this is due to a subscription please re-write it to use React provided hooks. Otherwise concurrent mode guarantees are off the table."))}}function sy(t,r,a,u){if(t.tag!==5)throw Error("Expected the form instance to be a HostComponent. This is a bug in React.");var h=PT(t).queue;z0(t),LT(t,h,r,Uc,a===null?p:function(){return BT(t),a(u)})}function PT(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:Uc,baseState:Uc,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ha,lastRenderedState:Uc},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ha,lastRenderedState:a},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function BT(t){we.T===null&&console.error("requestFormReset was called outside a transition or action. To fix, move to an action, or wrap with startTransition.");var r=PT(t);r.next===null&&(r=t.alternate.memoizedState),Tf(t,r.next.queue,{},is(t))}function ay(){var t=X0(!1);return t=LT.bind(null,ft,t.queue,!0,!1),mn().memoizedState=t,[!1,t]}function jT(){var t=Ad(ha)[0],r=Kt().memoizedState;return[typeof t=="boolean"?t:_f(t),r]}function UT(){var t=xf(ha)[0],r=Kt().memoizedState;return[typeof t=="boolean"?t:_f(t),r]}function hc(){return rn(km)}function oy(){var t=mn(),r=cn.identifierPrefix;if(wt){var a=Jo,u=Ko;a=(u&~(1<<32-dr(u)-1)).toString(32)+a,r="_"+r+"R_"+a,a=Ug++,0<a&&(r+="H"+a.toString(32)),r+="_"}else a=P5++,r="_"+r+"r_"+a.toString(32)+"_";return t.memoizedState=r}function ly(){return mn().memoizedState=nk.bind(null,ft)}function nk(t,r){for(var a=t.return;a!==null;){switch(a.tag){case 24:case 3:var u=is(a),h=Ga(u),f=Xa(a,h,u);f!==null&&(Ns(u,"refresh()",t),$n(f,a,u),lc(f,a,u)),t=ff(),r!=null&&f!==null&&console.error("The seed argument is not enabled outside experimental channels."),h.payload={cache:t};return}a=a.return}}function ik(t,r,a){var u=arguments;typeof u[3]=="function"&&console.error("State updates from the useState() and useReducer() Hooks don't support the second callback argument. To execute a side effect after rendering, declare it in the component body with useEffect()."),u=is(t);var h={lane:u,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};Up(t)?FT(r,h):(h=jo(t,r,h,u),h!==null&&(Ns(u,"dispatch()",t),$n(h,t,u),zT(h,r,u)))}function VT(t,r,a){var u=arguments;typeof u[3]=="function"&&console.error("State updates from the useState() and useReducer() Hooks don't support the second callback argument. To execute a side effect after rendering, declare it in the component body with useEffect()."),u=is(t),Tf(t,r,a,u)&&Ns(u,"setState()",t)}function Tf(t,r,a,u){var h={lane:u,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Up(t))FT(r,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=r.lastRenderedReducer,f!==null)){var b=we.H;we.H=ba;try{var S=r.lastRenderedState,k=f(S,a);if(h.hasEagerState=!0,h.eagerState=k,mr(k,S))return oa(t,r,h,0),cn===null&&kl(),!1}catch{}finally{we.H=b}}if(a=jo(t,r,h,u),a!==null)return $n(a,t,u),zT(a,r,u),!0}return!1}function uy(t,r,a,u){if(we.T===null&&Sc===0&&console.error("An optimistic state update occurred outside a transition or action. To fix, move the update to an action, or wrap with startTransition."),u={lane:2,revertLane:Uy(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Up(t)){if(r)throw Error("Cannot update optimistic state while rendering.");console.error("Cannot call startTransition while rendering.")}else r=jo(t,a,u,2),r!==null&&(Ns(2,"setOptimistic()",t),$n(r,t,2))}function Up(t){var r=t.alternate;return t===ft||r!==null&&r===ft}function FT(t,r){dh=jg=!0;var a=t.pending;a===null?r.next=r:(r.next=a.next,a.next=r),t.pending=r}function zT(t,r,a){if((a&4194048)!==0){var u=r.lanes;u&=t.pendingLanes,a|=u,r.lanes=a,Ct(t,a)}}function cy(t){if(t!==null&&typeof t!="function"){var r=String(t);UC.has(r)||(UC.add(r),console.error("Expected the last optional `callback` argument to be a function. Instead received: %s.",t))}}function dy(t,r,a,u){var h=t.memoizedState,f=a(u,h);if(t.mode&Ki){Ze(!0);try{f=a(u,h)}finally{Ze(!1)}}f===void 0&&(r=te(r)||"Component",LC.has(r)||(LC.add(r),console.error("%s.getDerivedStateFromProps(): A valid state object (or null) must be returned. You have returned undefined.",r))),h=f==null?h:Dt({},h,f),t.memoizedState=h,t.lanes===0&&(t.updateQueue.baseState=h)}function HT(t,r,a,u,h,f,b){var S=t.stateNode;if(typeof S.shouldComponentUpdate=="function"){if(a=S.shouldComponentUpdate(u,f,b),t.mode&Ki){Ze(!0);try{a=S.shouldComponentUpdate(u,f,b)}finally{Ze(!1)}}return a===void 0&&console.error("%s.shouldComponentUpdate(): Returned undefined instead of a boolean value. Make sure to return true or false.",te(r)||"Component"),a}return r.prototype&&r.prototype.isPureReactComponent?!Io(a,u)||!Io(h,f):!0}function $T(t,r,a,u){var h=r.state;typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,u),r.state!==h&&(t=j(t)||"Component",RC.has(t)||(RC.add(t),console.error("%s.componentWillReceiveProps(): Assigning directly to this.state is deprecated (except inside a component's constructor). Use setState instead.",t)),a_.enqueueReplaceState(r,r.state,null))}function fc(t,r){var a=r;if("ref"in r){a={};for(var u in r)u!=="ref"&&(a[u]=r[u])}if(t=t.defaultProps){a===r&&(a=Dt({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function qT(t){Bv(t),console.warn(`%s

%s
`,hh?"An error occurred in the <"+hh+"> component.":"An error occurred in one of your React components.",`Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://react.dev/link/error-boundaries to learn more about error boundaries.`)}function GT(t){var r=hh?"The above error occurred in the <"+hh+"> component.":"The above error occurred in one of your React components.",a="React will try to recreate this component tree from scratch using the error boundary you provided, "+((o_||"Anonymous")+".");if(typeof t=="object"&&t!==null&&typeof t.environmentName=="string"){var u=t.environmentName;t=[`%o

%s

%s
`,t,r,a].slice(0),typeof t[0]=="string"?t.splice(0,1,xD+" "+t[0],TD,cb+u+cb,SD):t.splice(0,0,xD,TD,cb+u+cb,SD),t.unshift(console),u=iM.apply(console.error,t),u()}else console.error(`%o

%s

%s
`,t,r,a)}function XT(t){Bv(t)}function Vp(t,r){try{hh=r.source?j(r.source):null,o_=null;var a=r.value;if(we.actQueue!==null)we.thrownErrors.push(a);else{var u=t.onUncaughtError;u(a,{componentStack:r.stack})}}catch(h){setTimeout(function(){throw h})}}function YT(t,r,a){try{hh=a.source?j(a.source):null,o_=j(r);var u=t.onCaughtError;u(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function hy(t,r,a){return a=Ga(a),a.tag=e_,a.payload={element:null},a.callback=function(){je(r.source,Vp,t,r)},a}function fy(t){return t=Ga(t),t.tag=e_,t}function my(t,r,a,u){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=u.value;t.payload=function(){return h(f)},t.callback=function(){bd(a),je(u.source,YT,r,a,u)}}var b=a.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(t.callback=function(){bd(a),je(u.source,YT,r,a,u),typeof h!="function"&&(mu===null?mu=new Set([this]):mu.add(this)),O5(this,u),typeof h=="function"||(a.lanes&2)===0&&console.error("%s: Error boundaries should implement getDerivedStateFromError(). In that method, return a state update to display an error message or fallback UI.",j(a)||"Unknown")})}function rk(t,r,a,u,h){if(a.flags|=32768,ro&&Rf(t,h),u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=a.alternate,r!==null&&Vo(r,a,h,!0),wt&&(oo=!0),a=ls.current,a!==null){switch(a.tag){case 31:case 13:return zs===null?Qp():a.alternate===null&&Ln===ll&&(Ln=zg),a.flags&=-257,a.flags|=65536,a.lanes=h,u===Lg?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([u]):r.add(u),Ly(t,u,h)),!1;case 22:return a.flags|=65536,u===Lg?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([u]):a.add(u)),Ly(t,u,h)),!1}throw Error("Unexpected Suspense handler tag ("+a.tag+"). This is a bug in React.")}return Ly(t,u,h),Qp(),!1}if(wt)return oo=!0,r=ls.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=h,u!==Hv&&nc(Vt(Error("There was an error while hydrating but React was able to recover by instead client rendering from the nearest Suspense boundary.",{cause:u}),a))):(u!==Hv&&nc(Vt(Error("There was an error while hydrating but React was able to recover by instead client rendering the entire root.",{cause:u}),a)),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,u=Vt(u,a),h=hy(t.stateNode,u,h),Dd(t,h),Ln!==cu&&(Ln=wc)),!1;var f=Vt(Error("There was an error during concurrent rendering but React was able to recover by instead synchronously rendering the entire root.",{cause:u}),a);if(Tm===null?Tm=[f]:Tm.push(f),Ln!==cu&&(Ln=wc),r===null)return!0;u=Vt(u,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=hy(a.stateNode,u,t),Dd(a,t),!1;case 1:if(r=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(mu===null||!mu.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=fy(h),my(h,t,a,u),Dd(a,h),!1}a=a.return}while(a!==null);return!1}function Gi(t,r,a,u){r.child=t===null?vC(r,null,a,u):Dc(r,t.child,a,u)}function QT(t,r,a,u,h){a=a.render;var f=r.ref;if("ref"in u){var b={};for(var S in u)S!=="ref"&&(b[S]=u[S])}else b=u;return za(r),u=zo(t,r,a,b,f,h),S=ql(),t!==null&&!fi?(sn(t,r,h),qo(t,r,h)):(wt&&S&&Il(r),r.flags|=1,Gi(t,r,u,h),r.child)}function ZT(t,r,a,u,h){if(t===null){var f=a.type;return typeof f=="function"&&!z(f)&&f.defaultProps===void 0&&a.compare===null?(a=Ss(f),r.tag=15,r.type=a,gy(r,f),WT(t,r,a,u,h)):(t=ye(a.type,null,u,r,r.mode,h),t.ref=r.ref,t.return=r,r.child=t)}if(f=t.child,!Ty(t,h)){var b=f.memoizedProps;if(a=a.compare,a=a!==null?a:Io,a(b,u)&&t.ref===r.ref)return qo(t,r,h)}return r.flags|=1,t=Y(f,u),t.ref=r.ref,t.return=r,r.child=t}function WT(t,r,a,u,h){if(t!==null){var f=t.memoizedProps;if(Io(f,u)&&t.ref===r.ref&&r.type===t.type)if(fi=!1,r.pendingProps=u=f,Ty(t,h))(t.flags&131072)!==0&&(fi=!0);else return r.lanes=t.lanes,qo(t,r,h)}return py(t,r,a,u,h)}function KT(t,r,a,u){var h=u.children,f=t!==null?t.memoizedState:null;if(t===null&&r.stateNode===null&&(r.stateNode={_visibility:Wf,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((r.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,t!==null){for(u=r.child=t.child,h=0;u!==null;)h=h|u.lanes|u.childLanes,u=u.sibling;u=h&~f}else u=0,r.child=null;return JT(t,r,f,a,u)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&Fl(r,f!==null?f.cachePool:null),f!==null?N(r,f):w(r),J(r);else return u=r.lanes=536870912,JT(t,r,f!==null?f.baseLanes|a:a,a,u)}else f!==null?(Fl(r,f.cachePool),N(r,f),pe(r),r.memoizedState=null):(t!==null&&Fl(r,null),w(r),pe(r));return Gi(t,r,h,a),r.child}function Sf(t,r){return t!==null&&t.tag===22||r.stateNode!==null||(r.stateNode={_visibility:Wf,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function JT(t,r,a,u,h){var f=Sd();return f=f===null?null:{parent:ci._currentValue,pool:f},r.memoizedState={baseLanes:a,cachePool:f},t!==null&&Fl(r,null),w(r),J(r),t!==null&&Vo(t,r,u,!0),r.childLanes=h,null}function Fp(t,r){var a=r.hidden;return a!==void 0&&console.error(`<Activity> doesn't accept a hidden prop. Use mode="hidden" instead.
- <Activity %s>
+ <Activity %s>`,a===!0?"hidden":a===!1?"hidden={false}":"hidden={...}",a?'mode="hidden"':'mode="visible"'),r=Hp({mode:r.mode,children:r.children},t.mode),r.ref=t.ref,t.child=r,r.return=t,r}function eS(t,r,a){return Dc(r,t.child,null,a),t=Fp(r,r.pendingProps),t.flags|=2,Ce(r),r.memoizedState=null,t}function sk(t,r,a){var u=r.pendingProps,h=(r.flags&128)!==0;if(r.flags&=-129,t===null){if(wt){if(u.mode==="hidden")return t=Fp(r,u),r.lanes=536870912,Sf(null,t);if(Z(r),(t=Tn)?(a=NE(t,Vs),a=a!==null&&a.data===Lc?a:null,a!==null&&(u={dehydrated:a,treeContext:_p(),retryLane:536870912,hydrationErrors:null},r.memoizedState=u,u=dt(a),u.return=r,r.child=u,Qi=r,Tn=null)):a=null,a===null)throw tc(r,t),es(r);return r.lanes=536870912,null}return Fp(r,u)}var f=t.memoizedState;if(f!==null){var b=f.dehydrated;if(Z(r),h)if(r.flags&256)r.flags&=-257,r=eS(t,r,a);else if(r.memoizedState!==null)r.child=t.child,r.flags|=128,r=null;else throw Error("Client rendering an Activity suspended it again. This is a bug in React.");else if(Ll(),(a&536870912)!==0&&Yp(r),fi||Vo(t,r,a,!1),h=(a&t.childLanes)!==0,fi||h){if(u=cn,u!==null&&(b=Pt(u,a),b!==0&&b!==f.retryLane))throw f.retryLane=b,ni(t,b),$n(u,t,b),l_;Qp(),r=eS(t,r,a)}else t=f.treeContext,Tn=rs(b.nextSibling),Qi=r,wt=!0,ru=null,oo=!1,os=null,Vs=!1,t!==null&&xp(r,t),r=Fp(r,u),r.flags|=4096;return r}return f=t.child,u={mode:u.mode,children:u.children},(a&536870912)!==0&&(a&t.lanes)!==0&&Yp(r),t=Y(f,u),t.ref=r.ref,r.child=t,t.return=r,t}function zp(t,r){var a=r.ref;if(a===null)t!==null&&t.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error("Expected ref to be a function, an object returned by React.createRef(), or undefined/null.");(t===null||t.ref!==a)&&(r.flags|=4194816)}}function py(t,r,a,u,h){if(a.prototype&&typeof a.prototype.render=="function"){var f=te(a)||"Unknown";VC[f]||(console.error("The <%s /> component appears to have a render method, but doesn't extend React.Component. This is likely to cause errors. Change %s to extend React.Component instead.",f,f),VC[f]=!0)}return r.mode&Ki&&ga.recordLegacyContextWarning(r,null),t===null&&(gy(r,r.type),a.contextTypes&&(f=te(a)||"Unknown",zC[f]||(zC[f]=!0,console.error("%s uses the legacy contextTypes API which was removed in React 19. Use React.createContext() with React.useContext() instead. (https://react.dev/link/legacy-context)",f)))),za(r),a=zo(t,r,a,u,void 0,h),u=ql(),t!==null&&!fi?(sn(t,r,h),qo(t,r,h)):(wt&&u&&Il(r),r.flags|=1,Gi(t,r,a,h),r.child)}function tS(t,r,a,u,h,f){return za(r),al=-1,pm=t!==null&&t.type!==r.type,r.updateQueue=null,a=Ho(r,u,a,h),$l(t,r),u=ql(),t!==null&&!fi?(sn(t,r,f),qo(t,r,f)):(wt&&u&&Il(r),r.flags|=1,Gi(t,r,a,f),r.child)}function nS(t,r,a,u,h){switch(c(r)){case!1:var f=r.stateNode,b=new r.type(r.memoizedProps,f.context).state;f.updater.enqueueSetState(f,b,null);break;case!0:r.flags|=128,r.flags|=65536,f=Error("Simulated error coming from DevTools");var S=h&-h;if(r.lanes|=S,b=cn,b===null)throw Error("Expected a work-in-progress root. This is a bug in React. Please file an issue.");S=fy(S),my(S,b,r,Vt(f,r)),Dd(r,S)}if(za(r),r.stateNode===null){if(b=iu,f=a.contextType,"contextType"in a&&f!==null&&(f===void 0||f.$$typeof!==to)&&!jC.has(a)&&(jC.add(a),S=f===void 0?" However, it is set to undefined. This can be caused by a typo or by mixing up named and default imports. This can also happen due to a circular dependency, so try moving the createContext() call to a separate file.":typeof f!="object"?" However, it is set to a "+typeof f+".":f.$$typeof===uv?" Did you accidentally pass the Context.Consumer instead?":" However, it is set to an object with keys {"+Object.keys(f).join(", ")+"}.",console.error("%s defines an invalid contextType. contextType should point to the Context object returned by React.createContext().%s",te(a)||"Component",S)),typeof f=="object"&&f!==null&&(b=rn(f)),f=new a(u,b),r.mode&Ki){Ze(!0);try{f=new a(u,b)}finally{Ze(!1)}}if(b=r.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=a_,r.stateNode=f,f._reactInternals=r,f._reactInternalInstance=wC,typeof a.getDerivedStateFromProps=="function"&&b===null&&(b=te(a)||"Component",kC.has(b)||(kC.add(b),console.error("`%s` uses `getDerivedStateFromProps` but its initial state is %s. This is not recommended. Instead, define the initial state by assigning an object to `this.state` in the constructor of `%s`. This ensures that `getDerivedStateFromProps` arguments have a consistent shape.",b,f.state===null?"null":"undefined",b))),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"){var k=S=b=null;if(typeof f.componentWillMount=="function"&&f.componentWillMount.__suppressDeprecationWarning!==!0?b="componentWillMount":typeof f.UNSAFE_componentWillMount=="function"&&(b="UNSAFE_componentWillMount"),typeof f.componentWillReceiveProps=="function"&&f.componentWillReceiveProps.__suppressDeprecationWarning!==!0?S="componentWillReceiveProps":typeof f.UNSAFE_componentWillReceiveProps=="function"&&(S="UNSAFE_componentWillReceiveProps"),typeof f.componentWillUpdate=="function"&&f.componentWillUpdate.__suppressDeprecationWarning!==!0?k="componentWillUpdate":typeof f.UNSAFE_componentWillUpdate=="function"&&(k="UNSAFE_componentWillUpdate"),b!==null||S!==null||k!==null){f=te(a)||"Component";var F=typeof a.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";MC.has(f)||(MC.add(f),console.error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

%s uses %s but also contains the following legacy lifecycles:%s%s%s

The above lifecycles should be removed. Learn more about this warning here:
https://react.dev/link/unsafe-component-lifecycles`,f,F,b!==null?`
  `+b:"",S!==null?`
  `+S:"",k!==null?`
  `+k:""))}}f=r.stateNode,b=te(a)||"Component",f.render||(a.prototype&&typeof a.prototype.render=="function"?console.error("No `render` method found on the %s instance: did you accidentally return an object from the constructor?",b):console.error("No `render` method found on the %s instance: you may have forgotten to define `render`.",b)),!f.getInitialState||f.getInitialState.isReactClassApproved||f.state||console.error("getInitialState was defined on %s, a plain JavaScript class. This is only supported for classes created using React.createClass. Did you mean to define a state property instead?",b),f.getDefaultProps&&!f.getDefaultProps.isReactClassApproved&&console.error("getDefaultProps was defined on %s, a plain JavaScript class. This is only supported for classes created using React.createClass. Use a static property to define defaultProps instead.",b),f.contextType&&console.error("contextType was defined as an instance property on %s. Use a static property to define contextType instead.",b),a.childContextTypes&&!BC.has(a)&&(BC.add(a),console.error("%s uses the legacy childContextTypes API which was removed in React 19. Use React.createContext() instead. (https://react.dev/link/legacy-context)",b)),a.contextTypes&&!PC.has(a)&&(PC.add(a),console.error("%s uses the legacy contextTypes API which was removed in React 19. Use React.createContext() with static contextType instead. (https://react.dev/link/legacy-context)",b)),typeof f.componentShouldUpdate=="function"&&console.error("%s has a method called componentShouldUpdate(). Did you mean shouldComponentUpdate()? The name is phrased as a question because the function is expected to return a value.",b),a.prototype&&a.prototype.isPureReactComponent&&typeof f.shouldComponentUpdate<"u"&&console.error("%s has a method called shouldComponentUpdate(). shouldComponentUpdate should not be used when extending React.PureComponent. Please extend React.Component if shouldComponentUpdate is used.",te(a)||"A pure component"),typeof f.componentDidUnmount=="function"&&console.error("%s has a method called componentDidUnmount(). But there is no such lifecycle method. Did you mean componentWillUnmount()?",b),typeof f.componentDidReceiveProps=="function"&&console.error("%s has a method called componentDidReceiveProps(). But there is no such lifecycle method. If you meant to update the state in response to changing props, use componentWillReceiveProps(). If you meant to fetch data or run side-effects or mutations after React has updated the UI, use componentDidUpdate().",b),typeof f.componentWillRecieveProps=="function"&&console.error("%s has a method called componentWillRecieveProps(). Did you mean componentWillReceiveProps()?",b),typeof f.UNSAFE_componentWillRecieveProps=="function"&&console.error("%s has a method called UNSAFE_componentWillRecieveProps(). Did you mean UNSAFE_componentWillReceiveProps()?",b),S=f.props!==u,f.props!==void 0&&S&&console.error("When calling super() in `%s`, make sure to pass up the same props that your component's constructor was passed.",b),f.defaultProps&&console.error("Setting defaultProps as an instance property on %s is not supported and will be ignored. Instead, define defaultProps as a static property on %s.",b,b),typeof f.getSnapshotBeforeUpdate!="function"||typeof f.componentDidUpdate=="function"||OC.has(a)||(OC.add(a),console.error("%s: getSnapshotBeforeUpdate() should be used with componentDidUpdate(). This component defines getSnapshotBeforeUpdate() only.",te(a))),typeof f.getDerivedStateFromProps=="function"&&console.error("%s: getDerivedStateFromProps() is defined as an instance method and will be ignored. Instead, declare it as a static method.",b),typeof f.getDerivedStateFromError=="function"&&console.error("%s: getDerivedStateFromError() is defined as an instance method and will be ignored. Instead, declare it as a static method.",b),typeof a.getSnapshotBeforeUpdate=="function"&&console.error("%s: getSnapshotBeforeUpdate() is defined as a static method and will be ignored. Instead, declare it as an instance method.",b),(S=f.state)&&(typeof S!="object"||Ci(S))&&console.error("%s.state: must be set to an object or null",b),typeof f.getChildContext=="function"&&typeof a.childContextTypes!="object"&&console.error("%s.getChildContext(): childContextTypes must be defined in order to use getChildContext().",b),f=r.stateNode,f.props=u,f.state=r.memoizedState,f.refs={},yf(r),b=a.contextType,f.context=typeof b=="object"&&b!==null?rn(b):iu,f.state===u&&(b=te(a)||"Component",IC.has(b)||(IC.add(b),console.error("%s: It is not recommended to assign props directly to state because updates to props won't be reflected in state. In most cases, it is better to use props directly.",b))),r.mode&Ki&&ga.recordLegacyContextWarning(r,f),ga.recordUnsafeLifecycleWarnings(r,f),f.state=r.memoizedState,b=a.getDerivedStateFromProps,typeof b=="function"&&(dy(r,a,b,u),f.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(b=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),b!==f.state&&(console.error("%s.componentWillMount(): Assigning directly to this.state is deprecated (except inside a component's constructor). Use setState instead.",j(r)||"Component"),a_.enqueueReplaceState(f,f.state,null)),g(r,u,f,h),Hl(),f.state=r.memoizedState),typeof f.componentDidMount=="function"&&(r.flags|=4194308),(r.mode&pa)!==ut&&(r.flags|=134217728),f=!0}else if(t===null){f=r.stateNode;var ce=r.memoizedProps;S=fc(a,ce),f.props=S;var he=f.context;k=a.contextType,b=iu,typeof k=="object"&&k!==null&&(b=rn(k)),F=a.getDerivedStateFromProps,k=typeof F=="function"||typeof f.getSnapshotBeforeUpdate=="function",ce=r.pendingProps!==ce,k||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(ce||he!==b)&&$T(r,f,u,b),uu=!1;var re=r.memoizedState;f.state=re,g(r,u,f,h),Hl(),he=r.memoizedState,ce||re!==he||uu?(typeof F=="function"&&(dy(r,a,F,u),he=r.memoizedState),(S=uu||HT(r,a,S,u,re,he,b))?(k||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(r.flags|=4194308),(r.mode&pa)!==ut&&(r.flags|=134217728)):(typeof f.componentDidMount=="function"&&(r.flags|=4194308),(r.mode&pa)!==ut&&(r.flags|=134217728),r.memoizedProps=u,r.memoizedState=he),f.props=u,f.state=he,f.context=b,f=S):(typeof f.componentDidMount=="function"&&(r.flags|=4194308),(r.mode&pa)!==ut&&(r.flags|=134217728),f=!1)}else{f=r.stateNode,vf(t,r),b=r.memoizedProps,k=fc(a,b),f.props=k,F=r.pendingProps,re=f.context,he=a.contextType,S=iu,typeof he=="object"&&he!==null&&(S=rn(he)),ce=a.getDerivedStateFromProps,(he=typeof ce=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(b!==F||re!==S)&&$T(r,f,u,S),uu=!1,re=r.memoizedState,f.state=re,g(r,u,f,h),Hl();var Ne=r.memoizedState;b!==F||re!==Ne||uu||t!==null&&t.dependencies!==null&&Bl(t.dependencies)?(typeof ce=="function"&&(dy(r,a,ce,u),Ne=r.memoizedState),(k=uu||HT(r,a,k,u,re,Ne,S)||t!==null&&t.dependencies!==null&&Bl(t.dependencies))?(he||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(u,Ne,S),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(u,Ne,S)),typeof f.componentDidUpdate=="function"&&(r.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof f.componentDidUpdate!="function"||b===t.memoizedProps&&re===t.memoizedState||(r.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||b===t.memoizedProps&&re===t.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=Ne),f.props=u,f.state=Ne,f.context=S,f=k):(typeof f.componentDidUpdate!="function"||b===t.memoizedProps&&re===t.memoizedState||(r.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||b===t.memoizedProps&&re===t.memoizedState||(r.flags|=1024),f=!1)}if(S=f,zp(t,r),b=(r.flags&128)!==0,S||b){if(S=r.stateNode,Xe(r),b&&typeof a.getDerivedStateFromError!="function")a=null,pr=-1;else if(a=sC(S),r.mode&Ki){Ze(!0);try{sC(S)}finally{Ze(!1)}}r.flags|=1,t!==null&&b?(r.child=Dc(r,t.child,null,h),r.child=Dc(r,null,a,h)):Gi(t,r,a,h),r.memoizedState=S.state,t=r.child}else t=qo(t,r,h);return h=r.stateNode,f&&h.props!==u&&(fh||console.error("It looks like %s is reassigning its own `this.props` while rendering. This is not supported and can lead to confusing bugs.",j(r)||"a component"),fh=!0),t}function iS(t,r,a,u){return ca(),r.flags|=256,Gi(t,r,a,u),r.child}function gy(t,r){r&&r.childContextTypes&&console.error(`childContextTypes cannot be defined on a function component.
  %s.childContextTypes = ...`,r.displayName||r.name||"Component"),typeof r.getDerivedStateFromProps=="function"&&(t=te(r)||"Unknown",HC[t]||(console.error("%s: Function components do not support getDerivedStateFromProps.",t),HC[t]=!0)),typeof r.contextType=="object"&&r.contextType!==null&&(r=te(r)||"Unknown",FC[r]||(console.error("%s: Function components do not support contextType.",r),FC[r]=!0))}function by(t){return{baseLanes:t,cachePool:gf()}}function yy(t,r,a){return t=t!==null?t.childLanes&~a:0,r&&(t|=Ur),t}function rS(t,r,a){var u,h=r.pendingProps;l(r)&&(r.flags|=128);var f=!1,b=(r.flags&128)!==0;if((u=b)||(u=t!==null&&t.memoizedState===null?!1:(ii.current&fm)!==0),u&&(f=!0,r.flags&=-129),u=(r.flags&32)!==0,r.flags&=-33,t===null){if(wt){if(f?X(r):pe(r),(t=Tn)?(a=NE(t,Vs),a=a!==null&&a.data!==Lc?a:null,a!==null&&(u={dehydrated:a,treeContext:_p(),retryLane:536870912,hydrationErrors:null},r.memoizedState=u,u=dt(a),u.return=r,r.child=u,Qi=r,Tn=null)):a=null,a===null)throw tc(r,t),es(r);return Wy(a)?r.lanes=32:r.lanes=536870912,null}var S=h.children;if(h=h.fallback,f){pe(r);var k=r.mode;return S=Hp({mode:"hidden",children:S},k),h=Me(h,k,a,null),S.return=r,h.return=r,S.sibling=h,r.child=S,h=r.child,h.memoizedState=by(a),h.childLanes=yy(t,u,a),r.memoizedState=u_,Sf(null,h)}return X(r),vy(r,S)}var F=t.memoizedState;if(F!==null){var ce=F.dehydrated;if(ce!==null){if(b)r.flags&256?(X(r),r.flags&=-257,r=_y(t,r,a)):r.memoizedState!==null?(pe(r),r.child=t.child,r.flags|=128,r=null):(pe(r),S=h.fallback,k=r.mode,h=Hp({mode:"visible",children:h.children},k),S=Me(S,k,a,null),S.flags|=2,h.return=r,S.return=r,h.sibling=S,r.child=h,Dc(r,t.child,null,a),h=r.child,h.memoizedState=by(a),h.childLanes=yy(t,u,a),r.memoizedState=u_,r=Sf(null,h));else if(X(r),Ll(),(a&536870912)!==0&&Yp(r),Wy(ce)){if(u=ce.nextSibling&&ce.nextSibling.dataset,u){S=u.dgst;var he=u.msg;k=u.stck;var re=u.cstck}f=he,u=S,h=k,ce=re,S=f,k=ce,S=Error(S||"The server could not finish this Suspense boundary, likely due to an error during server rendering. Switched to client rendering."),S.stack=h||"",S.digest=u,u=k===void 0?null:k,h={value:S,source:null,stack:u},typeof u=="string"&&zv.set(S,h),nc(h),r=_y(t,r,a)}else if(fi||Vo(t,r,a,!1),u=(a&t.childLanes)!==0,fi||u){if(u=cn,u!==null&&(h=Pt(u,a),h!==0&&h!==F.retryLane))throw F.retryLane=h,ni(t,h),$n(u,t,h),l_;Zy(ce)||Qp(),r=_y(t,r,a)}else Zy(ce)?(r.flags|=192,r.child=t.child,r=null):(t=F.treeContext,Tn=rs(ce.nextSibling),Qi=r,wt=!0,ru=null,oo=!1,os=null,Vs=!1,t!==null&&xp(r,t),r=vy(r,h.children),r.flags|=4096);return r}}return f?(pe(r),S=h.fallback,k=r.mode,re=t.child,ce=re.sibling,h=Y(re,{mode:"hidden",children:h.children}),h.subtreeFlags=re.subtreeFlags&65011712,ce!==null?S=Y(ce,S):(S=Me(S,k,a,null),S.flags|=2),S.return=r,h.return=r,h.sibling=S,r.child=h,Sf(null,h),h=r.child,S=t.child.memoizedState,S===null?S=by(a):(k=S.cachePool,k!==null?(re=ci._currentValue,k=k.parent!==re?{parent:re,pool:re}:k):k=gf(),S={baseLanes:S.baseLanes|a,cachePool:k}),h.memoizedState=S,h.childLanes=yy(t,u,a),r.memoizedState=u_,Sf(t.child,h)):(F!==null&&(a&62914560)===a&&(a&t.lanes)!==0&&Yp(r),X(r),a=t.child,t=a.sibling,a=Y(a,{mode:"visible",children:h.children}),a.return=r,a.sibling=null,t!==null&&(u=r.deletions,u===null?(r.deletions=[t],r.flags|=16):u.push(t)),r.child=a,r.memoizedState=null,a)}function vy(t,r){return r=Hp({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function Hp(t,r){return t=C(22,t,null,r),t.lanes=0,t}function _y(t,r,a){return Dc(r,t.child,null,a),t=vy(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function sS(t,r,a){t.lanes|=r;var u=t.alternate;u!==null&&(u.lanes|=r),vd(t.return,r,a)}function xy(t,r,a,u,h,f){var b=t.memoizedState;b===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:a,tailMode:h,treeForkCount:f}:(b.isBackwards=r,b.rendering=null,b.renderingStartTime=0,b.last=u,b.tail=a,b.tailMode=h,b.treeForkCount=f)}function aS(t,r,a){var u=r.pendingProps,h=u.revealOrder,f=u.tail,b=u.children,S=ii.current;if((u=(S&fm)!==0)?(S=S&uh|fm,r.flags|=128):S&=uh,ie(ii,S,r),S=h??"null",h!=="forwards"&&h!=="unstable_legacy-backwards"&&h!=="together"&&h!=="independent"&&!$C[S])if($C[S]=!0,h==null)console.error('The default for the <SuspenseList revealOrder="..."> prop is changing. To be future compatible you must explictly specify either "independent" (the current default), "together", "forwards" or "legacy_unstable-backwards".');else if(h==="backwards")console.error('The rendering order of <SuspenseList revealOrder="backwards"> is changing. To be future compatible you must specify revealOrder="legacy_unstable-backwards" instead.');else if(typeof h=="string")switch(h.toLowerCase()){case"together":case"forwards":case"backwards":case"independent":console.error('"%s" is not a valid value for revealOrder on <SuspenseList />. Use lowercase "%s" instead.',h,h.toLowerCase());break;case"forward":case"backward":console.error('"%s" is not a valid value for revealOrder on <SuspenseList />. React uses the -s suffix in the spelling. Use "%ss" instead.',h,h.toLowerCase());break;default:console.error('"%s" is not a supported revealOrder on <SuspenseList />. Did you mean "independent", "together", "forwards" or "backwards"?',h)}else console.error('%s is not a supported value for revealOrder on <SuspenseList />. Did you mean "independent", "together", "forwards" or "backwards"?',h);S=f??"null",Fg[S]||(f==null?(h==="forwards"||h==="backwards"||h==="unstable_legacy-backwards")&&(Fg[S]=!0,console.error('The default for the <SuspenseList tail="..."> prop is changing. To be future compatible you must explictly specify either "visible" (the current default), "collapsed" or "hidden".')):f!=="visible"&&f!=="collapsed"&&f!=="hidden"?(Fg[S]=!0,console.error('"%s" is not a supported value for tail on <SuspenseList />. Did you mean "visible", "collapsed" or "hidden"?',f)):h!=="forwards"&&h!=="backwards"&&h!=="unstable_legacy-backwards"&&(Fg[S]=!0,console.error('<SuspenseList tail="%s" /> is only valid if revealOrder is "forwards" or "backwards". Did you mean to specify revealOrder="forwards"?',f)));e:if((h==="forwards"||h==="backwards"||h==="unstable_legacy-backwards")&&b!==void 0&&b!==null&&b!==!1)if(Ci(b)){for(S=0;S<b.length;S++)if(!Ap(b[S],S))break e}else if(S=q(b),typeof S=="function"){if(S=S.call(b))for(var k=S.next(),F=0;!k.done;k=S.next()){if(!Ap(k.value,F))break e;F++}}else console.error('A single row was passed to a <SuspenseList revealOrder="%s" />. This is not useful since it needs multiple rows. Did you mean to pass multiple children or an array?',h);if(Gi(t,r,b,a),wt?(ua(),b=Kf):b=0,!u&&t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&sS(t,a,r);else if(t.tag===19)sS(t,a,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=r.child,h=null;a!==null;)t=a.alternate,t!==null&&ze(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=r.child,r.child=null):(h=a.sibling,a.sibling=null),xy(r,!1,h,a,f,b);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=r.child,r.child=null;h!==null;){if(t=h.alternate,t!==null&&ze(t)===null){r.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}xy(r,!0,a,null,f,b);break;case"together":xy(r,!1,null,null,void 0,b);break;default:r.memoizedState=null}return r.child}function qo(t,r,a){if(t!==null&&(r.dependencies=t.dependencies),pr=-1,hu|=r.lanes,(a&r.childLanes)===0)if(t!==null){if(Vo(t,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error("Resuming work not yet implemented.");if(r.child!==null){for(t=r.child,a=Y(t,t.pendingProps),r.child=a,a.return=r;t.sibling!==null;)t=t.sibling,a=a.sibling=Y(t,t.pendingProps),a.return=r;a.sibling=null}return r.child}function Ty(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&Bl(t)))}function ak(t,r,a){switch(r.tag){case 3:Re(r,r.stateNode.containerInfo),da(r,ci,t.memoizedState.cache),ca();break;case 27:case 5:Te(r);break;case 4:Re(r,r.stateNode.containerInfo);break;case 10:da(r,r.type,r.memoizedProps.value);break;case 12:(a&r.childLanes)!==0&&(r.flags|=4),r.flags|=2048;var u=r.stateNode;u.effectDuration=-0,u.passiveEffectDuration=-0;break;case 31:if(r.memoizedState!==null)return r.flags|=128,Z(r),null;break;case 13:if(u=r.memoizedState,u!==null)return u.dehydrated!==null?(X(r),r.flags|=128,null):(a&r.child.childLanes)!==0?rS(t,r,a):(X(r),t=qo(t,r,a),t!==null?t.sibling:null);X(r);break;case 19:var h=(t.flags&128)!==0;if(u=(a&r.childLanes)!==0,u||(Vo(t,r,a,!1),u=(a&r.childLanes)!==0),h){if(u)return aS(t,r,a);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ie(ii,ii.current,r),u)break;return null;case 22:return r.lanes=0,KT(t,r,a,r.pendingProps);case 24:da(r,ci,t.memoizedState.cache)}return qo(t,r,a)}function Sy(t,r,a){if(r._debugNeedsRemount&&t!==null){a=ye(r.type,r.key,r.pendingProps,r._debugOwner||null,r.mode,r.lanes),a._debugStack=r._debugStack,a._debugTask=r._debugTask;var u=r.return;if(u===null)throw Error("Cannot swap the root fiber.");if(t.alternate=null,r.alternate=null,a.index=r.index,a.sibling=r.sibling,a.return=r.return,a.ref=r.ref,a._debugInfo=r._debugInfo,r===u.child)u.child=a;else{var h=u.child;if(h===null)throw Error("Expected parent to have a child.");for(;h.sibling!==r;)if(h=h.sibling,h===null)throw Error("Expected to find the previous sibling.");h.sibling=a}return r=u.deletions,r===null?(u.deletions=[t],u.flags|=16):r.push(t),a.flags|=2,a}if(t!==null)if(t.memoizedProps!==r.pendingProps||r.type!==t.type)fi=!0;else{if(!Ty(t,a)&&(r.flags&128)===0)return fi=!1,ak(t,r,a);fi=(t.flags&131072)!==0}else fi=!1,(u=wt)&&(ua(),u=(r.flags&1048576)!==0),u&&(u=r.index,ua(),Fa(r,Kf,u));switch(r.lanes=0,r.tag){case 16:e:if(u=r.pendingProps,t=$a(r.elementType),r.type=t,typeof t=="function")z(t)?(u=fc(t,u),r.tag=1,r.type=t=Ss(t),r=nS(null,r,t,u,a)):(r.tag=0,gy(r,t),r.type=t=Ss(t),r=py(null,r,t,u,a));else{if(t!=null){if(h=t.$$typeof,h===Uf){r.tag=11,r.type=t=la(t),r=QT(null,r,t,u,a);break e}else if(h===ug){r.tag=14,r=ZT(null,r,t,u,a);break e}}throw r="",t!==null&&typeof t=="object"&&t.$$typeof===ss&&(r=" Did you wrap a component in React.lazy() more than once?"),a=te(t)||t,Error("Element type is invalid. Received a promise that resolves to: "+a+". Lazy element type must resolve to a class or function."+r)}return r;case 0:return py(t,r,r.type,r.pendingProps,a);case 1:return u=r.type,h=fc(u,r.pendingProps),nS(t,r,u,h,a);case 3:e:{if(Re(r,r.stateNode.containerInfo),t===null)throw Error("Should have a current fiber. This is a bug in React.");u=r.pendingProps;var f=r.memoizedState;h=f.element,vf(t,r),g(r,u,null,a);var b=r.memoizedState;if(u=b.cache,da(r,ci,u),u!==f.cache&&_d(r,[ci],a,!0),Hl(),u=b.element,f.isDehydrated)if(f={element:u,isDehydrated:!1,cache:b.cache},r.updateQueue.baseState=f,r.memoizedState=f,r.flags&256){r=iS(t,r,u,a);break e}else if(u!==h){h=Vt(Error("This root received an early update, before anything was able hydrate. Switched the entire root to client rendering."),r),nc(h),r=iS(t,r,u,a);break e}else{switch(t=r.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Tn=rs(t.firstChild),Qi=r,wt=!0,ru=null,oo=!1,os=null,Vs=!0,a=vC(r,null,u,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(ca(),u===h){r=qo(t,r,a);break e}Gi(t,r,u,a)}r=r.child}return r;case 26:return zp(t,r),t===null?(a=kE(r.type,null,r.pendingProps,null))?r.memoizedState=a:wt||(a=r.type,t=r.pendingProps,u=fe(Wl.current),u=Jp(u).createElement(a),u[Yi]=r,u[hr]=t,Xi(u,a,t),K(u),r.stateNode=u):r.memoizedState=kE(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return Te(r),t===null&&wt&&(u=fe(Wl.current),h=ve(),u=r.stateNode=wE(r.type,r.pendingProps,u,h,!1),oo||(h=bE(u,r.type,r.pendingProps,h),h!==null&&(Uo(r,0).serverProps=h)),Qi=r,Vs=!0,h=Tn,Ql(r.type)?(O_=h,Tn=rs(u.firstChild)):Tn=h),Gi(t,r,r.pendingProps.children,a),zp(t,r),t===null&&(r.flags|=4194304),r.child;case 5:return t===null&&wt&&(f=ve(),u=Vu(r.type,f.ancestorInfo),h=Tn,(b=!h)||(b=Yk(h,r.type,r.pendingProps,Vs),b!==null?(r.stateNode=b,oo||(f=bE(b,r.type,r.pendingProps,f),f!==null&&(Uo(r,0).serverProps=f)),Qi=r,Tn=rs(b.firstChild),Vs=!1,f=!0):f=!1,b=!f),b&&(u&&tc(r,h),es(r))),Te(r),h=r.type,f=r.pendingProps,b=t!==null?t.memoizedProps:null,u=f.children,Yy(h,f)?u=null:b!==null&&Yy(h,b)&&(r.flags|=32),r.memoizedState!==null&&(h=zo(t,r,uc,null,null,a),km._currentValue=h),zp(t,r),Gi(t,r,u,a),r.child;case 6:return t===null&&wt&&(a=r.pendingProps,t=ve(),u=t.ancestorInfo.current,a=u!=null?ka(a,u.tag,t.ancestorInfo.implicitRootScope):!0,t=Tn,(u=!t)||(u=Qk(t,r.pendingProps,Vs),u!==null?(r.stateNode=u,Qi=r,Tn=null,u=!0):u=!1,u=!u),u&&(a&&tc(r,t),es(r))),null;case 13:return rS(t,r,a);case 4:return Re(r,r.stateNode.containerInfo),u=r.pendingProps,t===null?r.child=Dc(r,null,u,a):Gi(t,r,u,a),r.child;case 11:return QT(t,r,r.type,r.pendingProps,a);case 7:return Gi(t,r,r.pendingProps,a),r.child;case 8:return Gi(t,r,r.pendingProps.children,a),r.child;case 12:return r.flags|=4,r.flags|=2048,u=r.stateNode,u.effectDuration=-0,u.passiveEffectDuration=-0,Gi(t,r,r.pendingProps.children,a),r.child;case 10:return u=r.type,h=r.pendingProps,f=h.value,"value"in h||qC||(qC=!0,console.error("The `value` prop is required for the `<Context.Provider>`. Did you misspell it or forget to pass it?")),da(r,u,f),Gi(t,r,h.children,a),r.child;case 9:return h=r.type._context,u=r.pendingProps.children,typeof u!="function"&&console.error("A context consumer was rendered with multiple children, or a child that isn't a function. A context consumer expects a single child that is a function. If you did pass a function, make sure there is no trailing or leading whitespace around it."),za(r),h=rn(h),u=Zv(u,h,void 0),r.flags|=1,Gi(t,r,u,a),r.child;case 14:return ZT(t,r,r.type,r.pendingProps,a);case 15:return WT(t,r,r.type,r.pendingProps,a);case 19:return aS(t,r,a);case 31:return sk(t,r,a);case 22:return KT(t,r,a,r.pendingProps);case 24:return za(r),u=rn(ci),t===null?(h=Sd(),h===null&&(h=cn,f=ff(),h.pooledCache=f,Ha(f),f!==null&&(h.pooledCacheLanes|=a),h=f),r.memoizedState={parent:u,cache:h},yf(r),da(r,ci,h)):((t.lanes&a)!==0&&(vf(t,r),g(r,null,null,a),Hl()),h=t.memoizedState,f=r.memoizedState,h.parent!==u?(h={parent:u,cache:u},r.memoizedState=h,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=h),da(r,ci,u)):(u=f.cache,da(r,ci,u),u!==h.cache&&_d(r,[ci],a,!0))),Gi(t,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error("Unknown unit of work tag ("+r.tag+"). This error is likely caused by a bug in React. Please file an issue.")}function Go(t){t.flags|=4}function Ey(t,r,a,u,h){if((r=(t.mode&D5)!==ut)&&(r=!1),r){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(US())t.flags|=8192;else throw Cc=Lg,Kv}else t.flags&=-16777217}function oS(t,r){if(r.type!=="stylesheet"||(r.state.loading&qs)!==jc)t.flags&=-16777217;else if(t.flags|=16777216,!PE(r))if(US())t.flags|=8192;else throw Cc=Lg,Kv}function $p(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?Gr():536870912,t.lanes|=r,Oc|=r)}function Ef(t,r){if(!wt)switch(t.tailMode){case"hidden":r=t.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:u.sibling=null}}function pn(t){var r=t.alternate!==null&&t.alternate.child===t.child,a=0,u=0;if(r)if((t.mode&xt)!==ut){for(var h=t.selfBaseDuration,f=t.child;f!==null;)a|=f.lanes|f.childLanes,u|=f.subtreeFlags&65011712,u|=f.flags&65011712,h+=f.treeBaseDuration,f=f.sibling;t.treeBaseDuration=h}else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,u|=h.subtreeFlags&65011712,u|=h.flags&65011712,h.return=t,h=h.sibling;else if((t.mode&xt)!==ut){h=t.actualDuration,f=t.selfBaseDuration;for(var b=t.child;b!==null;)a|=b.lanes|b.childLanes,u|=b.subtreeFlags,u|=b.flags,h+=b.actualDuration,f+=b.treeBaseDuration,b=b.sibling;t.actualDuration=h,t.treeBaseDuration=f}else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,u|=h.subtreeFlags,u|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=u,t.childLanes=a,r}function ok(t,r,a){var u=r.pendingProps;switch(cf(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pn(r),null;case 1:return pn(r),null;case 3:return a=r.stateNode,u=null,t!==null&&(u=t.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),Es(ci,r),be(r),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(ts(r)?(hf(),Go(r)):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,df())),pn(r),null;case 26:var h=r.type,f=r.memoizedState;return t===null?(Go(r),f!==null?(pn(r),oS(r,f)):(pn(r),Ey(r,h,null,u,a))):f?f!==t.memoizedState?(Go(r),pn(r),oS(r,f)):(pn(r),r.flags&=-16777217):(t=t.memoizedProps,t!==u&&Go(r),pn(r),Ey(r,h,t,u,a)),null;case 27:if(De(r),a=fe(Wl.current),h=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==u&&Go(r);else{if(!u){if(r.stateNode===null)throw Error("We must have new props for new mounts. This error is likely caused by a bug in React. Please file an issue.");return pn(r),null}t=ve(),ts(r)?Pl(r):(t=wE(h,u,a,t,!0),r.stateNode=t,Go(r))}return pn(r),null;case 5:if(De(r),h=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==u&&Go(r);else{if(!u){if(r.stateNode===null)throw Error("We must have new props for new mounts. This error is likely caused by a bug in React. Please file an issue.");return pn(r),null}var b=ve();if(ts(r))Pl(r);else{switch(f=fe(Wl.current),Vu(h,b.ancestorInfo),b=b.context,f=Jp(f),b){case xh:f=f.createElementNS(qd,h);break;case ob:f=f.createElementNS(gg,h);break;default:switch(h){case"svg":f=f.createElementNS(qd,h);break;case"math":f=f.createElementNS(gg,h);break;case"script":f=f.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof u.is=="string"?f.createElement("select",{is:u.is}):f.createElement("select"),u.multiple?f.multiple=!0:u.size&&(f.size=u.size);break;default:f=typeof u.is=="string"?f.createElement(h,{is:u.is}):f.createElement(h),h.indexOf("-")===-1&&(h!==h.toLowerCase()&&console.error("<%s /> is using incorrect casing. Use PascalCase for React components, or lowercase for HTML elements.",h),Object.prototype.toString.call(f)!=="[object HTMLUnknownElement]"||ma.call(pD,h)||(pD[h]=!0,console.error("The tag <%s> is unrecognized in this browser. If you meant to render a React component, start its name with an uppercase letter.",h)))}}f[Yi]=r,f[hr]=u;e:for(b=r.child;b!==null;){if(b.tag===5||b.tag===6)f.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===r)break e;for(;b.sibling===null;){if(b.return===null||b.return===r)break e;b=b.return}b.sibling.return=b.return,b=b.sibling}r.stateNode=f;e:switch(Xi(f,h,u),h){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&Go(r)}}return pn(r),Ey(r,r.type,t===null?null:t.memoizedProps,r.pendingProps,a),null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==u&&Go(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error("We must have new props for new mounts. This error is likely caused by a bug in React. Please file an issue.");if(t=fe(Wl.current),a=ve(),ts(r)){if(t=r.stateNode,a=r.memoizedProps,h=!oo,u=null,f=Qi,f!==null)switch(f.tag){case 3:h&&(h=DE(t,a,u),h!==null&&(Uo(r,0).serverProps=h));break;case 27:case 5:u=f.memoizedProps,h&&(h=DE(t,a,u),h!==null&&(Uo(r,0).serverProps=h))}t[Yi]=r,t=!!(t.nodeValue===a||u!==null&&u.suppressHydrationWarning===!0||hE(t.nodeValue,a)),t||es(r,!0)}else h=a.ancestorInfo.current,h!=null&&ka(u,h.tag,a.ancestorInfo.implicitRootScope),t=Jp(t).createTextNode(u),t[Yi]=r,r.stateNode=t}return pn(r),null;case 31:if(a=r.memoizedState,t===null||t.memoizedState!==null){if(u=ts(r),a!==null){if(t===null){if(!u)throw Error("A dehydrated suspense component was completed without a hydrated node. This is probably a bug in React.");if(t=r.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error("Expected to have a hydrated activity instance. This error is likely caused by a bug in React. Please file an issue.");t[Yi]=r,pn(r),(r.mode&xt)!==ut&&a!==null&&(t=r.child,t!==null&&(r.treeBaseDuration-=t.treeBaseDuration))}else hf(),ca(),(r.flags&128)===0&&(a=r.memoizedState=null),r.flags|=4,pn(r),(r.mode&xt)!==ut&&a!==null&&(t=r.child,t!==null&&(r.treeBaseDuration-=t.treeBaseDuration));t=!1}else a=df(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return r.flags&256?(Ce(r),r):(Ce(r),null);if((r.flags&128)!==0)throw Error("Client rendering an Activity suspended it again. This is a bug in React.")}return pn(r),null;case 13:if(u=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=u,f=ts(r),h!==null&&h.dehydrated!==null){if(t===null){if(!f)throw Error("A dehydrated suspense component was completed without a hydrated node. This is probably a bug in React.");if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error("Expected to have a hydrated suspense instance. This error is likely caused by a bug in React. Please file an issue.");f[Yi]=r,pn(r),(r.mode&xt)!==ut&&h!==null&&(h=r.child,h!==null&&(r.treeBaseDuration-=h.treeBaseDuration))}else hf(),ca(),(r.flags&128)===0&&(h=r.memoizedState=null),r.flags|=4,pn(r),(r.mode&xt)!==ut&&h!==null&&(h=r.child,h!==null&&(r.treeBaseDuration-=h.treeBaseDuration));h=!1}else h=df(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return r.flags&256?(Ce(r),r):(Ce(r),null)}return Ce(r),(r.flags&128)!==0?(r.lanes=a,(r.mode&xt)!==ut&&rc(r),r):(a=u!==null,t=t!==null&&t.memoizedState!==null,a&&(u=r.child,h=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(h=u.alternate.memoizedState.cachePool.pool),f=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(f=u.memoizedState.cachePool.pool),f!==h&&(u.flags|=2048)),a!==t&&a&&(r.child.flags|=8192),$p(r,r.updateQueue),pn(r),(r.mode&xt)!==ut&&a&&(t=r.child,t!==null&&(r.treeBaseDuration-=t.treeBaseDuration)),null);case 4:return be(r),t===null&&Fy(r.stateNode.containerInfo),pn(r),null;case 10:return Es(r.type,r),pn(r),null;case 19:if(de(ii,r),u=r.memoizedState,u===null)return pn(r),null;if(h=(r.flags&128)!==0,f=u.rendering,f===null)if(h)Ef(u,!1);else{if(Ln!==ll||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(f=ze(t),f!==null){for(r.flags|=128,Ef(u,!1),t=f.updateQueue,r.updateQueue=t,$p(r,t),r.subtreeFlags=0,t=a,a=r.child;a!==null;)ne(a,t),a=a.sibling;return ie(ii,ii.current&uh|fm,r),wt&&fn(r,u.treeForkCount),r.child}t=t.sibling}u.tail!==null&&Ii()>Yg&&(r.flags|=128,h=!0,Ef(u,!1),r.lanes=4194304)}else{if(!h)if(t=ze(f),t!==null){if(r.flags|=128,h=!0,t=t.updateQueue,r.updateQueue=t,$p(r,t),Ef(u,!0),u.tail===null&&u.tailMode==="hidden"&&!f.alternate&&!wt)return pn(r),null}else 2*Ii()-u.renderingStartTime>Yg&&a!==536870912&&(r.flags|=128,h=!0,Ef(u,!1),r.lanes=4194304);u.isBackwards?(f.sibling=r.child,r.child=f):(t=u.last,t!==null?t.sibling=f:r.child=f,u.last=f)}return u.tail!==null?(t=u.tail,u.rendering=t,u.tail=t.sibling,u.renderingStartTime=Ii(),t.sibling=null,a=ii.current,a=h?a&uh|fm:a&uh,ie(ii,a,r),wt&&fn(r,u.treeForkCount),t):(pn(r),null);case 22:case 23:return Ce(r),G(r),u=r.memoizedState!==null,t!==null?t.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(a&536870912)!==0&&(r.flags&128)===0&&(pn(r),r.subtreeFlags&6&&(r.flags|=8192)):pn(r),a=r.updateQueue,a!==null&&$p(r,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==a&&(r.flags|=2048),t!==null&&de(Ec,r),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),Es(ci,r),pn(r),null;case 25:return null;case 30:return null}throw Error("Unknown unit of work tag ("+r.tag+"). This error is likely caused by a bug in React. Please file an issue.")}function lk(t,r){switch(cf(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,(r.mode&xt)!==ut&&rc(r),r):null;case 3:return Es(ci,r),be(r),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return De(r),null;case 31:if(r.memoizedState!==null){if(Ce(r),r.alternate===null)throw Error("Threw in newly mounted dehydrated component. This is likely a bug in React. Please file an issue.");ca()}return t=r.flags,t&65536?(r.flags=t&-65537|128,(r.mode&xt)!==ut&&rc(r),r):null;case 13:if(Ce(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error("Threw in newly mounted dehydrated component. This is likely a bug in React. Please file an issue.");ca()}return t=r.flags,t&65536?(r.flags=t&-65537|128,(r.mode&xt)!==ut&&rc(r),r):null;case 19:return de(ii,r),null;case 4:return be(r),null;case 10:return Es(r.type,r),null;case 22:case 23:return Ce(r),G(r),t!==null&&de(Ec,r),t=r.flags,t&65536?(r.flags=t&-65537|128,(r.mode&xt)!==ut&&rc(r),r):null;case 24:return Es(ci,r),null;case 25:return null;default:return null}}function lS(t,r){switch(cf(r),r.tag){case 3:Es(ci,r),be(r);break;case 26:case 27:case 5:De(r);break;case 4:be(r);break;case 31:r.memoizedState!==null&&Ce(r);break;case 13:Ce(r);break;case 19:de(ii,r);break;case 10:Es(r.type,r);break;case 22:case 23:Ce(r),G(r),t!==null&&de(Ec,r);break;case 24:Es(ci,r)}}function Ya(t){return(t.mode&xt)!==ut}function uS(t,r){Ya(t)?(Ei(),Nf(r,t),ks()):Nf(r,t)}function Ny(t,r,a){Ya(t)?(Ei(),kd(a,t,r),ks()):kd(a,t,r)}function Nf(t,r){try{var a=r.updateQueue,u=a!==null?a.lastEffect:null;if(u!==null){var h=u.next;a=h;do{if((a.tag&t)===t&&(u=void 0,(t&gr)!==Bg&&(yh=!0),u=je(r,M5,a),(t&gr)!==Bg&&(yh=!1),u!==void 0&&typeof u!="function")){var f=void 0;f=(a.tag&us)!==0?"useLayoutEffect":(a.tag&gr)!==0?"useInsertionEffect":"useEffect";var b=void 0;b=u===null?" You returned null. If your effect does not require clean up, return undefined (or nothing).":typeof u.then=="function"?`

It looks like you wrote `+f+`(async () => ...) or returned a Promise. Instead, write the async function inside your effect and call it immediately:

`+f+`(() => {
  async function fetchData() {
    // You can await here
    const response = await MyAPI.getData(someId);
    // ...
  }
  fetchData();
}, [someId]); // Or [] if effect doesn't need props or state

Learn more about data fetching with Hooks: https://react.dev/link/hooks-data-fetching`:" You returned: "+u,je(r,function(S,k){console.error("%s must not return anything besides a function, which is used for clean-up.%s",S,k)},f,b)}a=a.next}while(a!==h)}}catch(S){Yt(r,r.return,S)}}function kd(t,r,a){try{var u=r.updateQueue,h=u!==null?u.lastEffect:null;if(h!==null){var f=h.next;u=f;do{if((u.tag&t)===t){var b=u.inst,S=b.destroy;S!==void 0&&(b.destroy=void 0,(t&gr)!==Bg&&(yh=!0),h=r,je(h,I5,h,a,S),(t&gr)!==Bg&&(yh=!1))}u=u.next}while(u!==f)}}catch(k){Yt(r,r.return,k)}}function cS(t,r){Ya(t)?(Ei(),Nf(r,t),ks()):Nf(r,t)}function Cy(t,r,a){Ya(t)?(Ei(),kd(a,t,r),ks()):kd(a,t,r)}function dS(t){var r=t.updateQueue;if(r!==null){var a=t.stateNode;t.type.defaultProps||"ref"in t.memoizedProps||fh||(a.props!==t.memoizedProps&&console.error("Expected %s props to match memoized props before processing the update queue. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",j(t)||"instance"),a.state!==t.memoizedState&&console.error("Expected %s state to match memoized state before processing the update queue. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",j(t)||"instance"));try{je(t,x,r,a)}catch(u){Yt(t,t.return,u)}}}function uk(t,r,a){return t.getSnapshotBeforeUpdate(r,a)}function ck(t,r){var a=r.memoizedProps,u=r.memoizedState;r=t.stateNode,t.type.defaultProps||"ref"in t.memoizedProps||fh||(r.props!==t.memoizedProps&&console.error("Expected %s props to match memoized props before getSnapshotBeforeUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",j(t)||"instance"),r.state!==t.memoizedState&&console.error("Expected %s state to match memoized state before getSnapshotBeforeUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",j(t)||"instance"));try{var h=fc(t.type,a),f=je(t,uk,r,h,u);a=GC,f!==void 0||a.has(t.type)||(a.add(t.type),je(t,function(){console.error("%s.getSnapshotBeforeUpdate(): A snapshot value (or null) must be returned. You have returned undefined.",j(t))})),r.__reactInternalSnapshotBeforeUpdate=f}catch(b){Yt(t,t.return,b)}}function hS(t,r,a){a.props=fc(t.type,t.memoizedProps),a.state=t.memoizedState,Ya(t)?(Ei(),je(t,dC,t,r,a),ks()):je(t,dC,t,r,a)}function dk(t){var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var a=t.stateNode;break;case 30:a=t.stateNode;break;default:a=t.stateNode}if(typeof r=="function")if(Ya(t))try{Ei(),t.refCleanup=r(a)}finally{ks()}else t.refCleanup=r(a);else typeof r=="string"?console.error("String refs are no longer supported."):r.hasOwnProperty("current")||console.error("Unexpected ref object provided for %s. Use either a ref-setter function or React.createRef().",j(t)),r.current=a}}function Cf(t,r){try{je(t,dk,t)}catch(a){Yt(t,r,a)}}function Qa(t,r){var a=t.ref,u=t.refCleanup;if(a!==null)if(typeof u=="function")try{if(Ya(t))try{Ei(),je(t,u)}finally{ks(t)}else je(t,u)}catch(h){Yt(t,r,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{if(Ya(t))try{Ei(),je(t,a,null)}finally{ks(t)}else je(t,a,null)}catch(h){Yt(t,r,h)}else a.current=null}function fS(t,r,a,u){var h=t.memoizedProps,f=h.id,b=h.onCommit;h=h.onRender,r=r===null?"mount":"update",kg&&(r="nested-update"),typeof h=="function"&&h(f,r,t.actualDuration,t.treeBaseDuration,t.actualStartTime,a),typeof b=="function"&&b(f,r,u,a)}function hk(t,r,a,u){var h=t.memoizedProps;t=h.id,h=h.onPostCommit,r=r===null?"mount":"update",kg&&(r="nested-update"),typeof h=="function"&&h(t,r,u,a)}function mS(t){var r=t.type,a=t.memoizedProps,u=t.stateNode;try{je(t,Pk,u,r,a,t)}catch(h){Yt(t,t.return,h)}}function Dy(t,r,a){try{je(t,jk,t.stateNode,t.type,a,r,t)}catch(u){Yt(t,t.return,u)}}function pS(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ql(t.type)||t.tag===4}function Ay(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||pS(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ql(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function wy(t,r,a){var u=t.tag;if(u===5||u===6)t=t.stateNode,r?(TE(a),(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,r)):(TE(a),r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(t),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=Wr));else if(u!==4&&(u===27&&Ql(t.type)&&(a=t.stateNode,r=null),t=t.child,t!==null))for(wy(t,r,a),t=t.sibling;t!==null;)wy(t,r,a),t=t.sibling}function qp(t,r,a){var u=t.tag;if(u===5||u===6)t=t.stateNode,r?a.insertBefore(t,r):a.appendChild(t);else if(u!==4&&(u===27&&Ql(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(qp(t,r,a),t=t.sibling;t!==null;)qp(t,r,a),t=t.sibling}function fk(t){for(var r,a=t.return;a!==null;){if(pS(a)){r=a;break}a=a.return}if(r==null)throw Error("Expected to find a host parent. This error is likely caused by a bug in React. Please file an issue.");switch(r.tag){case 27:r=r.stateNode,a=Ay(t),qp(t,a,r);break;case 5:a=r.stateNode,r.flags&32&&(xE(a),r.flags&=-33),r=Ay(t),qp(t,r,a);break;case 3:case 4:r=r.stateNode.containerInfo,a=Ay(t),wy(t,a,r);break;default:throw Error("Invalid host parent fiber. This error is likely caused by a bug in React. Please file an issue.")}}function gS(t){var r=t.stateNode,a=t.memoizedProps;try{je(t,eO,t.type,a,r,t)}catch(u){Yt(t,t.return,u)}}function bS(t,r){return r.tag===31?(r=r.memoizedState,t.memoizedState!==null&&r===null):r.tag===13?(t=t.memoizedState,r=r.memoizedState,t!==null&&t.dehydrated!==null&&(r===null||r.dehydrated===null)):r.tag===3?t.memoizedState.isDehydrated&&(r.flags&256)===0:!1}function mk(t,r){if(t=t.containerInfo,w_=db,t=Lo(t),Ts(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var u=a.getSelection&&a.getSelection();if(u&&u.rangeCount!==0){a=u.anchorNode;var h=u.anchorOffset,f=u.focusNode;u=u.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var b=0,S=-1,k=-1,F=0,ce=0,he=t,re=null;t:for(;;){for(var Ne;he!==a||h!==0&&he.nodeType!==3||(S=b+h),he!==f||u!==0&&he.nodeType!==3||(k=b+u),he.nodeType===3&&(b+=he.nodeValue.length),(Ne=he.firstChild)!==null;)re=he,he=Ne;for(;;){if(he===t)break t;if(re===a&&++F===h&&(S=b),re===f&&++ce===u&&(k=b),(Ne=he.nextSibling)!==null)break;he=re,re=he.parentNode}he=Ne}a=S===-1||k===-1?null:{start:S,end:k}}else a=null}a=a||{start:0,end:0}}else a=null;for(R_={focusedElem:t,selectionRange:a},db=!1,Pi=r;Pi!==null;)if(r=Pi,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,Pi=t;else for(;Pi!==null;){switch(t=r=Pi,a=t.alternate,h=t.flags,t.tag){case 0:if((h&4)!==0&&(t=t.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:(h&1024)!==0&&a!==null&&ck(t,a);break;case 3:if((h&1024)!==0){if(t=t.stateNode.containerInfo,a=t.nodeType,a===9)Qy(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Qy(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((h&1024)!==0)throw Error("This unit of work tag should not have side-effects. This error is likely caused by a bug in React. Please file an issue.")}if(t=r.sibling,t!==null){t.return=r.return,Pi=t;break}Pi=r.return}}function yS(t,r,a){var u=ur(),h=Ds(),f=ws(),b=Rs(),S=a.flags;switch(a.tag){case 0:case 11:case 15:Za(t,a),S&4&&uS(a,us|Hs);break;case 1:if(Za(t,a),S&4)if(t=a.stateNode,r===null)a.type.defaultProps||"ref"in a.memoizedProps||fh||(t.props!==a.memoizedProps&&console.error("Expected %s props to match memoized props before componentDidMount. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",j(a)||"instance"),t.state!==a.memoizedState&&console.error("Expected %s state to match memoized state before componentDidMount. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",j(a)||"instance")),Ya(a)?(Ei(),je(a,Wv,a,t),ks()):je(a,Wv,a,t);else{var k=fc(a.type,r.memoizedProps);r=r.memoizedState,a.type.defaultProps||"ref"in a.memoizedProps||fh||(t.props!==a.memoizedProps&&console.error("Expected %s props to match memoized props before componentDidUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",j(a)||"instance"),t.state!==a.memoizedState&&console.error("Expected %s state to match memoized state before componentDidUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",j(a)||"instance")),Ya(a)?(Ei(),je(a,lC,a,t,k,r,t.__reactInternalSnapshotBeforeUpdate),ks()):je(a,lC,a,t,k,r,t.__reactInternalSnapshotBeforeUpdate)}S&64&&dS(a),S&512&&Cf(a,a.return);break;case 3:if(r=Cs(),Za(t,a),S&64&&(S=a.updateQueue,S!==null)){if(k=null,a.child!==null)switch(a.child.tag){case 27:case 5:k=a.child.stateNode;break;case 1:k=a.child.stateNode}try{je(a,x,S,k)}catch(ce){Yt(a,a.return,ce)}}t.effectDuration+=Td(r);break;case 27:r===null&&S&4&&gS(a);case 26:case 5:if(Za(t,a),r===null){if(S&4)mS(a);else if(S&64){t=a.type,r=a.memoizedProps,k=a.stateNode;try{je(a,Bk,k,t,r,a)}catch(ce){Yt(a,a.return,ce)}}}S&512&&Cf(a,a.return);break;case 12:if(S&4){S=Cs(),Za(t,a),t=a.stateNode,t.effectDuration+=ic(S);try{je(a,fS,a,r,su,t.effectDuration)}catch(ce){Yt(a,a.return,ce)}}else Za(t,a);break;case 31:Za(t,a),S&4&&xS(t,a);break;case 13:Za(t,a),S&4&&TS(t,a),S&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(S=Sk.bind(null,a),Zk(t,S))));break;case 22:if(S=a.memoizedState!==null||ol,!S){r=r!==null&&r.memoizedState!==null||mi,k=ol;var F=mi;ol=S,(mi=r)&&!F?(Wa(t,a,(a.subtreeFlags&8772)!==0),(a.mode&xt)!==ut&&0<=rt&&0<=lt&&.05<lt-rt&&Po(a,rt,lt)):Za(t,a),ol=k,mi=F}break;case 30:break;default:Za(t,a)}(a.mode&xt)!==ut&&0<=rt&&0<=lt&&((qn||.05<In)&&Si(a,rt,lt,In,Dn),a.alternate===null&&a.return!==null&&a.return.alternate!==null&&.05<lt-rt&&(bS(a.return.alternate,a.return)||Mr(a,rt,lt,"Mount"))),cr(u),As(h),Dn=f,qn=b}function vS(t){var r=t.alternate;r!==null&&(t.alternate=null,vS(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&ys(r)),t.stateNode=null,t._debugOwner=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Xo(t,r,a){for(a=a.child;a!==null;)_S(t,r,a),a=a.sibling}function _S(t,r,a){if(Wi&&typeof Wi.onCommitFiberUnmount=="function")try{Wi.onCommitFiberUnmount(Hd,a)}catch(F){io||(io=!0,console.error("React instrumentation encountered an error: %o",F))}var u=ur(),h=Ds(),f=ws(),b=Rs();switch(a.tag){case 26:mi||Qa(a,r),Xo(t,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(t=a.stateNode,t.parentNode.removeChild(t));break;case 27:mi||Qa(a,r);var S=pi,k=Br;Ql(a.type)&&(pi=a.stateNode,Br=!1),Xo(t,r,a),je(a,Lf,a.stateNode),pi=S,Br=k;break;case 5:mi||Qa(a,r);case 6:if(S=pi,k=Br,pi=null,Xo(t,r,a),pi=S,Br=k,pi!==null)if(Br)try{je(a,Fk,pi,a.stateNode)}catch(F){Yt(a,r,F)}else try{je(a,Vk,pi,a.stateNode)}catch(F){Yt(a,r,F)}break;case 18:pi!==null&&(Br?(t=pi,SE(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Ud(t)):SE(pi,a.stateNode));break;case 4:S=pi,k=Br,pi=a.stateNode.containerInfo,Br=!0,Xo(t,r,a),pi=S,Br=k;break;case 0:case 11:case 14:case 15:kd(gr,a,r),mi||Ny(a,r,us),Xo(t,r,a);break;case 1:mi||(Qa(a,r),S=a.stateNode,typeof S.componentWillUnmount=="function"&&hS(a,r,S)),Xo(t,r,a);break;case 21:Xo(t,r,a);break;case 22:mi=(S=mi)||a.memoizedState!==null,Xo(t,r,a),mi=S;break;default:Xo(t,r,a)}(a.mode&xt)!==ut&&0<=rt&&0<=lt&&(qn||.05<In)&&Si(a,rt,lt,In,Dn),cr(u),As(h),Dn=f,qn=b}function xS(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{je(r,Kk,t)}catch(a){Yt(r,r.return,a)}}}function TS(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{je(r,Jk,t)}catch(a){Yt(r,r.return,a)}}function pk(t){switch(t.tag){case 31:case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new XC),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new XC),r;default:throw Error("Unexpected Suspense handler tag ("+t.tag+"). This is a bug in React.")}}function Gp(t,r){var a=pk(t);r.forEach(function(u){if(!a.has(u)){if(a.add(u),ro)if(mh!==null&&ph!==null)Rf(ph,mh);else throw Error("Expected finished root and lanes to be set. This is a bug in React.");var h=Ek.bind(null,t,u);u.then(h,h)}})}function Lr(t,r){var a=r.deletions;if(a!==null)for(var u=0;u<a.length;u++){var h=t,f=r,b=a[u],S=ur(),k=f;e:for(;k!==null;){switch(k.tag){case 27:if(Ql(k.type)){pi=k.stateNode,Br=!1;break e}break;case 5:pi=k.stateNode,Br=!1;break e;case 3:case 4:pi=k.stateNode.containerInfo,Br=!0;break e}k=k.return}if(pi===null)throw Error("Expected to find a host parent. This error is likely caused by a bug in React. Please file an issue.");_S(h,f,b),pi=null,Br=!1,(b.mode&xt)!==ut&&0<=rt&&0<=lt&&.05<lt-rt&&Mr(b,rt,lt,"Unmount"),cr(S),h=b,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)SS(r,t),r=r.sibling}function SS(t,r){var a=ur(),u=Ds(),h=ws(),f=Rs(),b=t.alternate,S=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Lr(r,t),Pr(t),S&4&&(kd(gr|Hs,t,t.return),Nf(gr|Hs,t),Ny(t,t.return,us|Hs));break;case 1:if(Lr(r,t),Pr(t),S&512&&(mi||b===null||Qa(b,b.return)),S&64&&ol&&(S=t.updateQueue,S!==null&&(b=S.callbacks,b!==null))){var k=S.shared.hiddenCallbacks;S.shared.hiddenCallbacks=k===null?b:k.concat(b)}break;case 26:if(k=ya,Lr(r,t),Pr(t),S&512&&(mi||b===null||Qa(b,b.return)),S&4){var F=b!==null?b.memoizedState:null;if(S=t.memoizedState,b===null)if(S===null)if(t.stateNode===null){e:{S=t.type,b=t.memoizedProps,k=k.ownerDocument||k;t:switch(S){case"title":F=k.getElementsByTagName("title")[0],(!F||F[zf]||F[Yi]||F.namespaceURI===qd||F.hasAttribute("itemprop"))&&(F=k.createElement(S),k.head.insertBefore(F,k.querySelector("head > title"))),Xi(F,S,b),F[Yi]=t,K(F),S=F;break e;case"link":var ce=IE("link","href",k).get(S+(b.href||""));if(ce){for(var he=0;he<ce.length;he++)if(F=ce[he],F.getAttribute("href")===(b.href==null||b.href===""?null:b.href)&&F.getAttribute("rel")===(b.rel==null?null:b.rel)&&F.getAttribute("title")===(b.title==null?null:b.title)&&F.getAttribute("crossorigin")===(b.crossOrigin==null?null:b.crossOrigin)){ce.splice(he,1);break t}}F=k.createElement(S),Xi(F,S,b),k.head.appendChild(F);break;case"meta":if(ce=IE("meta","content",k).get(S+(b.content||""))){for(he=0;he<ce.length;he++)if(F=ce[he],Ke(b.content,"content"),F.getAttribute("content")===(b.content==null?null:""+b.content)&&F.getAttribute("name")===(b.name==null?null:b.name)&&F.getAttribute("property")===(b.property==null?null:b.property)&&F.getAttribute("http-equiv")===(b.httpEquiv==null?null:b.httpEquiv)&&F.getAttribute("charset")===(b.charSet==null?null:b.charSet)){ce.splice(he,1);break t}}F=k.createElement(S),Xi(F,S,b),k.head.appendChild(F);break;default:throw Error('getNodesForType encountered a type it did not expect: "'+S+'". This is a bug in React.')}F[Yi]=t,K(F),S=F}t.stateNode=S}else LE(k,t.type,t.stateNode);else t.stateNode=ME(k,S,t.memoizedProps);else F!==S?(F===null?b.stateNode!==null&&(b=b.stateNode,b.parentNode.removeChild(b)):F.count--,S===null?LE(k,t.type,t.stateNode):ME(k,S,t.memoizedProps)):S===null&&t.stateNode!==null&&Dy(t,t.memoizedProps,b.memoizedProps)}break;case 27:Lr(r,t),Pr(t),S&512&&(mi||b===null||Qa(b,b.return)),b!==null&&S&4&&Dy(t,t.memoizedProps,b.memoizedProps);break;case 5:if(Lr(r,t),Pr(t),S&512&&(mi||b===null||Qa(b,b.return)),t.flags&32){k=t.stateNode;try{je(t,xE,k)}catch(Ye){Yt(t,t.return,Ye)}}S&4&&t.stateNode!=null&&(k=t.memoizedProps,Dy(t,k,b!==null?b.memoizedProps:k)),S&1024&&(c_=!0,t.type!=="form"&&console.error("Unexpected host component type. Expected a form. This is a bug in React."));break;case 6:if(Lr(r,t),Pr(t),S&4){if(t.stateNode===null)throw Error("This should have a text node initialized. This error is likely caused by a bug in React. Please file an issue.");S=t.memoizedProps,b=b!==null?b.memoizedProps:S,k=t.stateNode;try{je(t,Uk,k,b,S)}catch(Ye){Yt(t,t.return,Ye)}}break;case 3:if(k=Cs(),lb=null,F=ya,ya=eg(r.containerInfo),Lr(r,t),ya=F,Pr(t),S&4&&b!==null&&b.memoizedState.isDehydrated)try{je(t,Wk,r.containerInfo)}catch(Ye){Yt(t,t.return,Ye)}c_&&(c_=!1,ES(t)),r.effectDuration+=Td(k);break;case 4:S=ya,ya=eg(t.stateNode.containerInfo),Lr(r,t),Pr(t),ya=S;break;case 12:S=Cs(),Lr(r,t),Pr(t),t.stateNode.effectDuration+=ic(S);break;case 31:Lr(r,t),Pr(t),S&4&&(S=t.updateQueue,S!==null&&(t.updateQueue=null,Gp(t,S)));break;case 13:Lr(r,t),Pr(t),t.child.flags&8192&&t.memoizedState!==null!=(b!==null&&b.memoizedState!==null)&&(Xg=Ii()),S&4&&(S=t.updateQueue,S!==null&&(t.updateQueue=null,Gp(t,S)));break;case 22:k=t.memoizedState!==null;var re=b!==null&&b.memoizedState!==null,Ne=ol,He=mi;if(ol=Ne||k,mi=He||re,Lr(r,t),mi=He,ol=Ne,re&&!k&&!Ne&&!He&&(t.mode&xt)!==ut&&0<=rt&&0<=lt&&.05<lt-rt&&Po(t,rt,lt),Pr(t),S&8192)e:for(r=t.stateNode,r._visibility=k?r._visibility&~Wf:r._visibility|Wf,!k||b===null||re||ol||mi||(mc(t),(t.mode&xt)!==ut&&0<=rt&&0<=lt&&.05<lt-rt&&Mr(t,rt,lt,"Disconnect")),b=null,r=t;;){if(r.tag===5||r.tag===26){if(b===null){re=b=r;try{F=re.stateNode,k?je(re,Hk,F):je(re,Gk,re.stateNode,re.memoizedProps)}catch(Ye){Yt(re,re.return,Ye)}}}else if(r.tag===6){if(b===null){re=r;try{ce=re.stateNode,k?je(re,$k,ce):je(re,Xk,ce,re.memoizedProps)}catch(Ye){Yt(re,re.return,Ye)}}}else if(r.tag===18){if(b===null){re=r;try{he=re.stateNode,k?je(re,zk,he):je(re,qk,re.stateNode)}catch(Ye){Yt(re,re.return,Ye)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;b===r&&(b=null),r=r.return}b===r&&(b=null),r.sibling.return=r.return,r=r.sibling}S&4&&(S=t.updateQueue,S!==null&&(b=S.retryQueue,b!==null&&(S.retryQueue=null,Gp(t,b))));break;case 19:Lr(r,t),Pr(t),S&4&&(S=t.updateQueue,S!==null&&(t.updateQueue=null,Gp(t,S)));break;case 30:break;case 21:break;default:Lr(r,t),Pr(t)}(t.mode&xt)!==ut&&0<=rt&&0<=lt&&((qn||.05<In)&&Si(t,rt,lt,In,Dn),t.alternate===null&&t.return!==null&&t.return.alternate!==null&&.05<lt-rt&&(bS(t.return.alternate,t.return)||Mr(t,rt,lt,"Mount"))),cr(a),As(u),Dn=h,qn=f}function Pr(t){var r=t.flags;if(r&2){try{je(t,fk,t)}catch(a){Yt(t,t.return,a)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function ES(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;ES(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function Za(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)yS(t,r.alternate,r),r=r.sibling}function NS(t){var r=ur(),a=Ds(),u=ws(),h=Rs();switch(t.tag){case 0:case 11:case 14:case 15:Ny(t,t.return,us),mc(t);break;case 1:Qa(t,t.return);var f=t.stateNode;typeof f.componentWillUnmount=="function"&&hS(t,t.return,f),mc(t);break;case 27:je(t,Lf,t.stateNode);case 26:case 5:Qa(t,t.return),mc(t);break;case 22:t.memoizedState===null&&mc(t);break;case 30:mc(t);break;default:mc(t)}(t.mode&xt)!==ut&&0<=rt&&0<=lt&&(qn||.05<In)&&Si(t,rt,lt,In,Dn),cr(r),As(a),Dn=u,qn=h}function mc(t){for(t=t.child;t!==null;)NS(t),t=t.sibling}function CS(t,r,a,u){var h=ur(),f=Ds(),b=ws(),S=Rs(),k=a.flags;switch(a.tag){case 0:case 11:case 15:Wa(t,a,u),uS(a,us);break;case 1:if(Wa(t,a,u),r=a.stateNode,typeof r.componentDidMount=="function"&&je(a,Wv,a,r),r=a.updateQueue,r!==null){t=a.stateNode;try{je(a,T,r,t)}catch(F){Yt(a,a.return,F)}}u&&k&64&&dS(a),Cf(a,a.return);break;case 27:gS(a);case 26:case 5:Wa(t,a,u),u&&r===null&&k&4&&mS(a),Cf(a,a.return);break;case 12:if(u&&k&4){k=Cs(),Wa(t,a,u),u=a.stateNode,u.effectDuration+=ic(k);try{je(a,fS,a,r,su,u.effectDuration)}catch(F){Yt(a,a.return,F)}}else Wa(t,a,u);break;case 31:Wa(t,a,u),u&&k&4&&xS(t,a);break;case 13:Wa(t,a,u),u&&k&4&&TS(t,a);break;case 22:a.memoizedState===null&&Wa(t,a,u),Cf(a,a.return);break;case 30:break;default:Wa(t,a,u)}(a.mode&xt)!==ut&&0<=rt&&0<=lt&&(qn||.05<In)&&Si(a,rt,lt,In,Dn),cr(h),As(f),Dn=b,qn=S}function Wa(t,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;)CS(t,r.alternate,r,a),r=r.sibling}function Ry(t,r){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==a&&(t!=null&&Ha(t),a!=null&&Ul(a))}function ky(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(Ha(r),t!=null&&Ul(t))}function fa(t,r,a,u,h){if(r.subtreeFlags&10256||r.actualDuration!==0&&(r.alternate===null||r.alternate.child!==r.child))for(r=r.child;r!==null;){var f=r.sibling;DS(t,r,a,u,f!==null?f.actualStartTime:h),r=f}}function DS(t,r,a,u,h){var f=ur(),b=Ds(),S=ws(),k=Rs(),F=tu,ce=r.flags;switch(r.tag){case 0:case 11:case 15:(r.mode&xt)!==ut&&0<r.actualStartTime&&(r.flags&1)!==0&&ja(r,r.actualStartTime,h,Di,a),fa(t,r,a,u,h),ce&2048&&cS(r,br|Hs);break;case 1:(r.mode&xt)!==ut&&0<r.actualStartTime&&((r.flags&128)!==0?Ua(r,r.actualStartTime,h,[]):(r.flags&1)!==0&&ja(r,r.actualStartTime,h,Di,a)),fa(t,r,a,u,h);break;case 3:var he=Cs(),re=Di;Di=r.alternate!==null&&r.alternate.memoizedState.isDehydrated&&(r.flags&256)===0,fa(t,r,a,u,h),Di=re,ce&2048&&(a=null,r.alternate!==null&&(a=r.alternate.memoizedState.cache),u=r.memoizedState.cache,u!==a&&(Ha(u),a!=null&&Ul(a))),t.passiveEffectDuration+=Td(he);break;case 12:if(ce&2048){ce=Cs(),fa(t,r,a,u,h),t=r.stateNode,t.passiveEffectDuration+=ic(ce);try{je(r,hk,r,r.alternate,su,t.passiveEffectDuration)}catch(Ne){Yt(r,r.return,Ne)}}else fa(t,r,a,u,h);break;case 31:ce=Di,he=r.alternate!==null?r.alternate.memoizedState:null,re=r.memoizedState,he!==null&&re===null?(re=r.deletions,re!==null&&0<re.length&&re[0].tag===18?(Di=!1,he=he.hydrationErrors,he!==null&&Ua(r,r.actualStartTime,h,he)):Di=!0):Di=!1,fa(t,r,a,u,h),Di=ce;break;case 13:ce=Di,he=r.alternate!==null?r.alternate.memoizedState:null,re=r.memoizedState,he===null||he.dehydrated===null||re!==null&&re.dehydrated!==null?Di=!1:(re=r.deletions,re!==null&&0<re.length&&re[0].tag===18?(Di=!1,he=he.hydrationErrors,he!==null&&Ua(r,r.actualStartTime,h,he)):Di=!0),fa(t,r,a,u,h),Di=ce;break;case 23:break;case 22:re=r.stateNode,he=r.alternate,r.memoizedState!==null?re._visibility&Wo?fa(t,r,a,u,h):Df(t,r,a,u,h):re._visibility&Wo?fa(t,r,a,u,h):(re._visibility|=Wo,Od(t,r,a,u,(r.subtreeFlags&10256)!==0||r.actualDuration!==0&&(r.alternate===null||r.alternate.child!==r.child),h),(r.mode&xt)===ut||Di||(t=r.actualStartTime,0<=t&&.05<h-t&&Po(r,t,h),0<=rt&&0<=lt&&.05<lt-rt&&Po(r,rt,lt))),ce&2048&&Ry(he,r);break;case 24:fa(t,r,a,u,h),ce&2048&&ky(r.alternate,r);break;default:fa(t,r,a,u,h)}(r.mode&xt)!==ut&&((t=!Di&&r.alternate===null&&r.return!==null&&r.return.alternate!==null)&&(a=r.actualStartTime,0<=a&&.05<h-a&&Mr(r,a,h,"Mount")),0<=rt&&0<=lt&&((qn||.05<In)&&Si(r,rt,lt,In,Dn),t&&.05<lt-rt&&Mr(r,rt,lt,"Mount"))),cr(f),As(b),Dn=S,qn=k,tu=F}function Od(t,r,a,u,h,f){for(h=h&&((r.subtreeFlags&10256)!==0||r.actualDuration!==0&&(r.alternate===null||r.alternate.child!==r.child)),r=r.child;r!==null;){var b=r.sibling;AS(t,r,a,u,h,b!==null?b.actualStartTime:f),r=b}}function AS(t,r,a,u,h,f){var b=ur(),S=Ds(),k=ws(),F=Rs(),ce=tu;h&&(r.mode&xt)!==ut&&0<r.actualStartTime&&(r.flags&1)!==0&&ja(r,r.actualStartTime,f,Di,a);var he=r.flags;switch(r.tag){case 0:case 11:case 15:Od(t,r,a,u,h,f),cS(r,br);break;case 23:break;case 22:var re=r.stateNode;r.memoizedState!==null?re._visibility&Wo?Od(t,r,a,u,h,f):Df(t,r,a,u,f):(re._visibility|=Wo,Od(t,r,a,u,h,f)),h&&he&2048&&Ry(r.alternate,r);break;case 24:Od(t,r,a,u,h,f),h&&he&2048&&ky(r.alternate,r);break;default:Od(t,r,a,u,h,f)}(r.mode&xt)!==ut&&0<=rt&&0<=lt&&(qn||.05<In)&&Si(r,rt,lt,In,Dn),cr(b),As(S),Dn=k,qn=F,tu=ce}function Df(t,r,a,u,h){if(r.subtreeFlags&10256||r.actualDuration!==0&&(r.alternate===null||r.alternate.child!==r.child))for(var f=r.child;f!==null;){r=f.sibling;var b=t,S=a,k=u,F=r!==null?r.actualStartTime:h,ce=tu;(f.mode&xt)!==ut&&0<f.actualStartTime&&(f.flags&1)!==0&&ja(f,f.actualStartTime,F,Di,S);var he=f.flags;switch(f.tag){case 22:Df(b,f,S,k,F),he&2048&&Ry(f.alternate,f);break;case 24:Df(b,f,S,k,F),he&2048&&ky(f.alternate,f);break;default:Df(b,f,S,k,F)}tu=ce,f=r}}function Md(t,r,a){if(t.subtreeFlags&bm)for(t=t.child;t!==null;)wS(t,r,a),t=t.sibling}function wS(t,r,a){switch(t.tag){case 26:Md(t,r,a),t.flags&bm&&t.memoizedState!==null&&iO(a,ya,t.memoizedState,t.memoizedProps);break;case 5:Md(t,r,a);break;case 3:case 4:var u=ya;ya=eg(t.stateNode.containerInfo),Md(t,r,a),ya=u;break;case 22:t.memoizedState===null&&(u=t.alternate,u!==null&&u.memoizedState!==null?(u=bm,bm=16777216,Md(t,r,a),bm=u):Md(t,r,a));break;default:Md(t,r,a)}}function RS(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function Af(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var u=r[a],h=ur();Pi=u,MS(u,t),(u.mode&xt)!==ut&&0<=rt&&0<=lt&&.05<lt-rt&&Mr(u,rt,lt,"Unmount"),cr(h)}RS(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)kS(t),t=t.sibling}function kS(t){var r=ur(),a=Ds(),u=ws(),h=Rs();switch(t.tag){case 0:case 11:case 15:Af(t),t.flags&2048&&Cy(t,t.return,br|Hs);break;case 3:var f=Cs();Af(t),t.stateNode.passiveEffectDuration+=Td(f);break;case 12:f=Cs(),Af(t),t.stateNode.passiveEffectDuration+=ic(f);break;case 22:f=t.stateNode,t.memoizedState!==null&&f._visibility&Wo&&(t.return===null||t.return.tag!==13)?(f._visibility&=~Wo,Xp(t),(t.mode&xt)!==ut&&0<=rt&&0<=lt&&.05<lt-rt&&Mr(t,rt,lt,"Disconnect")):Af(t);break;default:Af(t)}(t.mode&xt)!==ut&&0<=rt&&0<=lt&&(qn||.05<In)&&Si(t,rt,lt,In,Dn),cr(r),As(a),qn=h,Dn=u}function Xp(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var u=r[a],h=ur();Pi=u,MS(u,t),(u.mode&xt)!==ut&&0<=rt&&0<=lt&&.05<lt-rt&&Mr(u,rt,lt,"Unmount"),cr(h)}RS(t)}for(t=t.child;t!==null;)OS(t),t=t.sibling}function OS(t){var r=ur(),a=Ds(),u=ws(),h=Rs();switch(t.tag){case 0:case 11:case 15:Cy(t,t.return,br),Xp(t);break;case 22:var f=t.stateNode;f._visibility&Wo&&(f._visibility&=~Wo,Xp(t));break;default:Xp(t)}(t.mode&xt)!==ut&&0<=rt&&0<=lt&&(qn||.05<In)&&Si(t,rt,lt,In,Dn),cr(r),As(a),qn=h,Dn=u}function MS(t,r){for(;Pi!==null;){var a=Pi,u=a,h=r,f=ur(),b=Ds(),S=ws(),k=Rs();switch(u.tag){case 0:case 11:case 15:Cy(u,h,br);break;case 23:case 22:u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(h=u.memoizedState.cachePool.pool,h!=null&&Ha(h));break;case 24:Ul(u.memoizedState.cache)}if((u.mode&xt)!==ut&&0<=rt&&0<=lt&&(qn||.05<In)&&Si(u,rt,lt,In,Dn),cr(f),As(b),qn=k,Dn=S,u=a.child,u!==null)u.return=a,Pi=u;else e:for(a=t;Pi!==null;){if(u=Pi,f=u.sibling,b=u.return,vS(u),u===a){Pi=null;break e}if(f!==null){f.return=b,Pi=f;break e}Pi=b}}}function gk(){U5.forEach(function(t){return t()})}function IS(){var t=typeof IS_REACT_ACT_ENVIRONMENT<"u"?IS_REACT_ACT_ENVIRONMENT:void 0;return t||we.actQueue===null||console.error("The current testing environment is not configured to support act(...)"),t}function is(t){if((Ut&Ai)!==Bi&&St!==0)return St&-St;var r=we.T;return r!==null?(r._updatedFibers||(r._updatedFibers=new Set),r._updatedFibers.add(t),Uy()):Ar()}function LS(){if(Ur===0)if((St&536870912)===0||wt){var t=hg;hg<<=1,(hg&3932160)===0&&(hg=262144),Ur=t}else Ur=536870912;return t=ls.current,t!==null&&(t.flags|=32),Ur}function $n(t,r,a){if(yh&&console.error("useInsertionEffect must not schedule updates."),x_&&(Wg=!0),(t===cn&&(Jt===Rc||Jt===kc)||t.cancelPendingCommit!==null)&&(Ld(t,0),Xl(t,St,Ur,!1)),Ht(t,a),(Ut&Ai)!==Bi&&t===cn){if(no)switch(r.tag){case 0:case 11:case 15:t=Nt&&j(Nt)||"Unknown",lD.has(t)||(lD.add(t),r=j(r)||"Unknown",console.error("Cannot update a component (`%s`) while rendering a different component (`%s`). To locate the bad setState() call inside `%s`, follow the stack trace as described in https://react.dev/link/setstate-in-render",r,t,t));break;case 1:oD||(console.error("Cannot update during an existing state transition (such as within `render`). Render methods should be a pure function of props and state."),oD=!0)}}else ro&&Dr(t,r,a),Ck(r),t===cn&&((Ut&Ai)===Bi&&(fu|=a),Ln===cu&&Xl(t,St,Ur,!1)),Ka(t)}function PS(t,r,a){if((Ut&(Ai|cs))!==Bi)throw Error("Should not already be working.");if(St!==0&&Nt!==null){var u=Nt,h=Ii();switch(eC){case _m:case Rc:var f=im;xn&&((u=u._debugTask)?u.run(console.timeStamp.bind(console,"Suspended",f,h,Ls,void 0,"primary-light")):console.timeStamp("Suspended",f,h,Ls,void 0,"primary-light"));break;case kc:f=im,xn&&((u=u._debugTask)?u.run(console.timeStamp.bind(console,"Action",f,h,Ls,void 0,"primary-light")):console.timeStamp("Action",f,h,Ls,void 0,"primary-light"));break;default:xn&&(u=h-im,3>u||console.timeStamp("Blocked",im,h,Ls,void 0,5>u?"primary-light":10>u?"primary":100>u?"primary-dark":"error"))}}f=(a=!a&&(r&127)===0&&(r&t.expiredLanes)===0||Ri(t,r))?yk(t,r):My(t,r,!0);var b=a;do{if(f===ll){gh&&!a&&Xl(t,r,0,!1),r=Jt,im=di(),eC=r;break}else{if(u=Ii(),h=t.current.alternate,b&&!bk(h)){or(r),h=Li,f=u,!xn||f<=h||(Zn?Zn.run(console.timeStamp.bind(console,"Teared Render",h,f,jt,kt,"error")):console.timeStamp("Teared Render",h,f,jt,kt,"error")),pc(r,u),f=My(t,r,!1),b=!1;continue}if(f===wc){if(b=r,t.errorRecoveryDisabledLanes&b)var S=0;else S=t.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){or(r),Rl(Li,u,r,Zn),pc(r,u),r=S;e:{u=t,f=b,b=Tm;var k=u.current.memoizedState.isDehydrated;if(k&&(Ld(u,S).flags|=256),S=My(u,S,!1),S!==wc){if(f_&&!k){u.errorRecoveryDisabledLanes|=f,fu|=f,f=cu;break e}u=yr,yr=b,u!==null&&(yr===null?yr=u:yr.push.apply(yr,u))}f=S}if(b=!1,f!==wc)continue;u=Ii()}}if(f===vm){or(r),Rl(Li,u,r,Zn),pc(r,u),Ld(t,0),Xl(t,r,0,!0);break}e:{switch(a=t,f){case ll:case vm:throw Error("Root did not complete. This is a bug in React.");case cu:if((r&4194048)!==r)break;case Hg:or(r),lr(Li,u,r,Zn),pc(r,u),h=r,(h&127)!==0?Ag=u:(h&4194048)!==0&&(wg=u),Xl(a,r,Ur,!du);break e;case wc:yr=null;break;case zg:case YC:break;default:throw Error("Unknown root exit status.")}if(we.actQueue!==null)Iy(a,h,r,yr,Sm,Gg,Ur,fu,Oc,f,null,null,Li,u);else{if((r&62914560)===r&&(b=Xg+WC-Ii(),10<b)){if(Xl(a,r,Ur,!du),Jn(a,0,!0)!==0)break e;va=r,a.timeoutHandle=gD(BS.bind(null,a,h,yr,Sm,Gg,r,Ur,fu,Oc,du,f,"Throttled",Li,u),b);break e}BS(a,h,yr,Sm,Gg,r,Ur,fu,Oc,du,f,null,Li,u)}}}break}while(!0);Ka(t)}function BS(t,r,a,u,h,f,b,S,k,F,ce,he,re,Ne){t.timeoutHandle=Bc;var He=r.subtreeFlags,Ye=null;if((He&8192||(He&16785408)===16785408)&&(Ye={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Wr},wS(r,f,Ye),He=(f&62914560)===f?Xg-Ii():(f&4194048)===f?ZC-Ii():0,He=rO(Ye,He),He!==null)){va=f,t.cancelPendingCommit=He(Iy.bind(null,t,r,f,a,u,h,b,S,k,ce,Ye,Ye.waitingForViewTransition?"Waiting for the previous Animation":0<Ye.count?0<Ye.imgCount?"Suspended on CSS and Images":"Suspended on CSS":Ye.imgCount===1?"Suspended on an Image":0<Ye.imgCount?"Suspended on Images":null,re,Ne)),Xl(t,f,b,!F);return}Iy(t,r,f,a,u,h,b,S,k,ce,Ye,he,re,Ne)}function bk(t){for(var r=t;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var u=0;u<a.length;u++){var h=a[u],f=h.getSnapshot;h=h.value;try{if(!mr(f(),h))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Xl(t,r,a,u){r&=~m_,r&=~fu,t.suspendedLanes|=r,t.pingedLanes&=~r,u&&(t.warmLanes|=r),u=t.expirationTimes;for(var h=r;0<h;){var f=31-dr(h),b=1<<f;u[f]=-1,h&=~b}a!==0&&ta(t,a,r)}function Id(){return(Ut&(Ai|cs))===Bi?(kf(0),!1):!0}function Oy(){if(Nt!==null){if(Jt===jr)var t=Nt.return;else t=Nt,yd(),$o(t),oh=null,hm=0,t=Nt;for(;t!==null;)lS(t.alternate,t),t=t.return;Nt=null}}function pc(t,r){(t&127)!==0&&(_c=r),(t&4194048)!==0&&(nl=r),(t&62914560)!==0&&(KN=r),(t&2080374784)!==0&&(JN=r)}function Ld(t,r){xn&&(console.timeStamp("Blocking Track",.003,.003,"Blocking",kt,"primary-light"),console.timeStamp("Transition Track",.003,.003,"Transition",kt,"primary-light"),console.timeStamp("Suspense Track",.003,.003,"Suspense",kt,"primary-light"),console.timeStamp("Idle Track",.003,.003,"Idle",kt,"primary-light"));var a=Li;if(Li=di(),St!==0&&0<a){if(or(St),Ln===zg||Ln===cu)lr(a,Li,r,Zn);else{var u=Li,h=Zn;if(xn&&!(u<=a)){var f=(r&738197653)===r?"tertiary-dark":"primary-dark",b=(r&536870912)===r?"Prewarm":(r&201326741)===r?"Interrupted Hydration":"Interrupted Render";h?h.run(console.timeStamp.bind(console,b,a,u,jt,kt,f)):console.timeStamp(b,a,u,jt,kt,f)}}pc(St,Li)}if(a=Zn,Zn=null,(r&127)!==0){Zn=em,h=0<=lo&&lo<_c?_c:lo,u=0<=xc&&xc<_c?_c:xc,f=0<=u?u:0<=h?h:Li,0<=Ag?(or(2),fd(Ag,f,r,a)):Rg&127,a=h;var S=u,k=tm,F=0<rh,ce=au===Jf,he=au===Dg;if(h=Li,u=em,f=Gv,b=Xv,xn){if(jt="Blocking",0<a?a>h&&(a=h):a=h,0<S?S>a&&(S=a):S=a,k!==null&&a>S){var re=F?"secondary-light":"warning";u?u.run(console.timeStamp.bind(console,F?"Consecutive":"Event: "+k,S,a,jt,kt,re)):console.timeStamp(F?"Consecutive":"Event: "+k,S,a,jt,kt,re)}h>a&&(S=ce?"error":(r&738197653)===r?"tertiary-light":"primary-light",ce=he?"Promise Resolved":ce?"Cascading Update":5<h-a?"Update Blocked":"Update",he=[],b!=null&&he.push(["Component name",b]),f!=null&&he.push(["Method name",f]),a={start:a,end:h,detail:{devtools:{properties:he,track:jt,trackGroup:kt,color:S}}},u?u.run(performance.measure.bind(performance,ce,a)):performance.measure(ce,a))}lo=-1.1,au=0,Xv=Gv=null,Ag=-1.1,rh=xc,xc=-1.1,_c=di()}if((r&4194048)!==0&&(Zn=nm,h=0<=il&&il<nl?nl:il,a=0<=Fs&&Fs<nl?nl:Fs,u=0<=ou&&ou<nl?nl:ou,f=0<=u?u:0<=a?a:Li,0<=wg?(or(256),fd(wg,f,r,Zn)):Rg&4194048,he=u,S=Tc,k=0<lu,F=Yv===Dg,f=Li,u=nm,b=ZN,ce=WN,xn&&(jt="Transition",0<a?a>f&&(a=f):a=f,0<h?h>a&&(h=a):h=a,0<he?he>h&&(he=h):he=h,h>he&&S!==null&&(re=k?"secondary-light":"warning",u?u.run(console.timeStamp.bind(console,k?"Consecutive":"Event: "+S,he,h,jt,kt,re)):console.timeStamp(k?"Consecutive":"Event: "+S,he,h,jt,kt,re)),a>h&&(u?u.run(console.timeStamp.bind(console,"Action",h,a,jt,kt,"primary-dark")):console.timeStamp("Action",h,a,jt,kt,"primary-dark")),f>a&&(h=F?"Promise Resolved":5<f-a?"Update Blocked":"Update",he=[],ce!=null&&he.push(["Component name",ce]),b!=null&&he.push(["Method name",b]),a={start:a,end:f,detail:{devtools:{properties:he,track:jt,trackGroup:kt,color:"primary-light"}}},u?u.run(performance.measure.bind(performance,h,a)):performance.measure(h,a))),Fs=il=-1.1,Yv=0,wg=-1.1,lu=ou,ou=-1.1,nl=di()),(r&62914560)!==0&&(Rg&62914560)!==0&&(or(4194304),Bo(KN,Li)),(r&2080374784)!==0&&(Rg&2080374784)!==0&&(or(268435456),Bo(JN,Li)),a=t.timeoutHandle,a!==Bc&&(t.timeoutHandle=Bc,K5(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),va=0,Oy(),cn=t,Nt=a=Y(t.current,null),St=r,Jt=jr,ds=null,du=!1,gh=Ri(t,r),f_=!1,Ln=ll,Oc=Ur=m_=fu=hu=0,yr=Tm=null,Gg=!1,(r&8)!==0&&(r|=r&32),u=t.entangledLanes,u!==0)for(t=t.entanglements,u&=r;0<u;)h=31-dr(u),f=1<<h,r|=t[h],u&=~f;return co=r,kl(),t=$N(),1e3<t-HN&&(we.recentlyCreatedOwnerStacks=0,HN=t),ga.discardPendingWarnings(),a}function jS(t,r){ft=null,we.H=gm,we.getCurrentStack=null,no=!1,as=null,r===ah||r===Ig?(r=Cp(),Jt=_m):r===Kv?(r=Cp(),Jt=QC):Jt=r===l_?h_:r!==null&&typeof r=="object"&&typeof r.then=="function"?xm:$g,ds=r;var a=Nt;a===null?(Ln=vm,Vp(t,Vt(r,t.current))):a.mode&xt&&pf(a)}function US(){var t=ls.current;return t===null?!0:(St&4194048)===St?zs===null:(St&62914560)===St||(St&536870912)!==0?t===zs:!1}function VS(){var t=we.H;return we.H=gm,t===null?gm:t}function FS(){var t=we.A;return we.A=j5,t}function Yp(t){Zn===null&&(Zn=t._debugTask==null?null:t._debugTask)}function Qp(){Ln=cu,du||(St&4194048)!==St&&ls.current!==null||(gh=!0),(hu&134217727)===0&&(fu&134217727)===0||cn===null||Xl(cn,St,Ur,!1)}function My(t,r,a){var u=Ut;Ut|=Ai;var h=VS(),f=FS();if(cn!==t||St!==r){if(ro){var b=t.memoizedUpdaters;0<b.size&&(Rf(t,St),b.clear()),Ca(t,r)}Sm=null,Ld(t,r)}r=!1,b=Ln;e:do try{if(Jt!==jr&&Nt!==null){var S=Nt,k=ds;switch(Jt){case h_:Oy(),b=Hg;break e;case _m:case Rc:case kc:case xm:ls.current===null&&(r=!0);var F=Jt;if(Jt=jr,ds=null,Pd(t,S,k,F),a&&gh){b=ll;break e}break;default:F=Jt,Jt=jr,ds=null,Pd(t,S,k,F)}}zS(),b=Ln;break}catch(ce){jS(t,ce)}while(!0);return r&&t.shellSuspendCounter++,yd(),Ut=u,we.H=h,we.A=f,Nt===null&&(cn=null,St=0,kl()),b}function zS(){for(;Nt!==null;)HS(Nt)}function yk(t,r){var a=Ut;Ut|=Ai;var u=VS(),h=FS();if(cn!==t||St!==r){if(ro){var f=t.memoizedUpdaters;0<f.size&&(Rf(t,St),f.clear()),Ca(t,r)}Sm=null,Yg=Ii()+KC,Ld(t,r)}else gh=Ri(t,r);e:do try{if(Jt!==jr&&Nt!==null)t:switch(r=Nt,f=ds,Jt){case $g:Jt=jr,ds=null,Pd(t,r,f,$g);break;case Rc:case kc:if(ac(f)){Jt=jr,ds=null,$S(r);break}r=function(){Jt!==Rc&&Jt!==kc||cn!==t||(Jt=qg),Ka(t)},f.then(r,r);break e;case _m:Jt=qg;break e;case QC:Jt=d_;break e;case qg:ac(f)?(Jt=jr,ds=null,$S(r)):(Jt=jr,ds=null,Pd(t,r,f,qg));break;case d_:var b=null;switch(Nt.tag){case 26:b=Nt.memoizedState;case 5:case 27:var S=Nt;if(b?PE(b):S.stateNode.complete){Jt=jr,ds=null;var k=S.sibling;if(k!==null)Nt=k;else{var F=S.return;F!==null?(Nt=F,Zp(F)):Nt=null}break t}break;default:console.error("Unexpected type of fiber triggered a suspensey commit. This is a bug in React.")}Jt=jr,ds=null,Pd(t,r,f,d_);break;case xm:Jt=jr,ds=null,Pd(t,r,f,xm);break;case h_:Oy(),Ln=Hg;break e;default:throw Error("Unexpected SuspendedReason. This is a bug in React.")}we.actQueue!==null?zS():vk();break}catch(ce){jS(t,ce)}while(!0);return yd(),we.H=u,we.A=h,Ut=a,Nt!==null?ll:(cn=null,St=0,kl(),Ln)}function vk(){for(;Nt!==null&&!yO();)HS(Nt)}function HS(t){var r=t.alternate;(t.mode&xt)!==ut?(mf(t),r=je(t,Sy,r,t,co),pf(t)):r=je(t,Sy,r,t,co),t.memoizedProps=t.pendingProps,r===null?Zp(t):Nt=r}function $S(t){var r=je(t,_k,t);t.memoizedProps=t.pendingProps,r===null?Zp(t):Nt=r}function _k(t){var r=t.alternate,a=(t.mode&xt)!==ut;switch(a&&mf(t),t.tag){case 15:case 0:r=tS(r,t,t.pendingProps,t.type,void 0,St);break;case 11:r=tS(r,t,t.pendingProps,t.type.render,t.ref,St);break;case 5:$o(t);default:lS(r,t),t=Nt=ne(t,co),r=Sy(r,t,co)}return a&&pf(t),r}function Pd(t,r,a,u){yd(),$o(r),oh=null,hm=0;var h=r.return;try{if(rk(t,h,r,a,St)){Ln=vm,Vp(t,Vt(a,t.current)),Nt=null;return}}catch(f){if(h!==null)throw Nt=h,f;Ln=vm,Vp(t,Vt(a,t.current)),Nt=null;return}r.flags&32768?(wt||u===$g?t=!0:gh||(St&536870912)!==0?t=!1:(du=t=!0,(u===Rc||u===kc||u===_m||u===xm)&&(u=ls.current,u!==null&&u.tag===13&&(u.flags|=16384))),qS(r,t)):Zp(r)}function Zp(t){var r=t;do{if((r.flags&32768)!==0){qS(r,du);return}var a=r.alternate;if(t=r.return,mf(r),a=je(r,ok,a,r,co),(r.mode&xt)!==ut&&Tp(r),a!==null){Nt=a;return}if(r=r.sibling,r!==null){Nt=r;return}Nt=r=t}while(r!==null);Ln===ll&&(Ln=YC)}function qS(t,r){do{var a=lk(t.alternate,t);if(a!==null){a.flags&=32767,Nt=a;return}if((t.mode&xt)!==ut){Tp(t),a=t.actualDuration;for(var u=t.child;u!==null;)a+=u.actualDuration,u=u.sibling;t.actualDuration=a}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(t=t.sibling,t!==null)){Nt=t;return}Nt=t=a}while(t!==null);Ln=Hg,Nt=null}function Iy(t,r,a,u,h,f,b,S,k,F,ce,he,re,Ne){t.cancelPendingCommit=null;do wf();while(gi!==pu);if(ga.flushLegacyContextWarning(),ga.flushPendingUnsafeLifecycleWarnings(),(Ut&(Ai|cs))!==Bi)throw Error("Should not already be working.");if(or(a),F===wc?Rl(re,Ne,a,Zn):u!==null?md(re,Ne,a,u,r!==null&&r.alternate!==null&&r.alternate.memoizedState.isDehydrated&&(r.flags&256)!==0,Zn):Va(re,Ne,a,Zn),r!==null){if(a===0&&console.error("finishedLanes should not be empty during a commit. This is a bug in React."),r===t.current)throw Error("Cannot commit the same tree as before. This error is likely caused by a bug in React. Please file an issue.");if(f=r.lanes|r.childLanes,f|=Fv,Eo(t,a,f,b,S,k),t===cn&&(Nt=cn=null,St=0),bh=r,gu=t,va=a,b_=f,v_=h,rD=u,y_=Ne,sD=he,_a=Qg,aD=null,r.actualDuration!==0||(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Nk(zd,function(){return wm=window.event,_a===Qg&&(_a=g_),ZS(),null})):(t.callbackNode=null,t.callbackPriority=0),tl=null,su=di(),he!==null&&Ju(Ne,su,he,Zn),u=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||u){u=we.T,we.T=null,h=Qt.p,Qt.p=Is,b=Ut,Ut|=cs;try{mk(t,r,a)}finally{Ut=b,Qt.p=h,we.T=u}}gi=eD,GS(),XS(),YS()}}function GS(){if(gi===eD){gi=pu;var t=gu,r=bh,a=va,u=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||u){u=we.T,we.T=null;var h=Qt.p;Qt.p=Is;var f=Ut;Ut|=cs;try{mh=a,ph=t,Vl(),SS(r,t),ph=mh=null,a=R_;var b=Lo(t.containerInfo),S=a.focusedElem,k=a.selectionRange;if(b!==S&&S&&S.ownerDocument&&Ku(S.ownerDocument.documentElement,S)){if(k!==null&&Ts(S)){var F=k.start,ce=k.end;if(ce===void 0&&(ce=F),"selectionStart"in S)S.selectionStart=F,S.selectionEnd=Math.min(ce,S.value.length);else{var he=S.ownerDocument||document,re=he&&he.defaultView||window;if(re.getSelection){var Ne=re.getSelection(),He=S.textContent.length,Ye=Math.min(k.start,He),gn=k.end===void 0?Ye:Math.min(k.end,He);!Ne.extend&&Ye>gn&&(b=gn,gn=Ye,Ye=b);var Ot=dd(S,Ye),ee=dd(S,gn);if(Ot&&ee&&(Ne.rangeCount!==1||Ne.anchorNode!==Ot.node||Ne.anchorOffset!==Ot.offset||Ne.focusNode!==ee.node||Ne.focusOffset!==ee.offset)){var ae=he.createRange();ae.setStart(Ot.node,Ot.offset),Ne.removeAllRanges(),Ye>gn?(Ne.addRange(ae),Ne.extend(ee.node,ee.offset)):(ae.setEnd(ee.node,ee.offset),Ne.addRange(ae))}}}}for(he=[],Ne=S;Ne=Ne.parentNode;)Ne.nodeType===1&&he.push({element:Ne,left:Ne.scrollLeft,top:Ne.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<he.length;S++){var ue=he[S];ue.element.scrollLeft=ue.left,ue.element.scrollTop=ue.top}}db=!!w_,R_=w_=null}finally{Ut=f,Qt.p=h,we.T=u}}t.current=r,gi=tD}}function XS(){if(gi===tD){gi=pu;var t=aD;if(t!==null){su=di();var r=el,a=su;!xn||a<=r||console.timeStamp(t,r,a,jt,kt,"secondary-light")}t=gu,r=bh,a=va;var u=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||u){u=we.T,we.T=null;var h=Qt.p;Qt.p=Is;var f=Ut;Ut|=cs;try{mh=a,ph=t,Vl(),yS(t,r.alternate,r),ph=mh=null}finally{Ut=f,Qt.p=h,we.T=u}}t=y_,r=sD,el=di(),t=r===null?t:su,r=el,a=_a===p_,u=Zn,tl!==null?pd(t,r,tl,!1,u):!xn||r<=t||(u?u.run(console.timeStamp.bind(console,a?"Commit Interrupted View Transition":"Commit",t,r,jt,kt,a?"error":"secondary-dark")):console.timeStamp(a?"Commit Interrupted View Transition":"Commit",t,r,jt,kt,a?"error":"secondary-dark")),gi=nD}}function YS(){if(gi===iD||gi===nD){if(gi===iD){var t=el;el=di();var r=el,a=_a===p_;!xn||r<=t||console.timeStamp(a?"Interrupted View Transition":"Starting Animation",t,r,jt,kt,a?" error":"secondary-light"),_a!==p_&&(_a=JC)}gi=pu,vO(),t=gu;var u=bh;r=va,a=rD;var h=u.actualDuration!==0||(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0;h?gi=Zg:(gi=pu,bh=gu=null,QS(t,t.pendingLanes),Mc=0,Nm=null);var f=t.pendingLanes;if(f===0&&(mu=null),h||eE(t),f=Da(r),u=u.stateNode,Wi&&typeof Wi.onCommitFiberRoot=="function")try{var b=(u.current.flags&128)===128;switch(f){case Is:var S=vv;break;case so:S=_v;break;case Qo:S=zd;break;case mg:S=xv;break;default:S=zd}Wi.onCommitFiberRoot(Hd,u,S,b)}catch(he){io||(io=!0,console.error("React instrumentation encountered an error: %o",he))}if(ro&&t.memoizedUpdaters.clear(),gk(),a!==null){b=we.T,S=Qt.p,Qt.p=Is,we.T=null;try{var k=t.onRecoverableError;for(u=0;u<a.length;u++){var F=a[u],ce=xk(F.stack);je(F.source,k,F.value,ce)}}finally{we.T=b,Qt.p=S}}(va&3)!==0&&wf(),Ka(t),f=t.pendingLanes,(r&261930)!==0&&(f&42)!==0?(Og=!0,t===__?Em++:(Em=0,__=t)):Em=0,h||pc(r,el),kf(0)}}function xk(t){return t={componentStack:t},Object.defineProperty(t,"digest",{get:function(){console.error('You are accessing "digest" from the errorInfo object passed to onRecoverableError. This property is no longer provided as part of errorInfo but can be accessed as a property of the Error instance itself.')}}),t}function QS(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,Ul(r)))}function wf(){return GS(),XS(),YS(),ZS()}function ZS(){if(gi!==Zg)return!1;var t=gu,r=b_;b_=0;var a=Da(va),u=Qo>a?Qo:a;a=we.T;var h=Qt.p;try{Qt.p=u,we.T=null;var f=v_;v_=null,u=gu;var b=va;if(gi=pu,bh=gu=null,va=0,(Ut&(Ai|cs))!==Bi)throw Error("Cannot flush passive effects while already rendering.");or(b),x_=!0,Wg=!1;var S=0;if(tl=null,S=Ii(),_a===JC)Bo(el,S,k5);else{var k=el,F=S,ce=_a===g_;!xn||F<=k||(Zn?Zn.run(console.timeStamp.bind(console,ce?"Waiting for Paint":"Waiting",k,F,jt,kt,"secondary-light")):console.timeStamp(ce?"Waiting for Paint":"Waiting",k,F,jt,kt,"secondary-light"))}k=Ut,Ut|=cs;var he=u.current;Vl(),kS(he);var re=u.current;he=y_,Vl(),DS(u,re,b,f,he),eE(u),Ut=k;var Ne=Ii();if(re=S,he=Zn,tl!==null?pd(re,Ne,tl,!0,he):!xn||Ne<=re||(he?he.run(console.timeStamp.bind(console,"Remaining Effects",re,Ne,jt,kt,"secondary-dark")):console.timeStamp("Remaining Effects",re,Ne,jt,kt,"secondary-dark")),pc(b,Ne),kf(0,!1),Wg?u===Nm?Mc++:(Mc=0,Nm=u):Mc=0,Wg=x_=!1,Wi&&typeof Wi.onPostCommitFiberRoot=="function")try{Wi.onPostCommitFiberRoot(Hd,u)}catch(Ye){io||(io=!0,console.error("React instrumentation encountered an error: %o",Ye))}var He=u.current.stateNode;return He.effectDuration=0,He.passiveEffectDuration=0,!0}finally{Qt.p=h,we.T=a,QS(t,r)}}function WS(t,r,a){r=Vt(a,r),Sp(r),r=hy(t.stateNode,r,2),t=Xa(t,r,2),t!==null&&(Ht(t,2),Ka(t))}function Yt(t,r,a){if(yh=!1,t.tag===3)WS(t,t,a);else{for(;r!==null;){if(r.tag===3){WS(r,t,a);return}if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(mu===null||!mu.has(u))){t=Vt(a,t),Sp(t),a=fy(2),u=Xa(r,a,2),u!==null&&(my(a,u,r,t),Ht(u,2),Ka(u));return}}r=r.return}console.error(`Internal React error: Attempted to capture a commit phase error inside a detached tree. This indicates a bug in React. Potential causes include deleting the same fiber more than once, committing an already-finished tree, or an inconsistent return pointer.

Error message:

%s`,a)}}function Ly(t,r,a){var u=t.pingCache;if(u===null){u=t.pingCache=new V5;var h=new Set;u.set(r,h)}else h=u.get(r),h===void 0&&(h=new Set,u.set(r,h));h.has(a)||(f_=!0,h.add(a),u=Tk.bind(null,t,r,a),ro&&Rf(t,a),r.then(u,u))}function Tk(t,r,a){var u=t.pingCache;u!==null&&u.delete(r),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,(a&127)!==0?0>lo&&(_c=lo=di(),em=Cg("Promise Resolved"),au=Dg):(a&4194048)!==0&&0>Fs&&(nl=Fs=di(),nm=Cg("Promise Resolved"),Yv=Dg),IS()&&we.actQueue===null&&console.error(`A suspended resource finished loading inside a test, but the event was not wrapped in act(...).

When testing, code that resolves suspended data should be wrapped into act(...):

act(() => {
  /* finish loading suspended data */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act`),cn===t&&(St&a)===a&&(Ln===cu||Ln===zg&&(St&62914560)===St&&Ii()-Xg<WC?(Ut&Ai)===Bi&&Ld(t,0):m_|=a,Oc===St&&(Oc=0)),Ka(t)}function KS(t,r){r===0&&(r=Gr()),t=ni(t,r),t!==null&&(Ht(t,r),Ka(t))}function Sk(t){var r=t.memoizedState,a=0;r!==null&&(a=r.retryLane),KS(t,a)}function Ek(t,r){var a=0;switch(t.tag){case 31:case 13:var u=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:u=t.stateNode;break;case 22:u=t.stateNode._retryCache;break;default:throw Error("Pinged unknown suspense boundary type. This is probably a bug in React.")}u!==null&&u.delete(r),KS(t,a)}function Py(t,r,a){if((r.subtreeFlags&67117056)!==0)for(r=r.child;r!==null;){var u=t,h=r,f=h.type===lg;f=a||f,h.tag!==22?h.flags&67108864?f&&je(h,JS,u,h):Py(u,h,f):h.memoizedState===null&&(f&&h.flags&8192?je(h,JS,u,h):h.subtreeFlags&67108864&&je(h,Py,u,h,f)),r=r.sibling}}function JS(t,r){Ze(!0);try{NS(r),OS(r),CS(t,r.alternate,r,!1),AS(t,r,0,null,!1,0)}finally{Ze(!1)}}function eE(t){var r=!0;t.current.mode&(Ki|pa)||(r=!1),Py(t,t.current,r)}function tE(t){if((Ut&Ai)===Bi){var r=t.tag;if(r===3||r===1||r===0||r===11||r===14||r===15){if(r=j(t)||"ReactComponent",Kg!==null){if(Kg.has(r))return;Kg.add(r)}else Kg=new Set([r]);je(t,function(){console.error("Can't perform a React state update on a component that hasn't mounted yet. This indicates that you have a side-effect in your render function that asynchronously tries to update the component. Move this work to useEffect instead.")})}}}function Rf(t,r){ro&&t.memoizedUpdaters.forEach(function(a){Dr(t,a,r)})}function Nk(t,r){var a=we.actQueue;return a!==null?(a.push(r),H5):yv(t,r)}function Ck(t){IS()&&we.actQueue===null&&je(t,function(){console.error(`An update to %s inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act`,j(t))})}function Ka(t){t!==vh&&t.next===null&&(vh===null?Jg=vh=t:vh=vh.next=t),eb=!0,we.actQueue!==null?S_||(S_=!0,sE()):T_||(T_=!0,sE())}function kf(t,r){if(!E_&&eb){E_=!0;do for(var a=!1,u=Jg;u!==null;){if(t!==0){var h=u.pendingLanes;if(h===0)var f=0;else{var b=u.suspendedLanes,S=u.pingedLanes;f=(1<<31-dr(42|t)+1)-1,f&=h&~(b&~S),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,rE(u,f))}else f=St,f=Jn(u,u===cn?f:0,u.cancelPendingCommit!==null||u.timeoutHandle!==Bc),(f&3)===0||Ri(u,f)||(a=!0,rE(u,f));u=u.next}while(a);E_=!1}}function Dk(){wm=window.event,By()}function By(){eb=S_=T_=!1;var t=0;bu!==0&&Ik()&&(t=bu);for(var r=Ii(),a=null,u=Jg;u!==null;){var h=u.next,f=nE(u,r);f===0?(u.next=null,a===null?Jg=h:a.next=h,h===null&&(vh=a)):(a=u,(t!==0||(f&3)!==0)&&(eb=!0)),u=h}gi!==pu&&gi!==Zg||kf(t),bu!==0&&(bu=0)}function nE(t,r){for(var a=t.suspendedLanes,u=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var b=31-dr(f),S=1<<b,k=h[b];k===-1?((S&a)===0||(S&u)!==0)&&(h[b]=kn(S,r)):k<=r&&(t.expiredLanes|=S),f&=~S}if(r=cn,a=St,a=Jn(t,t===r?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==Bc),u=t.callbackNode,a===0||t===r&&(Jt===Rc||Jt===kc)||t.cancelPendingCommit!==null)return u!==null&&jy(u),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Ri(t,a)){if(r=a&-a,r!==t.callbackPriority||we.actQueue!==null&&u!==N_)jy(u);else return r;switch(Da(a)){case Is:case so:a=_v;break;case Qo:a=zd;break;case mg:a=xv;break;default:a=zd}return u=iE.bind(null,t),we.actQueue!==null?(we.actQueue.push(u),a=N_):a=yv(a,u),t.callbackPriority=r,t.callbackNode=a,r}return u!==null&&jy(u),t.callbackPriority=2,t.callbackNode=null,2}function iE(t,r){if(Og=kg=!1,wm=window.event,gi!==pu&&gi!==Zg)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(_a===Qg&&(_a=g_),wf()&&t.callbackNode!==a)return null;var u=St;return u=Jn(t,t===cn?u:0,t.cancelPendingCommit!==null||t.timeoutHandle!==Bc),u===0?null:(PS(t,u,r),nE(t,Ii()),t.callbackNode!=null&&t.callbackNode===a?iE.bind(null,t):null)}function rE(t,r){if(wf())return null;kg=Og,Og=!1,PS(t,r,!0)}function jy(t){t!==N_&&t!==null&&bO(t)}function sE(){we.actQueue!==null&&we.actQueue.push(function(){return By(),null}),J5(function(){(Ut&(Ai|cs))!==Bi?yv(vv,Dk):By()})}function Uy(){if(bu===0){var t=Sc;t===0&&(t=dg,dg<<=1,(dg&261888)===0&&(dg=256)),bu=t}return bu}function aE(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:(Ke(t,"action"),Ia(""+t))}function oE(t,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,t.id&&a.setAttribute("form",t.id),r.parentNode.insertBefore(a,r),t=new FormData(t),a.parentNode.removeChild(a),t}function Ak(t,r,a,u,h){if(r==="submit"&&a&&a.stateNode===h){var f=aE((h[hr]||null).action),b=u.submitter;b&&(r=(r=b[hr]||null)?aE(r.formAction):b.getAttribute("formAction"),r!==null&&(f=r,b=null));var S=new vg("action","action",null,u,h);t.push({event:S,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(bu!==0){var k=b?oE(h,b):new FormData(h),F={pending:!0,data:k,method:h.method,action:f};Object.freeze(F),sy(a,F,null,k)}}else typeof f=="function"&&(S.preventDefault(),k=b?oE(h,b):new FormData(h),F={pending:!0,data:k,method:h.method,action:f},Object.freeze(F),sy(a,F,f,k))},currentTarget:h}]})}}function Wp(t,r,a){t.currentTarget=a;try{r(t)}catch(u){Bv(u)}t.currentTarget=null}function lE(t,r){r=(r&4)!==0;for(var a=0;a<t.length;a++){var u=t[a];e:{var h=void 0,f=u.event;if(u=u.listeners,r)for(var b=u.length-1;0<=b;b--){var S=u[b],k=S.instance,F=S.currentTarget;if(S=S.listener,k!==h&&f.isPropagationStopped())break e;k!==null?je(k,Wp,f,S,F):Wp(f,S,F),h=k}else for(b=0;b<u.length;b++){if(S=u[b],k=S.instance,F=S.currentTarget,S=S.listener,k!==h&&f.isPropagationStopped())break e;k!==null?je(k,Wp,f,S,F):Wp(f,S,F),h=k}}}}function Rt(t,r){C_.has(t)||console.error('Did not expect a listenToNonDelegatedEvent() call for "%s". This is a bug in React. Please file an issue.',t);var a=r[Tv];a===void 0&&(a=r[Tv]=new Set);var u=t+"__bubble";a.has(u)||(uE(r,t,2,!1),a.add(u))}function Vy(t,r,a){C_.has(t)&&!r&&console.error('Did not expect a listenToNativeEvent() call for "%s" in the bubble phase. This is a bug in React. Please file an issue.',t);var u=0;r&&(u|=4),uE(a,t,u,r)}function Fy(t){if(!t[tb]){t[tb]=!0,sN.forEach(function(a){a!=="selectionchange"&&(C_.has(a)||Vy(a,!1,t),Vy(a,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[tb]||(r[tb]=!0,Vy("selectionchange",!1,r))}}function uE(t,r,a,u){switch(zE(r)){case Is:var h=lO;break;case so:h=uO;break;default:h=iv}a=h.bind(null,r,a,t),h=void 0,!Dv||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),u?h!==void 0?t.addEventListener(r,a,{capture:!0,passive:h}):t.addEventListener(r,a,!0):h!==void 0?t.addEventListener(r,a,{passive:h}):t.addEventListener(r,a,!1)}function zy(t,r,a,u,h){var f=u;if((r&1)===0&&(r&2)===0&&u!==null)e:for(;;){if(u===null)return;var b=u.tag;if(b===3||b===4){var S=u.stateNode.containerInfo;if(S===h)break;if(b===4)for(b=u.return;b!==null;){var k=b.tag;if((k===3||k===4)&&b.stateNode.containerInfo===h)return;b=b.return}for(;S!==null;){if(b=rr(S),b===null)return;if(k=b.tag,k===5||k===6||k===26||k===27){u=f=b;continue e}S=S.parentNode}}u=u.return}Hu(function(){var F=f,ce=zu(a),he=[];e:{var re=zN.get(t);if(re!==void 0){var Ne=vg,He=t;switch(t){case"keypress":if(El(a)===0)break e;case"keydown":case"keyup":Ne=r5;break;case"focusin":He="focus",Ne=kv;break;case"focusout":He="blur",Ne=kv;break;case"beforeblur":case"afterblur":Ne=kv;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ne=AN;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ne=GO;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ne=o5;break;case jN:case UN:case VN:Ne=QO;break;case FN:Ne=u5;break;case"scroll":case"scrollend":Ne=$O;break;case"wheel":Ne=d5;break;case"copy":case"cut":case"paste":Ne=WO;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ne=RN;break;case"toggle":case"beforetoggle":Ne=f5}var Ye=(r&4)!==0,gn=!Ye&&(t==="scroll"||t==="scrollend"),Ot=Ye?re!==null?re+"Capture":null:re;Ye=[];for(var ee=F,ae;ee!==null;){var ue=ee;if(ae=ue.stateNode,ue=ue.tag,ue!==5&&ue!==26&&ue!==27||ae===null||Ot===null||(ue=aa(ee,Ot),ue!=null&&Ye.push(Of(ee,ue,ae))),gn)break;ee=ee.return}0<Ye.length&&(re=new Ne(re,He,null,a,ce),he.push({event:re,listeners:Ye}))}}if((r&7)===0){e:{if(re=t==="mouseover"||t==="pointerover",Ne=t==="mouseout"||t==="pointerout",re&&a!==Hf&&(He=a.relatedTarget||a.fromElement)&&(rr(He)||He[Jl]))break e;if((Ne||re)&&(re=ce.window===ce?ce:(re=ce.ownerDocument)?re.defaultView||re.parentWindow:window,Ne?(He=a.relatedTarget||a.toElement,Ne=F,He=He?rr(He):null,He!==null&&(gn=M(He),Ye=He.tag,He!==gn||Ye!==5&&Ye!==27&&Ye!==6)&&(He=null)):(Ne=null,He=F),Ne!==He)){if(Ye=AN,ue="onMouseLeave",Ot="onMouseEnter",ee="mouse",(t==="pointerout"||t==="pointerover")&&(Ye=RN,ue="onPointerLeave",Ot="onPointerEnter",ee="pointer"),gn=Ne==null?re:V(Ne),ae=He==null?re:V(He),re=new Ye(ue,ee+"leave",Ne,a,ce),re.target=gn,re.relatedTarget=ae,ue=null,rr(ce)===F&&(Ye=new Ye(Ot,ee+"enter",He,a,ce),Ye.target=ae,Ye.relatedTarget=gn,ue=Ye),gn=ue,Ne&&He)t:{for(Ye=wk,Ot=Ne,ee=He,ae=0,ue=Ot;ue;ue=Ye(ue))ae++;ue=0;for(var Ie=ee;Ie;Ie=Ye(Ie))ue++;for(;0<ae-ue;)Ot=Ye(Ot),ae--;for(;0<ue-ae;)ee=Ye(ee),ue--;for(;ae--;){if(Ot===ee||ee!==null&&Ot===ee.alternate){Ye=Ot;break t}Ot=Ye(Ot),ee=Ye(ee)}Ye=null}else Ye=null;Ne!==null&&cE(he,re,Ne,Ye,!1),He!==null&&gn!==null&&cE(he,gn,He,Ye,!0)}}e:{if(re=F?V(F):window,Ne=re.nodeName&&re.nodeName.toLowerCase(),Ne==="select"||Ne==="input"&&re.type==="file")var qe=Qu;else if(ud(re))if(PN)qe=Mo;else{qe=uf;var mt=xs}else Ne=re.nodeName,!Ne||Ne.toLowerCase()!=="input"||re.type!=="checkbox"&&re.type!=="radio"?F&&Oi(F.elementType)&&(qe=Qu):qe=Wu;if(qe&&(qe=qe(t,F))){cd(he,qe,a,ce);break e}mt&&mt(t,re,F),t==="focusout"&&F&&re.type==="number"&&F.memoizedProps.value!=null&&na(re,"number",re.value)}switch(mt=F?V(F):window,t){case"focusin":(ud(mt)||mt.contentEditable==="true")&&(Zd=mt,Mv=F,Zf=null);break;case"focusout":Zf=Mv=Zd=null;break;case"mousedown":Iv=!0;break;case"contextmenu":case"mouseup":case"dragend":Iv=!1,Ba(he,a,ce);break;case"selectionchange":if(b5)break;case"keydown":case"keyup":Ba(he,a,ce)}var nt;if(Ov)e:{switch(t){case"compositionstart":var Je="onCompositionStart";break e;case"compositionend":Je="onCompositionEnd";break e;case"compositionupdate":Je="onCompositionUpdate";break e}Je=void 0}else Qd?qu(t,a)&&(Je="onCompositionEnd"):t==="keydown"&&a.keyCode===kN&&(Je="onCompositionStart");Je&&(ON&&a.locale!=="ko"&&(Qd||Je!=="onCompositionStart"?Je==="onCompositionEnd"&&Qd&&(nt=$u()):(eu=ce,Av="value"in eu?eu.value:eu.textContent,Qd=!0)),mt=Kp(F,Je),0<mt.length&&(Je=new wN(Je,t,null,a,ce),he.push({event:Je,listeners:mt}),nt?Je.data=nt:(nt=Gu(a),nt!==null&&(Je.data=nt)))),(nt=p5?Xu(t,a):Yu(t,a))&&(Je=Kp(F,"onBeforeInput"),0<Je.length&&(mt=new JO("onBeforeInput","beforeinput",null,a,ce),he.push({event:mt,listeners:Je}),mt.data=nt)),Ak(he,t,F,a,ce)}lE(he,r)})}function Of(t,r,a){return{instance:t,listener:r,currentTarget:a}}function Kp(t,r){for(var a=r+"Capture",u=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=aa(t,a),h!=null&&u.unshift(Of(t,h,f)),h=aa(t,r),h!=null&&u.push(Of(t,h,f))),t.tag===3)return u;t=t.return}return[]}function wk(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function cE(t,r,a,u,h){for(var f=r._reactName,b=[];a!==null&&a!==u;){var S=a,k=S.alternate,F=S.stateNode;if(S=S.tag,k!==null&&k===u)break;S!==5&&S!==26&&S!==27||F===null||(k=F,h?(F=aa(a,f),F!=null&&b.unshift(Of(a,F,k))):h||(F=aa(a,f),F!=null&&b.push(Of(a,F,k)))),a=a.return}b.length!==0&&t.push({event:r,listeners:b})}function Hy(t,r){Zr(t,r),t!=="input"&&t!=="textarea"&&t!=="select"||r==null||r.value!==null||CN||(CN=!0,t==="select"&&r.multiple?console.error("`value` prop on `%s` should not be null. Consider using an empty array when `multiple` is set to `true` to clear the component or `undefined` for uncontrolled components.",t):console.error("`value` prop on `%s` should not be null. Consider using an empty string to clear the component or `undefined` for uncontrolled components.",t));var a={registrationNameDependencies:gc,possibleRegistrationNames:Sv};Oi(t)||typeof r.is=="string"||Fu(t,r,a),r.contentEditable&&!r.suppressContentEditableWarning&&r.children!=null&&console.error("A component is `contentEditable` and contains `children` managed by React. It is now your responsibility to guarantee that none of those nodes are unexpectedly modified or duplicated. This is probably not intentional.")}function Mi(t,r,a,u){r!==a&&(a=Yl(a),Yl(r)!==a&&(u[t]=r))}function Rk(t,r,a){r.forEach(function(u){a[fE(u)]=u==="style"?qy(t):t.getAttribute(u)})}function Ja(t,r){r===!1?console.error("Expected `%s` listener to be a function, instead got `false`.\n\nIf you used to conditionally omit it with %s={condition && value}, pass %s={condition ? value : undefined} instead.",t,t,t):console.error("Expected `%s` listener to be a function, instead got a value of `%s` type.",t,typeof r)}function dE(t,r){return t=t.namespaceURI===gg||t.namespaceURI===qd?t.ownerDocument.createElementNS(t.namespaceURI,t.tagName):t.ownerDocument.createElement(t.tagName),t.innerHTML=r,t.innerHTML}function Yl(t){return st(t)&&(console.error("The provided HTML markup uses a value of unsupported type %s. This value must be coerced to a string before using it here.",tt(t)),Wt(t)),(typeof t=="string"?t:""+t).replace($5,`
`).replace(q5,"")}function hE(t,r){return r=Yl(r),Yl(t)===r}function ln(t,r,a,u,h,f){switch(a){case"children":typeof u=="string"?(ka(u,r,!1),r==="body"||r==="textarea"&&u===""||sa(t,u)):(typeof u=="number"||typeof u=="bigint")&&(ka(""+u,r,!1),r!=="body"&&sa(t,""+u));break;case"className":zi(t,"class",u);break;case"tabIndex":zi(t,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":zi(t,a,u);break;case"style":Oa(t,u,f);break;case"data":if(r!=="object"){zi(t,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||a!=="href")){console.error(a==="src"?'An empty string ("") was passed to the %s attribute. This may cause the browser to download the whole page again over the network. To fix this, either do not render the element at all or pass null to %s instead of an empty string.':'An empty string ("") was passed to the %s attribute. To fix this, either do not render the element at all or pass null to %s instead of an empty string.',a,a),t.removeAttribute(a);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){t.removeAttribute(a);break}Ke(u,a),u=Ia(""+u),t.setAttribute(a,u);break;case"action":case"formAction":if(u!=null&&(r==="form"?a==="formAction"?console.error("You can only pass the formAction prop to <input> or <button>. Use the action prop on <form>."):typeof u=="function"&&(h.encType==null&&h.method==null||rb||(rb=!0,console.error("Cannot specify a encType or method for a form that specifies a function as the action. React provides those automatically. They will get overridden.")),h.target==null||ib||(ib=!0,console.error("Cannot specify a target for a form that specifies a function as the action. The function will always be executed in the same window."))):r==="input"||r==="button"?a==="action"?console.error("You can only pass the action prop to <form>. Use the formAction prop on <input> or <button>."):r!=="input"||h.type==="submit"||h.type==="image"||nb?r!=="button"||h.type==null||h.type==="submit"||nb?typeof u=="function"&&(h.name==null||dD||(dD=!0,console.error('Cannot specify a "name" prop for a button that specifies a function as a formAction. React needs it to encode which action should be invoked. It will get overridden.')),h.formEncType==null&&h.formMethod==null||rb||(rb=!0,console.error("Cannot specify a formEncType or formMethod for a button that specifies a function as a formAction. React provides those automatically. They will get overridden.")),h.formTarget==null||ib||(ib=!0,console.error("Cannot specify a formTarget for a button that specifies a function as a formAction. The function will always be executed in the same window."))):(nb=!0,console.error('A button can only specify a formAction along with type="submit" or no type.')):(nb=!0,console.error('An input can only specify a formAction along with type="submit" or type="image".')):console.error(a==="action"?"You can only pass the action prop to <form>.":"You can only pass the formAction prop to <input> or <button>.")),typeof u=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(r!=="input"&&ln(t,r,"name",h.name,h,null),ln(t,r,"formEncType",h.formEncType,h,null),ln(t,r,"formMethod",h.formMethod,h,null),ln(t,r,"formTarget",h.formTarget,h,null)):(ln(t,r,"encType",h.encType,h,null),ln(t,r,"method",h.method,h,null),ln(t,r,"target",h.target,h,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){t.removeAttribute(a);break}Ke(u,a),u=Ia(""+u),t.setAttribute(a,u);break;case"onClick":u!=null&&(typeof u!="function"&&Ja(a,u),t.onclick=Wr);break;case"onScroll":u!=null&&(typeof u!="function"&&Ja(a,u),Rt("scroll",t));break;case"onScrollEnd":u!=null&&(typeof u!="function"&&Ja(a,u),Rt("scrollend",t));break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error("`props.dangerouslySetInnerHTML` must be in the form `{__html: ...}`. Please visit https://react.dev/link/dangerously-set-inner-html for more information.");if(a=u.__html,a!=null){if(h.children!=null)throw Error("Can only set one of `children` or `props.dangerouslySetInnerHTML`.");t.innerHTML=a}}break;case"multiple":t.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":t.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){t.removeAttribute("xlink:href");break}Ke(u,a),a=Ia(""+u),t.setAttributeNS(Ic,"xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?(Ke(u,a),t.setAttribute(a,""+u)):t.removeAttribute(a);break;case"inert":u!==""||sb[a]||(sb[a]=!0,console.error("Received an empty string for a boolean attribute `%s`. This will treat the attribute as if it were false. Either pass `false` to silence this warning, or pass `true` if you used an empty string in earlier versions of React to indicate this attribute is true.",a));case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":u===!0?t.setAttribute(a,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?(Ke(u,a),t.setAttribute(a,u)):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?(Ke(u,a),t.setAttribute(a,u)):t.removeAttribute(a);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?t.removeAttribute(a):(Ke(u,a),t.setAttribute(a,u));break;case"popover":Rt("beforetoggle",t),Rt("toggle",t),vn(t,"popover",u);break;case"xlinkActuate":Cn(t,Ic,"xlink:actuate",u);break;case"xlinkArcrole":Cn(t,Ic,"xlink:arcrole",u);break;case"xlinkRole":Cn(t,Ic,"xlink:role",u);break;case"xlinkShow":Cn(t,Ic,"xlink:show",u);break;case"xlinkTitle":Cn(t,Ic,"xlink:title",u);break;case"xlinkType":Cn(t,Ic,"xlink:type",u);break;case"xmlBase":Cn(t,D_,"xml:base",u);break;case"xmlLang":Cn(t,D_,"xml:lang",u);break;case"xmlSpace":Cn(t,D_,"xml:space",u);break;case"is":f!=null&&console.error('Cannot update the "is" prop after it has been initialized.'),vn(t,"is",u);break;case"innerText":case"textContent":break;case"popoverTarget":hD||u==null||typeof u!="object"||(hD=!0,console.error("The `popoverTarget` prop expects the ID of an Element as a string. Received %s instead.",u));default:!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N"?(a=Ma(a),vn(t,a,u)):gc.hasOwnProperty(a)&&u!=null&&typeof u!="function"&&Ja(a,u)}}function $y(t,r,a,u,h,f){switch(a){case"style":Oa(t,u,f);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error("`props.dangerouslySetInnerHTML` must be in the form `{__html: ...}`. Please visit https://react.dev/link/dangerously-set-inner-html for more information.");if(a=u.__html,a!=null){if(h.children!=null)throw Error("Can only set one of `children` or `props.dangerouslySetInnerHTML`.");t.innerHTML=a}}break;case"children":typeof u=="string"?sa(t,u):(typeof u=="number"||typeof u=="bigint")&&sa(t,""+u);break;case"onScroll":u!=null&&(typeof u!="function"&&Ja(a,u),Rt("scroll",t));break;case"onScrollEnd":u!=null&&(typeof u!="function"&&Ja(a,u),Rt("scrollend",t));break;case"onClick":u!=null&&(typeof u!="function"&&Ja(a,u),t.onclick=Wr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(gc.hasOwnProperty(a))u!=null&&typeof u!="function"&&Ja(a,u);else e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),r=a.slice(2,h?a.length-7:void 0),f=t[hr]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(r,f,h),typeof u=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(r,u,h);break e}a in t?t[a]=u:u===!0?t.setAttribute(a,""):vn(t,a,u)}}}function Xi(t,r,a){switch(Hy(r,a),r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Rt("error",t),Rt("load",t);var u=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var b=a[f];if(b!=null)switch(f){case"src":u=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r+" is a void element tag and must neither have `children` nor use `dangerouslySetInnerHTML`.");default:ln(t,r,f,b,a,null)}}h&&ln(t,r,"srcSet",a.srcSet,a,null),u&&ln(t,r,"src",a.src,a,null);return;case"input":et("input",a),Rt("invalid",t);var S=f=b=h=null,k=null,F=null;for(u in a)if(a.hasOwnProperty(u)){var ce=a[u];if(ce!=null)switch(u){case"name":h=ce;break;case"type":b=ce;break;case"checked":k=ce;break;case"defaultChecked":F=ce;break;case"value":f=ce;break;case"defaultValue":S=ce;break;case"children":case"dangerouslySetInnerHTML":if(ce!=null)throw Error(r+" is a void element tag and must neither have `children` nor use `dangerouslySetInnerHTML`.");break;default:ln(t,r,u,ce,a,null)}}vs(t,a),No(t,f,S,k,F,b,h,!1);return;case"select":et("select",a),Rt("invalid",t),u=b=f=null;for(h in a)if(a.hasOwnProperty(h)&&(S=a[h],S!=null))switch(h){case"value":f=S;break;case"defaultValue":b=S;break;case"multiple":u=S;default:ln(t,r,h,S,a,null)}nn(t,a),r=f,a=b,t.multiple=!!u,r!=null?$i(t,!!u,r,!1):a!=null&&$i(t,!!u,a,!0);return;case"textarea":et("textarea",a),Rt("invalid",t),f=h=u=null;for(b in a)if(a.hasOwnProperty(b)&&(S=a[b],S!=null))switch(b){case"value":u=S;break;case"defaultValue":h=S;break;case"children":f=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error("`dangerouslySetInnerHTML` does not make sense on <textarea>.");break;default:ln(t,r,b,S,a,null)}Co(t,a),xl(t,u,h,f);return;case"option":Xr(t,a);for(k in a)if(a.hasOwnProperty(k)&&(u=a[k],u!=null))switch(k){case"selected":t.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:ln(t,r,k,u,a,null)}return;case"dialog":Rt("beforetoggle",t),Rt("toggle",t),Rt("cancel",t),Rt("close",t);break;case"iframe":case"object":Rt("load",t);break;case"video":case"audio":for(u=0;u<Cm.length;u++)Rt(Cm[u],t);break;case"image":Rt("error",t),Rt("load",t);break;case"details":Rt("toggle",t);break;case"embed":case"source":case"link":Rt("error",t),Rt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in a)if(a.hasOwnProperty(F)&&(u=a[F],u!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(r+" is a void element tag and must neither have `children` nor use `dangerouslySetInnerHTML`.");default:ln(t,r,F,u,a,null)}return;default:if(Oi(r)){for(ce in a)a.hasOwnProperty(ce)&&(u=a[ce],u!==void 0&&$y(t,r,ce,u,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(u=a[S],u!=null&&ln(t,r,S,u,a,null))}function kk(t,r,a,u){switch(Hy(r,u),r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,b=null,S=null,k=null,F=null,ce=null;for(Ne in a){var he=a[Ne];if(a.hasOwnProperty(Ne)&&he!=null)switch(Ne){case"checked":break;case"value":break;case"defaultValue":k=he;default:u.hasOwnProperty(Ne)||ln(t,r,Ne,null,u,he)}}for(var re in u){var Ne=u[re];if(he=a[re],u.hasOwnProperty(re)&&(Ne!=null||he!=null))switch(re){case"type":f=Ne;break;case"name":h=Ne;break;case"checked":F=Ne;break;case"defaultChecked":ce=Ne;break;case"value":b=Ne;break;case"defaultValue":S=Ne;break;case"children":case"dangerouslySetInnerHTML":if(Ne!=null)throw Error(r+" is a void element tag and must neither have `children` nor use `dangerouslySetInnerHTML`.");break;default:Ne!==he&&ln(t,r,re,Ne,u,he)}}r=a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null,u=u.type==="checkbox"||u.type==="radio"?u.checked!=null:u.value!=null,r||!u||cD||(console.error("A component is changing an uncontrolled input to be controlled. This is likely caused by the value changing from undefined to a defined value, which should not happen. Decide between using a controlled or uncontrolled input element for the lifetime of the component. More info: https://react.dev/link/controlled-components"),cD=!0),!r||u||uD||(console.error("A component is changing a controlled input to be uncontrolled. This is likely caused by the value changing from a defined to undefined, which should not happen. Decide between using a controlled or uncontrolled input element for the lifetime of the component. More info: https://react.dev/link/controlled-components"),uD=!0),Et(t,b,S,k,F,ce,f,h);return;case"select":Ne=b=S=re=null;for(f in a)if(k=a[f],a.hasOwnProperty(f)&&k!=null)switch(f){case"value":break;case"multiple":Ne=k;default:u.hasOwnProperty(f)||ln(t,r,f,null,u,k)}for(h in u)if(f=u[h],k=a[h],u.hasOwnProperty(h)&&(f!=null||k!=null))switch(h){case"value":re=f;break;case"defaultValue":S=f;break;case"multiple":b=f;default:f!==k&&ln(t,r,h,f,u,k)}u=S,r=b,a=Ne,re!=null?$i(t,!!r,re,!1):!!a!=!!r&&(u!=null?$i(t,!!r,u,!0):$i(t,!!r,r?[]:"",!1));return;case"textarea":Ne=re=null;for(S in a)if(h=a[S],a.hasOwnProperty(S)&&h!=null&&!u.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:ln(t,r,S,null,u,h)}for(b in u)if(h=u[b],f=a[b],u.hasOwnProperty(b)&&(h!=null||f!=null))switch(b){case"value":re=h;break;case"defaultValue":Ne=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error("`dangerouslySetInnerHTML` does not make sense on <textarea>.");break;default:h!==f&&ln(t,r,b,h,u,f)}Yr(t,re,Ne);return;case"option":for(var He in a)if(re=a[He],a.hasOwnProperty(He)&&re!=null&&!u.hasOwnProperty(He))switch(He){case"selected":t.selected=!1;break;default:ln(t,r,He,null,u,re)}for(k in u)if(re=u[k],Ne=a[k],u.hasOwnProperty(k)&&re!==Ne&&(re!=null||Ne!=null))switch(k){case"selected":t.selected=re&&typeof re!="function"&&typeof re!="symbol";break;default:ln(t,r,k,re,u,Ne)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ye in a)re=a[Ye],a.hasOwnProperty(Ye)&&re!=null&&!u.hasOwnProperty(Ye)&&ln(t,r,Ye,null,u,re);for(F in u)if(re=u[F],Ne=a[F],u.hasOwnProperty(F)&&re!==Ne&&(re!=null||Ne!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(r+" is a void element tag and must neither have `children` nor use `dangerouslySetInnerHTML`.");break;default:ln(t,r,F,re,u,Ne)}return;default:if(Oi(r)){for(var gn in a)re=a[gn],a.hasOwnProperty(gn)&&re!==void 0&&!u.hasOwnProperty(gn)&&$y(t,r,gn,void 0,u,re);for(ce in u)re=u[ce],Ne=a[ce],!u.hasOwnProperty(ce)||re===Ne||re===void 0&&Ne===void 0||$y(t,r,ce,re,u,Ne);return}}for(var Ot in a)re=a[Ot],a.hasOwnProperty(Ot)&&re!=null&&!u.hasOwnProperty(Ot)&&ln(t,r,Ot,null,u,re);for(he in u)re=u[he],Ne=a[he],!u.hasOwnProperty(he)||re===Ne||re==null&&Ne==null||ln(t,r,he,re,u,Ne)}function fE(t){switch(t){case"class":return"className";case"for":return"htmlFor";default:return t}}function qy(t){var r={};t=t.style;for(var a=0;a<t.length;a++){var u=t[a];r[u]=t.getPropertyValue(u)}return r}function mE(t,r,a){if(r!=null&&typeof r!="object")console.error("The `style` prop expects a mapping from style properties to values, not a string. For example, style={{marginRight: spacing + 'em'}} when using JSX.");else{var u,h=u="",f;for(f in r)if(r.hasOwnProperty(f)){var b=r[f];b!=null&&typeof b!="boolean"&&b!==""&&(f.indexOf("--")===0?(Kn(b,f),u+=h+f+":"+(""+b).trim()):typeof b!="number"||b===0||EN.has(f)?(Kn(b,f),u+=h+f.replace(vN,"-$1").toLowerCase().replace(_N,"-ms-")+":"+(""+b).trim()):u+=h+f.replace(vN,"-$1").toLowerCase().replace(_N,"-ms-")+":"+b+"px",h=";")}u=u||null,r=t.getAttribute("style"),r!==u&&(u=Yl(u),Yl(r)!==u&&(a.style=qy(t)))}}function Ms(t,r,a,u,h,f){if(h.delete(a),t=t.getAttribute(a),t===null)switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":return}else if(u!=null)switch(typeof u){case"function":case"symbol":case"boolean":break;default:if(Ke(u,r),t===""+u)return}Mi(r,t,u,f)}function pE(t,r,a,u,h,f){if(h.delete(a),t=t.getAttribute(a),t===null){switch(typeof u){case"function":case"symbol":return}if(!u)return}else switch(typeof u){case"function":case"symbol":break;default:if(u)return}Mi(r,t,u,f)}function Gy(t,r,a,u,h,f){if(h.delete(a),t=t.getAttribute(a),t===null)switch(typeof u){case"undefined":case"function":case"symbol":return}else if(u!=null)switch(typeof u){case"function":case"symbol":break;default:if(Ke(u,a),t===""+u)return}Mi(r,t,u,f)}function gE(t,r,a,u,h,f){if(h.delete(a),t=t.getAttribute(a),t===null)switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":return;default:if(isNaN(u))return}else if(u!=null)switch(typeof u){case"function":case"symbol":case"boolean":break;default:if(!isNaN(u)&&(Ke(u,r),t===""+u))return}Mi(r,t,u,f)}function Xy(t,r,a,u,h,f){if(h.delete(a),t=t.getAttribute(a),t===null)switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":return}else if(u!=null)switch(typeof u){case"function":case"symbol":case"boolean":break;default:if(Ke(u,r),a=Ia(""+u),t===a)return}Mi(r,t,u,f)}function bE(t,r,a,u){for(var h={},f=new Set,b=t.attributes,S=0;S<b.length;S++)switch(b[S].name.toLowerCase()){case"value":break;case"checked":break;case"selected":break;default:f.add(b[S].name)}if(Oi(r)){for(var k in a)if(a.hasOwnProperty(k)){var F=a[k];if(F!=null){if(gc.hasOwnProperty(k))typeof F!="function"&&Ja(k,F);else if(a.suppressHydrationWarning!==!0)switch(k){case"children":typeof F!="string"&&typeof F!="number"||Mi("children",t.textContent,F,h);continue;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":continue;case"dangerouslySetInnerHTML":b=t.innerHTML,F=F?F.__html:void 0,F!=null&&(F=dE(t,F),Mi(k,b,F,h));continue;case"style":f.delete(k),mE(t,F,h);continue;case"offsetParent":case"offsetTop":case"offsetLeft":case"offsetWidth":case"offsetHeight":case"isContentEditable":case"outerText":case"outerHTML":f.delete(k.toLowerCase()),console.error("Assignment to read-only property will result in a no-op: `%s`",k);continue;case"className":f.delete("class"),b=ei(t,"class",F),Mi("className",b,F,h);continue;default:u.context===ul&&r!=="svg"&&r!=="math"?f.delete(k.toLowerCase()):f.delete(k),b=ei(t,k,F),Mi(k,b,F,h)}}}}else for(F in a)if(a.hasOwnProperty(F)&&(k=a[F],k!=null)){if(gc.hasOwnProperty(F))typeof k!="function"&&Ja(F,k);else if(a.suppressHydrationWarning!==!0)switch(F){case"children":typeof k!="string"&&typeof k!="number"||Mi("children",t.textContent,k,h);continue;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"value":case"checked":case"selected":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":continue;case"dangerouslySetInnerHTML":b=t.innerHTML,k=k?k.__html:void 0,k!=null&&(k=dE(t,k),b!==k&&(h[F]={__html:b}));continue;case"className":Ms(t,F,"class",k,f,h);continue;case"tabIndex":Ms(t,F,"tabindex",k,f,h);continue;case"style":f.delete(F),mE(t,k,h);continue;case"multiple":f.delete(F),Mi(F,t.multiple,k,h);continue;case"muted":f.delete(F),Mi(F,t.muted,k,h);continue;case"autoFocus":f.delete("autofocus"),Mi(F,t.autofocus,k,h);continue;case"data":if(r!=="object"){f.delete(F),b=t.getAttribute("data"),Mi(F,b,k,h);continue}case"src":case"href":if(!(k!==""||r==="a"&&F==="href"||r==="object"&&F==="data")){console.error(F==="src"?'An empty string ("") was passed to the %s attribute. This may cause the browser to download the whole page again over the network. To fix this, either do not render the element at all or pass null to %s instead of an empty string.':'An empty string ("") was passed to the %s attribute. To fix this, either do not render the element at all or pass null to %s instead of an empty string.',F,F);continue}Xy(t,F,F,k,f,h);continue;case"action":case"formAction":if(b=t.getAttribute(F),typeof k=="function"){f.delete(F.toLowerCase()),F==="formAction"?(f.delete("name"),f.delete("formenctype"),f.delete("formmethod"),f.delete("formtarget")):(f.delete("enctype"),f.delete("method"),f.delete("target"));continue}else if(b===G5){f.delete(F.toLowerCase()),Mi(F,"function",k,h);continue}Xy(t,F,F.toLowerCase(),k,f,h);continue;case"xlinkHref":Xy(t,F,"xlink:href",k,f,h);continue;case"contentEditable":Gy(t,F,"contenteditable",k,f,h);continue;case"spellCheck":Gy(t,F,"spellcheck",k,f,h);continue;case"draggable":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":Gy(t,F,F,k,f,h);continue;case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":pE(t,F,F.toLowerCase(),k,f,h);continue;case"capture":case"download":e:{S=t;var ce=b=F,he=h;if(f.delete(ce),S=S.getAttribute(ce),S===null)switch(typeof k){case"undefined":case"function":case"symbol":break e;default:if(k===!1)break e}else if(k!=null)switch(typeof k){case"function":case"symbol":break;case"boolean":if(k===!0&&S==="")break e;break;default:if(Ke(k,b),S===""+k)break e}Mi(b,S,k,he)}continue;case"cols":case"rows":case"size":case"span":e:{if(S=t,ce=b=F,he=h,f.delete(ce),S=S.getAttribute(ce),S===null)switch(typeof k){case"undefined":case"function":case"symbol":case"boolean":break e;default:if(isNaN(k)||1>k)break e}else if(k!=null)switch(typeof k){case"function":case"symbol":case"boolean":break;default:if(!(isNaN(k)||1>k)&&(Ke(k,b),S===""+k))break e}Mi(b,S,k,he)}continue;case"rowSpan":gE(t,F,"rowspan",k,f,h);continue;case"start":gE(t,F,F,k,f,h);continue;case"xHeight":Ms(t,F,"x-height",k,f,h);continue;case"xlinkActuate":Ms(t,F,"xlink:actuate",k,f,h);continue;case"xlinkArcrole":Ms(t,F,"xlink:arcrole",k,f,h);continue;case"xlinkRole":Ms(t,F,"xlink:role",k,f,h);continue;case"xlinkShow":Ms(t,F,"xlink:show",k,f,h);continue;case"xlinkTitle":Ms(t,F,"xlink:title",k,f,h);continue;case"xlinkType":Ms(t,F,"xlink:type",k,f,h);continue;case"xmlBase":Ms(t,F,"xml:base",k,f,h);continue;case"xmlLang":Ms(t,F,"xml:lang",k,f,h);continue;case"xmlSpace":Ms(t,F,"xml:space",k,f,h);continue;case"inert":k!==""||sb[F]||(sb[F]=!0,console.error("Received an empty string for a boolean attribute `%s`. This will treat the attribute as if it were false. Either pass `false` to silence this warning, or pass `true` if you used an empty string in earlier versions of React to indicate this attribute is true.",F)),pE(t,F,F,k,f,h);continue;default:if(!(2<F.length)||F[0]!=="o"&&F[0]!=="O"||F[1]!=="n"&&F[1]!=="N"){S=Ma(F),b=!1,u.context===ul&&r!=="svg"&&r!=="math"?f.delete(S.toLowerCase()):(ce=F.toLowerCase(),ce=bg.hasOwnProperty(ce)&&bg[ce]||null,ce!==null&&ce!==F&&(b=!0,f.delete(ce)),f.delete(S));e:if(ce=t,he=S,S=k,$t(he))if(ce.hasAttribute(he))ce=ce.getAttribute(he),Ke(S,he),S=ce===""+S?S:ce;else{switch(typeof S){case"function":case"symbol":break e;case"boolean":if(ce=he.toLowerCase().slice(0,5),ce!=="data-"&&ce!=="aria-")break e}S=S===void 0?void 0:null}else S=void 0;b||Mi(F,S,k,h)}}}return 0<f.size&&a.suppressHydrationWarning!==!0&&Rk(t,f,h),Object.keys(h).length===0?null:h}function Ok(t,r){switch(t.length){case 0:return"";case 1:return t[0];case 2:return t[0]+" "+r+" "+t[1];default:return t.slice(0,-1).join(", ")+", "+r+" "+t[t.length-1]}}function yE(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Mk(){if(typeof performance.getEntriesByType=="function"){for(var t=0,r=0,a=performance.getEntriesByType("resource"),u=0;u<a.length;u++){var h=a[u],f=h.transferSize,b=h.initiatorType,S=h.duration;if(f&&S&&yE(b)){for(b=0,S=h.responseEnd,u+=1;u<a.length;u++){var k=a[u],F=k.startTime;if(F>S)break;var ce=k.transferSize,he=k.initiatorType;ce&&yE(he)&&(k=k.responseEnd,b+=ce*(k<S?1:(S-F)/(k-F)))}if(--u,r+=8*(f+b)/(h.duration/1e3),t++,10<t)break}}if(0<t)return r/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}function Jp(t){return t.nodeType===9?t:t.ownerDocument}function vE(t){switch(t){case qd:return xh;case gg:return ob;default:return ul}}function _E(t,r){if(t===ul)switch(r){case"svg":return xh;case"math":return ob;default:return ul}return t===xh&&r==="foreignObject"?ul:t}function Yy(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}function Ik(){var t=window.event;return t&&t.type==="popstate"?t===k_?!1:(k_=t,!0):(k_=null,!1)}function Mf(){var t=window.event;return t&&t!==wm?t.type:null}function If(){var t=window.event;return t&&t!==wm?t.timeStamp:-1.1}function Lk(t){setTimeout(function(){throw t})}function Pk(t,r,a){switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&t.focus();break;case"img":a.src?t.src=a.src:a.srcSet&&(t.srcset=a.srcSet)}}function Bk(){}function jk(t,r,a,u){kk(t,r,a,u),t[hr]=u}function xE(t){sa(t,"")}function Uk(t,r,a){t.nodeValue=a}function TE(t){if(!t.__reactWarnedAboutChildrenConflict){var r=t[hr]||null;if(r!==null){var a=Fi(t);a!==null&&(typeof r.children=="string"||typeof r.children=="number"?(t.__reactWarnedAboutChildrenConflict=!0,je(a,function(){console.error('Cannot use a ref on a React element as a container to `createRoot` or `createPortal` if that element also sets "children" text content using React. It should be a leaf with no children. Otherwise it\'s ambiguous which children should be used.')})):r.dangerouslySetInnerHTML!=null&&(t.__reactWarnedAboutChildrenConflict=!0,je(a,function(){console.error('Cannot use a ref on a React element as a container to `createRoot` or `createPortal` if that element also sets "dangerouslySetInnerHTML" using React. It should be a leaf with no children. Otherwise it\'s ambiguous which children should be used.')})))}}}function Ql(t){return t==="head"}function Vk(t,r){t.removeChild(r)}function Fk(t,r){(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t).removeChild(r)}function SE(t,r){var a=r,u=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a===Am||a===ab){if(u===0){t.removeChild(h),Ud(r);return}u--}else if(a===Dm||a===yu||a===Pc||a===_h||a===Lc)u++;else if(a===Y5)Lf(t.ownerDocument.documentElement);else if(a===Z5){a=t.ownerDocument.head,Lf(a);for(var f=a.firstChild;f;){var b=f.nextSibling,S=f.nodeName;f[zf]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=b}}else a===Q5&&Lf(t.ownerDocument.body);a=h}while(a);Ud(r)}function EE(t,r){var a=t;t=0;do{var u=a.nextSibling;if(a.nodeType===1?r?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(r?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),u&&u.nodeType===8)if(a=u.data,a===Am){if(t===0)break;t--}else a!==Dm&&a!==yu&&a!==Pc&&a!==_h||t++;a=u}while(a)}function zk(t){EE(t,!0)}function Hk(t){t=t.style,typeof t.setProperty=="function"?t.setProperty("display","none","important"):t.display="none"}function $k(t){t.nodeValue=""}function qk(t){EE(t,!1)}function Gk(t,r){r=r[W5],r=r!=null&&r.hasOwnProperty("display")?r.display:null,t.style.display=r==null||typeof r=="boolean"?"":(""+r).trim()}function Xk(t,r){t.nodeValue=r}function Qy(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Qy(a),ys(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function Yk(t,r,a,u){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(u){if(!t[zf])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){Ke(h.name,"name");var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=rs(t.nextSibling),t===null)break}return null}function Qk(t,r,a){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=rs(t.nextSibling),t===null))return null;return t}function NE(t,r){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=rs(t.nextSibling),t===null))return null;return t}function Zy(t){return t.data===yu||t.data===Pc}function Wy(t){return t.data===_h||t.data===yu&&t.ownerDocument.readyState!==mD}function Zk(t,r){var a=t.ownerDocument;if(t.data===Pc)t._reactRetry=r;else if(t.data!==yu||a.readyState!==mD)r();else{var u=function(){r(),a.removeEventListener("DOMContentLoaded",u)};a.addEventListener("DOMContentLoaded",u),t._reactRetry=u}}function rs(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r===Dm||r===_h||r===yu||r===Pc||r===Lc||r===A_||r===fD)break;if(r===Am||r===ab)return null}}return t}function CE(t){if(t.nodeType===1){for(var r=t.nodeName.toLowerCase(),a={},u=t.attributes,h=0;h<u.length;h++){var f=u[h];a[fE(f.name)]=f.name.toLowerCase()==="style"?qy(t):f.value}return{type:r,props:a}}return t.nodeType===8?t.data===Lc?{type:"Activity",props:{}}:{type:"Suspense",props:{}}:t.nodeValue}function DE(t,r,a){return a===null||a[X5]!==!0?(t.nodeValue===r?t=null:(r=Yl(r),t=Yl(t.nodeValue)===r?null:t.nodeValue),t):null}function Ky(t){t=t.nextSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a===Am||a===ab){if(r===0)return rs(t.nextSibling);r--}else a!==Dm&&a!==_h&&a!==yu&&a!==Pc&&a!==Lc||r++}t=t.nextSibling}return null}function AE(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a===Dm||a===_h||a===yu||a===Pc||a===Lc){if(r===0)return t;r--}else a!==Am&&a!==ab||r++}t=t.previousSibling}return null}function Wk(t){Ud(t)}function Kk(t){Ud(t)}function Jk(t){Ud(t)}function wE(t,r,a,u,h){switch(h&&Vu(t,u.ancestorInfo),r=Jp(a),t){case"html":if(t=r.documentElement,!t)throw Error("React expected an <html> element (document.documentElement) to exist in the Document but one was not found. React never removes the documentElement for any Document it renders into so the cause is likely in some other script running on this page.");return t;case"head":if(t=r.head,!t)throw Error("React expected a <head> element (document.head) to exist in the Document but one was not found. React never removes the head for any Document it renders into so the cause is likely in some other script running on this page.");return t;case"body":if(t=r.body,!t)throw Error("React expected a <body> element (document.body) to exist in the Document but one was not found. React never removes the body for any Document it renders into so the cause is likely in some other script running on this page.");return t;default:throw Error("resolveSingletonInstance was called with an element type that is not supported. This is a bug in React.")}}function eO(t,r,a,u){if(!a[Jl]&&Fi(a)){var h=a.tagName.toLowerCase();console.error("You are mounting a new %s component when a previous one has not first unmounted. It is an error to render more than one %s component at a time and attributes and children of these components will likely fail in unpredictable ways. Please only render a single instance of <%s> and if you need to mount a new one, ensure any previous ones have unmounted first.",h,h,h)}switch(t){case"html":case"head":case"body":break;default:console.error("acquireSingletonInstance was called with an element type that is not supported. This is a bug in React.")}for(h=a.attributes;h.length;)a.removeAttributeNode(h[0]);Xi(a,t,r),a[Yi]=u,a[hr]=r}function Lf(t){for(var r=t.attributes;r.length;)t.removeAttributeNode(r[0]);ys(t)}function eg(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}function RE(t,r,a){var u=Th;if(u&&typeof r=="string"&&r){var h=_t(r);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),_D.has(h)||(_D.add(h),t={rel:t,crossOrigin:a,href:r},u.querySelector(h)===null&&(r=u.createElement("link"),Xi(r,"link",t),K(r),u.head.appendChild(r)))}}function kE(t,r,a,u){var h=(h=Wl.current)?eg(h):null;if(!h)throw Error('"resourceRoot" was expected to exist. This is a bug in React.');switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(a=Bd(a.href),r=$(h).hoistableStyles,u=r.get(a),u||(u={type:"style",instance:null,count:0,state:null},r.set(a,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Bd(a.href);var f=$(h).hoistableStyles,b=f.get(t);if(!b&&(h=h.ownerDocument||h,b={type:"stylesheet",instance:null,count:0,state:{loading:jc,preload:null}},f.set(t,b),(f=h.querySelector(Pf(t)))&&!f._p&&(b.instance=f,b.state.loading=Rm|qs),!Gs.has(t))){var S={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy};Gs.set(t,S),f||tO(h,t,S,b.state)}if(r&&u===null)throw a=`

  - `+tg(r)+`
  + `+tg(a),Error("Expected <link> not to update to be updated to a stylesheet with precedence. Check the `rel`, `href`, and `precedence` props of this component. Alternatively, check whether two different <link> components render in the same slot or share the same key."+a);return b}if(r&&u!==null)throw a=`

  - `+tg(r)+`
  + `+tg(a),Error("Expected stylesheet with precedence to not be updated to a different kind of <link>. Check the `rel`, `href`, and `precedence` props of this component. Alternatively, check whether two different <link> components render in the same slot or share the same key."+a);return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(a=jd(a),r=$(h).hoistableScripts,u=r.get(a),u||(u={type:"script",instance:null,count:0,state:null},r.set(a,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error('getResource encountered a type it did not expect: "'+t+'". this is a bug in React.')}}function tg(t){var r=0,a="<link";return typeof t.rel=="string"?(r++,a+=' rel="'+t.rel+'"'):ma.call(t,"rel")&&(r++,a+=' rel="'+(t.rel===null?"null":"invalid type "+typeof t.rel)+'"'),typeof t.href=="string"?(r++,a+=' href="'+t.href+'"'):ma.call(t,"href")&&(r++,a+=' href="'+(t.href===null?"null":"invalid type "+typeof t.href)+'"'),typeof t.precedence=="string"?(r++,a+=' precedence="'+t.precedence+'"'):ma.call(t,"precedence")&&(r++,a+=" precedence={"+(t.precedence===null?"null":"invalid type "+typeof t.precedence)+"}"),Object.getOwnPropertyNames(t).length>r&&(a+=" ..."),a+" />"}function Bd(t){return'href="'+_t(t)+'"'}function Pf(t){return'link[rel="stylesheet"]['+t+"]"}function OE(t){return Dt({},t,{"data-precedence":t.precedence,precedence:null})}function tO(t,r,a,u){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=Rm:(r=t.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=Rm}),r.addEventListener("error",function(){return u.loading|=yD}),Xi(r,"link",a),K(r),t.head.appendChild(r))}function jd(t){return'[src="'+_t(t)+'"]'}function Bf(t){return"script[async]"+t}function ME(t,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var u=t.querySelector('style[data-href~="'+_t(a.href)+'"]');if(u)return r.instance=u,K(u),u;var h=Dt({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return u=(t.ownerDocument||t).createElement("style"),K(u),Xi(u,"style",h),ng(u,a.precedence,t),r.instance=u;case"stylesheet":h=Bd(a.href);var f=t.querySelector(Pf(h));if(f)return r.state.loading|=qs,r.instance=f,K(f),f;u=OE(a),(h=Gs.get(h))&&Jy(u,h),f=(t.ownerDocument||t).createElement("link"),K(f);var b=f;return b._p=new Promise(function(S,k){b.onload=S,b.onerror=k}),Xi(f,"link",u),r.state.loading|=qs,ng(f,a.precedence,t),r.instance=f;case"script":return f=jd(a.src),(h=t.querySelector(Bf(f)))?(r.instance=h,K(h),h):(u=a,(h=Gs.get(f))&&(u=Dt({},a),ev(u,h)),t=t.ownerDocument||t,h=t.createElement("script"),K(h),Xi(h,"link",u),t.head.appendChild(h),r.instance=h);case"void":return null;default:throw Error('acquireResource encountered a resource type it did not expect: "'+r.type+'". this is a bug in React.')}else r.type==="stylesheet"&&(r.state.loading&qs)===jc&&(u=r.instance,r.state.loading|=qs,ng(u,a.precedence,t));return r.instance}function ng(t,r,a){for(var u=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=u.length?u[u.length-1]:null,f=h,b=0;b<u.length;b++){var S=u[b];if(S.dataset.precedence===r)f=S;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(t,r.firstChild))}function Jy(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function ev(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}function IE(t,r,a){if(lb===null){var u=new Map,h=lb=new Map;h.set(a,u)}else h=lb,u=h.get(a),u||(u=new Map,h.set(a,u));if(u.has(t))return u;for(u.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var f=a[h];if(!(f[zf]||f[Yi]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!==qd){var b=f.getAttribute(r)||"";b=t+b;var S=u.get(b);S?S.push(f):u.set(b,[f])}}return u}function LE(t,r,a){t=t.ownerDocument||t,t.head.insertBefore(a,r==="title"?t.querySelector("head > title"):null)}function nO(t,r,a){var u=!a.ancestorInfo.containerTagInScope;if(a.context===xh||r.itemProp!=null)return!u||r.itemProp==null||t!=="meta"&&t!=="title"&&t!=="style"&&t!=="link"&&t!=="script"||console.error("Cannot render a <%s> outside the main document if it has an `itemProp` prop. `itemProp` suggests the tag belongs to an `itemScope` which can appear anywhere in the DOM. If you were intending for React to hoist this <%s> remove the `itemProp` prop. Otherwise, try moving this tag into the <head> or <body> of the Document.",t,t),!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href===""){u&&console.error('Cannot render a <style> outside the main document without knowing its precedence and a unique href key. React can hoist and deduplicate <style> tags if you provide a `precedence` prop along with an `href` prop that does not conflict with the `href` values used in any other hoisted <style> or <link rel="stylesheet" ...> tags.  Note that hoisting <style> tags is considered an advanced feature that most will not use directly. Consider moving the <style> tag to the <head> or consider adding a `precedence="default"` and `href="some unique resource identifier"`.');break}return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError){if(r.rel==="stylesheet"&&typeof r.precedence=="string"){t=r.href;var h=r.onError,f=r.disabled;a=[],r.onLoad&&a.push("`onLoad`"),h&&a.push("`onError`"),f!=null&&a.push("`disabled`"),h=Ok(a,"and"),h+=a.length===1?" prop":" props",f=a.length===1?"an "+h:"the "+h,a.length&&console.error('React encountered a <link rel="stylesheet" href="%s" ... /> with a `precedence` prop that also included %s. The presence of loading and error handlers indicates an intent to manage the stylesheet loading state from your from your Component code and React will not hoist or deduplicate this stylesheet. If your intent was to have React hoist and deduplciate this stylesheet using the `precedence` prop remove the %s, otherwise remove the `precedence` prop.',t,f,h)}u&&(typeof r.rel!="string"||typeof r.href!="string"||r.href===""?console.error("Cannot render a <link> outside the main document without a `rel` and `href` prop. Try adding a `rel` and/or `href` prop to this <link> or moving the link into the <head> tag"):(r.onError||r.onLoad)&&console.error("Cannot render a <link> with onLoad or onError listeners outside the main document. Try removing onLoad={...} and onError={...} or moving it into the root <head> tag or somewhere in the <body>."));break}switch(r.rel){case"stylesheet":return t=r.precedence,r=r.disabled,typeof t!="string"&&u&&console.error('Cannot render a <link rel="stylesheet" /> outside the main document without knowing its precedence. Consider adding precedence="default" or moving it into the root <head> tag.'),typeof t=="string"&&r==null;default:return!0}case"script":if(t=r.async&&typeof r.async!="function"&&typeof r.async!="symbol",!t||r.onLoad||r.onError||!r.src||typeof r.src!="string"){u&&(t?r.onLoad||r.onError?console.error("Cannot render a <script> with onLoad or onError listeners outside the main document. Try removing onLoad={...} and onError={...} or moving it into the root <head> tag or somewhere in the <body>."):console.error("Cannot render a <script> outside the main document without `async={true}` and a non-empty `src` prop. Ensure there is a valid `src` and either make the script async or move it into the root <head> tag or somewhere in the <body>."):console.error('Cannot render a sync or defer <script> outside the main document without knowing its order. Try adding async="" or moving it into the root <head> tag.'));break}return!0;case"noscript":case"template":u&&console.error("Cannot render <%s> outside the main document. Try moving it into the root <head> tag.",t)}return!1}function PE(t){return!(t.type==="stylesheet"&&(t.state.loading&vD)===jc)}function iO(t,r,a,u){if(a.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(a.state.loading&qs)===jc){if(a.instance===null){var h=Bd(u.href),f=r.querySelector(Pf(h));if(f){r=f._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(t.count++,t=ig.bind(t),r.then(t,t)),a.state.loading|=qs,a.instance=f,K(f);return}f=r.ownerDocument||r,u=OE(u),(h=Gs.get(h))&&Jy(u,h),f=f.createElement("link"),K(f);var b=f;b._p=new Promise(function(S,k){b.onload=S,b.onerror=k}),Xi(f,"link",u),a.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,r),(r=a.state.preload)&&(a.state.loading&vD)===jc&&(t.count++,a=ig.bind(t),r.addEventListener("load",a),r.addEventListener("error",a))}}function rO(t,r){return t.stylesheets&&t.count===0&&rg(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var u=setTimeout(function(){if(t.stylesheets&&rg(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},eM+r);0<t.imgBytes&&M_===0&&(M_=125*Mk()*nM);var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&rg(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>M_?50:tM)+r);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(u),clearTimeout(h)}}:null}function ig(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)rg(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}function rg(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,ub=new Map,r.forEach(sO,t),ub=null,ig.call(t))}function sO(t,r){if(!(r.state.loading&qs)){var a=ub.get(t);if(a)var u=a.get(I_);else{a=new Map,ub.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var b=h[f];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(a.set(b.dataset.precedence,b),u=b)}u&&a.set(I_,u)}h=r.instance,b=h.getAttribute("data-precedence"),f=a.get(b)||u,f===u&&a.set(I_,h),a.set(b,h),this.count++,u=ig.bind(this),h.addEventListener("load",u),h.addEventListener("error",u),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),r.state.loading|=qs}}function aO(t,r,a,u,h,f,b,S,k){for(this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Bc,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=nr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=nr(0),this.hiddenUpdates=nr(null),this.identifierPrefix=u,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=k,this.incompleteTransitions=new Map,this.passiveEffectDuration=this.effectDuration=-0,this.memoizedUpdaters=new Set,t=this.pendingUpdatersLaneMap=[],r=0;31>r;r++)t.push(new Set);this._debugRootType=a?"hydrateRoot()":"createRoot()"}function BE(t,r,a,u,h,f,b,S,k,F,ce,he){return t=new aO(t,r,a,b,k,F,ce,he,S),r=C5,f===!0&&(r|=Ki|pa),r|=xt,f=C(3,null,null,r),t.current=f,f.stateNode=t,r=ff(),Ha(r),t.pooledCache=r,Ha(r),f.memoizedState={element:u,isDehydrated:a,cache:r},yf(f),t}function jE(t){return t?(t=iu,t):iu}function tv(t,r,a,u,h,f){if(Wi&&typeof Wi.onScheduleFiberRoot=="function")try{Wi.onScheduleFiberRoot(Hd,u,a)}catch(b){io||(io=!0,console.error("React instrumentation encountered an error: %o",b))}h=jE(h),u.context===null?u.context=h:u.pendingContext=h,no&&as!==null&&!ED&&(ED=!0,console.error(`Render methods should be a pure function of props and state; triggering nested component updates from render is not allowed. If necessary, trigger nested updates in componentDidUpdate.

Check the render method of %s.`,j(as)||"Unknown")),u=Ga(r),u.payload={element:a},f=f===void 0?null:f,f!==null&&(typeof f!="function"&&console.error("Expected the last optional `callback` argument to be a function. Instead received: %s.",f),u.callback=f),a=Xa(t,u,r),a!==null&&(Ns(r,"root.render()",null),$n(a,t,r),lc(a,t,r))}function UE(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<r?a:r}}function nv(t,r){UE(t,r),(t=t.alternate)&&UE(t,r)}function VE(t){if(t.tag===13||t.tag===31){var r=ni(t,67108864);r!==null&&$n(r,t,67108864),nv(t,67108864)}}function FE(t){if(t.tag===13||t.tag===31){var r=is(t);r=bs(r);var a=ni(t,r);a!==null&&$n(a,t,r),nv(t,r)}}function oO(){return as}function lO(t,r,a,u){var h=we.T;we.T=null;var f=Qt.p;try{Qt.p=Is,iv(t,r,a,u)}finally{Qt.p=f,we.T=h}}function uO(t,r,a,u){var h=we.T;we.T=null;var f=Qt.p;try{Qt.p=so,iv(t,r,a,u)}finally{Qt.p=f,we.T=h}}function iv(t,r,a,u){if(db){var h=rv(u);if(h===null)zy(t,r,u,hb,a),HE(t,u);else if(cO(h,t,r,a,u))u.stopPropagation();else if(HE(t,u),r&4&&-1<rM.indexOf(t)){for(;h!==null;){var f=Fi(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var b=Lt(f.pendingLanes);if(b!==0){var S=f;for(S.pendingLanes|=2,S.entangledLanes|=2;b;){var k=1<<31-dr(b);S.entanglements[1]|=k,b&=~k}Ka(f),(Ut&(Ai|cs))===Bi&&(Yg=Ii()+KC,kf(0))}}break;case 31:case 13:S=ni(f,2),S!==null&&$n(S,f,2),Id(),nv(f,2)}if(f=rv(u),f===null&&zy(t,r,u,hb,a),f===h)break;h=f}h!==null&&u.stopPropagation()}else zy(t,r,u,null,a)}}function rv(t){return t=zu(t),sv(t)}function sv(t){if(hb=null,t=rr(t),t!==null){var r=M(t);if(r===null)t=null;else{var a=r.tag;if(a===13){if(t=B(r),t!==null)return t;t=null}else if(a===31){if(t=L(r),t!==null)return t;t=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return hb=t,null}function zE(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return Is;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return so;case"message":switch(_O()){case vv:return Is;case _v:return so;case zd:case xO:return Qo;case xv:return mg;default:return Qo}default:return Qo}}function HE(t,r){switch(t){case"focusin":case"focusout":vu=null;break;case"dragenter":case"dragleave":_u=null;break;case"mouseover":case"mouseout":xu=null;break;case"pointerover":case"pointerout":Om.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mm.delete(r.pointerId)}}function jf(t,r,a,u,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:r,domEventName:a,eventSystemFlags:u,nativeEvent:f,targetContainers:[h]},r!==null&&(r=Fi(r),r!==null&&VE(r)),t):(t.eventSystemFlags|=u,r=t.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),t)}function cO(t,r,a,u,h){switch(r){case"focusin":return vu=jf(vu,t,r,a,u,h),!0;case"dragenter":return _u=jf(_u,t,r,a,u,h),!0;case"mouseover":return xu=jf(xu,t,r,a,u,h),!0;case"pointerover":var f=h.pointerId;return Om.set(f,jf(Om.get(f)||null,t,r,a,u,h)),!0;case"gotpointercapture":return f=h.pointerId,Mm.set(f,jf(Mm.get(f)||null,t,r,a,u,h)),!0}return!1}function $E(t){var r=rr(t.target);if(r!==null){var a=M(r);if(a!==null){if(r=a.tag,r===13){if(r=B(a),r!==null){t.blockedOn=r,ir(t.priority,function(){FE(a)});return}}else if(r===31){if(r=L(a),r!==null){t.blockedOn=r,ir(t.priority,function(){FE(a)});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function sg(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var a=rv(t.nativeEvent);if(a===null){a=t.nativeEvent;var u=new a.constructor(a.type,a),h=u;Hf!==null&&console.error("Expected currently replaying event to be null. This error is likely caused by a bug in React. Please file an issue."),Hf=h,a.target.dispatchEvent(u),Hf===null&&console.error("Expected currently replaying event to not be null. This error is likely caused by a bug in React. Please file an issue."),Hf=null}else return r=Fi(a),r!==null&&VE(r),t.blockedOn=a,!1;r.shift()}return!0}function qE(t,r,a){sg(t)&&a.delete(r)}function dO(){L_=!1,vu!==null&&sg(vu)&&(vu=null),_u!==null&&sg(_u)&&(_u=null),xu!==null&&sg(xu)&&(xu=null),Om.forEach(qE),Mm.forEach(qE)}function ag(t,r){t.blockedOn===r&&(t.blockedOn=null,L_||(L_=!0,ui.unstable_scheduleCallback(ui.unstable_NormalPriority,dO)))}function GE(t){fb!==t&&(fb=t,ui.unstable_scheduleCallback(ui.unstable_NormalPriority,function(){fb===t&&(fb=null);for(var r=0;r<t.length;r+=3){var a=t[r],u=t[r+1],h=t[r+2];if(typeof u!="function"){if(sv(u||a)===null)continue;break}var f=Fi(a);f!==null&&(t.splice(r,3),r-=3,a={pending:!0,data:h,method:a.method,action:u},Object.freeze(a),sy(f,a,u,h))}}))}function Ud(t){function r(k){return ag(k,t)}vu!==null&&ag(vu,t),_u!==null&&ag(_u,t),xu!==null&&ag(xu,t),Om.forEach(r),Mm.forEach(r);for(var a=0;a<Tu.length;a++){var u=Tu[a];u.blockedOn===t&&(u.blockedOn=null)}for(;0<Tu.length&&(a=Tu[0],a.blockedOn===null);)$E(a),a.blockedOn===null&&Tu.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(u=0;u<a.length;u+=3){var h=a[u],f=a[u+1],b=h[hr]||null;if(typeof f=="function")b||GE(a);else if(b){var S=null;if(f&&f.hasAttribute("formAction")){if(h=f,b=f[hr]||null)S=b.formAction;else if(sv(h)!==null)continue}else S=b.action;typeof S=="function"?a[u+1]=S:(a.splice(u,3),u-=3),GE(a)}}}function XE(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(b){return h=b})},focusReset:"manual",scroll:"manual"})}function r(){h!==null&&(h(),h=null),u||setTimeout(a,20)}function a(){if(!u&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(a,100),function(){u=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),h!==null&&(h(),h=null)}}}function av(t){this._internalRoot=t}function og(t){this._internalRoot=t}function YE(t){t[Jl]&&(t._reactRootContainer?console.error("You are calling ReactDOMClient.createRoot() on a container that was previously passed to ReactDOM.render(). This is not supported."):console.error("You are calling ReactDOMClient.createRoot() on a container that has already been passed to createRoot() before. Instead, call root.render() on the existing root instead if you want to update it."))}typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(Error());var ui=bM(),ov=ow(),hO=lw(),Dt=Object.assign,fO=Symbol.for("react.element"),eo=Symbol.for("react.transitional.element"),Vd=Symbol.for("react.portal"),Fd=Symbol.for("react.fragment"),lg=Symbol.for("react.strict_mode"),lv=Symbol.for("react.profiler"),uv=Symbol.for("react.consumer"),to=Symbol.for("react.context"),Uf=Symbol.for("react.forward_ref"),cv=Symbol.for("react.suspense"),dv=Symbol.for("react.suspense_list"),ug=Symbol.for("react.memo"),ss=Symbol.for("react.lazy"),hv=Symbol.for("react.activity"),mO=Symbol.for("react.memo_cache_sentinel"),QE=Symbol.iterator,pO=Symbol.for("react.client.reference"),Ci=Array.isArray,we=ov.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Qt=hO.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,gO=Object.freeze({pending:!1,data:null,method:null,action:null}),fv=[],mv=[],Yo=-1,Zl=ge(null),Vf=ge(null),Wl=ge(null),cg=ge(null),Ff=0,ZE,WE,KE,JE,eN,tN,nN;ke.__reactDisabledLog=!0;var pv,iN,gv=!1,bv=new(typeof WeakMap=="function"?WeakMap:Map),as=null,no=!1,ma=Object.prototype.hasOwnProperty,yv=ui.unstable_scheduleCallback,bO=ui.unstable_cancelCallback,yO=ui.unstable_shouldYield,vO=ui.unstable_requestPaint,Ii=ui.unstable_now,_O=ui.unstable_getCurrentPriorityLevel,vv=ui.unstable_ImmediatePriority,_v=ui.unstable_UserBlockingPriority,zd=ui.unstable_NormalPriority,xO=ui.unstable_LowPriority,xv=ui.unstable_IdlePriority,TO=ui.log,SO=ui.unstable_setDisableYieldValue,Hd=null,Wi=null,io=!1,ro=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u",dr=Math.clz32?Math.clz32:Xt,EO=Math.log,NO=Math.LN2,dg=256,hg=262144,fg=4194304,Is=2,so=8,Qo=32,mg=268435456,Kl=Math.random().toString(36).slice(2),Yi="__reactFiber$"+Kl,hr="__reactProps$"+Kl,Jl="__reactContainer$"+Kl,Tv="__reactEvents$"+Kl,CO="__reactListeners$"+Kl,DO="__reactHandles$"+Kl,rN="__reactResources$"+Kl,zf="__reactMarker$"+Kl,sN=new Set,gc={},Sv={},AO={button:!0,checkbox:!0,image:!0,hidden:!0,radio:!0,reset:!0,submit:!0},wO=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),aN={},oN={},RO=/[\n"\\]/g,lN=!1,uN=!1,cN=!1,dN=!1,hN=!1,fN=!1,mN=["value","defaultValue"],pN=!1,gN=/["'&<>\n\t]|^\s|\s$/,kO="address applet area article aside base basefont bgsound blockquote body br button caption center col colgroup dd details dir div dl dt embed fieldset figcaption figure footer form frame frameset h1 h2 h3 h4 h5 h6 head header hgroup hr html iframe img input isindex li link listing main marquee menu menuitem meta nav noembed noframes noscript object ol p param plaintext pre script section select source style summary table tbody td template textarea tfoot th thead title tr track ul wbr xmp".split(" "),bN="applet caption html table td th marquee object template foreignObject desc title".split(" "),OO=bN.concat(["button"]),MO="dd dt li option optgroup p rp rt".split(" "),yN={current:null,formTag:null,aTagInScope:null,buttonTagInScope:null,nobrTagInScope:null,pTagInButtonScope:null,listItemTagAutoclosing:null,dlItemTagAutoclosing:null,containerTagInScope:null,implicitRootScope:!1},pg={},Ev={animation:"animationDelay animationDirection animationDuration animationFillMode animationIterationCount animationName animationPlayState animationTimingFunction".split(" "),background:"backgroundAttachment backgroundClip backgroundColor backgroundImage backgroundOrigin backgroundPositionX backgroundPositionY backgroundRepeat backgroundSize".split(" "),backgroundPosition:["backgroundPositionX","backgroundPositionY"],border:"borderBottomColor borderBottomStyle borderBottomWidth borderImageOutset borderImageRepeat borderImageSlice borderImageSource borderImageWidth borderLeftColor borderLeftStyle borderLeftWidth borderRightColor borderRightStyle borderRightWidth borderTopColor borderTopStyle borderTopWidth".split(" "),borderBlockEnd:["borderBlockEndColor","borderBlockEndStyle","borderBlockEndWidth"],borderBlockStart:["borderBlockStartColor","borderBlockStartStyle","borderBlockStartWidth"],borderBottom:["borderBottomColor","borderBottomStyle","borderBottomWidth"],borderColor:["borderBottomColor","borderLeftColor","borderRightColor","borderTopColor"],borderImage:["borderImageOutset","borderImageRepeat","borderImageSlice","borderImageSource","borderImageWidth"],borderInlineEnd:["borderInlineEndColor","borderInlineEndStyle","borderInlineEndWidth"],borderInlineStart:["borderInlineStartColor","borderInlineStartStyle","borderInlineStartWidth"],borderLeft:["borderLeftColor","borderLeftStyle","borderLeftWidth"],borderRadius:["borderBottomLeftRadius","borderBottomRightRadius","borderTopLeftRadius","borderTopRightRadius"],borderRight:["borderRightColor","borderRightStyle","borderRightWidth"],borderStyle:["borderBottomStyle","borderLeftStyle","borderRightStyle","borderTopStyle"],borderTop:["borderTopColor","borderTopStyle","borderTopWidth"],borderWidth:["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth"],columnRule:["columnRuleColor","columnRuleStyle","columnRuleWidth"],columns:["columnCount","columnWidth"],flex:["flexBasis","flexGrow","flexShrink"],flexFlow:["flexDirection","flexWrap"],font:"fontFamily fontFeatureSettings fontKerning fontLanguageOverride fontSize fontSizeAdjust fontStretch fontStyle fontVariant fontVariantAlternates fontVariantCaps fontVariantEastAsian fontVariantLigatures fontVariantNumeric fontVariantPosition fontWeight lineHeight".split(" "),fontVariant:"fontVariantAlternates fontVariantCaps fontVariantEastAsian fontVariantLigatures fontVariantNumeric fontVariantPosition".split(" "),gap:["columnGap","rowGap"],grid:"gridAutoColumns gridAutoFlow gridAutoRows gridTemplateAreas gridTemplateColumns gridTemplateRows".split(" "),gridArea:["gridColumnEnd","gridColumnStart","gridRowEnd","gridRowStart"],gridColumn:["gridColumnEnd","gridColumnStart"],gridColumnGap:["columnGap"],gridGap:["columnGap","rowGap"],gridRow:["gridRowEnd","gridRowStart"],gridRowGap:["rowGap"],gridTemplate:["gridTemplateAreas","gridTemplateColumns","gridTemplateRows"],listStyle:["listStyleImage","listStylePosition","listStyleType"],margin:["marginBottom","marginLeft","marginRight","marginTop"],marker:["markerEnd","markerMid","markerStart"],mask:"maskClip maskComposite maskImage maskMode maskOrigin maskPositionX maskPositionY maskRepeat maskSize".split(" "),maskPosition:["maskPositionX","maskPositionY"],outline:["outlineColor","outlineStyle","outlineWidth"],overflow:["overflowX","overflowY"],padding:["paddingBottom","paddingLeft","paddingRight","paddingTop"],placeContent:["alignContent","justifyContent"],placeItems:["alignItems","justifyItems"],placeSelf:["alignSelf","justifySelf"],textDecoration:["textDecorationColor","textDecorationLine","textDecorationStyle"],textEmphasis:["textEmphasisColor","textEmphasisStyle"],transition:["transitionDelay","transitionDuration","transitionProperty","transitionTimingFunction"],wordWrap:["overflowWrap"]},vN=/([A-Z])/g,_N=/^ms-/,IO=/^(?:webkit|moz|o)[A-Z]/,LO=/^-ms-/,PO=/-(.)/g,xN=/;\s*$/,$d={},Nv={},TN=!1,SN=!1,EN=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" ")),gg="http://www.w3.org/1998/Math/MathML",qd="http://www.w3.org/2000/svg",BO=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),bg={accept:"accept",acceptcharset:"acceptCharset","accept-charset":"acceptCharset",accesskey:"accessKey",action:"action",allowfullscreen:"allowFullScreen",alt:"alt",as:"as",async:"async",autocapitalize:"autoCapitalize",autocomplete:"autoComplete",autocorrect:"autoCorrect",autofocus:"autoFocus",autoplay:"autoPlay",autosave:"autoSave",capture:"capture",cellpadding:"cellPadding",cellspacing:"cellSpacing",challenge:"challenge",charset:"charSet",checked:"checked",children:"children",cite:"cite",class:"className",classid:"classID",classname:"className",cols:"cols",colspan:"colSpan",content:"content",contenteditable:"contentEditable",contextmenu:"contextMenu",controls:"controls",controlslist:"controlsList",coords:"coords",crossorigin:"crossOrigin",dangerouslysetinnerhtml:"dangerouslySetInnerHTML",data:"data",datetime:"dateTime",default:"default",defaultchecked:"defaultChecked",defaultvalue:"defaultValue",defer:"defer",dir:"dir",disabled:"disabled",disablepictureinpicture:"disablePictureInPicture",disableremoteplayback:"disableRemotePlayback",download:"download",draggable:"draggable",enctype:"encType",enterkeyhint:"enterKeyHint",fetchpriority:"fetchPriority",for:"htmlFor",form:"form",formmethod:"formMethod",formaction:"formAction",formenctype:"formEncType",formnovalidate:"formNoValidate",formtarget:"formTarget",frameborder:"frameBorder",headers:"headers",height:"height",hidden:"hidden",high:"high",href:"href",hreflang:"hrefLang",htmlfor:"htmlFor",httpequiv:"httpEquiv","http-equiv":"httpEquiv",icon:"icon",id:"id",imagesizes:"imageSizes",imagesrcset:"imageSrcSet",inert:"inert",innerhtml:"innerHTML",inputmode:"inputMode",integrity:"integrity",is:"is",itemid:"itemID",itemprop:"itemProp",itemref:"itemRef",itemscope:"itemScope",itemtype:"itemType",keyparams:"keyParams",keytype:"keyType",kind:"kind",label:"label",lang:"lang",list:"list",loop:"loop",low:"low",manifest:"manifest",marginwidth:"marginWidth",marginheight:"marginHeight",max:"max",maxlength:"maxLength",media:"media",mediagroup:"mediaGroup",method:"method",min:"min",minlength:"minLength",multiple:"multiple",muted:"muted",name:"name",nomodule:"noModule",nonce:"nonce",novalidate:"noValidate",open:"open",optimum:"optimum",pattern:"pattern",placeholder:"placeholder",playsinline:"playsInline",poster:"poster",preload:"preload",profile:"profile",radiogroup:"radioGroup",readonly:"readOnly",referrerpolicy:"referrerPolicy",rel:"rel",required:"required",reversed:"reversed",role:"role",rows:"rows",rowspan:"rowSpan",sandbox:"sandbox",scope:"scope",scoped:"scoped",scrolling:"scrolling",seamless:"seamless",selected:"selected",shape:"shape",size:"size",sizes:"sizes",span:"span",spellcheck:"spellCheck",src:"src",srcdoc:"srcDoc",srclang:"srcLang",srcset:"srcSet",start:"start",step:"step",style:"style",summary:"summary",tabindex:"tabIndex",target:"target",title:"title",type:"type",usemap:"useMap",value:"value",width:"width",wmode:"wmode",wrap:"wrap",about:"about",accentheight:"accentHeight","accent-height":"accentHeight",accumulate:"accumulate",additive:"additive",alignmentbaseline:"alignmentBaseline","alignment-baseline":"alignmentBaseline",allowreorder:"allowReorder",alphabetic:"alphabetic",amplitude:"amplitude",arabicform:"arabicForm","arabic-form":"arabicForm",ascent:"ascent",attributename:"attributeName",attributetype:"attributeType",autoreverse:"autoReverse",azimuth:"azimuth",basefrequency:"baseFrequency",baselineshift:"baselineShift","baseline-shift":"baselineShift",baseprofile:"baseProfile",bbox:"bbox",begin:"begin",bias:"bias",by:"by",calcmode:"calcMode",capheight:"capHeight","cap-height":"capHeight",clip:"clip",clippath:"clipPath","clip-path":"clipPath",clippathunits:"clipPathUnits",cliprule:"clipRule","clip-rule":"clipRule",color:"color",colorinterpolation:"colorInterpolation","color-interpolation":"colorInterpolation",colorinterpolationfilters:"colorInterpolationFilters","color-interpolation-filters":"colorInterpolationFilters",colorprofile:"colorProfile","color-profile":"colorProfile",colorrendering:"colorRendering","color-rendering":"colorRendering",contentscripttype:"contentScriptType",contentstyletype:"contentStyleType",cursor:"cursor",cx:"cx",cy:"cy",d:"d",datatype:"datatype",decelerate:"decelerate",descent:"descent",diffuseconstant:"diffuseConstant",direction:"direction",display:"display",divisor:"divisor",dominantbaseline:"dominantBaseline","dominant-baseline":"dominantBaseline",dur:"dur",dx:"dx",dy:"dy",edgemode:"edgeMode",elevation:"elevation",enablebackground:"enableBackground","enable-background":"enableBackground",end:"end",exponent:"exponent",externalresourcesrequired:"externalResourcesRequired",fill:"fill",fillopacity:"fillOpacity","fill-opacity":"fillOpacity",fillrule:"fillRule","fill-rule":"fillRule",filter:"filter",filterres:"filterRes",filterunits:"filterUnits",floodopacity:"floodOpacity","flood-opacity":"floodOpacity",floodcolor:"floodColor","flood-color":"floodColor",focusable:"focusable",fontfamily:"fontFamily","font-family":"fontFamily",fontsize:"fontSize","font-size":"fontSize",fontsizeadjust:"fontSizeAdjust","font-size-adjust":"fontSizeAdjust",fontstretch:"fontStretch","font-stretch":"fontStretch",fontstyle:"fontStyle","font-style":"fontStyle",fontvariant:"fontVariant","font-variant":"fontVariant",fontweight:"fontWeight","font-weight":"fontWeight",format:"format",from:"from",fx:"fx",fy:"fy",g1:"g1",g2:"g2",glyphname:"glyphName","glyph-name":"glyphName",glyphorientationhorizontal:"glyphOrientationHorizontal","glyph-orientation-horizontal":"glyphOrientationHorizontal",glyphorientationvertical:"glyphOrientationVertical","glyph-orientation-vertical":"glyphOrientationVertical",glyphref:"glyphRef",gradienttransform:"gradientTransform",gradientunits:"gradientUnits",hanging:"hanging",horizadvx:"horizAdvX","horiz-adv-x":"horizAdvX",horizoriginx:"horizOriginX","horiz-origin-x":"horizOriginX",ideographic:"ideographic",imagerendering:"imageRendering","image-rendering":"imageRendering",in2:"in2",in:"in",inlist:"inlist",intercept:"intercept",k1:"k1",k2:"k2",k3:"k3",k4:"k4",k:"k",kernelmatrix:"kernelMatrix",kernelunitlength:"kernelUnitLength",kerning:"kerning",keypoints:"keyPoints",keysplines:"keySplines",keytimes:"keyTimes",lengthadjust:"lengthAdjust",letterspacing:"letterSpacing","letter-spacing":"letterSpacing",lightingcolor:"lightingColor","lighting-color":"lightingColor",limitingconeangle:"limitingConeAngle",local:"local",markerend:"markerEnd","marker-end":"markerEnd",markerheight:"markerHeight",markermid:"markerMid","marker-mid":"markerMid",markerstart:"markerStart","marker-start":"markerStart",markerunits:"markerUnits",markerwidth:"markerWidth",mask:"mask",maskcontentunits:"maskContentUnits",maskunits:"maskUnits",mathematical:"mathematical",mode:"mode",numoctaves:"numOctaves",offset:"offset",opacity:"opacity",operator:"operator",order:"order",orient:"orient",orientation:"orientation",origin:"origin",overflow:"overflow",overlineposition:"overlinePosition","overline-position":"overlinePosition",overlinethickness:"overlineThickness","overline-thickness":"overlineThickness",paintorder:"paintOrder","paint-order":"paintOrder",panose1:"panose1","panose-1":"panose1",pathlength:"pathLength",patterncontentunits:"patternContentUnits",patterntransform:"patternTransform",patternunits:"patternUnits",pointerevents:"pointerEvents","pointer-events":"pointerEvents",points:"points",pointsatx:"pointsAtX",pointsaty:"pointsAtY",pointsatz:"pointsAtZ",popover:"popover",popovertarget:"popoverTarget",popovertargetaction:"popoverTargetAction",prefix:"prefix",preservealpha:"preserveAlpha",preserveaspectratio:"preserveAspectRatio",primitiveunits:"primitiveUnits",property:"property",r:"r",radius:"radius",refx:"refX",refy:"refY",renderingintent:"renderingIntent","rendering-intent":"renderingIntent",repeatcount:"repeatCount",repeatdur:"repeatDur",requiredextensions:"requiredExtensions",requiredfeatures:"requiredFeatures",resource:"resource",restart:"restart",result:"result",results:"results",rotate:"rotate",rx:"rx",ry:"ry",scale:"scale",security:"security",seed:"seed",shaperendering:"shapeRendering","shape-rendering":"shapeRendering",slope:"slope",spacing:"spacing",specularconstant:"specularConstant",specularexponent:"specularExponent",speed:"speed",spreadmethod:"spreadMethod",startoffset:"startOffset",stddeviation:"stdDeviation",stemh:"stemh",stemv:"stemv",stitchtiles:"stitchTiles",stopcolor:"stopColor","stop-color":"stopColor",stopopacity:"stopOpacity","stop-opacity":"stopOpacity",strikethroughposition:"strikethroughPosition","strikethrough-position":"strikethroughPosition",strikethroughthickness:"strikethroughThickness","strikethrough-thickness":"strikethroughThickness",string:"string",stroke:"stroke",strokedasharray:"strokeDasharray","stroke-dasharray":"strokeDasharray",strokedashoffset:"strokeDashoffset","stroke-dashoffset":"strokeDashoffset",strokelinecap:"strokeLinecap","stroke-linecap":"strokeLinecap",strokelinejoin:"strokeLinejoin","stroke-linejoin":"strokeLinejoin",strokemiterlimit:"strokeMiterlimit","stroke-miterlimit":"strokeMiterlimit",strokewidth:"strokeWidth","stroke-width":"strokeWidth",strokeopacity:"strokeOpacity","stroke-opacity":"strokeOpacity",suppresscontenteditablewarning:"suppressContentEditableWarning",suppresshydrationwarning:"suppressHydrationWarning",surfacescale:"surfaceScale",systemlanguage:"systemLanguage",tablevalues:"tableValues",targetx:"targetX",targety:"targetY",textanchor:"textAnchor","text-anchor":"textAnchor",textdecoration:"textDecoration","text-decoration":"textDecoration",textlength:"textLength",textrendering:"textRendering","text-rendering":"textRendering",to:"to",transform:"transform",transformorigin:"transformOrigin","transform-origin":"transformOrigin",typeof:"typeof",u1:"u1",u2:"u2",underlineposition:"underlinePosition","underline-position":"underlinePosition",underlinethickness:"underlineThickness","underline-thickness":"underlineThickness",unicode:"unicode",unicodebidi:"unicodeBidi","unicode-bidi":"unicodeBidi",unicoderange:"unicodeRange","unicode-range":"unicodeRange",unitsperem:"unitsPerEm","units-per-em":"unitsPerEm",unselectable:"unselectable",valphabetic:"vAlphabetic","v-alphabetic":"vAlphabetic",values:"values",vectoreffect:"vectorEffect","vector-effect":"vectorEffect",version:"version",vertadvy:"vertAdvY","vert-adv-y":"vertAdvY",vertoriginx:"vertOriginX","vert-origin-x":"vertOriginX",vertoriginy:"vertOriginY","vert-origin-y":"vertOriginY",vhanging:"vHanging","v-hanging":"vHanging",videographic:"vIdeographic","v-ideographic":"vIdeographic",viewbox:"viewBox",viewtarget:"viewTarget",visibility:"visibility",vmathematical:"vMathematical","v-mathematical":"vMathematical",vocab:"vocab",widths:"widths",wordspacing:"wordSpacing","word-spacing":"wordSpacing",writingmode:"writingMode","writing-mode":"writingMode",x1:"x1",x2:"x2",x:"x",xchannelselector:"xChannelSelector",xheight:"xHeight","x-height":"xHeight",xlinkactuate:"xlinkActuate","xlink:actuate":"xlinkActuate",xlinkarcrole:"xlinkArcrole","xlink:arcrole":"xlinkArcrole",xlinkhref:"xlinkHref","xlink:href":"xlinkHref",xlinkrole:"xlinkRole","xlink:role":"xlinkRole",xlinkshow:"xlinkShow","xlink:show":"xlinkShow",xlinktitle:"xlinkTitle","xlink:title":"xlinkTitle",xlinktype:"xlinkType","xlink:type":"xlinkType",xmlbase:"xmlBase","xml:base":"xmlBase",xmllang:"xmlLang","xml:lang":"xmlLang",xmlns:"xmlns","xml:space":"xmlSpace",xmlnsxlink:"xmlnsXlink","xmlns:xlink":"xmlnsXlink",xmlspace:"xmlSpace",y1:"y1",y2:"y2",y:"y",ychannelselector:"yChannelSelector",z:"z",zoomandpan:"zoomAndPan"},NN={"aria-current":0,"aria-description":0,"aria-details":0,"aria-disabled":0,"aria-hidden":0,"aria-invalid":0,"aria-keyshortcuts":0,"aria-label":0,"aria-roledescription":0,"aria-autocomplete":0,"aria-checked":0,"aria-expanded":0,"aria-haspopup":0,"aria-level":0,"aria-modal":0,"aria-multiline":0,"aria-multiselectable":0,"aria-orientation":0,"aria-placeholder":0,"aria-pressed":0,"aria-readonly":0,"aria-required":0,"aria-selected":0,"aria-sort":0,"aria-valuemax":0,"aria-valuemin":0,"aria-valuenow":0,"aria-valuetext":0,"aria-atomic":0,"aria-busy":0,"aria-live":0,"aria-relevant":0,"aria-dropeffect":0,"aria-grabbed":0,"aria-activedescendant":0,"aria-colcount":0,"aria-colindex":0,"aria-colspan":0,"aria-controls":0,"aria-describedby":0,"aria-errormessage":0,"aria-flowto":0,"aria-labelledby":0,"aria-owns":0,"aria-posinset":0,"aria-rowcount":0,"aria-rowindex":0,"aria-rowspan":0,"aria-setsize":0,"aria-braillelabel":0,"aria-brailleroledescription":0,"aria-colindextext":0,"aria-rowindextext":0},Gd={},jO=RegExp("^(aria)-[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),UO=RegExp("^(aria)[A-Z][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),CN=!1,fr={},DN=/^on./,VO=/^on[^A-Z]/,FO=RegExp("^(aria)-[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),zO=RegExp("^(aria)[A-Z][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),HO=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i,Hf=null,Xd=null,Yd=null,Cv=!1,ao=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Dv=!1;if(ao)try{var $f={};Object.defineProperty($f,"passive",{get:function(){Dv=!0}}),window.addEventListener("test",$f,$f),window.removeEventListener("test",$f,$f)}catch{Dv=!1}var eu=null,Av=null,yg=null,bc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vg=Qn(bc),qf=Dt({},bc,{view:0,detail:0}),$O=Qn(qf),wv,Rv,Gf,_g=Dt({},qf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pa,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Gf&&(Gf&&t.type==="mousemove"?(wv=t.screenX-Gf.screenX,Rv=t.screenY-Gf.screenY):Rv=wv=0,Gf=t),wv)},movementY:function(t){return"movementY"in t?t.movementY:Rv}}),AN=Qn(_g),qO=Dt({},_g,{dataTransfer:0}),GO=Qn(qO),XO=Dt({},qf,{relatedTarget:0}),kv=Qn(XO),YO=Dt({},bc,{animationName:0,elapsedTime:0,pseudoElement:0}),QO=Qn(YO),ZO=Dt({},bc,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),WO=Qn(ZO),KO=Dt({},bc,{data:0}),wN=Qn(KO),JO=wN,e5={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},t5={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},n5={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"},i5=Dt({},qf,{key:function(t){if(t.key){var r=e5[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=El(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?t5[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pa,charCode:function(t){return t.type==="keypress"?El(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?El(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),r5=Qn(i5),s5=Dt({},_g,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),RN=Qn(s5),a5=Dt({},qf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pa}),o5=Qn(a5),l5=Dt({},bc,{propertyName:0,elapsedTime:0,pseudoElement:0}),u5=Qn(l5),c5=Dt({},_g,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),d5=Qn(c5),h5=Dt({},bc,{newState:0,oldState:0}),f5=Qn(h5),m5=[9,13,27,32],kN=229,Ov=ao&&"CompositionEvent"in window,Xf=null;ao&&"documentMode"in document&&(Xf=document.documentMode);var p5=ao&&"TextEvent"in window&&!Xf,ON=ao&&(!Ov||Xf&&8<Xf&&11>=Xf),MN=32,IN=String.fromCharCode(MN),LN=!1,Qd=!1,g5={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0},Yf=null,Qf=null,PN=!1;ao&&(PN=Nl("input")&&(!document.documentMode||9<document.documentMode));var mr=typeof Object.is=="function"?Object.is:Jr,b5=ao&&"documentMode"in document&&11>=document.documentMode,Zd=null,Mv=null,Zf=null,Iv=!1,Wd={animationend:kr("Animation","AnimationEnd"),animationiteration:kr("Animation","AnimationIteration"),animationstart:kr("Animation","AnimationStart"),transitionrun:kr("Transition","TransitionRun"),transitionstart:kr("Transition","TransitionStart"),transitioncancel:kr("Transition","TransitionCancel"),transitionend:kr("Transition","TransitionEnd")},Lv={},BN={};ao&&(BN=document.createElement("div").style,"AnimationEvent"in window||(delete Wd.animationend.animation,delete Wd.animationiteration.animation,delete Wd.animationstart.animation),"TransitionEvent"in window||delete Wd.transitionend.transition);var jN=On("animationend"),UN=On("animationiteration"),VN=On("animationstart"),y5=On("transitionrun"),v5=On("transitionstart"),_5=On("transitioncancel"),FN=On("transitionend"),zN=new Map,Pv="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Pv.push("scrollEnd");var HN=0;if(typeof performance=="object"&&typeof performance.now=="function")var x5=performance,$N=function(){return x5.now()};else{var T5=Date;$N=function(){return T5.now()}}var Bv=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},S5="This object has been omitted by React in the console log to avoid sending too much data from the server. Try logging smaller or more specific objects.",xg=0,jv=1,Uv=2,Vv=3,Tg="",Sg="+",qN="",xn=typeof console<"u"&&typeof console.timeStamp=="function"&&typeof performance<"u"&&typeof performance.measure=="function",Ls="Components ",kt="Scheduler ",jt="Blocking",tu=!1,Zo={color:"primary",properties:null,tooltipText:"",track:Ls},nu={start:-0,end:-0,detail:{devtools:Zo}},E5=["Changed Props",""],GN="This component received deeply equal props. It might benefit from useMemo or the React Compiler in its owner.",N5=["Changed Props",GN],Wf=1,Wo=2,Ps=[],Kd=0,Fv=0,iu={};Object.freeze(iu);var Bs=null,Jd=null,ut=0,C5=1,xt=2,Ki=8,pa=16,D5=32,XN=!1;try{var YN=Object.preventExtensions({})}catch{XN=!0}var zv=new WeakMap,eh=[],th=0,Eg=null,Kf=0,js=[],Us=0,yc=null,Ko=1,Jo="",Qi=null,Tn=null,wt=!1,oo=!1,os=null,ru=null,Vs=!1,Hv=Error("Hydration Mismatch Exception: This is not a real error, and should not leak into userspace. If you're seeing this, it's likely a bug in React."),$v=ge(null),qv=ge(null),QN={},Ng=null,nh=null,ih=!1,A5=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(a,u){t.push(u)}};this.abort=function(){r.aborted=!0,t.forEach(function(a){return a()})}},w5=ui.unstable_scheduleCallback,R5=ui.unstable_NormalPriority,ci={$$typeof:to,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0,_currentRenderer:null,_currentRenderer2:null},di=ui.unstable_now,Cg=console.createTask?console.createTask:function(){return null},Jf=1,Dg=2,Li=-0,su=-0,el=-0,tl=null,pr=-1.1,vc=-0,In=-0,rt=-1.1,lt=-1.1,Dn=null,qn=!1,_c=-0,lo=-1.1,em=null,au=0,Gv=null,Xv=null,xc=-1.1,tm=null,rh=-1.1,Ag=-1.1,nl=-0,il=-1.1,Fs=-1.1,Yv=0,nm=null,ZN=null,WN=null,ou=-1.1,Tc=null,lu=-1.1,wg=-1.1,KN=-0,JN=-0,Rg=0,k5=null,eC=0,im=-1.1,kg=!1,Og=!1,rm=null,Qv=0,Sc=0,sh=null,tC=we.S;we.S=function(t,r){if(ZC=Ii(),typeof r=="object"&&r!==null&&typeof r.then=="function"){if(0>il&&0>Fs){il=di();var a=If(),u=Mf();(a!==lu||u!==Tc)&&(lu=-1.1),ou=a,Tc=u}H0(t,r)}tC!==null&&tC(t,r)};var Ec=ge(null),ga={recordUnsafeLifecycleWarnings:function(){},flushPendingUnsafeLifecycleWarnings:function(){},recordLegacyContextWarning:function(){},flushLegacyContextWarning:function(){},discardPendingWarnings:function(){}},sm=[],am=[],om=[],lm=[],um=[],cm=[],Nc=new Set;ga.recordUnsafeLifecycleWarnings=function(t,r){Nc.has(t.type)||(typeof r.componentWillMount=="function"&&r.componentWillMount.__suppressDeprecationWarning!==!0&&sm.push(t),t.mode&Ki&&typeof r.UNSAFE_componentWillMount=="function"&&am.push(t),typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps.__suppressDeprecationWarning!==!0&&om.push(t),t.mode&Ki&&typeof r.UNSAFE_componentWillReceiveProps=="function"&&lm.push(t),typeof r.componentWillUpdate=="function"&&r.componentWillUpdate.__suppressDeprecationWarning!==!0&&um.push(t),t.mode&Ki&&typeof r.UNSAFE_componentWillUpdate=="function"&&cm.push(t))},ga.flushPendingUnsafeLifecycleWarnings=function(){var t=new Set;0<sm.length&&(sm.forEach(function(S){t.add(j(S)||"Component"),Nc.add(S.type)}),sm=[]);var r=new Set;0<am.length&&(am.forEach(function(S){r.add(j(S)||"Component"),Nc.add(S.type)}),am=[]);var a=new Set;0<om.length&&(om.forEach(function(S){a.add(j(S)||"Component"),Nc.add(S.type)}),om=[]);var u=new Set;0<lm.length&&(lm.forEach(function(S){u.add(j(S)||"Component"),Nc.add(S.type)}),lm=[]);var h=new Set;0<um.length&&(um.forEach(function(S){h.add(j(S)||"Component"),Nc.add(S.type)}),um=[]);var f=new Set;if(0<cm.length&&(cm.forEach(function(S){f.add(j(S)||"Component"),Nc.add(S.type)}),cm=[]),0<r.size){var b=E(r);console.error(`Using UNSAFE_componentWillMount in strict mode is not recommended and may indicate bugs in your code. See https://react.dev/link/unsafe-component-lifecycles for details.

* Move code with side effects to componentDidMount, and set initial state in the constructor.

Please update the following components: %s`,b)}0<u.size&&(b=E(u),console.error(`Using UNSAFE_componentWillReceiveProps in strict mode is not recommended and may indicate bugs in your code. See https://react.dev/link/unsafe-component-lifecycles for details.

* Move data fetching code or side effects to componentDidUpdate.
* If you're updating state whenever props change, refactor your code to use memoization techniques or move it to static getDerivedStateFromProps. Learn more at: https://react.dev/link/derived-state

Please update the following components: %s`,b)),0<f.size&&(b=E(f),console.error(`Using UNSAFE_componentWillUpdate in strict mode is not recommended and may indicate bugs in your code. See https://react.dev/link/unsafe-component-lifecycles for details.

* Move data fetching code or side effects to componentDidUpdate.

Please update the following components: %s`,b)),0<t.size&&(b=E(t),console.warn(`componentWillMount has been renamed, and is not recommended for use. See https://react.dev/link/unsafe-component-lifecycles for details.

* Move code with side effects to componentDidMount, and set initial state in the constructor.
* Rename componentWillMount to UNSAFE_componentWillMount to suppress this warning in non-strict mode. In React 18.x, only the UNSAFE_ name will work. To rename all deprecated lifecycles to their new names, you can run \`npx react-codemod rename-unsafe-lifecycles\` in your project source folder.

Please update the following components: %s`,b)),0<a.size&&(b=E(a),console.warn(`componentWillReceiveProps has been renamed, and is not recommended for use. See https://react.dev/link/unsafe-component-lifecycles for details.

* Move data fetching code or side effects to componentDidUpdate.
* If you're updating state whenever props change, refactor your code to use memoization techniques or move it to static getDerivedStateFromProps. Learn more at: https://react.dev/link/derived-state
* Rename componentWillReceiveProps to UNSAFE_componentWillReceiveProps to suppress this warning in non-strict mode. In React 18.x, only the UNSAFE_ name will work. To rename all deprecated lifecycles to their new names, you can run \`npx react-codemod rename-unsafe-lifecycles\` in your project source folder.

Please update the following components: %s`,b)),0<h.size&&(b=E(h),console.warn(`componentWillUpdate has been renamed, and is not recommended for use. See https://react.dev/link/unsafe-component-lifecycles for details.

* Move data fetching code or side effects to componentDidUpdate.
* Rename componentWillUpdate to UNSAFE_componentWillUpdate to suppress this warning in non-strict mode. In React 18.x, only the UNSAFE_ name will work. To rename all deprecated lifecycles to their new names, you can run \`npx react-codemod rename-unsafe-lifecycles\` in your project source folder.

Please update the following components: %s`,b))};var Mg=new Map,nC=new Set;ga.recordLegacyContextWarning=function(t,r){for(var a=null,u=t;u!==null;)u.mode&Ki&&(a=u),u=u.return;a===null?console.error("Expected to find a StrictMode component in a strict mode tree. This error is likely caused by a bug in React. Please file an issue."):!nC.has(t.type)&&(u=Mg.get(a),t.type.contextTypes!=null||t.type.childContextTypes!=null||r!==null&&typeof r.getChildContext=="function")&&(u===void 0&&(u=[],Mg.set(a,u)),u.push(t))},ga.flushLegacyContextWarning=function(){Mg.forEach(function(t){if(t.length!==0){var r=t[0],a=new Set;t.forEach(function(h){a.add(j(h)||"Component"),nC.add(h.type)});var u=E(a);je(r,function(){console.error(`Legacy context API has been detected within a strict-mode tree.

The old API will be supported in all 16.x releases, but applications using it should migrate to the new version.

Please update the following components: %s

Learn more about this warning here: https://react.dev/link/legacy-context`,u)})}})},ga.discardPendingWarnings=function(){sm=[],am=[],om=[],lm=[],um=[],cm=[],Mg=new Map};var iC={react_stack_bottom_frame:function(t,r,a){var u=no;no=!0;try{return t(r,a)}finally{no=u}}},Zv=iC.react_stack_bottom_frame.bind(iC),rC={react_stack_bottom_frame:function(t){var r=no;no=!0;try{return t.render()}finally{no=r}}},sC=rC.react_stack_bottom_frame.bind(rC),aC={react_stack_bottom_frame:function(t,r){try{r.componentDidMount()}catch(a){Yt(t,t.return,a)}}},Wv=aC.react_stack_bottom_frame.bind(aC),oC={react_stack_bottom_frame:function(t,r,a,u,h){try{r.componentDidUpdate(a,u,h)}catch(f){Yt(t,t.return,f)}}},lC=oC.react_stack_bottom_frame.bind(oC),uC={react_stack_bottom_frame:function(t,r){var a=r.stack;t.componentDidCatch(r.value,{componentStack:a!==null?a:""})}},O5=uC.react_stack_bottom_frame.bind(uC),cC={react_stack_bottom_frame:function(t,r,a){try{a.componentWillUnmount()}catch(u){Yt(t,r,u)}}},dC=cC.react_stack_bottom_frame.bind(cC),hC={react_stack_bottom_frame:function(t){var r=t.create;return t=t.inst,r=r(),t.destroy=r}},M5=hC.react_stack_bottom_frame.bind(hC),fC={react_stack_bottom_frame:function(t,r,a){try{a()}catch(u){Yt(t,r,u)}}},I5=fC.react_stack_bottom_frame.bind(fC),mC={react_stack_bottom_frame:function(t){var r=t._init;return r(t._payload)}},L5=mC.react_stack_bottom_frame.bind(mC),ah=Error("Suspense Exception: This is not a real error! It's an implementation detail of `use` to interrupt the current render. You must either rethrow it immediately, or move the `use` call outside of the `try/catch` block. Capturing without rethrowing will lead to unexpected behavior.\n\nTo handle async errors, wrap your component in an error boundary, or call the promise's `.catch` method and pass the result to `use`."),Kv=Error("Suspense Exception: This is not a real error, and should not leak into userspace. If you're seeing this, it's likely a bug in React."),Ig=Error("Suspense Exception: This is not a real error! It's an implementation detail of `useActionState` to interrupt the current render. You must either rethrow it immediately, or move the `useActionState` call outside of the `try/catch` block. Capturing without rethrowing will lead to unexpected behavior.\n\nTo handle async errors, wrap your component in an error boundary."),Lg={then:function(){console.error('Internal React error: A listener was unexpectedly attached to a "noop" thenable. This is a bug in React. Please file an issue.')}},Cc=null,dm=!1,oh=null,hm=0,Tt=null,Jv,pC=Jv=!1,gC={},bC={},yC={};v=function(t,r,a){if(a!==null&&typeof a=="object"&&a._store&&(!a._store.validated&&a.key==null||a._store.validated===2)){if(typeof a._store!="object")throw Error("React Component in warnForMissingKey should have a _store. This error is likely caused by a bug in React. Please file an issue.");a._store.validated=1;var u=j(t),h=u||"null";if(!gC[h]){gC[h]=!0,a=a._owner,t=t._debugOwner;var f="";t&&typeof t.tag=="number"&&(h=j(t))&&(f=`

Check the render method of \``+h+"`."),f||u&&(f=`

Check the top-level render call using <`+u+">.");var b="";a!=null&&t!==a&&(u=null,typeof a.tag=="number"?u=j(a):typeof a.name=="string"&&(u=a.name),u&&(b=" It was passed a child from "+u+".")),je(r,function(){console.error('Each child in a list should have a unique "key" prop.%s%s See https://react.dev/link/warning-keys for more information.',f,b)})}}};var Dc=bf(!0),vC=bf(!1),_C=0,xC=1,TC=2,e_=3,uu=!1,SC=!1,t_=null,n_=!1,lh=ge(null),Pg=ge(0),ls=ge(null),zs=null,uh=1,fm=2,ii=ge(0),Bg=0,Hs=1,gr=2,us=4,br=8,ch,EC=new Set,NC=new Set,i_=new Set,CC=new Set,rl=0,ft=null,un=null,hi=null,jg=!1,dh=!1,Ac=!1,Ug=0,mm=0,sl=null,P5=0,B5=25,Ae=null,$s=null,al=-1,pm=!1,gm={readContext:rn,use:Gl,useCallback:Bt,useContext:Bt,useEffect:Bt,useImperativeHandle:Bt,useLayoutEffect:Bt,useInsertionEffect:Bt,useMemo:Bt,useReducer:Bt,useRef:Bt,useState:Bt,useDebugValue:Bt,useDeferredValue:Bt,useTransition:Bt,useSyncExternalStore:Bt,useId:Bt,useHostTransitionStatus:Bt,useFormState:Bt,useActionState:Bt,useOptimistic:Bt,useMemoCache:Bt,useCacheRefresh:Bt};gm.useEffectEvent=Bt;var r_=null,DC=null,s_=null,AC=null,uo=null,ba=null,Vg=null;r_={readContext:function(t){return rn(t)},use:Gl,useCallback:function(t,r){return Ae="useCallback",xe(),ht(r),ty(t,r)},useContext:function(t){return Ae="useContext",xe(),rn(t)},useEffect:function(t,r){return Ae="useEffect",xe(),ht(r),Mp(t,r)},useImperativeHandle:function(t,r,a){return Ae="useImperativeHandle",xe(),ht(a),ey(t,r,a)},useInsertionEffect:function(t,r){Ae="useInsertionEffect",xe(),ht(r),dc(4,gr,t,r)},useLayoutEffect:function(t,r){return Ae="useLayoutEffect",xe(),ht(r),J0(t,r)},useMemo:function(t,r){Ae="useMemo",xe(),ht(r);var a=we.H;we.H=uo;try{return ny(t,r)}finally{we.H=a}},useReducer:function(t,r,a){Ae="useReducer",xe();var u=we.H;we.H=uo;try{return $0(t,r,a)}finally{we.H=u}},useRef:function(t){return Ae="useRef",xe(),W0(t)},useState:function(t){Ae="useState",xe();var r=we.H;we.H=uo;try{return Y0(t)}finally{we.H=r}},useDebugValue:function(){Ae="useDebugValue",xe()},useDeferredValue:function(t,r){return Ae="useDeferredValue",xe(),iy(t,r)},useTransition:function(){return Ae="useTransition",xe(),ay()},useSyncExternalStore:function(t,r,a){return Ae="useSyncExternalStore",xe(),G0(t,r,a)},useId:function(){return Ae="useId",xe(),oy()},useFormState:function(t,r){return Ae="useFormState",xe(),Hn(),wd(t,r)},useActionState:function(t,r){return Ae="useActionState",xe(),wd(t,r)},useOptimistic:function(t){return Ae="useOptimistic",xe(),Q0(t)},useHostTransitionStatus:hc,useMemoCache:cc,useCacheRefresh:function(){return Ae="useCacheRefresh",xe(),ly()},useEffectEvent:function(t){return Ae="useEffectEvent",xe(),K0(t)}},DC={readContext:function(t){return rn(t)},use:Gl,useCallback:function(t,r){return Ae="useCallback",Ee(),ty(t,r)},useContext:function(t){return Ae="useContext",Ee(),rn(t)},useEffect:function(t,r){return Ae="useEffect",Ee(),Mp(t,r)},useImperativeHandle:function(t,r,a){return Ae="useImperativeHandle",Ee(),ey(t,r,a)},useInsertionEffect:function(t,r){Ae="useInsertionEffect",Ee(),dc(4,gr,t,r)},useLayoutEffect:function(t,r){return Ae="useLayoutEffect",Ee(),J0(t,r)},useMemo:function(t,r){Ae="useMemo",Ee();var a=we.H;we.H=uo;try{return ny(t,r)}finally{we.H=a}},useReducer:function(t,r,a){Ae="useReducer",Ee();var u=we.H;we.H=uo;try{return $0(t,r,a)}finally{we.H=u}},useRef:function(t){return Ae="useRef",Ee(),W0(t)},useState:function(t){Ae="useState",Ee();var r=we.H;we.H=uo;try{return Y0(t)}finally{we.H=r}},useDebugValue:function(){Ae="useDebugValue",Ee()},useDeferredValue:function(t,r){return Ae="useDeferredValue",Ee(),iy(t,r)},useTransition:function(){return Ae="useTransition",Ee(),ay()},useSyncExternalStore:function(t,r,a){return Ae="useSyncExternalStore",Ee(),G0(t,r,a)},useId:function(){return Ae="useId",Ee(),oy()},useActionState:function(t,r){return Ae="useActionState",Ee(),wd(t,r)},useFormState:function(t,r){return Ae="useFormState",Ee(),Hn(),wd(t,r)},useOptimistic:function(t){return Ae="useOptimistic",Ee(),Q0(t)},useHostTransitionStatus:hc,useMemoCache:cc,useCacheRefresh:function(){return Ae="useCacheRefresh",Ee(),ly()},useEffectEvent:function(t){return Ae="useEffectEvent",Ee(),K0(t)}},s_={readContext:function(t){return rn(t)},use:Gl,useCallback:function(t,r){return Ae="useCallback",Ee(),Pp(t,r)},useContext:function(t){return Ae="useContext",Ee(),rn(t)},useEffect:function(t,r){Ae="useEffect",Ee(),Ir(2048,br,t,r)},useImperativeHandle:function(t,r,a){return Ae="useImperativeHandle",Ee(),Lp(t,r,a)},useInsertionEffect:function(t,r){return Ae="useInsertionEffect",Ee(),Ir(4,gr,t,r)},useLayoutEffect:function(t,r){return Ae="useLayoutEffect",Ee(),Ir(4,us,t,r)},useMemo:function(t,r){Ae="useMemo",Ee();var a=we.H;we.H=ba;try{return Bp(t,r)}finally{we.H=a}},useReducer:function(t,r,a){Ae="useReducer",Ee();var u=we.H;we.H=ba;try{return Ad(t,r,a)}finally{we.H=u}},useRef:function(){return Ae="useRef",Ee(),Kt().memoizedState},useState:function(){Ae="useState",Ee();var t=we.H;we.H=ba;try{return Ad(ha)}finally{we.H=t}},useDebugValue:function(){Ae="useDebugValue",Ee()},useDeferredValue:function(t,r){return Ae="useDeferredValue",Ee(),OT(t,r)},useTransition:function(){return Ae="useTransition",Ee(),jT()},useSyncExternalStore:function(t,r,a){return Ae="useSyncExternalStore",Ee(),Rp(t,r,a)},useId:function(){return Ae="useId",Ee(),Kt().memoizedState},useFormState:function(t){return Ae="useFormState",Ee(),Hn(),kp(t)},useActionState:function(t){return Ae="useActionState",Ee(),kp(t)},useOptimistic:function(t,r){return Ae="useOptimistic",Ee(),TT(t,r)},useHostTransitionStatus:hc,useMemoCache:cc,useCacheRefresh:function(){return Ae="useCacheRefresh",Ee(),Kt().memoizedState},useEffectEvent:function(t){return Ae="useEffectEvent",Ee(),Ip(t)}},AC={readContext:function(t){return rn(t)},use:Gl,useCallback:function(t,r){return Ae="useCallback",Ee(),Pp(t,r)},useContext:function(t){return Ae="useContext",Ee(),rn(t)},useEffect:function(t,r){Ae="useEffect",Ee(),Ir(2048,br,t,r)},useImperativeHandle:function(t,r,a){return Ae="useImperativeHandle",Ee(),Lp(t,r,a)},useInsertionEffect:function(t,r){return Ae="useInsertionEffect",Ee(),Ir(4,gr,t,r)},useLayoutEffect:function(t,r){return Ae="useLayoutEffect",Ee(),Ir(4,us,t,r)},useMemo:function(t,r){Ae="useMemo",Ee();var a=we.H;we.H=Vg;try{return Bp(t,r)}finally{we.H=a}},useReducer:function(t,r,a){Ae="useReducer",Ee();var u=we.H;we.H=Vg;try{return xf(t,r,a)}finally{we.H=u}},useRef:function(){return Ae="useRef",Ee(),Kt().memoizedState},useState:function(){Ae="useState",Ee();var t=we.H;we.H=Vg;try{return xf(ha)}finally{we.H=t}},useDebugValue:function(){Ae="useDebugValue",Ee()},useDeferredValue:function(t,r){return Ae="useDeferredValue",Ee(),MT(t,r)},useTransition:function(){return Ae="useTransition",Ee(),UT()},useSyncExternalStore:function(t,r,a){return Ae="useSyncExternalStore",Ee(),Rp(t,r,a)},useId:function(){return Ae="useId",Ee(),Kt().memoizedState},useFormState:function(t){return Ae="useFormState",Ee(),Hn(),Op(t)},useActionState:function(t){return Ae="useActionState",Ee(),Op(t)},useOptimistic:function(t,r){return Ae="useOptimistic",Ee(),ET(t,r)},useHostTransitionStatus:hc,useMemoCache:cc,useCacheRefresh:function(){return Ae="useCacheRefresh",Ee(),Kt().memoizedState},useEffectEvent:function(t){return Ae="useEffectEvent",Ee(),Ip(t)}},uo={readContext:function(t){return m(),rn(t)},use:function(t){return d(),Gl(t)},useCallback:function(t,r){return Ae="useCallback",d(),xe(),ty(t,r)},useContext:function(t){return Ae="useContext",d(),xe(),rn(t)},useEffect:function(t,r){return Ae="useEffect",d(),xe(),Mp(t,r)},useImperativeHandle:function(t,r,a){return Ae="useImperativeHandle",d(),xe(),ey(t,r,a)},useInsertionEffect:function(t,r){Ae="useInsertionEffect",d(),xe(),dc(4,gr,t,r)},useLayoutEffect:function(t,r){return Ae="useLayoutEffect",d(),xe(),J0(t,r)},useMemo:function(t,r){Ae="useMemo",d(),xe();var a=we.H;we.H=uo;try{return ny(t,r)}finally{we.H=a}},useReducer:function(t,r,a){Ae="useReducer",d(),xe();var u=we.H;we.H=uo;try{return $0(t,r,a)}finally{we.H=u}},useRef:function(t){return Ae="useRef",d(),xe(),W0(t)},useState:function(t){Ae="useState",d(),xe();var r=we.H;we.H=uo;try{return Y0(t)}finally{we.H=r}},useDebugValue:function(){Ae="useDebugValue",d(),xe()},useDeferredValue:function(t,r){return Ae="useDeferredValue",d(),xe(),iy(t,r)},useTransition:function(){return Ae="useTransition",d(),xe(),ay()},useSyncExternalStore:function(t,r,a){return Ae="useSyncExternalStore",d(),xe(),G0(t,r,a)},useId:function(){return Ae="useId",d(),xe(),oy()},useFormState:function(t,r){return Ae="useFormState",d(),xe(),wd(t,r)},useActionState:function(t,r){return Ae="useActionState",d(),xe(),wd(t,r)},useOptimistic:function(t){return Ae="useOptimistic",d(),xe(),Q0(t)},useMemoCache:function(t){return d(),cc(t)},useHostTransitionStatus:hc,useCacheRefresh:function(){return Ae="useCacheRefresh",xe(),ly()},useEffectEvent:function(t){return Ae="useEffectEvent",d(),xe(),K0(t)}},ba={readContext:function(t){return m(),rn(t)},use:function(t){return d(),Gl(t)},useCallback:function(t,r){return Ae="useCallback",d(),Ee(),Pp(t,r)},useContext:function(t){return Ae="useContext",d(),Ee(),rn(t)},useEffect:function(t,r){Ae="useEffect",d(),Ee(),Ir(2048,br,t,r)},useImperativeHandle:function(t,r,a){return Ae="useImperativeHandle",d(),Ee(),Lp(t,r,a)},useInsertionEffect:function(t,r){return Ae="useInsertionEffect",d(),Ee(),Ir(4,gr,t,r)},useLayoutEffect:function(t,r){return Ae="useLayoutEffect",d(),Ee(),Ir(4,us,t,r)},useMemo:function(t,r){Ae="useMemo",d(),Ee();var a=we.H;we.H=ba;try{return Bp(t,r)}finally{we.H=a}},useReducer:function(t,r,a){Ae="useReducer",d(),Ee();var u=we.H;we.H=ba;try{return Ad(t,r,a)}finally{we.H=u}},useRef:function(){return Ae="useRef",d(),Ee(),Kt().memoizedState},useState:function(){Ae="useState",d(),Ee();var t=we.H;we.H=ba;try{return Ad(ha)}finally{we.H=t}},useDebugValue:function(){Ae="useDebugValue",d(),Ee()},useDeferredValue:function(t,r){return Ae="useDeferredValue",d(),Ee(),OT(t,r)},useTransition:function(){return Ae="useTransition",d(),Ee(),jT()},useSyncExternalStore:function(t,r,a){return Ae="useSyncExternalStore",d(),Ee(),Rp(t,r,a)},useId:function(){return Ae="useId",d(),Ee(),Kt().memoizedState},useFormState:function(t){return Ae="useFormState",d(),Ee(),kp(t)},useActionState:function(t){return Ae="useActionState",d(),Ee(),kp(t)},useOptimistic:function(t,r){return Ae="useOptimistic",d(),Ee(),TT(t,r)},useMemoCache:function(t){return d(),cc(t)},useHostTransitionStatus:hc,useCacheRefresh:function(){return Ae="useCacheRefresh",Ee(),Kt().memoizedState},useEffectEvent:function(t){return Ae="useEffectEvent",d(),Ee(),Ip(t)}},Vg={readContext:function(t){return m(),rn(t)},use:function(t){return d(),Gl(t)},useCallback:function(t,r){return Ae="useCallback",d(),Ee(),Pp(t,r)},useContext:function(t){return Ae="useContext",d(),Ee(),rn(t)},useEffect:function(t,r){Ae="useEffect",d(),Ee(),Ir(2048,br,t,r)},useImperativeHandle:function(t,r,a){return Ae="useImperativeHandle",d(),Ee(),Lp(t,r,a)},useInsertionEffect:function(t,r){return Ae="useInsertionEffect",d(),Ee(),Ir(4,gr,t,r)},useLayoutEffect:function(t,r){return Ae="useLayoutEffect",d(),Ee(),Ir(4,us,t,r)},useMemo:function(t,r){Ae="useMemo",d(),Ee();var a=we.H;we.H=ba;try{return Bp(t,r)}finally{we.H=a}},useReducer:function(t,r,a){Ae="useReducer",d(),Ee();var u=we.H;we.H=ba;try{return xf(t,r,a)}finally{we.H=u}},useRef:function(){return Ae="useRef",d(),Ee(),Kt().memoizedState},useState:function(){Ae="useState",d(),Ee();var t=we.H;we.H=ba;try{return xf(ha)}finally{we.H=t}},useDebugValue:function(){Ae="useDebugValue",d(),Ee()},useDeferredValue:function(t,r){return Ae="useDeferredValue",d(),Ee(),MT(t,r)},useTransition:function(){return Ae="useTransition",d(),Ee(),UT()},useSyncExternalStore:function(t,r,a){return Ae="useSyncExternalStore",d(),Ee(),Rp(t,r,a)},useId:function(){return Ae="useId",d(),Ee(),Kt().memoizedState},useFormState:function(t){return Ae="useFormState",d(),Ee(),Op(t)},useActionState:function(t){return Ae="useActionState",d(),Ee(),Op(t)},useOptimistic:function(t,r){return Ae="useOptimistic",d(),Ee(),ET(t,r)},useMemoCache:function(t){return d(),cc(t)},useHostTransitionStatus:hc,useCacheRefresh:function(){return Ae="useCacheRefresh",Ee(),Kt().memoizedState},useEffectEvent:function(t){return Ae="useEffectEvent",d(),Ee(),Ip(t)}};var wC={},RC=new Set,kC=new Set,OC=new Set,MC=new Set,IC=new Set,LC=new Set,PC=new Set,BC=new Set,jC=new Set,UC=new Set;Object.freeze(wC);var a_={enqueueSetState:function(t,r,a){t=t._reactInternals;var u=is(t),h=Ga(u);h.payload=r,a!=null&&(cy(a),h.callback=a),r=Xa(t,h,u),r!==null&&(Ns(u,"this.setState()",t),$n(r,t,u),lc(r,t,u))},enqueueReplaceState:function(t,r,a){t=t._reactInternals;var u=is(t),h=Ga(u);h.tag=xC,h.payload=r,a!=null&&(cy(a),h.callback=a),r=Xa(t,h,u),r!==null&&(Ns(u,"this.replaceState()",t),$n(r,t,u),lc(r,t,u))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var a=is(t),u=Ga(a);u.tag=TC,r!=null&&(cy(r),u.callback=r),r=Xa(t,u,a),r!==null&&(Ns(a,"this.forceUpdate()",t),$n(r,t,a),lc(r,t,a))}},hh=null,o_=null,l_=Error("This is not a real error. It's an implementation detail of React's selective hydration feature. If this leaks into userspace, it's a bug in React. Please file an issue."),fi=!1,VC={},FC={},zC={},HC={},fh=!1,$C={},Fg={},u_={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null},qC=!1,GC=null;GC=new Set;var ol=!1,mi=!1,c_=!1,XC=typeof WeakSet=="function"?WeakSet:Set,Pi=null,mh=null,ph=null,pi=null,Br=!1,ya=null,Di=!1,bm=8192,j5={getCacheForType:function(t){var r=rn(ci),a=r.data.get(t);return a===void 0&&(a=t(),r.data.set(t,a)),a},cacheSignal:function(){return rn(ci).controller.signal},getOwner:function(){return as}};if(typeof Symbol=="function"&&Symbol.for){var ym=Symbol.for;ym("selector.component"),ym("selector.has_pseudo_class"),ym("selector.role"),ym("selector.test_id"),ym("selector.text")}var U5=[],V5=typeof WeakMap=="function"?WeakMap:Map,Bi=0,Ai=2,cs=4,ll=0,vm=1,wc=2,zg=3,cu=4,Hg=6,YC=5,Ut=Bi,cn=null,Nt=null,St=0,jr=0,$g=1,Rc=2,_m=3,QC=4,d_=5,xm=6,qg=7,h_=8,kc=9,Jt=jr,ds=null,du=!1,gh=!1,f_=!1,co=0,Ln=ll,hu=0,fu=0,m_=0,Ur=0,Oc=0,Tm=null,yr=null,Gg=!1,Xg=0,ZC=0,WC=300,Yg=1/0,KC=500,Sm=null,Zn=null,mu=null,Qg=0,p_=1,g_=2,JC=3,pu=0,eD=1,tD=2,nD=3,iD=4,Zg=5,gi=0,gu=null,bh=null,va=0,b_=0,y_=-0,v_=null,rD=null,sD=null,_a=Qg,aD=null,F5=50,Em=0,__=null,x_=!1,Wg=!1,z5=50,Mc=0,Nm=null,yh=!1,Kg=null,oD=!1,lD=new Set,H5={},Jg=null,vh=null,T_=!1,S_=!1,eb=!1,E_=!1,bu=0,N_={};(function(){for(var t=0;t<Pv.length;t++){var r=Pv[t],a=r.toLowerCase();r=r[0].toUpperCase()+r.slice(1),zn(a,"on"+r)}zn(jN,"onAnimationEnd"),zn(UN,"onAnimationIteration"),zn(VN,"onAnimationStart"),zn("dblclick","onDoubleClick"),zn("focusin","onFocus"),zn("focusout","onBlur"),zn(y5,"onTransitionRun"),zn(v5,"onTransitionStart"),zn(_5,"onTransitionCancel"),zn(FN,"onTransitionEnd")})(),Ue("onMouseEnter",["mouseout","mouseover"]),Ue("onMouseLeave",["mouseout","mouseover"]),Ue("onPointerEnter",["pointerout","pointerover"]),Ue("onPointerLeave",["pointerout","pointerover"]),Se("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Se("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Se("onBeforeInput",["compositionend","keypress","textInput","paste"]),Se("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Se("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Se("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cm="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),C_=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Cm)),tb="_reactListening"+Math.random().toString(36).slice(2),uD=!1,cD=!1,nb=!1,dD=!1,ib=!1,rb=!1,hD=!1,sb={},$5=/\r\n?/g,q5=/\u0000|\uFFFD/g,Ic="http://www.w3.org/1999/xlink",D_="http://www.w3.org/XML/1998/namespace",G5="javascript:throw new Error('React form unexpectedly submitted.')",X5="suppressHydrationWarning",Lc="&",ab="/&",Dm="$",Am="/$",yu="$?",Pc="$~",_h="$!",Y5="html",Q5="body",Z5="head",A_="F!",fD="F",mD="loading",W5="style",ul=0,xh=1,ob=2,w_=null,R_=null,pD={dialog:!0,webview:!0},k_=null,wm=void 0,gD=typeof setTimeout=="function"?setTimeout:void 0,K5=typeof clearTimeout=="function"?clearTimeout:void 0,Bc=-1,bD=typeof Promise=="function"?Promise:void 0,J5=typeof queueMicrotask=="function"?queueMicrotask:typeof bD<"u"?function(t){return bD.resolve(null).then(t).catch(Lk)}:gD,O_=null,jc=0,Rm=1,yD=2,vD=3,qs=4,Gs=new Map,_D=new Set,cl=Qt.d;Qt.d={f:function(){var t=cl.f(),r=Id();return t||r},r:function(t){var r=Fi(t);r!==null&&r.tag===5&&r.type==="form"?BT(r):cl.r(t)},D:function(t){cl.D(t),RE("dns-prefetch",t,null)},C:function(t,r){cl.C(t,r),RE("preconnect",t,r)},L:function(t,r,a){cl.L(t,r,a);var u=Th;if(u&&t&&r){var h='link[rel="preload"][as="'+_t(r)+'"]';r==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+_t(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+_t(a.imageSizes)+'"]')):h+='[href="'+_t(t)+'"]';var f=h;switch(r){case"style":f=Bd(t);break;case"script":f=jd(t)}Gs.has(f)||(t=Dt({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:t,as:r},a),Gs.set(f,t),u.querySelector(h)!==null||r==="style"&&u.querySelector(Pf(f))||r==="script"&&u.querySelector(Bf(f))||(r=u.createElement("link"),Xi(r,"link",t),K(r),u.head.appendChild(r)))}},m:function(t,r){cl.m(t,r);var a=Th;if(a&&t){var u=r&&typeof r.as=="string"?r.as:"script",h='link[rel="modulepreload"][as="'+_t(u)+'"][href="'+_t(t)+'"]',f=h;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=jd(t)}if(!Gs.has(f)&&(t=Dt({rel:"modulepreload",href:t},r),Gs.set(f,t),a.querySelector(h)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Bf(f)))return}u=a.createElement("link"),Xi(u,"link",t),K(u),a.head.appendChild(u)}}},X:function(t,r){cl.X(t,r);var a=Th;if(a&&t){var u=$(a).hoistableScripts,h=jd(t),f=u.get(h);f||(f=a.querySelector(Bf(h)),f||(t=Dt({src:t,async:!0},r),(r=Gs.get(h))&&ev(t,r),f=a.createElement("script"),K(f),Xi(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},u.set(h,f))}},S:function(t,r,a){cl.S(t,r,a);var u=Th;if(u&&t){var h=$(u).hoistableStyles,f=Bd(t);r=r||"default";var b=h.get(f);if(!b){var S={loading:jc,preload:null};if(b=u.querySelector(Pf(f)))S.loading=Rm|qs;else{t=Dt({rel:"stylesheet",href:t,"data-precedence":r},a),(a=Gs.get(f))&&Jy(t,a);var k=b=u.createElement("link");K(k),Xi(k,"link",t),k._p=new Promise(function(F,ce){k.onload=F,k.onerror=ce}),k.addEventListener("load",function(){S.loading|=Rm}),k.addEventListener("error",function(){S.loading|=yD}),S.loading|=qs,ng(b,r,u)}b={type:"stylesheet",instance:b,count:1,state:S},h.set(f,b)}}},M:function(t,r){cl.M(t,r);var a=Th;if(a&&t){var u=$(a).hoistableScripts,h=jd(t),f=u.get(h);f||(f=a.querySelector(Bf(h)),f||(t=Dt({src:t,async:!0,type:"module"},r),(r=Gs.get(h))&&ev(t,r),f=a.createElement("script"),K(f),Xi(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},u.set(h,f))}}};var Th=typeof document>"u"?null:document,lb=null,eM=6e4,tM=800,nM=500,M_=0,I_=null,ub=null,Uc=gO,km={$$typeof:to,Provider:null,Consumer:null,_currentValue:Uc,_currentValue2:Uc,_threadCount:0},xD="%c%s%c",TD="background: #e6e6e6;background: light-dark(rgba(0,0,0,0.1), rgba(255,255,255,0.25));color: #000000;color: light-dark(#000000, #ffffff);border-radius: 2px",SD="",cb=" ",iM=Function.prototype.bind,ED=!1,ND=null,CD=null,DD=null,AD=null,wD=null,RD=null,kD=null,OD=null,MD=null,ID=null;ND=function(t,r,a,u){r=n(t,r),r!==null&&(a=e(r.memoizedState,a,0,u),r.memoizedState=a,r.baseState=a,t.memoizedProps=Dt({},t.memoizedProps),a=ni(t,2),a!==null&&$n(a,t,2))},CD=function(t,r,a){r=n(t,r),r!==null&&(a=o(r.memoizedState,a,0),r.memoizedState=a,r.baseState=a,t.memoizedProps=Dt({},t.memoizedProps),a=ni(t,2),a!==null&&$n(a,t,2))},DD=function(t,r,a,u){r=n(t,r),r!==null&&(a=i(r.memoizedState,a,u),r.memoizedState=a,r.baseState=a,t.memoizedProps=Dt({},t.memoizedProps),a=ni(t,2),a!==null&&$n(a,t,2))},AD=function(t,r,a){t.pendingProps=e(t.memoizedProps,r,0,a),t.alternate&&(t.alternate.pendingProps=t.pendingProps),r=ni(t,2),r!==null&&$n(r,t,2)},wD=function(t,r){t.pendingProps=o(t.memoizedProps,r,0),t.alternate&&(t.alternate.pendingProps=t.pendingProps),r=ni(t,2),r!==null&&$n(r,t,2)},RD=function(t,r,a){t.pendingProps=i(t.memoizedProps,r,a),t.alternate&&(t.alternate.pendingProps=t.pendingProps),r=ni(t,2),r!==null&&$n(r,t,2)},kD=function(t){var r=ni(t,2);r!==null&&$n(r,t,2)},OD=function(t){var r=Gr(),a=ni(t,r);a!==null&&$n(a,t,r)},MD=function(t){c=t},ID=function(t){l=t};var db=!0,hb=null,L_=!1,vu=null,_u=null,xu=null,Om=new Map,Mm=new Map,Tu=[],rM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" "),fb=null;if(og.prototype.render=av.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error("Cannot update an unmounted root.");var a=arguments;typeof a[1]=="function"?console.error("does not support the second callback argument. To execute a side effect after rendering, declare it in a component body with useEffect()."):U(a[1])?console.error("You passed a container to the second argument of root.render(...). You don't need to pass it again since you already passed it to create the root."):typeof a[1]<"u"&&console.error("You passed a second argument to root.render(...) but it only accepts one argument."),a=t;var u=r.current,h=is(u);tv(u,h,a,r,null,null)},og.prototype.unmount=av.prototype.unmount=function(){var t=arguments;if(typeof t[0]=="function"&&console.error("does not support a callback argument. To execute a side effect after rendering, declare it in a component body with useEffect()."),t=this._internalRoot,t!==null){this._internalRoot=null;var r=t.containerInfo;(Ut&(Ai|cs))!==Bi&&console.error("Attempted to synchronously unmount a root while React was already rendering. React cannot finish unmounting the root until the current render has completed, which may lead to a race condition."),tv(t.current,2,null,t,null,null),Id(),r[Jl]=null}},og.prototype.unstable_scheduleHydration=function(t){if(t){var r=Ar();t={blockedOn:null,target:t,priority:r};for(var a=0;a<Tu.length&&r!==0&&r<Tu[a].priority;a++);Tu.splice(a,0,t),a===0&&$E(t)}},(function(){var t=ov.version;if(t!=="19.2.0")throw Error(`Incompatible React versions: The "react" and "react-dom" packages must have the exact same version. Instead got:
  - react:      `+(t+`
  - react-dom:  19.2.0
Learn more: https://react.dev/warnings/version-mismatch`))})(),typeof Map=="function"&&Map.prototype!=null&&typeof Map.prototype.forEach=="function"&&typeof Set=="function"&&Set.prototype!=null&&typeof Set.prototype.clear=="function"&&typeof Set.prototype.forEach=="function"||console.error("React depends on Map and Set built-in types. Make sure that you load a polyfill in older browsers. https://react.dev/link/react-polyfills"),Qt.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error("Unable to find node on an unmounted component."):(t=Object.keys(t).join(","),Error("Argument appears to not be a ReactComponent. Keys: "+t));return t=Q(r),t=t!==null?se(t):null,t=t===null?null:t.stateNode,t},!(function(){var t={bundleType:1,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:we,reconcilerVersion:"19.2.0"};return t.overrideHookState=ND,t.overrideHookStateDeletePath=CD,t.overrideHookStateRenamePath=DD,t.overrideProps=AD,t.overridePropsDeletePath=wD,t.overridePropsRenamePath=RD,t.scheduleUpdate=kD,t.scheduleRetry=OD,t.setErrorHandler=MD,t.setSuspenseHandler=ID,t.scheduleRefresh=P,t.scheduleRoot=D,t.setRefreshHandler=A,t.getCurrentFiber=oO,Vn(t)})()&&ao&&window.top===window.self&&(-1<navigator.userAgent.indexOf("Chrome")&&navigator.userAgent.indexOf("Edge")===-1||-1<navigator.userAgent.indexOf("Firefox"))){var LD=window.location.protocol;/^(https?|file):$/.test(LD)&&console.info("%cDownload the React DevTools for a better development experience: https://react.dev/link/react-devtools"+(LD==="file:"?`
You might need to use a local HTTP server (instead of file://): https://react.dev/link/react-devtools-faq`:""),"font-weight:bold")}Im.createRoot=function(t,r){if(!U(t))throw Error("Target container is not a DOM element.");YE(t);var a=!1,u="",h=qT,f=GT,b=XT;return r!=null&&(r.hydrate?console.warn("hydrate through createRoot is deprecated. Use ReactDOMClient.hydrateRoot(container, <App />) instead."):typeof r=="object"&&r!==null&&r.$$typeof===eo&&console.error(`You passed a JSX element to createRoot. You probably meant to call root.render instead. Example usage:

  let root = createRoot(domContainer);
  root.render(<App />);`),r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(h=r.onUncaughtError),r.onCaughtError!==void 0&&(f=r.onCaughtError),r.onRecoverableError!==void 0&&(b=r.onRecoverableError)),r=BE(t,1,!1,null,null,a,u,null,h,f,b,XE),t[Jl]=r.current,Fy(t),new av(r)},Im.hydrateRoot=function(t,r,a){if(!U(t))throw Error("Target container is not a DOM element.");YE(t),r===void 0&&console.error("Must provide initial children as second argument to hydrateRoot. Example usage: hydrateRoot(domContainer, <App />)");var u=!1,h="",f=qT,b=GT,S=XT,k=null;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(b=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.formState!==void 0&&(k=a.formState)),r=BE(t,1,!0,r,a??null,u,h,k,f,b,S,XE),r.context=jE(null),a=r.current,u=is(a),u=bs(u),h=Ga(u),h.callback=null,Xa(a,h,u),Ns(u,"hydrateRoot()",null),a=u,r.current.lanes=a,Ht(r,a),Ka(r),t[Jl]=r.current,Fy(t),new og(r)},Im.version="19.2.0",typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(Error())})(),Im}var FD;function vM(){return FD||(FD=1,B_.exports=yM()),B_.exports}var _M=vM();const xM=Kh(_M);lw();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Km(){return Km=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},Km.apply(this,arguments)}var Ru;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(Ru||(Ru={}));const zD="popstate";function TM(n){n===void 0&&(n={});function e(s,o){let{pathname:l,search:c,hash:d}=s.location;return Ax("",{pathname:l,search:c,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function i(s,o){return typeof o=="string"?o:Jm(o)}return EM(e,i,null,n)}function jn(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Ta(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function SM(){return Math.random().toString(36).substr(2,8)}function HD(n,e){return{usr:n.state,key:n.key,idx:e}}function Ax(n,e,i,s){return i===void 0&&(i=null),Km({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?Jh(e):e,{state:i,key:e&&e.key||s||SM()})}function Jm(n){let{pathname:e="/",search:i="",hash:s=""}=n;return i&&i!=="?"&&(e+=i.charAt(0)==="?"?i:"?"+i),s&&s!=="#"&&(e+=s.charAt(0)==="#"?s:"#"+s),e}function Jh(n){let e={};if(n){let i=n.indexOf("#");i>=0&&(e.hash=n.substr(i),n=n.substr(0,i));let s=n.indexOf("?");s>=0&&(e.search=n.substr(s),n=n.substr(0,s)),n&&(e.pathname=n)}return e}function EM(n,e,i,s){s===void 0&&(s={});let{window:o=document.defaultView,v5Compat:l=!1}=s,c=o.history,d=Ru.Pop,m=null,p=v();p==null&&(p=0,c.replaceState(Km({},c.state,{idx:p}),""));function v(){return(c.state||{idx:null}).idx}function E(){d=Ru.Pop;let U=v(),M=U==null?null:U-p;p=U,m&&m({action:d,location:A.location,delta:M})}function C(U,M){d=Ru.Push;let B=Ax(A.location,U,M);p=v()+1;let L=HD(B,p),H=A.createHref(B);try{c.pushState(L,"",H)}catch(Q){if(Q instanceof DOMException&&Q.name==="DataCloneError")throw Q;o.location.assign(H)}l&&m&&m({action:d,location:A.location,delta:1})}function D(U,M){d=Ru.Replace;let B=Ax(A.location,U,M);p=v();let L=HD(B,p),H=A.createHref(B);c.replaceState(L,"",H),l&&m&&m({action:d,location:A.location,delta:0})}function P(U){let M=o.location.origin!=="null"?o.location.origin:o.location.href,B=typeof U=="string"?U:Jm(U);return B=B.replace(/ $/,"%20"),jn(M,"No window.location.(origin|href) available to create URL for href: "+B),new URL(B,M)}let A={get action(){return d},get location(){return n(o,c)},listen(U){if(m)throw new Error("A history only accepts one active listener");return o.addEventListener(zD,E),m=U,()=>{o.removeEventListener(zD,E),m=null}},createHref(U){return e(o,U)},createURL:P,encodeLocation(U){let M=P(U);return{pathname:M.pathname,search:M.search,hash:M.hash}},push:C,replace:D,go(U){return c.go(U)}};return A}var $D;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})($D||($D={}));function NM(n,e,i){return i===void 0&&(i="/"),CM(n,e,i)}function CM(n,e,i,s){let o=typeof e=="string"?Jh(e):e,l=Ou(o.pathname||"/",i);if(l==null)return null;let c=cw(n);DM(c);let d=null;for(let m=0;d==null&&m<c.length;++m){let p=jM(l);d=PM(c[m],p)}return d}function cw(n,e,i,s){e===void 0&&(e=[]),i===void 0&&(i=[]),s===void 0&&(s="");let o=(l,c,d)=>{let m={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};m.relativePath.startsWith("/")&&(jn(m.relativePath.startsWith(s),'Absolute route path "'+m.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),m.relativePath=m.relativePath.slice(s.length));let p=gl([s,m.relativePath]),v=i.concat(m);l.children&&l.children.length>0&&(jn(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+p+'".')),cw(l.children,e,v,p)),!(l.path==null&&!l.index)&&e.push({path:p,score:IM(p,l.index),routesMeta:v})};return n.forEach((l,c)=>{var d;if(l.path===""||!((d=l.path)!=null&&d.includes("?")))o(l,c);else for(let m of dw(l.path))o(l,c,m)}),e}function dw(n){let e=n.split("/");if(e.length===0)return[];let[i,...s]=e,o=i.endsWith("?"),l=i.replace(/\?$/,"");if(s.length===0)return o?[l,""]:[l];let c=dw(s.join("/")),d=[];return d.push(...c.map(m=>m===""?l:[l,m].join("/"))),o&&d.push(...c),d.map(m=>n.startsWith("/")&&m===""?"/":m)}function DM(n){n.sort((e,i)=>e.score!==i.score?i.score-e.score:LM(e.routesMeta.map(s=>s.childrenIndex),i.routesMeta.map(s=>s.childrenIndex)))}const AM=/^:[\w-]+$/,wM=3,RM=2,kM=1,OM=10,MM=-2,qD=n=>n==="*";function IM(n,e){let i=n.split("/"),s=i.length;return i.some(qD)&&(s+=MM),e&&(s+=RM),i.filter(o=>!qD(o)).reduce((o,l)=>o+(AM.test(l)?wM:l===""?kM:OM),s)}function LM(n,e){return n.length===e.length&&n.slice(0,-1).every((s,o)=>s===e[o])?n[n.length-1]-e[e.length-1]:0}function PM(n,e,i){let{routesMeta:s}=n,o={},l="/",c=[];for(let d=0;d<s.length;++d){let m=s[d],p=d===s.length-1,v=l==="/"?e:e.slice(l.length)||"/",E=wx({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},v),C=m.route;if(!E)return null;Object.assign(o,E.params),c.push({params:o,pathname:gl([l,E.pathname]),pathnameBase:zM(gl([l,E.pathnameBase])),route:C}),E.pathnameBase!=="/"&&(l=gl([l,E.pathnameBase]))}return c}function wx(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[i,s]=BM(n.path,n.caseSensitive,n.end),o=e.match(i);if(!o)return null;let l=o[0],c=l.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:s.reduce((p,v,E)=>{let{paramName:C,isOptional:D}=v;if(C==="*"){let A=d[E]||"";c=l.slice(0,l.length-A.length).replace(/(.)\/+$/,"$1")}const P=d[E];return D&&!P?p[C]=void 0:p[C]=(P||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:c,pattern:n}}function BM(n,e,i){e===void 0&&(e=!1),i===void 0&&(i=!0),Ta(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let s=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,m)=>(s.push({paramName:d,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(s.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function jM(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ta(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function Ou(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let i=e.endsWith("/")?e.length-1:e.length,s=n.charAt(i);return s&&s!=="/"?null:n.slice(i)||"/"}function UM(n,e){e===void 0&&(e="/");let{pathname:i,search:s="",hash:o=""}=typeof n=="string"?Jh(n):n;return{pathname:i?i.startsWith("/")?i:VM(i,e):e,search:HM(s),hash:$M(o)}}function VM(n,e){let i=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?i.length>1&&i.pop():o!=="."&&i.push(o)}),i.length>1?i.join("/"):"/"}function V_(n,e,i,s){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+i+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function FM(n){return n.filter((e,i)=>i===0||e.route.path&&e.route.path.length>0)}function c1(n,e){let i=FM(n);return e?i.map((s,o)=>o===i.length-1?s.pathname:s.pathnameBase):i.map(s=>s.pathnameBase)}function d1(n,e,i,s){s===void 0&&(s=!1);let o;typeof n=="string"?o=Jh(n):(o=Km({},n),jn(!o.pathname||!o.pathname.includes("?"),V_("?","pathname","search",o)),jn(!o.pathname||!o.pathname.includes("#"),V_("#","pathname","hash",o)),jn(!o.search||!o.search.includes("#"),V_("#","search","hash",o)));let l=n===""||o.pathname==="",c=l?"/":o.pathname,d;if(c==null)d=i;else{let E=e.length-1;if(!s&&c.startsWith("..")){let C=c.split("/");for(;C[0]==="..";)C.shift(),E-=1;o.pathname=C.join("/")}d=E>=0?e[E]:"/"}let m=UM(o,d),p=c&&c!=="/"&&c.endsWith("/"),v=(l||c===".")&&i.endsWith("/");return!m.pathname.endsWith("/")&&(p||v)&&(m.pathname+="/"),m}const gl=n=>n.join("/").replace(/\/\/+/g,"/"),zM=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),HM=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,$M=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function qM(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const hw=["post","put","patch","delete"];new Set(hw);const GM=["get",...hw];new Set(GM);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ep(){return ep=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},ep.apply(this,arguments)}const up=oe.createContext(null);up.displayName="DataRouter";const h1=oe.createContext(null);h1.displayName="DataRouterState";const XM=oe.createContext(null);XM.displayName="Await";const Ws=oe.createContext(null);Ws.displayName="Navigation";const cp=oe.createContext(null);cp.displayName="Location";const Ks=oe.createContext({outlet:null,matches:[],isDataRoute:!1});Ks.displayName="Route";const f1=oe.createContext(null);f1.displayName="RouteError";function YM(n,e){let{relative:i}=e===void 0?{}:e;ef()||jn(!1,"useHref() may be used only in the context of a <Router> component.");let{basename:s,navigator:o}=oe.useContext(Ws),{hash:l,pathname:c,search:d}=hp(n,{relative:i}),m=c;return s!=="/"&&(m=c==="/"?s:gl([s,c])),o.createHref({pathname:m,search:d,hash:l})}function ef(){return oe.useContext(cp)!=null}function Lu(){return ef()||jn(!1,"useLocation() may be used only in the context of a <Router> component."),oe.useContext(cp).location}const fw="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function mw(n){oe.useContext(Ws).static||oe.useLayoutEffect(n)}function dp(){let{isDataRoute:n}=oe.useContext(Ks);return n?cI():QM()}function QM(){ef()||jn(!1,"useNavigate() may be used only in the context of a <Router> component.");let n=oe.useContext(up),{basename:e,future:i,navigator:s}=oe.useContext(Ws),{matches:o}=oe.useContext(Ks),{pathname:l}=Lu(),c=JSON.stringify(c1(o,i.v7_relativeSplatPath)),d=oe.useRef(!1);return mw(()=>{d.current=!0}),oe.useCallback(function(p,v){if(v===void 0&&(v={}),Ta(d.current,fw),!d.current)return;if(typeof p=="number"){s.go(p);return}let E=d1(p,JSON.parse(c),l,v.relative==="path");n==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:gl([e,E.pathname])),(v.replace?s.replace:s.push)(E,v.state,v)},[e,s,c,l,n])}const ZM=oe.createContext(null);function WM(n){let e=oe.useContext(Ks).outlet;return e&&oe.createElement(ZM.Provider,{value:n},e)}function m1(){let{matches:n}=oe.useContext(Ks),e=n[n.length-1];return e?e.params:{}}function hp(n,e){let{relative:i}=e===void 0?{}:e,{future:s}=oe.useContext(Ws),{matches:o}=oe.useContext(Ks),{pathname:l}=Lu(),c=JSON.stringify(c1(o,s.v7_relativeSplatPath));return oe.useMemo(()=>d1(n,JSON.parse(c),l,i==="path"),[n,c,l,i])}function KM(n,e){return JM(n,e)}function JM(n,e,i,s){ef()||jn(!1,"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=oe.useContext(Ws),{matches:l}=oe.useContext(Ks),c=l[l.length-1],d=c?c.params:{},m=c?c.pathname:"/",p=c?c.pathnameBase:"/",v=c&&c.route;{let B=v&&v.path||"";gw(m,!v||B.endsWith("*"),"You rendered descendant <Routes> (or called `useRoutes()`) at "+('"'+m+'" (under <Route path="'+B+'">) but the ')+`parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

`+('Please change the parent <Route path="'+B+'"> to <Route ')+('path="'+(B==="/"?"*":B+"/*")+'">.'))}let E=Lu(),C;if(e){var D;let B=typeof e=="string"?Jh(e):e;p==="/"||(D=B.pathname)!=null&&D.startsWith(p)||jn(!1,"When overriding the location using `<Routes location>` or `useRoutes(routes, location)`, the location pathname must begin with the portion of the URL pathname that was "+('matched by all parent routes. The current pathname base is "'+p+'" ')+('but pathname "'+B.pathname+'" was given in the `location` prop.')),C=B}else C=E;let P=C.pathname||"/",A=P;if(p!=="/"){let B=p.replace(/^\//,"").split("/");A="/"+P.replace(/^\//,"").split("/").slice(B.length).join("/")}let U=NM(n,{pathname:A});Ta(v||U!=null,'No routes matched location "'+C.pathname+C.search+C.hash+'" '),Ta(U==null||U[U.length-1].route.element!==void 0||U[U.length-1].route.Component!==void 0||U[U.length-1].route.lazy!==void 0,'Matched leaf route at location "'+C.pathname+C.search+C.hash+'" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.');let M=rI(U&&U.map(B=>Object.assign({},B,{params:Object.assign({},d,B.params),pathname:gl([p,o.encodeLocation?o.encodeLocation(B.pathname).pathname:B.pathname]),pathnameBase:B.pathnameBase==="/"?p:gl([p,o.encodeLocation?o.encodeLocation(B.pathnameBase).pathname:B.pathnameBase])})),l,i,s);return e&&M?oe.createElement(cp.Provider,{value:{location:ep({pathname:"/",search:"",hash:"",state:null,key:"default"},C),navigationType:Ru.Pop}},M):M}function eI(){let n=uI(),e=qM(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),i=n instanceof Error?n.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=oe.createElement(oe.Fragment,null,oe.createElement("p",null," Hey developer "),oe.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",oe.createElement("code",{style:l},"ErrorBoundary")," or"," ",oe.createElement("code",{style:l},"errorElement")," prop on your route.")),oe.createElement(oe.Fragment,null,oe.createElement("h2",null,"Unexpected Application Error!"),oe.createElement("h3",{style:{fontStyle:"italic"}},e),i?oe.createElement("pre",{style:o},i):null,c)}const tI=oe.createElement(eI,null);class nI extends oe.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,i){return i.location!==e.location||i.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:i.error,location:i.location,revalidation:e.revalidation||i.revalidation}}componentDidCatch(e,i){console.error("React Router caught the following error during render",e,i)}render(){return this.state.error!==void 0?oe.createElement(Ks.Provider,{value:this.props.routeContext},oe.createElement(f1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function iI(n){let{routeContext:e,match:i,children:s}=n,o=oe.useContext(up);return o&&o.static&&o.staticContext&&(i.route.errorElement||i.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=i.route.id),oe.createElement(Ks.Provider,{value:e},s)}function rI(n,e,i,s){var o;if(e===void 0&&(e=[]),i===void 0&&(i=null),s===void 0&&(s=null),n==null){var l;if(!i)return null;if(i.errors)n=i.matches;else if((l=s)!=null&&l.v7_partialHydration&&e.length===0&&!i.initialized&&i.matches.length>0)n=i.matches;else return null}let c=n,d=(o=i)==null?void 0:o.errors;if(d!=null){let v=c.findIndex(E=>E.route.id&&d?.[E.route.id]!==void 0);v>=0||jn(!1,"Could not find a matching route for errors on route IDs: "+Object.keys(d).join(",")),c=c.slice(0,Math.min(c.length,v+1))}let m=!1,p=-1;if(i&&s&&s.v7_partialHydration)for(let v=0;v<c.length;v++){let E=c[v];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(p=v),E.route.id){let{loaderData:C,errors:D}=i,P=E.route.loader&&C[E.route.id]===void 0&&(!D||D[E.route.id]===void 0);if(E.route.lazy||P){m=!0,p>=0?c=c.slice(0,p+1):c=[c[0]];break}}}return c.reduceRight((v,E,C)=>{let D,P=!1,A=null,U=null;i&&(D=d&&E.route.id?d[E.route.id]:void 0,A=E.route.errorElement||tI,m&&(p<0&&C===0?(gw("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),P=!0,U=null):p===C&&(P=!0,U=E.route.hydrateFallbackElement||null)));let M=e.concat(c.slice(0,C+1)),B=()=>{let L;return D?L=A:P?L=U:E.route.Component?L=oe.createElement(E.route.Component,null):E.route.element?L=E.route.element:L=v,oe.createElement(iI,{match:E,routeContext:{outlet:v,matches:M,isDataRoute:i!=null},children:L})};return i&&(E.route.ErrorBoundary||E.route.errorElement||C===0)?oe.createElement(nI,{location:i.location,revalidation:i.revalidation,component:A,error:D,children:B(),routeContext:{outlet:null,matches:M,isDataRoute:!0}}):B()},null)}var pw=(function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n})(pw||{}),tp=(function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n})(tp||{});function p1(n){return n+" must be used within a data router.  See https://reactrouter.com/v6/routers/picking-a-router."}function sI(n){let e=oe.useContext(up);return e||jn(!1,p1(n)),e}function aI(n){let e=oe.useContext(h1);return e||jn(!1,p1(n)),e}function oI(n){let e=oe.useContext(Ks);return e||jn(!1,p1(n)),e}function g1(n){let e=oI(n),i=e.matches[e.matches.length-1];return i.route.id||jn(!1,n+' can only be used on routes that contain a unique "id"'),i.route.id}function lI(){return g1(tp.UseRouteId)}function uI(){var n;let e=oe.useContext(f1),i=aI(tp.UseRouteError),s=g1(tp.UseRouteError);return e!==void 0?e:(n=i.errors)==null?void 0:n[s]}function cI(){let{router:n}=sI(pw.UseNavigateStable),e=g1(tp.UseNavigateStable),i=oe.useRef(!1);return mw(()=>{i.current=!0}),oe.useCallback(function(o,l){l===void 0&&(l={}),Ta(i.current,fw),i.current&&(typeof o=="number"?n.navigate(o):n.navigate(o,ep({fromRouteId:e},l)))},[n,e])}const GD={};function gw(n,e,i){!e&&!GD[n]&&(GD[n]=!0,Ta(!1,i))}const XD={};function dI(n,e){XD[e]||(XD[e]=!0,console.warn(e))}const YD=(n,e,i)=>dI(n," React Router Future Flag Warning: "+e+". "+("You can use the `"+n+"` future flag to opt-in early. ")+("For more information, see "+i+"."));function hI(n,e){n?.v7_startTransition===void 0&&YD("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),n?.v7_relativeSplatPath===void 0&&YD("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath")}function Ub(n){let{to:e,replace:i,state:s,relative:o}=n;ef()||jn(!1,"<Navigate> may be used only in the context of a <Router> component.");let{future:l,static:c}=oe.useContext(Ws);Ta(!c,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:d}=oe.useContext(Ks),{pathname:m}=Lu(),p=dp(),v=d1(e,c1(d,l.v7_relativeSplatPath),m,o==="path"),E=JSON.stringify(v);return oe.useEffect(()=>p(JSON.parse(E),{replace:i,state:s,relative:o}),[p,E,o,i,s]),null}function f0(n){return WM(n.context)}function bi(n){jn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function fI(n){let{basename:e="/",children:i=null,location:s,navigationType:o=Ru.Pop,navigator:l,static:c=!1,future:d}=n;ef()&&jn(!1,"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=e.replace(/^\/*/,"/"),p=oe.useMemo(()=>({basename:m,navigator:l,static:c,future:ep({v7_relativeSplatPath:!1},d)}),[m,d,l,c]);typeof s=="string"&&(s=Jh(s));let{pathname:v="/",search:E="",hash:C="",state:D=null,key:P="default"}=s,A=oe.useMemo(()=>{let U=Ou(v,m);return U==null?null:{location:{pathname:U,search:E,hash:C,state:D,key:P},navigationType:o}},[m,v,E,C,D,P,o]);return Ta(A!=null,'<Router basename="'+m+'"> is not able to match the URL '+('"'+v+E+C+'" because it does not start with the ')+"basename, so the <Router> won't render anything."),A==null?null:oe.createElement(Ws.Provider,{value:p},oe.createElement(cp.Provider,{children:i,value:A}))}function mI(n){let{children:e,location:i}=n;return KM(Rx(e),i)}new Promise(()=>{});function Rx(n,e){e===void 0&&(e=[]);let i=[];return oe.Children.forEach(n,(s,o)=>{if(!oe.isValidElement(s))return;let l=[...e,o];if(s.type===oe.Fragment){i.push.apply(i,Rx(s.props.children,l));return}s.type!==bi&&jn(!1,"["+(typeof s.type=="string"?s.type:s.type.name)+"] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>"),!s.props.index||!s.props.children||jn(!1,"An index route cannot have child routes.");let c={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=Rx(s.props.children,l)),i.push(c)}),i}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Vh(){return Vh=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},Vh.apply(this,arguments)}function b1(n,e){if(n==null)return{};var i={},s=Object.keys(n),o,l;for(l=0;l<s.length;l++)o=s[l],!(e.indexOf(o)>=0)&&(i[o]=n[o]);return i}const Mb="get",Ib="application/x-www-form-urlencoded";function m0(n){return n!=null&&typeof n.tagName=="string"}function pI(n){return m0(n)&&n.tagName.toLowerCase()==="button"}function gI(n){return m0(n)&&n.tagName.toLowerCase()==="form"}function bI(n){return m0(n)&&n.tagName.toLowerCase()==="input"}function yI(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function vI(n,e){return n.button===0&&(!e||e==="_self")&&!yI(n)}let pb=null;function _I(){if(pb===null)try{new FormData(document.createElement("form"),0),pb=!1}catch{pb=!0}return pb}const xI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function F_(n){return n!=null&&!xI.has(n)?(Ta(!1,'"'+n+'" is not a valid `encType` for `<Form>`/`<fetcher.Form>` '+('and will default to "'+Ib+'"')),null):n}function TI(n,e){let i,s,o,l,c;if(gI(n)){let d=n.getAttribute("action");s=d?Ou(d,e):null,i=n.getAttribute("method")||Mb,o=F_(n.getAttribute("enctype"))||Ib,l=new FormData(n)}else if(pI(n)||bI(n)&&(n.type==="submit"||n.type==="image")){let d=n.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=n.getAttribute("formaction")||d.getAttribute("action");if(s=m?Ou(m,e):null,i=n.getAttribute("formmethod")||d.getAttribute("method")||Mb,o=F_(n.getAttribute("formenctype"))||F_(d.getAttribute("enctype"))||Ib,l=new FormData(d,n),!_I()){let{name:p,type:v,value:E}=n;if(v==="image"){let C=p?p+".":"";l.append(C+"x","0"),l.append(C+"y","0")}else p&&l.append(p,E)}}else{if(m0(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=Mb,s=null,o=Ib,c=n}return l&&o==="text/plain"&&(c=l,l=void 0),{action:s,method:i.toLowerCase(),encType:o,formData:l,body:c}}const SI=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],EI=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],NI=["fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","viewTransition"],CI="6";try{window.__reactRouterVersion=CI}catch{}const bw=oe.createContext({isTransitioning:!1});bw.displayName="ViewTransition";const DI=oe.createContext(new Map);DI.displayName="Fetchers";const AI="startTransition",QD=aM[AI];function wI(n){let{basename:e,children:i,future:s,window:o}=n,l=oe.useRef();l.current==null&&(l.current=TM({window:o,v5Compat:!0}));let c=l.current,[d,m]=oe.useState({action:c.action,location:c.location}),{v7_startTransition:p}=s||{},v=oe.useCallback(E=>{p&&QD?QD(()=>m(E)):m(E)},[m,p]);return oe.useLayoutEffect(()=>c.listen(v),[c,v]),oe.useEffect(()=>hI(s),[s]),oe.createElement(fI,{basename:e,children:i,location:d.location,navigationType:d.action,navigator:c,future:s})}const RI=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",kI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,yw=oe.forwardRef(function(e,i){let{onClick:s,relative:o,reloadDocument:l,replace:c,state:d,target:m,to:p,preventScrollReset:v,viewTransition:E}=e,C=b1(e,SI),{basename:D}=oe.useContext(Ws),P,A=!1;if(typeof p=="string"&&kI.test(p)&&(P=p,RI))try{let L=new URL(window.location.href),H=p.startsWith("//")?new URL(L.protocol+p):new URL(p),Q=Ou(H.pathname,D);H.origin===L.origin&&Q!=null?p=Q+H.search+H.hash:A=!0}catch{Ta(!1,'<Link to="'+p+'"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.')}let U=YM(p,{relative:o}),M=II(p,{replace:c,state:d,target:m,preventScrollReset:v,relative:o,viewTransition:E});function B(L){s&&s(L),L.defaultPrevented||M(L)}return oe.createElement("a",Vh({},C,{href:P||U,onClick:A||l?s:B,ref:i,target:m}))});yw.displayName="Link";const y1=oe.forwardRef(function(e,i){let{"aria-current":s="page",caseSensitive:o=!1,className:l="",end:c=!1,style:d,to:m,viewTransition:p,children:v}=e,E=b1(e,EI),C=hp(m,{relative:E.relative}),D=Lu(),P=oe.useContext(h1),{navigator:A,basename:U}=oe.useContext(Ws),M=P!=null&&VI(C)&&p===!0,B=A.encodeLocation?A.encodeLocation(C).pathname:C.pathname,L=D.pathname,H=P&&P.navigation&&P.navigation.location?P.navigation.location.pathname:null;o||(L=L.toLowerCase(),H=H?H.toLowerCase():null,B=B.toLowerCase()),H&&U&&(H=Ou(H,U)||H);const Q=B!=="/"&&B.endsWith("/")?B.length-1:B.length;let se=L===B||!c&&L.startsWith(B)&&L.charAt(Q)==="/",q=H!=null&&(H===B||!c&&H.startsWith(B)&&H.charAt(B.length)==="/"),te={isActive:se,isPending:q,isTransitioning:M},I=se?s:void 0,j;typeof l=="function"?j=l(te):j=[l,se?"active":null,q?"pending":null,M?"transitioning":null].filter(Boolean).join(" ");let ge=typeof d=="function"?d(te):d;return oe.createElement(yw,Vh({},E,{"aria-current":I,className:j,ref:i,style:ge,to:m,viewTransition:p}),typeof v=="function"?v(te):v)});y1.displayName="NavLink";const OI=oe.forwardRef((n,e)=>{let{fetcherKey:i,navigate:s,reloadDocument:o,replace:l,state:c,method:d=Mb,action:m,onSubmit:p,relative:v,preventScrollReset:E,viewTransition:C}=n,D=b1(n,NI),P=jI(),A=UI(m,{relative:v}),U=d.toLowerCase()==="get"?"get":"post",M=B=>{if(p&&p(B),B.defaultPrevented)return;B.preventDefault();let L=B.nativeEvent.submitter,H=L?.getAttribute("formmethod")||d;P(L||B.currentTarget,{fetcherKey:i,method:H,navigate:s,replace:l,state:c,relative:v,preventScrollReset:E,viewTransition:C})};return oe.createElement("form",Vh({ref:e,method:U,action:A,onSubmit:o?p:M},D))});OI.displayName="Form";var Vb;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(Vb||(Vb={}));var ZD;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(ZD||(ZD={}));function MI(n){return n+" must be used within a data router.  See https://reactrouter.com/v6/routers/picking-a-router."}function vw(n){let e=oe.useContext(up);return e||jn(!1,MI(n)),e}function II(n,e){let{target:i,replace:s,state:o,preventScrollReset:l,relative:c,viewTransition:d}=e===void 0?{}:e,m=dp(),p=Lu(),v=hp(n,{relative:c});return oe.useCallback(E=>{if(vI(E,i)){E.preventDefault();let C=s!==void 0?s:Jm(p)===Jm(v);m(n,{replace:C,state:o,preventScrollReset:l,relative:c,viewTransition:d})}},[p,m,v,s,o,i,n,l,c,d])}function LI(){if(typeof document>"u")throw new Error("You are calling submit during the server render. Try calling submit within a `useEffect` or callback instead.")}let PI=0,BI=()=>"__"+String(++PI)+"__";function jI(){let{router:n}=vw(Vb.UseSubmit),{basename:e}=oe.useContext(Ws),i=lI();return oe.useCallback(function(s,o){o===void 0&&(o={}),LI();let{action:l,method:c,encType:d,formData:m,body:p}=TI(s,e);if(o.navigate===!1){let v=o.fetcherKey||BI();n.fetch(v,i,o.action||l,{preventScrollReset:o.preventScrollReset,formData:m,body:p,formMethod:o.method||c,formEncType:o.encType||d,flushSync:o.flushSync})}else n.navigate(o.action||l,{preventScrollReset:o.preventScrollReset,formData:m,body:p,formMethod:o.method||c,formEncType:o.encType||d,replace:o.replace,state:o.state,fromRouteId:i,flushSync:o.flushSync,viewTransition:o.viewTransition})},[n,e,i])}function UI(n,e){let{relative:i}=e===void 0?{}:e,{basename:s}=oe.useContext(Ws),o=oe.useContext(Ks);o||jn(!1,"useFormAction must be used inside a RouteContext");let[l]=o.matches.slice(-1),c=Vh({},hp(n||".",{relative:i})),d=Lu();if(n==null){c.search=d.search;let m=new URLSearchParams(c.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(C=>C).forEach(C=>m.append("index",C));let E=m.toString();c.search=E?"?"+E:""}}return(!n||n===".")&&l.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),s!=="/"&&(c.pathname=c.pathname==="/"?s:gl([s,c.pathname])),Jm(c)}function VI(n,e){e===void 0&&(e={});let i=oe.useContext(bw);i==null&&jn(!1,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=vw(Vb.useViewTransitionState),o=hp(n,{relative:e.relative});if(!i.isTransitioning)return!1;let l=Ou(i.currentLocation.pathname,s)||i.currentLocation.pathname,c=Ou(i.nextLocation.pathname,s)||i.nextLocation.pathname;return wx(o.pathname,c)!=null||wx(o.pathname,l)!=null}var zr=(n=>(n.Member="member",n.Mentor="mentor",n.Admin="admin",n.SuperAdmin="super_admin",n))(zr||{}),vi=(n=>(n.Hidra="hidra",n.Cybervault="cybervault",n.Academy="academy",n.Admin="admin_console",n.Community="community",n))(vi||{}),ms=(n=>(n.Draft="draft",n.Scheduled="scheduled",n.Published="published",n.Archived="archived",n))(ms||{}),_w=(n=>(n.Private="private",n.Members="members",n.Mentors="mentors",n.Public="public",n))(_w||{}),si=(n=>(n.Video="video",n.Article="article",n.Live="live",n.Download="downloadable",n.Quiz="quiz",n))(si||{}),Fb=(n=>(n.Template="template",n.Playbook="playbook",n.Script="script",n.Asset="asset",n.Spreadsheet="spreadsheet",n.Presentation="presentation",n.Other="other",n))(Fb||{});const O={primary:"#00FF00",primaryDark:"#00CC00",primaryGlow:"rgba(0, 255, 0, 0.3)",bgPrimary:"#0A0A0A",bgSecondary:"#1A1A1A",bgTertiary:"#2A2A2A",bgElevated:"#151515",textPrimary:"#FFFFFF",textSecondary:"#B3B3B3",textTertiary:"#808080",accentSuccess:"#00FF00",accentWarning:"#FFD700",accentError:"#FF3333",accentInfo:"#00BFFF",borderPrimary:"#2A2A2A",borderAccent:"#00FF00",borderSubtle:"#1A1A1A",overlayStrong:"rgba(0,0,0,0.8)"},Nr={successTint:"rgba(0, 255, 0, 0.08)",errorTint:"rgba(255, 51, 51, 0.08)",infoTint:"rgba(0, 191, 255, 0.08)"},WD={dark:"linear-gradient(180deg, #0A0A0A 0%, #1A1A1A 100%)",neon:"linear-gradient(90deg, rgba(0, 255, 0, 0) 0%, rgba(0, 255, 0, 0.3) 50%, rgba(0, 255, 0, 0) 100%)"},FI={lg:"0 10px 15px rgba(0, 0, 0, 0.6)"},Mt={sm:"0 0 5px rgba(0, 255, 0, 0.5)",md:"0 0 10px rgba(0, 255, 0, 0.6), 0 0 20px rgba(0, 255, 0, 0.3)",lg:"0 0 15px rgba(0, 255, 0, 0.7), 0 0 30px rgba(0, 255, 0, 0.4), 0 0 45px rgba(0, 255, 0, 0.2)",text:"0 0 10px rgba(0, 255, 0, 0.8), 0 0 20px rgba(0, 255, 0, 0.5)"},$e={fontPrimary:"'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif",fontHeading:"'Rajdhani', 'Inter', sans-serif"},$r=(...n)=>n.filter(Boolean).join(" "),zI={default:{bg:O.bgTertiary,border:O.borderSubtle,color:O.textSecondary},success:{bg:"rgba(0, 255, 0, 0.15)",border:O.borderAccent,color:O.primary},warning:{bg:"rgba(255, 215, 0, 0.15)",border:O.accentWarning,color:O.accentWarning},error:{bg:"rgba(255, 51, 51, 0.15)",border:O.accentError,color:O.accentError},info:{bg:"rgba(0, 191, 255, 0.15)",border:O.accentInfo,color:O.accentInfo},outline:{bg:"transparent",border:O.borderAccent,color:O.primary}},Er=({variant:n="default",icon:e,srLabel:i,className:s,children:o,...l})=>{const c=zI[n],d={"--badge-bg":c.bg,"--badge-border":c.border,"--badge-color":c.color,fontFamily:$e.fontPrimary,letterSpacing:"0.08em"};return y.jsxDEV("span",{className:$r("inline-flex items-center gap-2 rounded-full border px-3 py-1 text-[0.65rem] uppercase tracking-[0.18em]","bg-[var(--badge-bg)] border-[var(--badge-border)] text-[var(--badge-color)]",s),style:d,"data-variant":n,...l,children:[e?y.jsxDEV("span",{"aria-hidden":!0,children:e},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/common/Badge.tsx",lineNumber:67,columnNumber:15},void 0):null,i?y.jsxDEV("span",{className:"sr-only",children:i},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/common/Badge.tsx",lineNumber:68,columnNumber:18},void 0):null,y.jsxDEV("span",{children:o},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/common/Badge.tsx",lineNumber:69,columnNumber:7},void 0)]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/common/Badge.tsx",lineNumber:57,columnNumber:5},void 0)},HI={primary:{bg:O.primary,color:O.bgPrimary,border:O.primary,hoverBg:O.primaryDark,shadow:Mt.md},secondary:{bg:O.bgSecondary,color:O.primary,border:O.borderAccent,hoverBg:O.bgTertiary,shadow:Mt.sm},ghost:{bg:"transparent",color:O.textSecondary,border:O.borderPrimary,hoverBg:O.bgTertiary,shadow:Mt.sm},danger:{bg:O.accentError,color:O.bgPrimary,border:O.accentError,hoverBg:O.accentError,shadow:Mt.sm}},$I={sm:"h-9 px-4 text-sm",md:"h-11 px-6 text-base",lg:"h-12 px-8 text-lg"},bt=oe.forwardRef(({variant:n="primary",size:e="md",type:i="button",className:s,children:o,leftIcon:l,rightIcon:c,disabled:d,loading:m,...p},v)=>{const E=HI[n],C=d||m,D={"--btn-bg":E.bg,"--btn-border":E.border,"--btn-color":E.color,"--btn-hover-bg":E.hoverBg,"--btn-shadow":E.shadow,fontFamily:$e.fontHeading,textTransform:"uppercase",letterSpacing:"0.08em"};return y.jsxDEV("button",{ref:v,className:$r("relative inline-flex items-center justify-center gap-2 rounded-md border transition-all duration-200","shadow-[var(--btn-shadow)] bg-[var(--btn-bg)] border-[var(--btn-border)] text-[var(--btn-color)]","hover:-translate-y-0.5 hover:bg-[var(--btn-hover-bg)] focus-visible:outline focus-visible:outline-2 focus-visible:outline-[var(--btn-border)]","disabled:cursor-not-allowed disabled:opacity-70 disabled:shadow-none",$I[e],s),style:D,disabled:C,"data-variant":n,"data-loading":m?"true":void 0,"data-size":e,type:i,"aria-busy":m||void 0,...p,children:[m?y.jsxDEV("span",{className:"flex h-5 w-5 animate-spin items-center justify-center rounded-full border-2 border-transparent border-t-[var(--btn-color)]","aria-hidden":!0},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/common/Button.tsx",lineNumber:104,columnNumber:11},void 0):null,!m&&l?y.jsxDEV("span",{"aria-hidden":!0,children:l},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/common/Button.tsx",lineNumber:109,columnNumber:33},void 0):null,y.jsxDEV("span",{className:"flex-1 text-center font-semibold",children:o},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/common/Button.tsx",lineNumber:110,columnNumber:9},void 0),!m&&c?y.jsxDEV("span",{"aria-hidden":!0,children:c},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/common/Button.tsx",lineNumber:111,columnNumber:34},void 0):null]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/common/Button.tsx",lineNumber:84,columnNumber:7},void 0)});bt.displayName="Button";const qI={solid:{bg:O.bgSecondary,border:O.borderPrimary,shadow:FI.lg},outlined:{bg:O.bgPrimary,border:O.borderAccent,shadow:Mt.sm},glass:{bg:"rgba(26, 26, 26, 0.7)",border:"rgba(0, 255, 0, 0.2)",shadow:Mt.md}},qt=oe.forwardRef(({className:n,variant:e="solid",glowing:i=!1,style:s,...o},l)=>{const c=qI[e],d={"--card-bg":c.bg,"--card-border":c.border,"--card-shadow":i?Mt.md:c.shadow,"--card-text":O.textPrimary,"--card-subtle":O.textSecondary,"--card-title":O.primary,background:"var(--card-bg)",borderColor:"var(--card-border)",boxShadow:"var(--card-shadow)",color:"var(--card-text)",fontFamily:$e.fontPrimary,...s};return y.jsxDEV("div",{ref:l,className:$r("relative rounded-3xl border px-6 py-6",n),style:d,"data-variant":e,"data-glow":i?"true":void 0,...o},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/common/Card.tsx",lineNumber:50,columnNumber:7},void 0)});qt.displayName="Card";const wn=({className:n,...e})=>y.jsxDEV("h3",{className:$r("text-2xl uppercase tracking-[0.12em]",n),style:{fontFamily:$e.fontHeading,color:O.primary,textShadow:Mt.text},...e},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/common/Card.tsx",lineNumber:71,columnNumber:3},void 0),td=({className:n,...e})=>y.jsxDEV("p",{className:$r("text-sm",n),style:{color:O.textSecondary},...e},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/common/Card.tsx",lineNumber:83,columnNumber:3},void 0),Rn=({className:n,...e})=>y.jsxDEV("div",{className:$r("flex flex-col gap-4 text-sm",n),style:{color:O.textSecondary},...e},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/common/Card.tsx",lineNumber:91,columnNumber:3},void 0),GI={default:{bg:O.bgPrimary,border:O.borderPrimary,focusBorder:O.borderAccent},filled:{bg:O.bgSecondary,border:O.borderSubtle,focusBorder:O.borderAccent},ghost:{bg:"transparent",border:O.borderSubtle,focusBorder:O.primary}},An=oe.forwardRef(({label:n,description:e,error:i,leftIcon:s,rightIcon:o,id:l,className:c,containerClassName:d,variant:m="default",style:p,...v},E)=>{const C=GI[m],D=oe.useId(),P=l??D,A=e?`${P}-description`:void 0,U=i?`${P}-error`:void 0,M=i?U:A,B={"--input-bg":C.bg,"--input-border":C.border,"--input-focus":C.focusBorder,"--input-text":O.textPrimary,"--input-placeholder":O.textTertiary,...p};return y.jsxDEV("label",{className:$r("flex w-full flex-col gap-2 text-sm",d),style:{fontFamily:$e.fontPrimary},"data-variant":m,"data-invalid":i?"true":void 0,children:[n?y.jsxDEV("span",{className:"text-xs uppercase tracking-[0.2em] text-[var(--label-color)]",style:{"--label-color":O.textSecondary},children:n},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/common/Input.tsx",lineNumber:76,columnNumber:11},void 0):null,y.jsxDEV("div",{className:$r("group relative flex items-center gap-3 rounded-lg border px-4 py-3 transition-all duration-200","bg-[var(--input-bg)] border-[var(--input-border)] focus-within:border-[var(--input-focus)] focus-within:shadow-[0_0_12px_rgba(0,255,0,0.35)]",i?"border-[var(--input-error-border)]":""),style:{"--input-error-border":O.accentError},children:[s?y.jsxDEV("span",{className:"text-[var(--input-placeholder)]","aria-hidden":!0,children:s},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/common/Input.tsx",lineNumber:90,columnNumber:23},void 0):null,y.jsxDEV("input",{ref:E,className:$r("w-full bg-transparent text-[var(--input-text)] outline-none placeholder:text-[var(--input-placeholder)]",c),style:B,id:P,"aria-describedby":M,"aria-invalid":!!i,"aria-errormessage":i?U:void 0,...v},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/common/Input.tsx",lineNumber:91,columnNumber:11},void 0),o?y.jsxDEV("span",{className:"text-[var(--input-placeholder)]","aria-hidden":!0,children:o},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/common/Input.tsx",lineNumber:104,columnNumber:24},void 0):null]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/common/Input.tsx",lineNumber:80,columnNumber:9},void 0),e&&!i?y.jsxDEV("span",{id:A,className:"text-xs text-[var(--description-color)]",style:{"--description-color":O.textSecondary},children:e},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/common/Input.tsx",lineNumber:107,columnNumber:11},void 0):null,i?y.jsxDEV("span",{id:U,className:"text-xs text-[var(--error-color)]",style:{"--error-color":O.accentError},role:"alert",children:i},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/common/Input.tsx",lineNumber:116,columnNumber:11},void 0):null]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/common/Input.tsx",lineNumber:69,columnNumber:7},void 0)});An.displayName="Input";const XI={primary:{bar:O.primary,glow:Mt.md},success:{bar:O.accentSuccess,glow:Mt.md},warning:{bar:O.accentWarning,glow:Mt.sm},danger:{bar:O.accentError,glow:Mt.sm}},xw=({value:n,max:e=100,label:i,showLabel:s=!0,tone:o="primary",className:l,...c})=>{const{"aria-label":d,"aria-labelledby":m,...p}=c,v=e<=0?100:e,E=Math.min(100,Math.max(0,n/v*100)),C=XI[o],D=oe.useId(),P=i&&s?`${D}-label`:void 0,A=`${Math.round(E)}%`,U=d??i??void 0,M=m??(P||void 0);return y.jsxDEV("div",{className:$r("flex w-full flex-col gap-2",l),...p,children:[i||s?y.jsxDEV("div",{id:P,className:"flex items-center justify-between text-xs uppercase tracking-[0.18em]",style:{color:O.textSecondary,fontFamily:$e.fontHeading},children:[i?y.jsxDEV("span",{children:i},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/common/ProgressBar.tsx",lineNumber:62,columnNumber:20},void 0):y.jsxDEV("span",{"aria-hidden":!0},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/common/ProgressBar.tsx",lineNumber:62,columnNumber:43},void 0),s?y.jsxDEV("span",{children:`${Math.round(E)}%`},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/common/ProgressBar.tsx",lineNumber:63,columnNumber:24},void 0):null]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/common/ProgressBar.tsx",lineNumber:57,columnNumber:9},void 0):null,y.jsxDEV("div",{className:"relative h-3 overflow-hidden rounded-full border border-[var(--progress-border)] bg-[var(--progress-bg)]",style:{"--progress-border":O.borderPrimary,"--progress-bg":O.bgTertiary},role:"progressbar","aria-valuenow":Math.round(E),"aria-valuemin":0,"aria-valuemax":100,"aria-valuetext":i?`${i}: ${A}`:A,"aria-label":U,"aria-labelledby":U?void 0:M,children:y.jsxDEV("div",{className:"h-full rounded-full transition-all duration-300",style:{width:`${E}%`,background:C.bar,boxShadow:C.glow}},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/common/ProgressBar.tsx",lineNumber:80,columnNumber:9},void 0)},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/common/ProgressBar.tsx",lineNumber:66,columnNumber:7},void 0)]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/common/ProgressBar.tsx",lineNumber:55,columnNumber:5},void 0)},YI=({tabs:n,value:e,defaultValue:i,onChange:s,variant:o="line",renderContent:l,className:c,...d})=>{if(!n.length)return null;const m=oe.useId(),p=oe.useMemo(()=>n.find(L=>!L.disabled)?.id??"",[n]),[v,E]=oe.useState(i??p),C=e??v,D=oe.useMemo(()=>n.filter(L=>!L.disabled).map(L=>L.id),[n]),P=(L,H)=>{H||(e||E(L),s?.(L))},A=L=>{if(typeof document>"u")return;document.getElementById(`${m}-tab-${L}`)?.focus()},U=(L,H)=>{if(!D.length)return;const Q=D.indexOf(L),q=((Q===-1?0:Q)+H+D.length)%D.length,te=D[q];P(te),A(te)},M=(L,H)=>{if(D.length)switch(L.key){case"ArrowRight":case"ArrowDown":L.preventDefault(),U(H,1);break;case"ArrowLeft":case"ArrowUp":L.preventDefault(),U(H,-1);break;case"Home":L.preventDefault(),P(D[0]),A(D[0]);break;case"End":L.preventDefault(),P(D[D.length-1]),A(D[D.length-1]);break}},B=n.find(L=>L.id===C)??n[0];return y.jsxDEV("div",{className:$r("flex flex-col gap-6",c),...d,children:[y.jsxDEV("div",{role:"tablist","aria-orientation":"horizontal",className:$r("flex flex-wrap gap-3 rounded-2xl border border-[var(--tabs-border)] bg-[var(--tabs-bg)] p-2",o==="contained"?"bg-[var(--tabs-bg-active)]":""),style:{"--tabs-border":O.borderPrimary,"--tabs-bg":O.bgPrimary,"--tabs-bg-active":O.bgSecondary},children:n.map(L=>{const H=L.id===C,Q=`${m}-tab-${L.id}`,se=`${m}-panel-${L.id}`;return y.jsxDEV("button",{id:Q,role:"tab",type:"button",tabIndex:L.disabled?-1:H?0:-1,"aria-controls":H?se:void 0,"aria-selected":H,"aria-disabled":L.disabled,onClick:()=>P(L.id,L.disabled),onKeyDown:q=>M(q,L.id),className:$r("group relative inline-flex min-w-[8rem] items-center justify-center gap-2 rounded-xl px-5 py-3 text-sm uppercase transition-all duration-150","tracking-[0.18em] focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-[var(--tabs-outline)]",L.disabled?"cursor-not-allowed opacity-40":"hover:-translate-y-0.5",o==="contained"?H?"bg-[var(--tabs-active-bg)] text-[var(--tabs-active-color)] shadow-[var(--tabs-active-shadow)]":"text-[var(--tabs-muted-color)]":H?"text-[var(--tabs-active-color)]":"text-[var(--tabs-muted-color)]"),style:{"--tabs-active-bg":O.bgSecondary,"--tabs-active-color":O.primary,"--tabs-muted-color":O.textSecondary,"--tabs-outline":O.primary,"--tabs-active-shadow":Mt.sm,fontFamily:$e.fontHeading},children:[L.icon?y.jsxDEV("span",{"aria-hidden":!0,children:L.icon},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/common/Tabs.tsx",lineNumber:152,columnNumber:27},void 0):null,y.jsxDEV("span",{children:L.label},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/common/Tabs.tsx",lineNumber:153,columnNumber:15},void 0),L.badge?y.jsxDEV("span",{"aria-hidden":!0,children:L.badge},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/common/Tabs.tsx",lineNumber:154,columnNumber:28},void 0):null,o==="line"?y.jsxDEV("span",{"aria-hidden":!0,className:$r("absolute inset-x-4 bottom-0 h-[2px] transition-opacity duration-150",H?"opacity-100":"opacity-0"),style:{background:O.primary}},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/common/Tabs.tsx",lineNumber:156,columnNumber:17},void 0):null]},L.id,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/common/Tabs.tsx",lineNumber:120,columnNumber:13},void 0)})},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/common/Tabs.tsx",lineNumber:102,columnNumber:7},void 0),l?y.jsxDEV("div",{id:`${m}-panel-${B.id}`,role:"tabpanel","aria-labelledby":`${m}-tab-${B.id}`,className:"rounded-2xl border border-[var(--tabs-panel-border)] bg-[var(--tabs-panel-bg)] p-6",style:{"--tabs-panel-border":O.borderPrimary,"--tabs-panel-bg":O.bgSecondary},children:l(B)},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/common/Tabs.tsx",lineNumber:170,columnNumber:9},void 0):null]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/common/Tabs.tsx",lineNumber:101,columnNumber:5},void 0)},QI={[ms.Draft]:{label:"Rascunho",icon:"",badgeVariant:"default"},[ms.Scheduled]:{label:"Agendado",icon:"",badgeVariant:"warning"},[ms.Published]:{label:"Disponvel",icon:"",badgeVariant:"outline"},[ms.Archived]:{label:"Arquivado",icon:"",badgeVariant:"default"}},KD=n=>{switch(n){case"new":return"Novidade";case"popular":return"Popular entre os membros";case"mentor_pick":return"Seleo dos mentores";default:return null}},Tw=({items:n,loading:e,onSelectCourse:i})=>e?y.jsxDEV("div",{className:"grid gap-6 md:grid-cols-2 xl:grid-cols-3",children:Array.from({length:3}).map((s,o)=>y.jsxDEV(ZI,{},o,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hub/AcademyHighlights.tsx",lineNumber:46,columnNumber:11},void 0))},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hub/AcademyHighlights.tsx",lineNumber:44,columnNumber:7},void 0):n.length?y.jsxDEV("div",{className:"grid gap-6 md:grid-cols-2 xl:grid-cols-3",children:n.map(({course:s,progress:o,recommendation:l,locked:c,nextLessonTitle:d})=>{const m=o?.percentage??0,p=QI[s.status],v=c||s.status!==ms.Published,E=v?"error":p.badgeVariant,C=v?" Bloqueado":`${p.icon} ${p.label}`,D=v?"Ver detalhes":m>0?"Continuar":"Comear";return y.jsxDEV(qt,{className:"flex h-full flex-col overflow-hidden",variant:"solid",glowing:!0,children:[y.jsxDEV("div",{className:"relative h-40 overflow-hidden rounded-2xl",children:[s.coverImage?y.jsxDEV("img",{src:s.coverImage,alt:"Capa do curso",className:"h-full w-full object-cover"},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hub/AcademyHighlights.tsx",lineNumber:79,columnNumber:17},void 0):y.jsxDEV("div",{className:"flex h-full w-full items-center justify-center bg-[var(--course-placeholder)]",style:{"--course-placeholder":O.bgTertiary},children:y.jsxDEV("span",{className:"text-4xl","aria-hidden":!0,children:""},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hub/AcademyHighlights.tsx",lineNumber:85,columnNumber:19},void 0)},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hub/AcademyHighlights.tsx",lineNumber:81,columnNumber:17},void 0),y.jsxDEV("div",{className:"absolute inset-0 bg-gradient-to-t from-[rgba(10,10,10,0.95)] via-[rgba(10,10,10,0.6)] to-transparent","aria-hidden":!0},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hub/AcademyHighlights.tsx",lineNumber:90,columnNumber:15},void 0),y.jsxDEV("div",{className:"absolute left-4 top-4 flex gap-3",children:[y.jsxDEV(Er,{variant:E,children:C},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hub/AcademyHighlights.tsx",lineNumber:92,columnNumber:17},void 0),KD(l?.badge)?y.jsxDEV(Er,{variant:"outline",children:KD(l?.badge)},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hub/AcademyHighlights.tsx",lineNumber:94,columnNumber:19},void 0):null]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hub/AcademyHighlights.tsx",lineNumber:91,columnNumber:15},void 0)]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hub/AcademyHighlights.tsx",lineNumber:77,columnNumber:13},void 0),y.jsxDEV("div",{className:"flex flex-1 flex-col gap-4 pt-4",children:[y.jsxDEV(wn,{className:"text-xl",style:{color:O.primary},children:s.title},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hub/AcademyHighlights.tsx",lineNumber:99,columnNumber:15},void 0),y.jsxDEV(Rn,{style:{color:O.textSecondary},children:s.subtitle},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hub/AcademyHighlights.tsx",lineNumber:102,columnNumber:15},void 0),y.jsxDEV("div",{className:"space-y-2 text-sm",style:{color:O.textSecondary},children:[y.jsxDEV("p",{children:`${s.totalLessons} aulas  ${Math.round(s.estimatedDurationMinutes/60)}h`},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hub/AcademyHighlights.tsx",lineNumber:104,columnNumber:17},void 0),d?y.jsxDEV("p",{children:["Prxima aula: ",d]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hub/AcademyHighlights.tsx",lineNumber:105,columnNumber:36},void 0):null]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hub/AcademyHighlights.tsx",lineNumber:103,columnNumber:15},void 0),y.jsxDEV(xw,{value:m,showLabel:!0,label:"Progresso"},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hub/AcademyHighlights.tsx",lineNumber:107,columnNumber:15},void 0),y.jsxDEV("div",{className:"mt-auto flex items-center justify-between",children:[y.jsxDEV(bt,{variant:v?"secondary":"primary",onClick:()=>i?.(s.id),children:D},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hub/AcademyHighlights.tsx",lineNumber:109,columnNumber:17},void 0),l?.reason?y.jsxDEV("span",{className:"text-xs uppercase tracking-[0.18em]",style:{color:O.textSecondary,fontFamily:$e.fontHeading},children:l.reason},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hub/AcademyHighlights.tsx",lineNumber:113,columnNumber:19},void 0):null]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hub/AcademyHighlights.tsx",lineNumber:108,columnNumber:15},void 0)]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hub/AcademyHighlights.tsx",lineNumber:98,columnNumber:13},void 0)]},s.id,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hub/AcademyHighlights.tsx",lineNumber:76,columnNumber:11},void 0)})},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hub/AcademyHighlights.tsx",lineNumber:66,columnNumber:5},void 0):y.jsxDEV(qt,{variant:"outlined",className:"text-center",children:[y.jsxDEV(wn,{className:"text-base",style:{color:O.primary},children:"Nenhum curso disponvel ainda"},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hub/AcademyHighlights.tsx",lineNumber:55,columnNumber:9},void 0),y.jsxDEV(td,{style:{color:O.textSecondary},children:"Assim que novos cursos forem liberados, eles aparecero aqui."},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hub/AcademyHighlights.tsx",lineNumber:58,columnNumber:9},void 0)]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hub/AcademyHighlights.tsx",lineNumber:54,columnNumber:7},void 0),ZI=({titleWidth:n="70%"})=>y.jsxDEV("div",{className:"animate-pulse space-y-4 rounded-3xl border border-[var(--skeleton-border)] bg-[var(--skeleton-bg)] p-6",style:{"--skeleton-border":O.borderPrimary,"--skeleton-bg":O.bgPrimary},children:[y.jsxDEV("div",{className:"h-40 rounded-2xl bg-[var(--skeleton-border)]"},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hub/AcademyHighlights.tsx",lineNumber:135,columnNumber:5},void 0),y.jsxDEV("div",{className:"h-6 rounded-full bg-[var(--skeleton-border)]",style:{width:n}},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hub/AcademyHighlights.tsx",lineNumber:136,columnNumber:5},void 0),y.jsxDEV("div",{className:"h-4 rounded-full bg-[var(--skeleton-border)]",style:{width:"90%"}},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hub/AcademyHighlights.tsx",lineNumber:137,columnNumber:5},void 0),y.jsxDEV("div",{className:"h-4 rounded-full bg-[var(--skeleton-border)]",style:{width:"60%"}},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hub/AcademyHighlights.tsx",lineNumber:138,columnNumber:5},void 0),y.jsxDEV("div",{className:"h-3 rounded-full bg-[var(--skeleton-border)]",style:{width:"80%"}},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hub/AcademyHighlights.tsx",lineNumber:139,columnNumber:5},void 0)]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hub/AcademyHighlights.tsx",lineNumber:131,columnNumber:3},void 0);var JD={};class Cr{constructor(e={}){const i=typeof process<"u"&&JD&&JD.API_BASE_URL||"/api";this.baseUrl=e.baseUrl??i,this.getAccessToken=e.getAccessToken,this.onUnauthenticated=e.onUnauthenticated}async request(e,i,s){const o={"Content-Type":"application/json"},l=this.getAccessToken?.();l&&(o.Authorization=`Bearer ${l}`);const c=await fetch(`${this.baseUrl}${e}`,{method:i,headers:o,body:s?JSON.stringify(s):void 0,credentials:"include"});return c.status===401&&this.onUnauthenticated?.(),await c.json()}get(e){return this.request(e,"GET")}post(e,i){return this.request(e,"POST",i)}put(e,i){return this.request(e,"PUT",i)}patch(e,i){return this.request(e,"PATCH",i)}delete(e){return this.request(e,"DELETE")}}const e2=new Cr;class Sw extends Error{constructor(e,i){super(i??e.message),this.payload=e,this.name="ApiError"}}function bn(n){const e=n;if(!e||e.success!==!0){const i=n;throw new Sw(i.error??{code:"UNKNOWN",message:"Erro desconhecido"})}}function wi(n){return n instanceof Sw?n.payload.message:n instanceof Error?n.message:"Ocorreu um erro inesperado. Tente novamente."}const WI={queries:{staleTime:60*1e3,gcTime:300*1e3,retry:2,refetchOnWindowFocus:!1,refetchOnReconnect:!0,refetchOnMount:!1},mutations:{retry:1}};let z_=null;const KI=()=>new oM({defaultOptions:WI}),Ew=()=>(z_||(z_=KI()),z_);Ew();const JI=(n,e)=>{e&&lM(n,e)},vr=(...n)=>n.filter(e=>e!==void 0),zt={hub:{dashboard:()=>vr("hub","dashboard")},academy:{progress:n=>vr("academy","courses",n,"progress"),lessonRating:n=>vr("academy","lessons",n,"rating"),lessonProgress:n=>vr("academy","lessons",n,"progress"),lessonComments:n=>vr("academy","lessons",n,"comments"),courseTree:n=>vr("academy","courses",n,"tree")},hidra:{dashboard:()=>vr("hidra","dashboard"),campaignStats:()=>vr("hidra","campaigns","stats"),segments:()=>vr("hidra","segments"),templates:()=>vr("hidra","templates")},admin:{dashboard:()=>vr("admin","dashboard"),members:n=>vr("admin","members",n?.role??"all",n?.page??1,n?.pageSize??20,n?.search??""),banners:()=>vr("admin","banners"),commentModeration:n=>vr("admin","comments","moderation",n?.status??"pending",n?.page??1,n?.pageSize??20)},cybervault:{resourcesList:n=>vr("cybervault","resources",n)}};function Nw(n,e){let i;try{i=n()}catch{return}return{getItem:o=>{var l;const c=m=>m===null?null:JSON.parse(m,void 0),d=(l=i.getItem(o))!=null?l:null;return d instanceof Promise?d.then(c):c(d)},setItem:(o,l)=>i.setItem(o,JSON.stringify(l,void 0)),removeItem:o=>i.removeItem(o)}}const kx=n=>e=>{try{const i=n(e);return i instanceof Promise?i:{then(s){return kx(s)(i)},catch(s){return this}}}catch(i){return{then(s){return this},catch(s){return kx(s)(i)}}}},eL=(n,e)=>(i,s,o)=>{let l={storage:Nw(()=>localStorage),partialize:A=>A,version:0,merge:(A,U)=>({...U,...A}),...e},c=!1;const d=new Set,m=new Set;let p=l.storage;if(!p)return n((...A)=>{console.warn(`[zustand persist middleware] Unable to update item '${l.name}', the given storage is currently unavailable.`),i(...A)},s,o);const v=()=>{const A=l.partialize({...s()});return p.setItem(l.name,{state:A,version:l.version})},E=o.setState;o.setState=(A,U)=>(E(A,U),v());const C=n((...A)=>(i(...A),v()),s,o);o.getInitialState=()=>C;let D;const P=()=>{var A,U;if(!p)return;c=!1,d.forEach(B=>{var L;return B((L=s())!=null?L:C)});const M=((U=l.onRehydrateStorage)==null?void 0:U.call(l,(A=s())!=null?A:C))||void 0;return kx(p.getItem.bind(p))(l.name).then(B=>{if(B)if(typeof B.version=="number"&&B.version!==l.version){if(l.migrate){const L=l.migrate(B.state,B.version);return L instanceof Promise?L.then(H=>[!0,H]):[!0,L]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,B.state];return[!1,void 0]}).then(B=>{var L;const[H,Q]=B;if(D=l.merge(Q,(L=s())!=null?L:C),i(D,!0),H)return v()}).then(()=>{M?.(D,void 0),D=s(),c=!0,m.forEach(B=>B(D))}).catch(B=>{M?.(void 0,B)})};return o.persist={setOptions:A=>{l={...l,...A},A.storage&&(p=A.storage)},clearStorage:()=>{p?.removeItem(l.name)},getOptions:()=>l,rehydrate:()=>P(),hasHydrated:()=>c,onHydrate:A=>(d.add(A),()=>{d.delete(A)}),onFinishHydration:A=>(m.add(A),()=>{m.delete(A)})},l.skipHydration||P(),D||C},tL=eL,H_="siderhub-auth",t2={user:null,accessToken:null,refreshToken:null,accessMap:[],activeSessions:[],isAuthenticated:!1,isLoading:!1,hydratedAt:null,lastError:null},nL=typeof window<"u"?Nw(()=>window.localStorage):void 0,it=fM()(tL((n,e)=>{const i=l=>n(c=>({...c,...t2,isLoading:!1,hydratedAt:new Date().toISOString(),lastError:null})),s=l=>{const c="accessMap"in l?l.accessMap:[],d="activeSessions"in l?l.activeSessions:[];n(m=>({...m,user:l.user,accessToken:l.accessToken,refreshToken:l.refreshToken,accessMap:c,activeSessions:d,isAuthenticated:!0,isLoading:!1,lastError:null,hydratedAt:new Date().toISOString()}))},o=new Cr({getAccessToken:()=>e().accessToken,onUnauthenticated:()=>i()});return{...t2,login:async l=>{n({isLoading:!0,lastError:null});try{const c=await e2.post("/auth/login",l);bn(c),s(c.data)}catch(c){const d=wi(c);throw n({isLoading:!1,lastError:d,isAuthenticated:!1}),c}},register:async l=>{n({isLoading:!0,lastError:null});try{const c=await e2.post("/auth/register",l);bn(c),s(c.data)}catch(c){const d=wi(c);throw n({isLoading:!1,lastError:d,isAuthenticated:!1}),c}},logout:async l=>{const c=!!e().accessToken;try{c&&await o.post("/auth/logout",l??{})}catch(d){console.warn("logout request failed",d)}finally{i()}},refreshTokens:async()=>{const l=e().refreshToken;if(!l){i();return}try{const c=await o.post("/auth/refresh",{refreshToken:l});bn(c);const{accessToken:d,refreshToken:m}=c.data;n(p=>({...p,accessToken:d,refreshToken:m,isAuthenticated:!!(p.user&&d),lastError:null}))}catch(c){const d=wi(c);throw n({lastError:d}),i(),c}},hydrateFromStorage:async()=>{if(typeof window>"u"){n({hydratedAt:new Date().toISOString(),isLoading:!1});return}n({isLoading:!0});try{const l=window.localStorage.getItem(H_);if(!l){i(!0);return}const d=JSON.parse(l)?.state??{};n(m=>({...m,user:d.user??null,accessToken:d.accessToken??null,refreshToken:d.refreshToken??null,accessMap:d.accessMap??[],activeSessions:d.activeSessions??[],isAuthenticated:!!(d.user&&d.accessToken),hydratedAt:d.hydratedAt??new Date().toISOString(),isLoading:!1,lastError:null}))}catch(l){console.error("auth store hydration failed",l),window.localStorage.removeItem(H_),i()}},setAccessMap:l=>n(c=>({...c,accessMap:l})),setActiveSessions:l=>n(c=>({...c,activeSessions:l}))}},{name:H_,storage:nL,partialize:n=>({user:n.user,accessToken:n.accessToken,refreshToken:n.refreshToken,accessMap:n.accessMap,activeSessions:n.activeSessions,hydratedAt:n.hydratedAt}),skipHydration:!0,version:1})),_i=n=>n.isAuthenticated,v1=n=>n.user,_1=n=>n.accessMap,iL=n=>n.isLoading,rL=n=>n.lastError,sL=new Cr({getAccessToken:()=>it.getState().accessToken,onUnauthenticated:()=>{it.getState().logout()}}),aL=async n=>{const e=await sL.get(`/academy/courses/${n}/progress`);return bn(e),e.data},x1=n=>{const e=it(_i),i=oe.useMemo(()=>n?.length?Array.from(new Set(n.filter(p=>!!p))):[],[n]),s=uM({queries:i.map(p=>({queryKey:zt.academy.progress(p),queryFn:()=>aL(p),enabled:!!(e&&p),staleTime:120*1e3,retry:1}))}),o=i.reduce((p,v,E)=>{const C=s[E];return C?.data&&(p[v]=C.data),p},{}),l=s.some(p=>p.isLoading),c=s.some(p=>p.isFetching),d=s.map(p=>p.error).filter(p=>!!p);return{progressMap:o,isLoading:l,isFetching:c,errors:d,refetchAll:async()=>{await Promise.all(s.map(p=>p.refetch()))}}},Lm=new Cr({getAccessToken:()=>it.getState().accessToken,onUnauthenticated:()=>{it.getState().logout()}}),oL=async()=>{const n=await Lm.get("/hub");if(n.success===!0){const{banners:c,academy:d,hidra:m,cybervault:p,generatedAt:v}=n.data;return{banners:c,academy:{featured:d.featured,recommendations:d.recommendations},hidra:{totals:m?.totals??null,messageSummary:m?.messageSummary??null},cybervault:{featuredResources:p.featuredResources},generatedAt:v}}const[e,i,s,o]=await Promise.all([Lm.get("/hub/banners?status=active"),Lm.get("/academy/courses/featured"),Lm.get("/academy/courses/recommended"),Lm.get("/hidra/campaigns/metrics/overview")]);bn(e),bn(i);const l=s.success===!0?s.data:[];return{banners:e.data,academy:{featured:i.data,recommendations:l},hidra:{totals:null,messageSummary:o.success===!0?o.data:null},cybervault:{featuredResources:[]},generatedAt:null}},T1=()=>{const n=it(_i),e=Ea({queryKey:zt.hub.dashboard(),queryFn:oL,enabled:n,staleTime:60*1e3}),i=oe.useMemo(()=>{if(!e.data)return!1;const{banners:s,academy:{featured:o,recommendations:l},cybervault:{featuredResources:c}}=e.data;return s.length>0||o.length>0||l.length>0||c.length>0},[e.data]);return{...e,hasContent:i}},S1=()=>{const n=it(m=>m.login),e=it(iL),i=it(rL),[s,o]=oe.useState(""),[l,c]=oe.useState(""),d=async m=>{m.preventDefault();try{await n({email:s,password:l})}catch{}};return y.jsxDEV(qt,{className:"mx-auto w-full max-w-md",variant:"outlined",children:y.jsxDEV("form",{onSubmit:d,className:"space-y-4","aria-label":"Formulrio de login",children:[y.jsxDEV("div",{className:"space-y-1 text-center",children:[y.jsxDEV("h2",{className:"text-xl uppercase tracking-[0.16em]",style:{fontFamily:$e.fontHeading,color:O.primary},children:"Entrar"},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Auth/Login.tsx",lineNumber:27,columnNumber:11},void 0),y.jsxDEV("p",{className:"text-sm",style:{color:O.textSecondary},children:"Acesse com seu e-mail e senha."},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Auth/Login.tsx",lineNumber:33,columnNumber:11},void 0)]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Auth/Login.tsx",lineNumber:26,columnNumber:9},void 0),y.jsxDEV(An,{label:"Email",type:"email",name:"email",placeholder:"seu@email.com",value:s,onChange:m=>o(m.target.value),required:!0,autoComplete:"email"},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Auth/Login.tsx",lineNumber:37,columnNumber:9},void 0),y.jsxDEV(An,{label:"Senha",type:"password",name:"password",placeholder:"",value:l,onChange:m=>c(m.target.value),required:!0,autoComplete:"current-password"},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Auth/Login.tsx",lineNumber:47,columnNumber:9},void 0),i?y.jsxDEV("div",{className:"rounded-md border px-3 py-2 text-sm",style:{borderColor:O.accentError,color:O.accentError},children:i},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Auth/Login.tsx",lineNumber:58,columnNumber:11},void 0):null,y.jsxDEV("div",{className:"flex justify-end",children:y.jsxDEV(bt,{type:"submit",loading:e,"data-testid":"auth-submit",children:"Entrar"},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Auth/Login.tsx",lineNumber:63,columnNumber:11},void 0)},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Auth/Login.tsx",lineNumber:62,columnNumber:9},void 0)]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Auth/Login.tsx",lineNumber:25,columnNumber:7},void 0)},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Auth/Login.tsx",lineNumber:24,columnNumber:5},void 0)},lL=({courses:n,progressMap:e,recommendations:i})=>{const s=T1(),o=it(_i),l=s.data?.academy,c=n??l?.featured??[],d=i??l?.recommendations.map(D=>D.recommendation)??[],m=oe.useMemo(()=>c.map(D=>D.id),[c]),{progressMap:p,isLoading:v}=x1(o?m:[]),E=e??p,C=oe.useMemo(()=>c.map(D=>({course:D,progress:E?.[D.id],recommendation:d.find(P=>P.courseId===D.id),locked:D.status!==ms.Published})),[c,E,d]);return o?y.jsxDEV("main",{"data-testid":"academy-dashboard",className:"container mx-auto flex max-w-[var(--container-2xl)] flex-col gap-8 px-6 py-8",style:{"--container-2xl":"1440px"},children:[y.jsxDEV("header",{className:"space-y-1",children:[y.jsxDEV("h1",{className:"text-3xl uppercase tracking-[0.14em]",style:{fontFamily:$e.fontHeading,color:O.primary},children:"Academia Blacksider"},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Academy/Dashboard.tsx",lineNumber:83,columnNumber:9},void 0),y.jsxDEV("p",{className:"text-sm",style:{color:O.textSecondary},children:"Cursos e trilhas para acelerar seu progresso."},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Academy/Dashboard.tsx",lineNumber:86,columnNumber:9},void 0)]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Academy/Dashboard.tsx",lineNumber:82,columnNumber:7},void 0),y.jsxDEV(Tw,{items:C,loading:s.isLoading||v},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Academy/Dashboard.tsx",lineNumber:91,columnNumber:7},void 0)]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Academy/Dashboard.tsx",lineNumber:77,columnNumber:5},void 0):y.jsxDEV("main",{"data-testid":"academy-dashboard",className:"container mx-auto flex max-w-[var(--container-2xl)] flex-col gap-8 px-6 py-8",style:{"--container-2xl":"1440px"},children:[y.jsxDEV("header",{className:"space-y-1",children:[y.jsxDEV("h1",{className:"text-3xl uppercase tracking-[0.14em]",style:{fontFamily:$e.fontHeading,color:O.primary},children:"Academia Blacksider"},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Academy/Dashboard.tsx",lineNumber:49,columnNumber:11},void 0),y.jsxDEV("p",{className:"text-sm",style:{color:O.textSecondary},children:"Cursos e trilhas para acelerar seu progresso."},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Academy/Dashboard.tsx",lineNumber:52,columnNumber:11},void 0)]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Academy/Dashboard.tsx",lineNumber:48,columnNumber:9},void 0),y.jsxDEV("section",{className:"rounded-3xl border border-[var(--lock-border)] bg-[var(--lock-bg)] p-10 text-center",style:{"--lock-border":O.borderPrimary,"--lock-bg":O.bgSecondary,color:O.textSecondary},children:y.jsxDEV("p",{className:"text-lg uppercase tracking-[0.12em]",style:{fontFamily:$e.fontHeading},children:"Autentique-se para acompanhar seus cursos."},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Academy/Dashboard.tsx",lineNumber:65,columnNumber:11},void 0)},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Academy/Dashboard.tsx",lineNumber:57,columnNumber:9},void 0),y.jsxDEV("div",{className:"mt-2",children:y.jsxDEV(S1,{},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Academy/Dashboard.tsx",lineNumber:70,columnNumber:11},void 0)},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Academy/Dashboard.tsx",lineNumber:69,columnNumber:9},void 0)]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Academy/Dashboard.tsx",lineNumber:43,columnNumber:7},void 0)},$_={root:"component-course-card",action:"component-course-card-action"},uL={[ms.Draft]:{label:"Rascunho",icon:"",variant:"default"},[ms.Scheduled]:{label:"Agendado",icon:"",variant:"warning"},[ms.Published]:{label:"Disponvel",icon:"",variant:"outline"},[ms.Archived]:{label:"Arquivado",icon:"",variant:"default"}},n2=({course:n,progress:e,locked:i,onSelect:s,className:o})=>{const l=uL[n.status],c=i||n.status!==ms.Published,d=e?.percentage??0,m=n.slug?.toLowerCase()==="growth-playbook"||n.title?.toLowerCase().includes("growth")&&n.title?.toLowerCase().includes("playbook"),p=n?.slug?`course-card-${n.slug}`:$_.root;return y.jsxDEV(qt,{className:o,glowing:!0,"data-testid":p,children:[m?y.jsxDEV("span",{"data-testid":"course-card-growth-playbook",className:"sr-only","aria-hidden":!0},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/academy/CourseCard.tsx",lineNumber:45,columnNumber:27},void 0):null,y.jsxDEV("span",{"data-testid":$_.root,className:"sr-only","aria-hidden":!0},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/academy/CourseCard.tsx",lineNumber:46,columnNumber:7},void 0),y.jsxDEV("div",{className:"flex flex-col gap-4",children:[y.jsxDEV("div",{className:"flex items-start justify-between gap-3",children:[y.jsxDEV(Er,{variant:c?"error":l.variant,children:c?" Bloqueado":`${l.icon} ${l.label}`},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/academy/CourseCard.tsx",lineNumber:49,columnNumber:11},void 0),y.jsxDEV("span",{className:"text-xs uppercase tracking-[0.18em]",style:{color:O.textSecondary,fontFamily:$e.fontHeading},children:n.level.toUpperCase()},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/academy/CourseCard.tsx",lineNumber:52,columnNumber:11},void 0)]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/academy/CourseCard.tsx",lineNumber:48,columnNumber:9},void 0),y.jsxDEV(wn,{style:{color:O.primary},children:n.title},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/academy/CourseCard.tsx",lineNumber:56,columnNumber:9},void 0),y.jsxDEV(td,{style:{color:O.textSecondary},children:n.subtitle},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/academy/CourseCard.tsx",lineNumber:57,columnNumber:9},void 0),y.jsxDEV(Rn,{style:{color:O.textSecondary},children:[y.jsxDEV("p",{children:n.description},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/academy/CourseCard.tsx",lineNumber:59,columnNumber:11},void 0),y.jsxDEV("p",{children:[n.totalLessons," aulas  ",Math.round(n.estimatedDurationMinutes/60),"htotais"]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/academy/CourseCard.tsx",lineNumber:60,columnNumber:11},void 0)]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/academy/CourseCard.tsx",lineNumber:58,columnNumber:9},void 0),y.jsxDEV(xw,{value:d,showLabel:!0,label:"Progresso"},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/academy/CourseCard.tsx",lineNumber:64,columnNumber:9},void 0),y.jsxDEV("span",{"data-testid":"course-progress-percentage",className:"sr-only",children:[Math.round(d),"%"]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/academy/CourseCard.tsx",lineNumber:66,columnNumber:9},void 0),y.jsxDEV("div",{className:"flex items-center justify-between",children:[y.jsxDEV(bt,{"data-testid":$_.action,variant:c?"secondary":"primary",onClick:()=>s?.(n.id),children:c?"Ver detalhes":d>0?"Continuar":"Comear agora"},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/academy/CourseCard.tsx",lineNumber:70,columnNumber:11},void 0),n.tags.length?y.jsxDEV("div",{className:"flex flex-wrap gap-2 text-xs uppercase tracking-[0.18em]",style:{color:O.textSecondary,fontFamily:$e.fontHeading},children:[n.tags.slice(0,3).map(v=>y.jsxDEV("span",{className:"rounded-full border border-[var(--tag-border)] px-3 py-1",style:{"--tag-border":O.borderSubtle},children:["#",v]},v,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/academy/CourseCard.tsx",lineNumber:80,columnNumber:17},void 0)),n.tags.length>3?y.jsxDEV("span",{children:["+",n.tags.length-3]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/academy/CourseCard.tsx",lineNumber:84,columnNumber:41},void 0):null]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/academy/CourseCard.tsx",lineNumber:78,columnNumber:13},void 0):null]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/academy/CourseCard.tsx",lineNumber:69,columnNumber:9},void 0)]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/academy/CourseCard.tsx",lineNumber:47,columnNumber:7},void 0)]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/academy/CourseCard.tsx",lineNumber:39,columnNumber:5},void 0)},cL=()=>{const n=dp(),{courseId:e=""}=m1(),i=it(_i),o=T1().data?.academy,l=o?.featured??[],c=o?.recommendations??[],d=l,m=oe.useMemo(()=>{if(!e)return null;const C=d.find(D=>D.id===e);return C||(c.find(D=>D.course.id===e)?.course??null)},[d,c,e]),p=oe.useMemo(()=>m?[m.id]:[],[m]),{progressMap:v}=x1(i?p:[]),E=oe.useMemo(()=>c.filter(C=>C.course.id!==m?.id).slice(0,3).map(C=>({course:C.course,recommendation:C.recommendation})),[c,m?.id]);return m?y.jsxDEV("section",{className:"space-y-10","data-testid":"academy-course-detail",children:[y.jsxDEV("header",{className:"space-y-2",children:[y.jsxDEV("p",{className:"text-xs uppercase tracking-[0.22em]",style:{fontFamily:$e.fontHeading,color:O.textSecondary},children:"Curso Blacksider"},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Academy/CourseDetail.tsx",lineNumber:67,columnNumber:9},void 0),y.jsxDEV("h1",{className:"text-4xl uppercase",style:{fontFamily:$e.fontHeading,color:O.primary,textShadow:Mt.text},children:m.title},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Academy/CourseDetail.tsx",lineNumber:73,columnNumber:9},void 0),y.jsxDEV("p",{className:"text-sm",style:{color:O.textSecondary},children:m.subtitle},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Academy/CourseDetail.tsx",lineNumber:79,columnNumber:9},void 0)]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Academy/CourseDetail.tsx",lineNumber:66,columnNumber:7},void 0),y.jsxDEV("div",{className:"grid gap-6 lg:grid-cols-[2fr_1fr]",children:[y.jsxDEV(n2,{course:m,progress:v?.[m.id],locked:!1,className:"h-fit"},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Academy/CourseDetail.tsx",lineNumber:85,columnNumber:9},void 0),y.jsxDEV("aside",{className:"rounded-3xl border border-[var(--border-color)] bg-[var(--bg-elevated)] p-6",style:{"--border-color":O.borderPrimary,"--bg-elevated":O.bgSecondary},children:[y.jsxDEV("h2",{className:"text-sm uppercase tracking-[0.2em]",style:{fontFamily:$e.fontHeading,color:O.textSecondary},children:"Prximos passos"},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Academy/CourseDetail.tsx",lineNumber:96,columnNumber:11},void 0),y.jsxDEV("ul",{className:"mt-4 space-y-3 text-sm",style:{color:O.textSecondary},children:[y.jsxDEV("li",{children:"Revise os materiais de apoio e marque aulas como concludas."},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Academy/CourseDetail.tsx",lineNumber:103,columnNumber:13},void 0),y.jsxDEV("li",{children:"Participe da comunidade para dvidas estratgicas."},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Academy/CourseDetail.tsx",lineNumber:104,columnNumber:13},void 0),y.jsxDEV("li",{children:"Compartilhe feedback sobre o contedo diretamente no player."},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Academy/CourseDetail.tsx",lineNumber:105,columnNumber:13},void 0)]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Academy/CourseDetail.tsx",lineNumber:102,columnNumber:11},void 0)]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Academy/CourseDetail.tsx",lineNumber:92,columnNumber:9},void 0)]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Academy/CourseDetail.tsx",lineNumber:84,columnNumber:7},void 0),E.length?y.jsxDEV("section",{className:"space-y-4","data-testid":"academy-related-courses",children:[y.jsxDEV("h2",{className:"text-2xl uppercase tracking-[0.16em]",style:{fontFamily:$e.fontHeading,color:O.primary},children:"Recomendados para voc"},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Academy/CourseDetail.tsx",lineNumber:112,columnNumber:11},void 0),y.jsxDEV("div",{className:"grid gap-4 md:grid-cols-2 xl:grid-cols-3",children:E.map(({course:C})=>y.jsxDEV(n2,{course:C,onSelect:D=>n(`/academy/courses/${D}`),locked:!1},C.id,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Academy/CourseDetail.tsx",lineNumber:120,columnNumber:15},void 0))},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Academy/CourseDetail.tsx",lineNumber:118,columnNumber:11},void 0)]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Academy/CourseDetail.tsx",lineNumber:111,columnNumber:9},void 0):null]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Academy/CourseDetail.tsx",lineNumber:65,columnNumber:5},void 0):y.jsxDEV("section",{className:"space-y-4","data-testid":"academy-course-missing",children:[y.jsxDEV("header",{className:"space-y-2",children:[y.jsxDEV("p",{className:"text-xs uppercase tracking-[0.18em]",style:{fontFamily:$e.fontHeading,color:O.textSecondary},children:"Curso no encontrado"},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Academy/CourseDetail.tsx",lineNumber:47,columnNumber:11},void 0),y.jsxDEV("h1",{className:"text-3xl uppercase",style:{fontFamily:$e.fontHeading,color:O.primary},children:"Contedo ainda em preparao"},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Academy/CourseDetail.tsx",lineNumber:53,columnNumber:11},void 0)]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Academy/CourseDetail.tsx",lineNumber:46,columnNumber:9},void 0),y.jsxDEV("p",{className:"text-sm",style:{color:O.textSecondary},children:"No encontramos detalhes para este curso. Verifique se o link est correto ou volte para a vitrine da Academia."},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Academy/CourseDetail.tsx",lineNumber:57,columnNumber:9},void 0)]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Academy/CourseDetail.tsx",lineNumber:45,columnNumber:7},void 0)};var q_,i2;function p0(){if(i2)return q_;i2=1;var n;return typeof window<"u"?n=window:typeof wu<"u"?n=wu:typeof self<"u"?n=self:n={},q_=n,q_}var dL=p0();const W=Kh(dL),hL=new Proxy({},{get(n,e){throw new Error(`Module "" has been externalized for browser compatibility. Cannot access ".${e}" in client code.  See https://vite.dev/guide/troubleshooting.html#module-externalized-for-browser-compatibility for more details.`)}}),fL=Object.freeze(Object.defineProperty({__proto__:null,default:hL},Symbol.toStringTag,{value:"Module"})),mL=uw(fL);var G_,r2;function Cw(){if(r2)return G_;r2=1;var n=typeof wu<"u"?wu:typeof window<"u"?window:{},e=mL,i;return typeof document<"u"?i=document:(i=n["__GLOBAL_DOCUMENT_CACHE@4"],i||(i=n["__GLOBAL_DOCUMENT_CACHE@4"]=e)),G_=i,G_}var pL=Cw();const Ve=Kh(pL);var gb={exports:{}},X_={exports:{}},s2;function gL(){return s2||(s2=1,(function(n){function e(){return n.exports=e=Object.assign?Object.assign.bind():function(i){for(var s=1;s<arguments.length;s++){var o=arguments[s];for(var l in o)({}).hasOwnProperty.call(o,l)&&(i[l]=o[l])}return i},n.exports.__esModule=!0,n.exports.default=n.exports,e.apply(null,arguments)}n.exports=e,n.exports.__esModule=!0,n.exports.default=n.exports})(X_)),X_.exports}var Y_,a2;function bL(){if(a2)return Y_;a2=1,Y_=e;var n=Object.prototype.toString;function e(i){if(!i)return!1;var s=n.call(i);return s==="[object Function]"||typeof i=="function"&&s!=="[object RegExp]"||typeof window<"u"&&(i===window.setTimeout||i===window.alert||i===window.confirm||i===window.prompt)}return Y_}var Q_,o2;function yL(){if(o2)return Q_;o2=1;function n(o,l){var c=typeof Symbol<"u"&&o[Symbol.iterator]||o["@@iterator"];if(c)return(c=c.call(o)).next.bind(c);if(Array.isArray(o)||(c=e(o))||l){c&&(o=c);var d=0;return function(){return d>=o.length?{done:!0}:{done:!1,value:o[d++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function e(o,l){if(o){if(typeof o=="string")return i(o,l);var c=Object.prototype.toString.call(o).slice(8,-1);if(c==="Object"&&o.constructor&&(c=o.constructor.name),c==="Map"||c==="Set")return Array.from(o);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return i(o,l)}}function i(o,l){(l==null||l>o.length)&&(l=o.length);for(var c=0,d=new Array(l);c<l;c++)d[c]=o[c];return d}var s=(function(){function o(){this.typeToInterceptorsMap_=new Map,this.enabled_=!1}var l=o.prototype;return l.getIsEnabled=function(){return this.enabled_},l.enable=function(){this.enabled_=!0},l.disable=function(){this.enabled_=!1},l.reset=function(){this.typeToInterceptorsMap_=new Map,this.enabled_=!1},l.addInterceptor=function(d,m){this.typeToInterceptorsMap_.has(d)||this.typeToInterceptorsMap_.set(d,new Set);var p=this.typeToInterceptorsMap_.get(d);return p.has(m)?!1:(p.add(m),!0)},l.removeInterceptor=function(d,m){var p=this.typeToInterceptorsMap_.get(d);return p&&p.has(m)?(p.delete(m),!0):!1},l.clearInterceptorsByType=function(d){var m=this.typeToInterceptorsMap_.get(d);return m?(this.typeToInterceptorsMap_.delete(d),this.typeToInterceptorsMap_.set(d,new Set),!0):!1},l.clear=function(){return this.typeToInterceptorsMap_.size?(this.typeToInterceptorsMap_=new Map,!0):!1},l.getForType=function(d){return this.typeToInterceptorsMap_.get(d)||new Set},l.execute=function(d,m){for(var p=this.getForType(d),v=n(p),E;!(E=v()).done;){var C=E.value;try{m=C(m)}catch{}}return m},o})();return Q_=s,Q_}var Z_,l2;function vL(){if(l2)return Z_;l2=1;var n=(function(){function i(){this.maxAttempts_=1,this.delayFactor_=.1,this.fuzzFactor_=.1,this.initialDelay_=1e3,this.enabled_=!1}var s=i.prototype;return s.getIsEnabled=function(){return this.enabled_},s.enable=function(){this.enabled_=!0},s.disable=function(){this.enabled_=!1},s.reset=function(){this.maxAttempts_=1,this.delayFactor_=.1,this.fuzzFactor_=.1,this.initialDelay_=1e3,this.enabled_=!1},s.getMaxAttempts=function(){return this.maxAttempts_},s.setMaxAttempts=function(l){this.maxAttempts_=l},s.getDelayFactor=function(){return this.delayFactor_},s.setDelayFactor=function(l){this.delayFactor_=l},s.getFuzzFactor=function(){return this.fuzzFactor_},s.setFuzzFactor=function(l){this.fuzzFactor_=l},s.getInitialDelay=function(){return this.initialDelay_},s.setInitialDelay=function(l){this.initialDelay_=l},s.createRetry=function(l){var c=l===void 0?{}:l,d=c.maxAttempts,m=c.delayFactor,p=c.fuzzFactor,v=c.initialDelay;return new e({maxAttempts:d||this.maxAttempts_,delayFactor:m||this.delayFactor_,fuzzFactor:p||this.fuzzFactor_,initialDelay:v||this.initialDelay_})},i})(),e=(function(){function i(o){this.maxAttempts_=o.maxAttempts,this.delayFactor_=o.delayFactor,this.fuzzFactor_=o.fuzzFactor,this.currentDelay_=o.initialDelay,this.currentAttempt_=1}var s=i.prototype;return s.moveToNextAttempt=function(){this.currentAttempt_++;var l=this.currentDelay_*this.delayFactor_;this.currentDelay_=this.currentDelay_+l},s.shouldRetry=function(){return this.currentAttempt_<this.maxAttempts_},s.getCurrentDelay=function(){return this.currentDelay_},s.getCurrentMinPossibleDelay=function(){return(1-this.fuzzFactor_)*this.currentDelay_},s.getCurrentMaxPossibleDelay=function(){return(1+this.fuzzFactor_)*this.currentDelay_},s.getCurrentFuzzedDelay=function(){var l=this.getCurrentMinPossibleDelay(),c=this.getCurrentMaxPossibleDelay();return l+Math.random()*(c-l)},i})();return Z_=n,Z_}var W_,u2;function _L(){if(u2)return W_;u2=1;var n=p0(),e=function(o,l){return l===void 0&&(l=!1),function(c,d,m){if(c){o(c);return}if(d.statusCode>=400&&d.statusCode<=599){var p=m;if(l)if(n.TextDecoder){var v=i(d.headers&&d.headers["content-type"]);try{p=new TextDecoder(v).decode(m)}catch{}}else p=String.fromCharCode.apply(null,new Uint8Array(m));o({cause:p});return}o(null,m)}};function i(s){return s===void 0&&(s=""),s.toLowerCase().split(";").reduce(function(o,l){var c=l.split("="),d=c[0],m=c[1];return d.trim()==="charset"?m.trim():o},"utf-8")}return W_=e,W_}var c2;function xL(){if(c2)return gb.exports;c2=1;var n=p0(),e=gL(),i=bL(),s=yL(),o=vL();p.httpHandler=_L(),p.requestInterceptorsStorage=new s,p.responseInterceptorsStorage=new s,p.retryManager=new o;/**
 * @license
 * slighly modified parse-headers 2.0.2 <https://github.com/kesla/parse-headers/>
 * Copyright (c) 2014 David Bjrklund
 * Available under the MIT license
 * <https://github.com/kesla/parse-headers/blob/master/LICENCE>
 */var l=function(P){var A={};return P&&P.trim().split(`
`).forEach(function(U){var M=U.indexOf(":"),B=U.slice(0,M).trim().toLowerCase(),L=U.slice(M+1).trim();typeof A[B]>"u"?A[B]=L:Array.isArray(A[B])?A[B].push(L):A[B]=[A[B],L]}),A};gb.exports=p,gb.exports.default=p,p.XMLHttpRequest=n.XMLHttpRequest||C,p.XDomainRequest="withCredentials"in new p.XMLHttpRequest?p.XMLHttpRequest:n.XDomainRequest,c(["get","put","post","patch","head","delete"],function(D){p[D==="delete"?"del":D]=function(P,A,U){return A=m(P,A,U),A.method=D.toUpperCase(),v(A)}});function c(D,P){for(var A=0;A<D.length;A++)P(D[A])}function d(D){for(var P in D)if(D.hasOwnProperty(P))return!1;return!0}function m(D,P,A){var U=D;return i(P)?(A=P,typeof D=="string"&&(U={uri:D})):U=e({},P,{uri:D}),U.callback=A,U}function p(D,P,A){return P=m(D,P,A),v(P)}function v(D){if(typeof D.callback>"u")throw new Error("callback argument missing");if(D.requestType&&p.requestInterceptorsStorage.getIsEnabled()){var P={uri:D.uri||D.url,headers:D.headers||{},body:D.body,metadata:D.metadata||{},retry:D.retry,timeout:D.timeout},A=p.requestInterceptorsStorage.execute(D.requestType,P);D.uri=A.uri,D.headers=A.headers,D.body=A.body,D.metadata=A.metadata,D.retry=A.retry,D.timeout=A.timeout}var U=!1,M=function(Te,De,ke){U||(U=!0,D.callback(Te,De,ke))};function B(){se.readyState===4&&!p.responseInterceptorsStorage.getIsEnabled()&&setTimeout(Q,0)}function L(){var ve=void 0;if(se.response?ve=se.response:ve=se.responseText||E(se),fe)try{ve=JSON.parse(ve)}catch{}return ve}function H(ve){if(clearTimeout(Re),clearTimeout(D.retryTimeout),ve instanceof Error||(ve=new Error(""+(ve||"Unknown XMLHttpRequest Error"))),ve.statusCode=0,!te&&p.retryManager.getIsEnabled()&&D.retry&&D.retry.shouldRetry()){D.retryTimeout=setTimeout(function(){D.retry.moveToNextAttempt(),D.xhr=se,v(D)},D.retry.getCurrentFuzzedDelay());return}if(D.requestType&&p.responseInterceptorsStorage.getIsEnabled()){var Te={headers:be.headers||{},body:be.body,responseUrl:se.responseURL,responseType:se.responseType},De=p.responseInterceptorsStorage.execute(D.requestType,Te);be.body=De.body,be.headers=De.headers}return M(ve,be)}function Q(){if(!te){var ve;clearTimeout(Re),clearTimeout(D.retryTimeout),D.useXDR&&se.status===void 0?ve=200:ve=se.status===1223?204:se.status;var Te=be,De=null;if(ve!==0?(Te={body:L(),statusCode:ve,method:j,headers:{},url:I,rawRequest:se},se.getAllResponseHeaders&&(Te.headers=l(se.getAllResponseHeaders()))):De=new Error("Internal XMLHttpRequest Error"),D.requestType&&p.responseInterceptorsStorage.getIsEnabled()){var ke={headers:Te.headers||{},body:Te.body,responseUrl:se.responseURL,responseType:se.responseType},le=p.responseInterceptorsStorage.execute(D.requestType,ke);Te.body=le.body,Te.headers=le.headers}return M(De,Te,Te.body)}}var se=D.xhr||null;se||(D.cors||D.useXDR?se=new p.XDomainRequest:se=new p.XMLHttpRequest);var q,te,I=se.url=D.uri||D.url,j=se.method=D.method||"GET",ge=D.body||D.data,de=se.headers=D.headers||{},ie=!!D.sync,fe=!1,Re,be={body:void 0,headers:{},statusCode:0,method:j,url:I,rawRequest:se};if("json"in D&&D.json!==!1&&(fe=!0,de.accept||de.Accept||(de.Accept="application/json"),j!=="GET"&&j!=="HEAD"&&(de["content-type"]||de["Content-Type"]||(de["Content-Type"]="application/json"),ge=JSON.stringify(D.json===!0?ge:D.json))),se.onreadystatechange=B,se.onload=Q,se.onerror=H,se.onprogress=function(){},se.onabort=function(){te=!0,clearTimeout(D.retryTimeout)},se.ontimeout=H,se.open(j,I,!ie,D.username,D.password),ie||(se.withCredentials=!!D.withCredentials),!ie&&D.timeout>0&&(Re=setTimeout(function(){if(!te){te=!0,se.abort("timeout");var ve=new Error("XMLHttpRequest timeout");ve.code="ETIMEDOUT",H(ve)}},D.timeout)),se.setRequestHeader)for(q in de)de.hasOwnProperty(q)&&se.setRequestHeader(q,de[q]);else if(D.headers&&!d(D.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in D&&(se.responseType=D.responseType),"beforeSend"in D&&typeof D.beforeSend=="function"&&D.beforeSend(se),se.send(ge||null),se}function E(D){try{if(D.responseType==="document")return D.responseXML;var P=D.responseXML&&D.responseXML.documentElement.nodeName==="parsererror";if(D.responseType===""&&!P)return D.responseXML}catch{}return null}function C(){}return gb.exports}var TL=xL();const Dw=Kh(TL);var K_={exports:{}},J_,d2;function SL(){if(d2)return J_;d2=1;var n=Cw(),e=Object.create||(function(){function I(){}return function(j){if(arguments.length!==1)throw new Error("Object.create shim only accepts one parameter.");return I.prototype=j,new I}})();function i(I,j){this.name="ParsingError",this.code=I.code,this.message=j||I.message}i.prototype=e(Error.prototype),i.prototype.constructor=i,i.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}};function s(I){function j(de,ie,fe,Re){return(de|0)*3600+(ie|0)*60+(fe|0)+(Re|0)/1e3}var ge=I.match(/^(\d+):(\d{1,2})(:\d{1,2})?\.(\d{3})/);return ge?ge[3]?j(ge[1],ge[2],ge[3].replace(":",""),ge[4]):ge[1]>59?j(ge[1],ge[2],0,ge[4]):j(0,ge[1],ge[2],ge[4]):null}function o(){this.values=e(null)}o.prototype={set:function(I,j){!this.get(I)&&j!==""&&(this.values[I]=j)},get:function(I,j,ge){return ge?this.has(I)?this.values[I]:j[ge]:this.has(I)?this.values[I]:j},has:function(I){return I in this.values},alt:function(I,j,ge){for(var de=0;de<ge.length;++de)if(j===ge[de]){this.set(I,j);break}},integer:function(I,j){/^-?\d+$/.test(j)&&this.set(I,parseInt(j,10))},percent:function(I,j){return j.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(j=parseFloat(j),j>=0&&j<=100)?(this.set(I,j),!0):!1}};function l(I,j,ge,de){var ie=de?I.split(de):[I];for(var fe in ie)if(typeof ie[fe]=="string"){var Re=ie[fe].split(ge);if(Re.length===2){var be=Re[0].trim(),ve=Re[1].trim();j(be,ve)}}}function c(I,j,ge){var de=I;function ie(){var be=s(I);if(be===null)throw new i(i.Errors.BadTimeStamp,"Malformed timestamp: "+de);return I=I.replace(/^[^\sa-zA-Z-]+/,""),be}function fe(be,ve){var Te=new o;l(be,function(De,ke){switch(De){case"region":for(var le=ge.length-1;le>=0;le--)if(ge[le].id===ke){Te.set(De,ge[le].region);break}break;case"vertical":Te.alt(De,ke,["rl","lr"]);break;case"line":var Be=ke.split(","),Ge=Be[0];Te.integer(De,Ge),Te.percent(De,Ge)&&Te.set("snapToLines",!1),Te.alt(De,Ge,["auto"]),Be.length===2&&Te.alt("lineAlign",Be[1],["start","center","end"]);break;case"position":Be=ke.split(","),Te.percent(De,Be[0]),Be.length===2&&Te.alt("positionAlign",Be[1],["start","center","end"]);break;case"size":Te.percent(De,ke);break;case"align":Te.alt(De,ke,["start","center","end","left","right"]);break}},/:/,/\s/),ve.region=Te.get("region",null),ve.vertical=Te.get("vertical","");try{ve.line=Te.get("line","auto")}catch{}ve.lineAlign=Te.get("lineAlign","start"),ve.snapToLines=Te.get("snapToLines",!0),ve.size=Te.get("size",100);try{ve.align=Te.get("align","center")}catch{ve.align=Te.get("align","middle")}try{ve.position=Te.get("position","auto")}catch{ve.position=Te.get("position",{start:0,left:0,center:50,middle:50,end:100,right:100},ve.align)}ve.positionAlign=Te.get("positionAlign",{start:"start",left:"start",center:"center",middle:"center",end:"end",right:"end"},ve.align)}function Re(){I=I.replace(/^\s+/,"")}if(Re(),j.startTime=ie(),Re(),I.substr(0,3)!=="-->")throw new i(i.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '-->'): "+de);I=I.substr(3),Re(),j.endTime=ie(),Re(),fe(I,j)}var d=n.createElement&&n.createElement("textarea"),m={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},p={white:"rgba(255,255,255,1)",lime:"rgba(0,255,0,1)",cyan:"rgba(0,255,255,1)",red:"rgba(255,0,0,1)",yellow:"rgba(255,255,0,1)",magenta:"rgba(255,0,255,1)",blue:"rgba(0,0,255,1)",black:"rgba(0,0,0,1)"},v={v:"title",lang:"lang"},E={rt:"ruby"};function C(I,j){function ge(){if(!j)return null;function Ge(Qe){return j=j.substr(Qe.length),Qe}var Pe=j.match(/^([^<]*)(<[^>]*>?)?/);return Ge(Pe[1]?Pe[1]:Pe[2])}function de(Ge){return d.innerHTML=Ge,Ge=d.textContent,d.textContent="",Ge}function ie(Ge,Pe){return!E[Pe.localName]||E[Pe.localName]===Ge.localName}function fe(Ge,Pe){var Qe=m[Ge];if(!Qe)return null;var Zt=I.document.createElement(Qe),gt=v[Ge];return gt&&Pe&&(Zt[gt]=Pe.trim()),Zt}for(var Re=I.document.createElement("div"),be=Re,ve,Te=[];(ve=ge())!==null;){if(ve[0]==="<"){if(ve[1]==="/"){Te.length&&Te[Te.length-1]===ve.substr(2).replace(">","")&&(Te.pop(),be=be.parentNode);continue}var De=s(ve.substr(1,ve.length-2)),ke;if(De){ke=I.document.createProcessingInstruction("timestamp",De),be.appendChild(ke);continue}var le=ve.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!le||(ke=fe(le[1],le[3]),!ke)||!ie(be,ke))continue;if(le[2]){var Be=le[2].split(".");Be.forEach(function(Ge){var Pe=/^bg_/.test(Ge),Qe=Pe?Ge.slice(3):Ge;if(p.hasOwnProperty(Qe)){var Zt=Pe?"background-color":"color",gt=p[Qe];ke.style[Zt]=gt}}),ke.className=Be.join(" ")}Te.push(le[1]),be.appendChild(ke),be=ke;continue}be.appendChild(I.document.createTextNode(de(ve)))}return Re}var D=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];function P(I){for(var j=0;j<D.length;j++){var ge=D[j];if(I>=ge[0]&&I<=ge[1])return!0}return!1}function A(I){var j=[],ge="",de;if(!I||!I.childNodes)return"ltr";function ie(be,ve){for(var Te=ve.childNodes.length-1;Te>=0;Te--)be.push(ve.childNodes[Te])}function fe(be){if(!be||!be.length)return null;var ve=be.pop(),Te=ve.textContent||ve.innerText;if(Te){var De=Te.match(/^.*(\n|\r)/);return De?(be.length=0,De[0]):Te}if(ve.tagName==="ruby")return fe(be);if(ve.childNodes)return ie(be,ve),fe(be)}for(ie(j,I);ge=fe(j);)for(var Re=0;Re<ge.length;Re++)if(de=ge.charCodeAt(Re),P(de))return"rtl";return"ltr"}function U(I){if(typeof I.line=="number"&&(I.snapToLines||I.line>=0&&I.line<=100))return I.line;if(!I.track||!I.track.textTrackList||!I.track.textTrackList.mediaElement)return-1;for(var j=I.track,ge=j.textTrackList,de=0,ie=0;ie<ge.length&&ge[ie]!==j;ie++)ge[ie].mode==="showing"&&de++;return++de*-1}function M(){}M.prototype.applyStyles=function(I,j){j=j||this.div;for(var ge in I)I.hasOwnProperty(ge)&&(j.style[ge]=I[ge])},M.prototype.formatStyle=function(I,j){return I===0?0:I+j};function B(I,j,ge){M.call(this),this.cue=j,this.cueDiv=C(I,j.text);var de={color:"rgba(255, 255, 255, 1)",backgroundColor:"rgba(0, 0, 0, 0.8)",position:"relative",left:0,right:0,top:0,bottom:0,display:"inline",writingMode:j.vertical===""?"horizontal-tb":j.vertical==="lr"?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext"};this.applyStyles(de,this.cueDiv),this.div=I.document.createElement("div"),de={direction:A(this.cueDiv),writingMode:j.vertical===""?"horizontal-tb":j.vertical==="lr"?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext",textAlign:j.align==="middle"?"center":j.align,font:ge.font,whiteSpace:"pre-line",position:"absolute"},this.applyStyles(de),this.div.appendChild(this.cueDiv);var ie=0;switch(j.positionAlign){case"start":case"line-left":ie=j.position;break;case"center":ie=j.position-j.size/2;break;case"end":case"line-right":ie=j.position-j.size;break}j.vertical===""?this.applyStyles({left:this.formatStyle(ie,"%"),width:this.formatStyle(j.size,"%")}):this.applyStyles({top:this.formatStyle(ie,"%"),height:this.formatStyle(j.size,"%")}),this.move=function(fe){this.applyStyles({top:this.formatStyle(fe.top,"px"),bottom:this.formatStyle(fe.bottom,"px"),left:this.formatStyle(fe.left,"px"),right:this.formatStyle(fe.right,"px"),height:this.formatStyle(fe.height,"px"),width:this.formatStyle(fe.width,"px")})}}B.prototype=e(M.prototype),B.prototype.constructor=B;function L(I){var j,ge,de,ie;if(I.div){ge=I.div.offsetHeight,de=I.div.offsetWidth,ie=I.div.offsetTop;var fe=(fe=I.div.childNodes)&&(fe=fe[0])&&fe.getClientRects&&fe.getClientRects();I=I.div.getBoundingClientRect(),j=fe?Math.max(fe[0]&&fe[0].height||0,I.height/fe.length):0}this.left=I.left,this.right=I.right,this.top=I.top||ie,this.height=I.height||ge,this.bottom=I.bottom||ie+(I.height||ge),this.width=I.width||de,this.lineHeight=j!==void 0?j:I.lineHeight}L.prototype.move=function(I,j){switch(j=j!==void 0?j:this.lineHeight,I){case"+x":this.left+=j,this.right+=j;break;case"-x":this.left-=j,this.right-=j;break;case"+y":this.top+=j,this.bottom+=j;break;case"-y":this.top-=j,this.bottom-=j;break}},L.prototype.overlaps=function(I){return this.left<I.right&&this.right>I.left&&this.top<I.bottom&&this.bottom>I.top},L.prototype.overlapsAny=function(I){for(var j=0;j<I.length;j++)if(this.overlaps(I[j]))return!0;return!1},L.prototype.within=function(I){return this.top>=I.top&&this.bottom<=I.bottom&&this.left>=I.left&&this.right<=I.right},L.prototype.overlapsOppositeAxis=function(I,j){switch(j){case"+x":return this.left<I.left;case"-x":return this.right>I.right;case"+y":return this.top<I.top;case"-y":return this.bottom>I.bottom}},L.prototype.intersectPercentage=function(I){var j=Math.max(0,Math.min(this.right,I.right)-Math.max(this.left,I.left)),ge=Math.max(0,Math.min(this.bottom,I.bottom)-Math.max(this.top,I.top)),de=j*ge;return de/(this.height*this.width)},L.prototype.toCSSCompatValues=function(I){return{top:this.top-I.top,bottom:I.bottom-this.bottom,left:this.left-I.left,right:I.right-this.right,height:this.height,width:this.width}},L.getSimpleBoxPosition=function(I){var j=I.div?I.div.offsetHeight:I.tagName?I.offsetHeight:0,ge=I.div?I.div.offsetWidth:I.tagName?I.offsetWidth:0,de=I.div?I.div.offsetTop:I.tagName?I.offsetTop:0;I=I.div?I.div.getBoundingClientRect():I.tagName?I.getBoundingClientRect():I;var ie={left:I.left,right:I.right,top:I.top||de,height:I.height||j,bottom:I.bottom||de+(I.height||j),width:I.width||ge};return ie};function H(I,j,ge,de){function ie(Qe,Zt){for(var gt,It=new L(Qe),Gt=1,an=0;an<Zt.length;an++){for(;Qe.overlapsOppositeAxis(ge,Zt[an])||Qe.within(ge)&&Qe.overlapsAny(de);)Qe.move(Zt[an]);if(Qe.within(ge))return Qe;var je=Qe.intersectPercentage(ge);Gt>je&&(gt=new L(Qe),Gt=je),Qe=new L(It)}return gt||It}var fe=new L(j),Re=j.cue,be=U(Re),ve=[];if(Re.snapToLines){var Te;switch(Re.vertical){case"":ve=["+y","-y"],Te="height";break;case"rl":ve=["+x","-x"],Te="width";break;case"lr":ve=["-x","+x"],Te="width";break}var De=fe.lineHeight,ke=De*Math.round(be),le=ge[Te]+De,Be=ve[0];Math.abs(ke)>le&&(ke=ke<0?-1:1,ke*=Math.ceil(le/De)*De),be<0&&(ke+=Re.vertical===""?ge.height:ge.width,ve=ve.reverse()),fe.move(Be,ke)}else{var Ge=fe.lineHeight/ge.height*100;switch(Re.lineAlign){case"center":be-=Ge/2;break;case"end":be-=Ge;break}switch(Re.vertical){case"":j.applyStyles({top:j.formatStyle(be,"%")});break;case"rl":j.applyStyles({left:j.formatStyle(be,"%")});break;case"lr":j.applyStyles({right:j.formatStyle(be,"%")});break}ve=["+y","-x","+x","-y"],fe=new L(j)}var Pe=ie(fe,ve);j.move(Pe.toCSSCompatValues(ge))}function Q(){}Q.StringDecoder=function(){return{decode:function(I){if(!I)return"";if(typeof I!="string")throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(I))}}},Q.convertCueToDOMTree=function(I,j){return!I||!j?null:C(I,j)};var se=.05,q="sans-serif",te="1.5%";return Q.processCues=function(I,j,ge){if(!I||!j||!ge)return null;for(;ge.firstChild;)ge.removeChild(ge.firstChild);var de=I.document.createElement("div");de.style.position="absolute",de.style.left="0",de.style.right="0",de.style.top="0",de.style.bottom="0",de.style.margin=te,ge.appendChild(de);function ie(De){for(var ke=0;ke<De.length;ke++)if(De[ke].hasBeenReset||!De[ke].displayState)return!0;return!1}if(!ie(j)){for(var fe=0;fe<j.length;fe++)de.appendChild(j[fe].displayState);return}var Re=[],be=L.getSimpleBoxPosition(de),ve=Math.round(be.height*se*100)/100,Te={font:ve+"px "+q};(function(){for(var De,ke,le=0;le<j.length;le++)ke=j[le],De=new B(I,ke,Te),de.appendChild(De.div),H(I,De,be,Re),ke.displayState=De.div,Re.push(L.getSimpleBoxPosition(De))})()},Q.Parser=function(I,j,ge){ge||(ge=j,j={}),j||(j={}),this.window=I,this.vttjs=j,this.state="INITIAL",this.buffer="",this.decoder=ge||new TextDecoder("utf8"),this.regionList=[]},Q.Parser.prototype={reportOrThrowError:function(I){if(I instanceof i)this.onparsingerror&&this.onparsingerror(I);else throw I},parse:function(I){var j=this;I&&(j.buffer+=j.decoder.decode(I,{stream:!0}));function ge(){for(var De=j.buffer,ke=0;ke<De.length&&De[ke]!=="\r"&&De[ke]!==`
`;)++ke;var le=De.substr(0,ke);return De[ke]==="\r"&&++ke,De[ke]===`
`&&++ke,j.buffer=De.substr(ke),le}function de(De){var ke=new o;if(l(De,function(Be,Ge){switch(Be){case"id":ke.set(Be,Ge);break;case"width":ke.percent(Be,Ge);break;case"lines":ke.integer(Be,Ge);break;case"regionanchor":case"viewportanchor":var Pe=Ge.split(",");if(Pe.length!==2)break;var Qe=new o;if(Qe.percent("x",Pe[0]),Qe.percent("y",Pe[1]),!Qe.has("x")||!Qe.has("y"))break;ke.set(Be+"X",Qe.get("x")),ke.set(Be+"Y",Qe.get("y"));break;case"scroll":ke.alt(Be,Ge,["up"]);break}},/=/,/\s/),ke.has("id")){var le=new(j.vttjs.VTTRegion||j.window.VTTRegion);le.width=ke.get("width",100),le.lines=ke.get("lines",3),le.regionAnchorX=ke.get("regionanchorX",0),le.regionAnchorY=ke.get("regionanchorY",100),le.viewportAnchorX=ke.get("viewportanchorX",0),le.viewportAnchorY=ke.get("viewportanchorY",100),le.scroll=ke.get("scroll",""),j.onregion&&j.onregion(le),j.regionList.push({id:ke.get("id"),region:le})}}function ie(De){var ke=new o;l(De,function(le,Be){switch(le){case"MPEGT":ke.integer(le+"S",Be);break;case"LOCA":ke.set(le+"L",s(Be));break}},/[^\d]:/,/,/),j.ontimestampmap&&j.ontimestampmap({MPEGTS:ke.get("MPEGTS"),LOCAL:ke.get("LOCAL")})}function fe(De){De.match(/X-TIMESTAMP-MAP/)?l(De,function(ke,le){switch(ke){case"X-TIMESTAMP-MAP":ie(le);break}},/=/):l(De,function(ke,le){switch(ke){case"Region":de(le);break}},/:/)}try{var Re;if(j.state==="INITIAL"){if(!/\r\n|\n/.test(j.buffer))return this;Re=ge();var be=Re.match(/^WEBVTT([ \t].*)?$/);if(!be||!be[0])throw new i(i.Errors.BadSignature);j.state="HEADER"}for(var ve=!1;j.buffer;){if(!/\r\n|\n/.test(j.buffer))return this;switch(ve?ve=!1:Re=ge(),j.state){case"HEADER":/:/.test(Re)?fe(Re):Re||(j.state="ID");continue;case"NOTE":Re||(j.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(Re)){j.state="NOTE";break}if(!Re)continue;j.cue=new(j.vttjs.VTTCue||j.window.VTTCue)(0,0,"");try{j.cue.align="center"}catch{j.cue.align="middle"}if(j.state="CUE",Re.indexOf("-->")===-1){j.cue.id=Re;continue}case"CUE":try{c(Re,j.cue,j.regionList)}catch(De){j.reportOrThrowError(De),j.cue=null,j.state="BADCUE";continue}j.state="CUETEXT";continue;case"CUETEXT":var Te=Re.indexOf("-->")!==-1;if(!Re||Te&&(ve=!0)){j.oncue&&j.oncue(j.cue),j.cue=null,j.state="ID";continue}j.cue.text&&(j.cue.text+=`
`),j.cue.text+=Re.replace(/\u2028/g,`
`).replace(/u2029/g,`
`);continue;case"BADCUE":Re||(j.state="ID");continue}}}catch(De){j.reportOrThrowError(De),j.state==="CUETEXT"&&j.cue&&j.oncue&&j.oncue(j.cue),j.cue=null,j.state=j.state==="INITIAL"?"BADWEBVTT":"BADCUE"}return this},flush:function(){var I=this;try{if(I.buffer+=I.decoder.decode(),(I.cue||I.state==="HEADER")&&(I.buffer+=`

`,I.parse()),I.state==="INITIAL")throw new i(i.Errors.BadSignature)}catch(j){I.reportOrThrowError(j)}return I.onflush&&I.onflush(),this}},J_=Q,J_}var ex,h2;function EL(){if(h2)return ex;h2=1;var n="auto",e={"":1,lr:1,rl:1},i={start:1,center:1,end:1,left:1,right:1,auto:1,"line-left":1,"line-right":1};function s(c){if(typeof c!="string")return!1;var d=e[c.toLowerCase()];return d?c.toLowerCase():!1}function o(c){if(typeof c!="string")return!1;var d=i[c.toLowerCase()];return d?c.toLowerCase():!1}function l(c,d,m){this.hasBeenReset=!1;var p="",v=!1,E=c,C=d,D=m,P=null,A="",U=!0,M="auto",B="start",L="auto",H="auto",Q=100,se="center";Object.defineProperties(this,{id:{enumerable:!0,get:function(){return p},set:function(q){p=""+q}},pauseOnExit:{enumerable:!0,get:function(){return v},set:function(q){v=!!q}},startTime:{enumerable:!0,get:function(){return E},set:function(q){if(typeof q!="number")throw new TypeError("Start time must be set to a number.");E=q,this.hasBeenReset=!0}},endTime:{enumerable:!0,get:function(){return C},set:function(q){if(typeof q!="number")throw new TypeError("End time must be set to a number.");C=q,this.hasBeenReset=!0}},text:{enumerable:!0,get:function(){return D},set:function(q){D=""+q,this.hasBeenReset=!0}},region:{enumerable:!0,get:function(){return P},set:function(q){P=q,this.hasBeenReset=!0}},vertical:{enumerable:!0,get:function(){return A},set:function(q){var te=s(q);if(te===!1)throw new SyntaxError("Vertical: an invalid or illegal direction string was specified.");A=te,this.hasBeenReset=!0}},snapToLines:{enumerable:!0,get:function(){return U},set:function(q){U=!!q,this.hasBeenReset=!0}},line:{enumerable:!0,get:function(){return M},set:function(q){if(typeof q!="number"&&q!==n)throw new SyntaxError("Line: an invalid number or illegal string was specified.");M=q,this.hasBeenReset=!0}},lineAlign:{enumerable:!0,get:function(){return B},set:function(q){var te=o(q);te?(B=te,this.hasBeenReset=!0):console.warn("lineAlign: an invalid or illegal string was specified.")}},position:{enumerable:!0,get:function(){return L},set:function(q){if(q<0||q>100)throw new Error("Position must be between 0 and 100.");L=q,this.hasBeenReset=!0}},positionAlign:{enumerable:!0,get:function(){return H},set:function(q){var te=o(q);te?(H=te,this.hasBeenReset=!0):console.warn("positionAlign: an invalid or illegal string was specified.")}},size:{enumerable:!0,get:function(){return Q},set:function(q){if(q<0||q>100)throw new Error("Size must be between 0 and 100.");Q=q,this.hasBeenReset=!0}},align:{enumerable:!0,get:function(){return se},set:function(q){var te=o(q);if(!te)throw new SyntaxError("align: an invalid or illegal alignment string was specified.");se=te,this.hasBeenReset=!0}}}),this.displayState=void 0}return l.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)},ex=l,ex}var tx,f2;function NL(){if(f2)return tx;f2=1;var n={"":!0,up:!0};function e(o){if(typeof o!="string")return!1;var l=n[o.toLowerCase()];return l?o.toLowerCase():!1}function i(o){return typeof o=="number"&&o>=0&&o<=100}function s(){var o=100,l=3,c=0,d=100,m=0,p=100,v="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return o},set:function(E){if(!i(E))throw new Error("Width must be between 0 and 100.");o=E}},lines:{enumerable:!0,get:function(){return l},set:function(E){if(typeof E!="number")throw new TypeError("Lines must be set to a number.");l=E}},regionAnchorY:{enumerable:!0,get:function(){return d},set:function(E){if(!i(E))throw new Error("RegionAnchorX must be between 0 and 100.");d=E}},regionAnchorX:{enumerable:!0,get:function(){return c},set:function(E){if(!i(E))throw new Error("RegionAnchorY must be between 0 and 100.");c=E}},viewportAnchorY:{enumerable:!0,get:function(){return p},set:function(E){if(!i(E))throw new Error("ViewportAnchorY must be between 0 and 100.");p=E}},viewportAnchorX:{enumerable:!0,get:function(){return m},set:function(E){if(!i(E))throw new Error("ViewportAnchorX must be between 0 and 100.");m=E}},scroll:{enumerable:!0,get:function(){return v},set:function(E){var C=e(E);C===!1?console.warn("Scroll: an invalid or illegal string was specified."):v=C}}})}return tx=s,tx}var m2;function CL(){if(m2)return K_.exports;m2=1;var n=p0(),e=K_.exports={WebVTT:SL(),VTTCue:EL(),VTTRegion:NL()};n.vttjs=e,n.WebVTT=e.WebVTT;var i=e.VTTCue,s=e.VTTRegion,o=n.VTTCue,l=n.VTTRegion;return e.shim=function(){n.VTTCue=i,n.VTTRegion=s},e.restore=function(){n.VTTCue=o,n.VTTRegion=l},n.VTTCue||e.shim(),K_.exports}var DL=CL();const p2=Kh(DL);function ai(){return ai=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)({}).hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},ai.apply(null,arguments)}var g2="https://example.com",g0=function(e,i){if(/^[a-z]+:/i.test(i))return i;/^data:/.test(e)&&(e=W.location&&W.location.href||"");var s=/^\/\//.test(e),o=!W.location&&!/\/\//i.test(e);e=new W.URL(e,W.location||g2);var l=new URL(i,e);return o?l.href.slice(g2.length):s?l.href.slice(l.protocol.length):l.href},E1=(function(){function n(){this.listeners={}}var e=n.prototype;return e.on=function(s,o){this.listeners[s]||(this.listeners[s]=[]),this.listeners[s].push(o)},e.off=function(s,o){if(!this.listeners[s])return!1;var l=this.listeners[s].indexOf(o);return this.listeners[s]=this.listeners[s].slice(0),this.listeners[s].splice(l,1),l>-1},e.trigger=function(s){var o=this.listeners[s];if(o)if(arguments.length===2)for(var l=o.length,c=0;c<l;++c)o[c].call(this,arguments[1]);else for(var d=Array.prototype.slice.call(arguments,1),m=o.length,p=0;p<m;++p)o[p].apply(this,d)},e.dispose=function(){this.listeners={}},e.pipe=function(s){this.on("data",function(o){s.push(o)})},n})(),AL=function(e){return W.atob?W.atob(e):Buffer.from(e,"base64").toString("binary")};function Aw(n){for(var e=AL(n),i=new Uint8Array(e.length),s=0;s<e.length;s++)i[s]=e.charCodeAt(s);return i}/*! @name m3u8-parser @version 7.2.0 @license Apache-2.0 */class wL extends E1{constructor(){super(),this.buffer=""}push(e){let i;for(this.buffer+=e,i=this.buffer.indexOf(`
`);i>-1;i=this.buffer.indexOf(`
`))this.trigger("data",this.buffer.substring(0,i)),this.buffer=this.buffer.substring(i+1)}}const RL="	",nx=function(n){const e=/([0-9.]*)?@?([0-9.]*)?/.exec(n||""),i={};return e[1]&&(i.length=parseInt(e[1],10)),e[2]&&(i.offset=parseInt(e[2],10)),i},kL=function(){const i="(?:"+"[^=]*"+")=(?:"+'"[^"]*"|[^,]*'+")";return new RegExp("(?:^|,)("+i+")")},_r=function(n){const e={};if(!n)return e;const i=n.split(kL());let s=i.length,o;for(;s--;)i[s]!==""&&(o=/([^=]*)=(.*)/.exec(i[s]).slice(1),o[0]=o[0].replace(/^\s+|\s+$/g,""),o[1]=o[1].replace(/^\s+|\s+$/g,""),o[1]=o[1].replace(/^['"](.*)['"]$/g,"$1"),e[o[0]]=o[1]);return e},b2=n=>{const e=n.split("x"),i={};return e[0]&&(i.width=parseInt(e[0],10)),e[1]&&(i.height=parseInt(e[1],10)),i};class OL extends E1{constructor(){super(),this.customParsers=[],this.tagMappers=[]}push(e){let i,s;if(e=e.trim(),e.length===0)return;if(e[0]!=="#"){this.trigger("data",{type:"uri",uri:e});return}this.tagMappers.reduce((l,c)=>{const d=c(e);return d===e?l:l.concat([d])},[e]).forEach(l=>{for(let c=0;c<this.customParsers.length;c++)if(this.customParsers[c].call(this,l))return;if(l.indexOf("#EXT")!==0){this.trigger("data",{type:"comment",text:l.slice(1)});return}if(l=l.replace("\r",""),i=/^#EXTM3U/.exec(l),i){this.trigger("data",{type:"tag",tagType:"m3u"});return}if(i=/^#EXTINF:([0-9\.]*)?,?(.*)?$/.exec(l),i){s={type:"tag",tagType:"inf"},i[1]&&(s.duration=parseFloat(i[1])),i[2]&&(s.title=i[2]),this.trigger("data",s);return}if(i=/^#EXT-X-TARGETDURATION:([0-9.]*)?/.exec(l),i){s={type:"tag",tagType:"targetduration"},i[1]&&(s.duration=parseInt(i[1],10)),this.trigger("data",s);return}if(i=/^#EXT-X-VERSION:([0-9.]*)?/.exec(l),i){s={type:"tag",tagType:"version"},i[1]&&(s.version=parseInt(i[1],10)),this.trigger("data",s);return}if(i=/^#EXT-X-MEDIA-SEQUENCE:(\-?[0-9.]*)?/.exec(l),i){s={type:"tag",tagType:"media-sequence"},i[1]&&(s.number=parseInt(i[1],10)),this.trigger("data",s);return}if(i=/^#EXT-X-DISCONTINUITY-SEQUENCE:(\-?[0-9.]*)?/.exec(l),i){s={type:"tag",tagType:"discontinuity-sequence"},i[1]&&(s.number=parseInt(i[1],10)),this.trigger("data",s);return}if(i=/^#EXT-X-PLAYLIST-TYPE:(.*)?$/.exec(l),i){s={type:"tag",tagType:"playlist-type"},i[1]&&(s.playlistType=i[1]),this.trigger("data",s);return}if(i=/^#EXT-X-BYTERANGE:(.*)?$/.exec(l),i){s=ai(nx(i[1]),{type:"tag",tagType:"byterange"}),this.trigger("data",s);return}if(i=/^#EXT-X-ALLOW-CACHE:(YES|NO)?/.exec(l),i){s={type:"tag",tagType:"allow-cache"},i[1]&&(s.allowed=!/NO/.test(i[1])),this.trigger("data",s);return}if(i=/^#EXT-X-MAP:(.*)$/.exec(l),i){if(s={type:"tag",tagType:"map"},i[1]){const c=_r(i[1]);c.URI&&(s.uri=c.URI),c.BYTERANGE&&(s.byterange=nx(c.BYTERANGE))}this.trigger("data",s);return}if(i=/^#EXT-X-STREAM-INF:(.*)$/.exec(l),i){s={type:"tag",tagType:"stream-inf"},i[1]&&(s.attributes=_r(i[1]),s.attributes.RESOLUTION&&(s.attributes.RESOLUTION=b2(s.attributes.RESOLUTION)),s.attributes.BANDWIDTH&&(s.attributes.BANDWIDTH=parseInt(s.attributes.BANDWIDTH,10)),s.attributes["FRAME-RATE"]&&(s.attributes["FRAME-RATE"]=parseFloat(s.attributes["FRAME-RATE"])),s.attributes["PROGRAM-ID"]&&(s.attributes["PROGRAM-ID"]=parseInt(s.attributes["PROGRAM-ID"],10))),this.trigger("data",s);return}if(i=/^#EXT-X-MEDIA:(.*)$/.exec(l),i){s={type:"tag",tagType:"media"},i[1]&&(s.attributes=_r(i[1])),this.trigger("data",s);return}if(i=/^#EXT-X-ENDLIST/.exec(l),i){this.trigger("data",{type:"tag",tagType:"endlist"});return}if(i=/^#EXT-X-DISCONTINUITY/.exec(l),i){this.trigger("data",{type:"tag",tagType:"discontinuity"});return}if(i=/^#EXT-X-PROGRAM-DATE-TIME:(.*)$/.exec(l),i){s={type:"tag",tagType:"program-date-time"},i[1]&&(s.dateTimeString=i[1],s.dateTimeObject=new Date(i[1])),this.trigger("data",s);return}if(i=/^#EXT-X-KEY:(.*)$/.exec(l),i){s={type:"tag",tagType:"key"},i[1]&&(s.attributes=_r(i[1]),s.attributes.IV&&(s.attributes.IV.substring(0,2).toLowerCase()==="0x"&&(s.attributes.IV=s.attributes.IV.substring(2)),s.attributes.IV=s.attributes.IV.match(/.{8}/g),s.attributes.IV[0]=parseInt(s.attributes.IV[0],16),s.attributes.IV[1]=parseInt(s.attributes.IV[1],16),s.attributes.IV[2]=parseInt(s.attributes.IV[2],16),s.attributes.IV[3]=parseInt(s.attributes.IV[3],16),s.attributes.IV=new Uint32Array(s.attributes.IV))),this.trigger("data",s);return}if(i=/^#EXT-X-START:(.*)$/.exec(l),i){s={type:"tag",tagType:"start"},i[1]&&(s.attributes=_r(i[1]),s.attributes["TIME-OFFSET"]=parseFloat(s.attributes["TIME-OFFSET"]),s.attributes.PRECISE=/YES/.test(s.attributes.PRECISE)),this.trigger("data",s);return}if(i=/^#EXT-X-CUE-OUT-CONT:(.*)?$/.exec(l),i){s={type:"tag",tagType:"cue-out-cont"},i[1]?s.data=i[1]:s.data="",this.trigger("data",s);return}if(i=/^#EXT-X-CUE-OUT:(.*)?$/.exec(l),i){s={type:"tag",tagType:"cue-out"},i[1]?s.data=i[1]:s.data="",this.trigger("data",s);return}if(i=/^#EXT-X-CUE-IN:?(.*)?$/.exec(l),i){s={type:"tag",tagType:"cue-in"},i[1]?s.data=i[1]:s.data="",this.trigger("data",s);return}if(i=/^#EXT-X-SKIP:(.*)$/.exec(l),i&&i[1]){s={type:"tag",tagType:"skip"},s.attributes=_r(i[1]),s.attributes.hasOwnProperty("SKIPPED-SEGMENTS")&&(s.attributes["SKIPPED-SEGMENTS"]=parseInt(s.attributes["SKIPPED-SEGMENTS"],10)),s.attributes.hasOwnProperty("RECENTLY-REMOVED-DATERANGES")&&(s.attributes["RECENTLY-REMOVED-DATERANGES"]=s.attributes["RECENTLY-REMOVED-DATERANGES"].split(RL)),this.trigger("data",s);return}if(i=/^#EXT-X-PART:(.*)$/.exec(l),i&&i[1]){s={type:"tag",tagType:"part"},s.attributes=_r(i[1]),["DURATION"].forEach(function(c){s.attributes.hasOwnProperty(c)&&(s.attributes[c]=parseFloat(s.attributes[c]))}),["INDEPENDENT","GAP"].forEach(function(c){s.attributes.hasOwnProperty(c)&&(s.attributes[c]=/YES/.test(s.attributes[c]))}),s.attributes.hasOwnProperty("BYTERANGE")&&(s.attributes.byterange=nx(s.attributes.BYTERANGE)),this.trigger("data",s);return}if(i=/^#EXT-X-SERVER-CONTROL:(.*)$/.exec(l),i&&i[1]){s={type:"tag",tagType:"server-control"},s.attributes=_r(i[1]),["CAN-SKIP-UNTIL","PART-HOLD-BACK","HOLD-BACK"].forEach(function(c){s.attributes.hasOwnProperty(c)&&(s.attributes[c]=parseFloat(s.attributes[c]))}),["CAN-SKIP-DATERANGES","CAN-BLOCK-RELOAD"].forEach(function(c){s.attributes.hasOwnProperty(c)&&(s.attributes[c]=/YES/.test(s.attributes[c]))}),this.trigger("data",s);return}if(i=/^#EXT-X-PART-INF:(.*)$/.exec(l),i&&i[1]){s={type:"tag",tagType:"part-inf"},s.attributes=_r(i[1]),["PART-TARGET"].forEach(function(c){s.attributes.hasOwnProperty(c)&&(s.attributes[c]=parseFloat(s.attributes[c]))}),this.trigger("data",s);return}if(i=/^#EXT-X-PRELOAD-HINT:(.*)$/.exec(l),i&&i[1]){s={type:"tag",tagType:"preload-hint"},s.attributes=_r(i[1]),["BYTERANGE-START","BYTERANGE-LENGTH"].forEach(function(c){if(s.attributes.hasOwnProperty(c)){s.attributes[c]=parseInt(s.attributes[c],10);const d=c==="BYTERANGE-LENGTH"?"length":"offset";s.attributes.byterange=s.attributes.byterange||{},s.attributes.byterange[d]=s.attributes[c],delete s.attributes[c]}}),this.trigger("data",s);return}if(i=/^#EXT-X-RENDITION-REPORT:(.*)$/.exec(l),i&&i[1]){s={type:"tag",tagType:"rendition-report"},s.attributes=_r(i[1]),["LAST-MSN","LAST-PART"].forEach(function(c){s.attributes.hasOwnProperty(c)&&(s.attributes[c]=parseInt(s.attributes[c],10))}),this.trigger("data",s);return}if(i=/^#EXT-X-DATERANGE:(.*)$/.exec(l),i&&i[1]){s={type:"tag",tagType:"daterange"},s.attributes=_r(i[1]),["ID","CLASS"].forEach(function(d){s.attributes.hasOwnProperty(d)&&(s.attributes[d]=String(s.attributes[d]))}),["START-DATE","END-DATE"].forEach(function(d){s.attributes.hasOwnProperty(d)&&(s.attributes[d]=new Date(s.attributes[d]))}),["DURATION","PLANNED-DURATION"].forEach(function(d){s.attributes.hasOwnProperty(d)&&(s.attributes[d]=parseFloat(s.attributes[d]))}),["END-ON-NEXT"].forEach(function(d){s.attributes.hasOwnProperty(d)&&(s.attributes[d]=/YES/i.test(s.attributes[d]))}),["SCTE35-CMD"," SCTE35-OUT","SCTE35-IN"].forEach(function(d){s.attributes.hasOwnProperty(d)&&(s.attributes[d]=s.attributes[d].toString(16))});const c=/^X-([A-Z]+-)+[A-Z]+$/;for(const d in s.attributes){if(!c.test(d))continue;const m=/[0-9A-Fa-f]{6}/g.test(s.attributes[d]),p=/^\d+(\.\d+)?$/.test(s.attributes[d]);s.attributes[d]=m?s.attributes[d].toString(16):p?parseFloat(s.attributes[d]):String(s.attributes[d])}this.trigger("data",s);return}if(i=/^#EXT-X-INDEPENDENT-SEGMENTS/.exec(l),i){this.trigger("data",{type:"tag",tagType:"independent-segments"});return}if(i=/^#EXT-X-I-FRAMES-ONLY/.exec(l),i){this.trigger("data",{type:"tag",tagType:"i-frames-only"});return}if(i=/^#EXT-X-CONTENT-STEERING:(.*)$/.exec(l),i){s={type:"tag",tagType:"content-steering"},s.attributes=_r(i[1]),this.trigger("data",s);return}if(i=/^#EXT-X-I-FRAME-STREAM-INF:(.*)$/.exec(l),i){s={type:"tag",tagType:"i-frame-playlist"},s.attributes=_r(i[1]),s.attributes.URI&&(s.uri=s.attributes.URI),s.attributes.BANDWIDTH&&(s.attributes.BANDWIDTH=parseInt(s.attributes.BANDWIDTH,10)),s.attributes.RESOLUTION&&(s.attributes.RESOLUTION=b2(s.attributes.RESOLUTION)),s.attributes["AVERAGE-BANDWIDTH"]&&(s.attributes["AVERAGE-BANDWIDTH"]=parseInt(s.attributes["AVERAGE-BANDWIDTH"],10)),s.attributes["FRAME-RATE"]&&(s.attributes["FRAME-RATE"]=parseFloat(s.attributes["FRAME-RATE"])),this.trigger("data",s);return}if(i=/^#EXT-X-DEFINE:(.*)$/.exec(l),i){s={type:"tag",tagType:"define"},s.attributes=_r(i[1]),this.trigger("data",s);return}this.trigger("data",{type:"tag",data:l.slice(4)})})}addParser({expression:e,customType:i,dataParser:s,segment:o}){typeof s!="function"&&(s=l=>l),this.customParsers.push(l=>{if(e.exec(l))return this.trigger("data",{type:"custom",data:s(l),customType:i,segment:o}),!0})}addTagMapper({expression:e,map:i}){const s=o=>e.test(o)?i(o):o;this.tagMappers.push(s)}}const ML=n=>n.toLowerCase().replace(/-(\w)/g,e=>e[1].toUpperCase()),Su=function(n){const e={};return Object.keys(n).forEach(function(i){e[ML(i)]=n[i]}),e},ix=function(n){const{serverControl:e,targetDuration:i,partTargetDuration:s}=n;if(!e)return;const o="#EXT-X-SERVER-CONTROL",l="holdBack",c="partHoldBack",d=i&&i*3,m=s&&s*2;i&&!e.hasOwnProperty(l)&&(e[l]=d,this.trigger("info",{message:`${o} defaulting HOLD-BACK to targetDuration * 3 (${d}).`})),d&&e[l]<d&&(this.trigger("warn",{message:`${o} clamping HOLD-BACK (${e[l]}) to targetDuration * 3 (${d})`}),e[l]=d),s&&!e.hasOwnProperty(c)&&(e[c]=s*3,this.trigger("info",{message:`${o} defaulting PART-HOLD-BACK to partTargetDuration * 3 (${e[c]}).`})),s&&e[c]<m&&(this.trigger("warn",{message:`${o} clamping PART-HOLD-BACK (${e[c]}) to partTargetDuration * 2 (${m}).`}),e[c]=m)};class IL extends E1{constructor(e={}){super(),this.lineStream=new wL,this.parseStream=new OL,this.lineStream.pipe(this.parseStream),this.mainDefinitions=e.mainDefinitions||{},this.params=new URL(e.uri,"https://a.com").searchParams,this.lastProgramDateTime=null;const i=this,s=[];let o={},l,c,d=!1;const m=function(){},p={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},v="urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed";let E=0;this.manifest={allowCache:!0,discontinuityStarts:[],dateRanges:[],iFramePlaylists:[],segments:[]};let C=0,D=0;const P={};this.on("end",()=>{o.uri||!o.parts&&!o.preloadHints||(!o.map&&l&&(o.map=l),!o.key&&c&&(o.key=c),!o.timeline&&typeof E=="number"&&(o.timeline=E),this.manifest.preloadSegment=o)}),this.parseStream.on("data",function(A){let U,M;if(i.manifest.definitions){for(const B in i.manifest.definitions)if(A.uri&&(A.uri=A.uri.replace(`{$${B}}`,i.manifest.definitions[B])),A.attributes)for(const L in A.attributes)typeof A.attributes[L]=="string"&&(A.attributes[L]=A.attributes[L].replace(`{$${B}}`,i.manifest.definitions[B]))}({tag(){({version(){A.version&&(this.manifest.version=A.version)},"allow-cache"(){this.manifest.allowCache=A.allowed,"allowed"in A||(this.trigger("info",{message:"defaulting allowCache to YES"}),this.manifest.allowCache=!0)},byterange(){const B={};"length"in A&&(o.byterange=B,B.length=A.length,"offset"in A||(A.offset=C)),"offset"in A&&(o.byterange=B,B.offset=A.offset),C=B.offset+B.length},endlist(){this.manifest.endList=!0},inf(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.trigger("info",{message:"defaulting media sequence to zero"})),"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger("info",{message:"defaulting discontinuity sequence to zero"})),A.title&&(o.title=A.title),A.duration>0&&(o.duration=A.duration),A.duration===0&&(o.duration=.01,this.trigger("info",{message:"updating zero segment duration to a small value"})),this.manifest.segments=s},key(){if(!A.attributes){this.trigger("warn",{message:"ignoring key declaration without attribute list"});return}if(A.attributes.METHOD==="NONE"){c=null;return}if(!A.attributes.URI){this.trigger("warn",{message:"ignoring key declaration without URI"});return}if(A.attributes.KEYFORMAT==="com.apple.streamingkeydelivery"){this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.apple.fps.1_0"]={attributes:A.attributes};return}if(A.attributes.KEYFORMAT==="com.microsoft.playready"){this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.microsoft.playready"]={uri:A.attributes.URI};return}if(A.attributes.KEYFORMAT===v){if(["SAMPLE-AES","SAMPLE-AES-CTR","SAMPLE-AES-CENC"].indexOf(A.attributes.METHOD)===-1){this.trigger("warn",{message:"invalid key method provided for Widevine"});return}if(A.attributes.METHOD==="SAMPLE-AES-CENC"&&this.trigger("warn",{message:"SAMPLE-AES-CENC is deprecated, please use SAMPLE-AES-CTR instead"}),A.attributes.URI.substring(0,23)!=="data:text/plain;base64,"){this.trigger("warn",{message:"invalid key URI provided for Widevine"});return}if(!(A.attributes.KEYID&&A.attributes.KEYID.substring(0,2)==="0x")){this.trigger("warn",{message:"invalid key ID provided for Widevine"});return}this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.widevine.alpha"]={attributes:{schemeIdUri:A.attributes.KEYFORMAT,keyId:A.attributes.KEYID.substring(2)},pssh:Aw(A.attributes.URI.split(",")[1])};return}A.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"}),c={method:A.attributes.METHOD||"AES-128",uri:A.attributes.URI},typeof A.attributes.IV<"u"&&(c.iv=A.attributes.IV)},"media-sequence"(){if(!isFinite(A.number)){this.trigger("warn",{message:"ignoring invalid media sequence: "+A.number});return}this.manifest.mediaSequence=A.number},"discontinuity-sequence"(){if(!isFinite(A.number)){this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+A.number});return}this.manifest.discontinuitySequence=A.number,E=A.number},"playlist-type"(){if(!/VOD|EVENT/.test(A.playlistType)){this.trigger("warn",{message:"ignoring unknown playlist type: "+A.playlist});return}this.manifest.playlistType=A.playlistType},map(){l={},A.uri&&(l.uri=A.uri),A.byterange&&(l.byterange=A.byterange),c&&(l.key=c)},"stream-inf"(){if(this.manifest.playlists=s,this.manifest.mediaGroups=this.manifest.mediaGroups||p,!A.attributes){this.trigger("warn",{message:"ignoring empty stream-inf attributes"});return}o.attributes||(o.attributes={}),ai(o.attributes,A.attributes)},media(){if(this.manifest.mediaGroups=this.manifest.mediaGroups||p,!(A.attributes&&A.attributes.TYPE&&A.attributes["GROUP-ID"]&&A.attributes.NAME)){this.trigger("warn",{message:"ignoring incomplete or missing media group"});return}const B=this.manifest.mediaGroups[A.attributes.TYPE];B[A.attributes["GROUP-ID"]]=B[A.attributes["GROUP-ID"]]||{},U=B[A.attributes["GROUP-ID"]],M={default:/yes/i.test(A.attributes.DEFAULT)},M.default?M.autoselect=!0:M.autoselect=/yes/i.test(A.attributes.AUTOSELECT),A.attributes.LANGUAGE&&(M.language=A.attributes.LANGUAGE),A.attributes.URI&&(M.uri=A.attributes.URI),A.attributes["INSTREAM-ID"]&&(M.instreamId=A.attributes["INSTREAM-ID"]),A.attributes.CHARACTERISTICS&&(M.characteristics=A.attributes.CHARACTERISTICS),A.attributes.FORCED&&(M.forced=/yes/i.test(A.attributes.FORCED)),U[A.attributes.NAME]=M},discontinuity(){E+=1,o.discontinuity=!0,this.manifest.discontinuityStarts.push(s.length)},"program-date-time"(){typeof this.manifest.dateTimeString>"u"&&(this.manifest.dateTimeString=A.dateTimeString,this.manifest.dateTimeObject=A.dateTimeObject),o.dateTimeString=A.dateTimeString,o.dateTimeObject=A.dateTimeObject;const{lastProgramDateTime:B}=this;this.lastProgramDateTime=new Date(A.dateTimeString).getTime(),B===null&&this.manifest.segments.reduceRight((L,H)=>(H.programDateTime=L-H.duration*1e3,H.programDateTime),this.lastProgramDateTime)},targetduration(){if(!isFinite(A.duration)||A.duration<0){this.trigger("warn",{message:"ignoring invalid target duration: "+A.duration});return}this.manifest.targetDuration=A.duration,ix.call(this,this.manifest)},start(){if(!A.attributes||isNaN(A.attributes["TIME-OFFSET"])){this.trigger("warn",{message:"ignoring start declaration without appropriate attribute list"});return}this.manifest.start={timeOffset:A.attributes["TIME-OFFSET"],precise:A.attributes.PRECISE}},"cue-out"(){o.cueOut=A.data},"cue-out-cont"(){o.cueOutCont=A.data},"cue-in"(){o.cueIn=A.data},skip(){this.manifest.skip=Su(A.attributes),this.warnOnMissingAttributes_("#EXT-X-SKIP",A.attributes,["SKIPPED-SEGMENTS"])},part(){d=!0;const B=this.manifest.segments.length,L=Su(A.attributes);o.parts=o.parts||[],o.parts.push(L),L.byterange&&(L.byterange.hasOwnProperty("offset")||(L.byterange.offset=D),D=L.byterange.offset+L.byterange.length);const H=o.parts.length-1;this.warnOnMissingAttributes_(`#EXT-X-PART #${H} for segment #${B}`,A.attributes,["URI","DURATION"]),this.manifest.renditionReports&&this.manifest.renditionReports.forEach((Q,se)=>{Q.hasOwnProperty("lastPart")||this.trigger("warn",{message:`#EXT-X-RENDITION-REPORT #${se} lacks required attribute(s): LAST-PART`})})},"server-control"(){const B=this.manifest.serverControl=Su(A.attributes);B.hasOwnProperty("canBlockReload")||(B.canBlockReload=!1,this.trigger("info",{message:"#EXT-X-SERVER-CONTROL defaulting CAN-BLOCK-RELOAD to false"})),ix.call(this,this.manifest),B.canSkipDateranges&&!B.hasOwnProperty("canSkipUntil")&&this.trigger("warn",{message:"#EXT-X-SERVER-CONTROL lacks required attribute CAN-SKIP-UNTIL which is required when CAN-SKIP-DATERANGES is set"})},"preload-hint"(){const B=this.manifest.segments.length,L=Su(A.attributes),H=L.type&&L.type==="PART";o.preloadHints=o.preloadHints||[],o.preloadHints.push(L),L.byterange&&(L.byterange.hasOwnProperty("offset")||(L.byterange.offset=H?D:0,H&&(D=L.byterange.offset+L.byterange.length)));const Q=o.preloadHints.length-1;if(this.warnOnMissingAttributes_(`#EXT-X-PRELOAD-HINT #${Q} for segment #${B}`,A.attributes,["TYPE","URI"]),!!L.type)for(let se=0;se<o.preloadHints.length-1;se++){const q=o.preloadHints[se];q.type&&q.type===L.type&&this.trigger("warn",{message:`#EXT-X-PRELOAD-HINT #${Q} for segment #${B} has the same TYPE ${L.type} as preload hint #${se}`})}},"rendition-report"(){const B=Su(A.attributes);this.manifest.renditionReports=this.manifest.renditionReports||[],this.manifest.renditionReports.push(B);const L=this.manifest.renditionReports.length-1,H=["LAST-MSN","URI"];d&&H.push("LAST-PART"),this.warnOnMissingAttributes_(`#EXT-X-RENDITION-REPORT #${L}`,A.attributes,H)},"part-inf"(){this.manifest.partInf=Su(A.attributes),this.warnOnMissingAttributes_("#EXT-X-PART-INF",A.attributes,["PART-TARGET"]),this.manifest.partInf.partTarget&&(this.manifest.partTargetDuration=this.manifest.partInf.partTarget),ix.call(this,this.manifest)},daterange(){this.manifest.dateRanges.push(Su(A.attributes));const B=this.manifest.dateRanges.length-1;this.warnOnMissingAttributes_(`#EXT-X-DATERANGE #${B}`,A.attributes,["ID","START-DATE"]);const L=this.manifest.dateRanges[B];L.endDate&&L.startDate&&new Date(L.endDate)<new Date(L.startDate)&&this.trigger("warn",{message:"EXT-X-DATERANGE END-DATE must be equal to or later than the value of the START-DATE"}),L.duration&&L.duration<0&&this.trigger("warn",{message:"EXT-X-DATERANGE DURATION must not be negative"}),L.plannedDuration&&L.plannedDuration<0&&this.trigger("warn",{message:"EXT-X-DATERANGE PLANNED-DURATION must not be negative"});const H=!!L.endOnNext;if(H&&!L.class&&this.trigger("warn",{message:"EXT-X-DATERANGE with an END-ON-NEXT=YES attribute must have a CLASS attribute"}),H&&(L.duration||L.endDate)&&this.trigger("warn",{message:"EXT-X-DATERANGE with an END-ON-NEXT=YES attribute must not contain DURATION or END-DATE attributes"}),L.duration&&L.endDate){const se=L.startDate.getTime()+L.duration*1e3;this.manifest.dateRanges[B].endDate=new Date(se)}if(!P[L.id])P[L.id]=L;else{for(const se in P[L.id])if(L[se]&&JSON.stringify(P[L.id][se])!==JSON.stringify(L[se])){this.trigger("warn",{message:"EXT-X-DATERANGE tags with the same ID in a playlist must have the same attributes values"});break}const Q=this.manifest.dateRanges.findIndex(se=>se.id===L.id);this.manifest.dateRanges[Q]=ai(this.manifest.dateRanges[Q],L),P[L.id]=ai(P[L.id],L),this.manifest.dateRanges.pop()}},"independent-segments"(){this.manifest.independentSegments=!0},"i-frames-only"(){this.manifest.iFramesOnly=!0,this.requiredCompatibilityversion(this.manifest.version,4)},"content-steering"(){this.manifest.contentSteering=Su(A.attributes),this.warnOnMissingAttributes_("#EXT-X-CONTENT-STEERING",A.attributes,["SERVER-URI"])},define(){this.manifest.definitions=this.manifest.definitions||{};const B=(L,H)=>{if(L in this.manifest.definitions){this.trigger("error",{message:`EXT-X-DEFINE: Duplicate name ${L}`});return}this.manifest.definitions[L]=H};if("QUERYPARAM"in A.attributes){if("NAME"in A.attributes||"IMPORT"in A.attributes){this.trigger("error",{message:"EXT-X-DEFINE: Invalid attributes"});return}const L=this.params.get(A.attributes.QUERYPARAM);if(!L){this.trigger("error",{message:`EXT-X-DEFINE: No query param ${A.attributes.QUERYPARAM}`});return}B(A.attributes.QUERYPARAM,decodeURIComponent(L));return}if("NAME"in A.attributes){if("IMPORT"in A.attributes){this.trigger("error",{message:"EXT-X-DEFINE: Invalid attributes"});return}if(!("VALUE"in A.attributes)||typeof A.attributes.VALUE!="string"){this.trigger("error",{message:`EXT-X-DEFINE: No value for ${A.attributes.NAME}`});return}B(A.attributes.NAME,A.attributes.VALUE);return}if("IMPORT"in A.attributes){if(!this.mainDefinitions[A.attributes.IMPORT]){this.trigger("error",{message:`EXT-X-DEFINE: No value ${A.attributes.IMPORT} to import, or IMPORT used on main playlist`});return}B(A.attributes.IMPORT,this.mainDefinitions[A.attributes.IMPORT]);return}this.trigger("error",{message:"EXT-X-DEFINE: No attribute"})},"i-frame-playlist"(){this.manifest.iFramePlaylists.push({attributes:A.attributes,uri:A.uri,timeline:E}),this.warnOnMissingAttributes_("#EXT-X-I-FRAME-STREAM-INF",A.attributes,["BANDWIDTH","URI"])}}[A.tagType]||m).call(i)},uri(){o.uri=A.uri,s.push(o),this.manifest.targetDuration&&!("duration"in o)&&(this.trigger("warn",{message:"defaulting segment duration to the target duration"}),o.duration=this.manifest.targetDuration),c&&(o.key=c),o.timeline=E,l&&(o.map=l),D=0,this.lastProgramDateTime!==null&&(o.programDateTime=this.lastProgramDateTime,this.lastProgramDateTime+=o.duration*1e3),o={}},comment(){},custom(){A.segment?(o.custom=o.custom||{},o.custom[A.customType]=A.data):(this.manifest.custom=this.manifest.custom||{},this.manifest.custom[A.customType]=A.data)}})[A.type].call(i)})}requiredCompatibilityversion(e,i){(e<i||!e)&&this.trigger("warn",{message:`manifest must be at least version ${i}`})}warnOnMissingAttributes_(e,i,s){const o=[];s.forEach(function(l){i.hasOwnProperty(l)||o.push(l)}),o.length&&this.trigger("warn",{message:`${e} lacks required attribute(s): ${o.join(", ")}`})}push(e){this.lineStream.push(e)}end(){this.lineStream.push(`
`),this.manifest.dateRanges.length&&this.lastProgramDateTime===null&&this.trigger("warn",{message:"A playlist with EXT-X-DATERANGE tag must contain atleast one EXT-X-PROGRAM-DATE-TIME tag"}),this.lastProgramDateTime=null,this.trigger("end")}addParser(e){this.parseStream.addParser(e)}addTagMapper(e){this.parseStream.addTagMapper(e)}}var Gc={mp4:/^(av0?1|avc0?[1234]|vp0?9|flac|opus|mp3|mp4a|mp4v|stpp.ttml.im1t)/,webm:/^(vp0?[89]|av0?1|opus|vorbis)/,ogg:/^(vp0?[89]|theora|flac|opus|vorbis)/,video:/^(av0?1|avc0?[1234]|vp0?[89]|hvc1|hev1|theora|mp4v)/,audio:/^(mp4a|flac|vorbis|opus|ac-[34]|ec-3|alac|mp3|speex|aac)/,text:/^(stpp.ttml.im1t)/,muxerVideo:/^(avc0?1)/,muxerAudio:/^(mp4a)/,muxerText:/a^/},LL=["video","audio","text"],y2=["Video","Audio","Text"],ww=function(e){return e&&e.replace(/avc1\.(\d+)\.(\d+)/i,function(i,s,o){var l=("00"+Number(s).toString(16)).slice(-2),c=("00"+Number(o).toString(16)).slice(-2);return"avc1."+l+"00"+c})},fo=function(e){e===void 0&&(e="");var i=e.split(","),s=[];return i.forEach(function(o){o=o.trim();var l;LL.forEach(function(c){var d=Gc[c].exec(o.toLowerCase());if(!(!d||d.length<=1)){l=c;var m=o.substring(0,d[1].length),p=o.replace(m,"");s.push({type:m,details:p,mediaType:c})}}),l||s.push({type:o,details:"",mediaType:"unknown"})}),s},PL=function(e,i){if(!e.mediaGroups.AUDIO||!i)return null;var s=e.mediaGroups.AUDIO[i];if(!s)return null;for(var o in s){var l=s[o];if(l.default&&l.playlists)return fo(l.playlists[0].attributes.CODECS)}return null},Rw=function(e){return e===void 0&&(e=""),Gc.audio.test(e.trim().toLowerCase())},BL=function(e){return e===void 0&&(e=""),Gc.text.test(e.trim().toLowerCase())},Fh=function(e){if(!(!e||typeof e!="string")){var i=e.toLowerCase().split(",").map(function(l){return ww(l.trim())}),s="video";i.length===1&&Rw(i[0])?s="audio":i.length===1&&BL(i[0])&&(s="application");var o="mp4";return i.every(function(l){return Gc.mp4.test(l)})?o="mp4":i.every(function(l){return Gc.webm.test(l)})?o="webm":i.every(function(l){return Gc.ogg.test(l)})&&(o="ogg"),s+"/"+o+';codecs="'+e+'"'}},Gm=function(e,i){return e===void 0&&(e=""),i===void 0&&(i=!1),W.MediaSource&&W.MediaSource.isTypeSupported&&W.MediaSource.isTypeSupported(Fh(e))||i&&W.ManagedMediaSource&&W.ManagedMediaSource.isTypeSupported&&W.ManagedMediaSource.isTypeSupported(Fh(e))||!1},rx=function(e){return e===void 0&&(e=""),e.toLowerCase().split(",").every(function(i){i=i.trim();for(var s=0;s<y2.length;s++){var o=y2[s];if(Gc["muxer"+o].test(i))return!0}return!1})},v2="mp4a.40.2",jL="avc1.4d400d",UL=/^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i,VL=/^application\/dash\+xml/i,kw=function(e){return UL.test(e)?"hls":VL.test(e)?"dash":e==="application/vnd.videojs.vhs+json"?"vhs-json":null},FL=function(e){return e.toString(2).length},zL=function(e){return Math.ceil(FL(e)/8)},Ow=function(e){return ArrayBuffer.isView==="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer},HL=function(e){return Ow(e)},ot=function(e){return e instanceof Uint8Array?e:(!Array.isArray(e)&&!HL(e)&&!(e instanceof ArrayBuffer)&&(typeof e!="number"||typeof e=="number"&&e!==e?e=0:e=[e]),new Uint8Array(e&&e.buffer||e,e&&e.byteOffset||0,e&&e.byteLength||0))},Zi=W.BigInt||Number,Ox=[Zi("0x1"),Zi("0x100"),Zi("0x10000"),Zi("0x1000000"),Zi("0x100000000"),Zi("0x10000000000"),Zi("0x1000000000000"),Zi("0x100000000000000"),Zi("0x10000000000000000")];(function(){var n=new Uint16Array([65484]),e=new Uint8Array(n.buffer,n.byteOffset,n.byteLength);return e[0]===255?"big":e[0]===204?"little":"unknown"})();var $L=function(e,i){var s=i===void 0?{}:i,o=s.signed,l=o===void 0?!1:o,c=s.le,d=c===void 0?!1:c;e=ot(e);var m=d?"reduce":"reduceRight",p=e[m]?e[m]:Array.prototype[m],v=p.call(e,function(C,D,P){var A=d?P:Math.abs(P+1-e.length);return C+Zi(D)*Ox[A]},Zi(0));if(l){var E=Ox[e.length]/Zi(2)-Zi(1);v=Zi(v),v>E&&(v-=E,v-=E,v-=Zi(2))}return Number(v)},qL=function(e,i){var s={},o=s.le,l=o===void 0?!1:o;(typeof e!="bigint"&&typeof e!="number"||typeof e=="number"&&e!==e)&&(e=0),e=Zi(e);for(var c=zL(e),d=new Uint8Array(new ArrayBuffer(c)),m=0;m<c;m++){var p=l?m:Math.abs(m+1-d.length);d[p]=Number(e/Ox[m]&Zi(255)),e<0&&(d[p]=Math.abs(~d[p]),d[p]-=m===0?1:2)}return d},Mw=function(e,i){if(typeof e!="string"&&e&&typeof e.toString=="function"&&(e=e.toString()),typeof e!="string")return new Uint8Array;i||(e=unescape(encodeURIComponent(e)));for(var s=new Uint8Array(e.length),o=0;o<e.length;o++)s[o]=e.charCodeAt(o);return s},GL=function(){for(var e=arguments.length,i=new Array(e),s=0;s<e;s++)i[s]=arguments[s];if(i=i.filter(function(d){return d&&(d.byteLength||d.length)&&typeof d!="string"}),i.length<=1)return ot(i[0]);var o=i.reduce(function(d,m,p){return d+(m.byteLength||m.length)},0),l=new Uint8Array(o),c=0;return i.forEach(function(d){d=ot(d),l.set(d,c),c+=d.byteLength}),l},Pn=function(e,i,s){var o=s===void 0?{}:s,l=o.offset,c=l===void 0?0:l,d=o.mask,m=d===void 0?[]:d;e=ot(e),i=ot(i);var p=i.every?i.every:Array.prototype.every;return i.length&&e.length-c>=i.length&&p.call(i,function(v,E){var C=m[E]?m[E]&e[c+E]:e[c+E];return v===C})},XL=function(e,i,s){i.forEach(function(o){for(var l in e.mediaGroups[o])for(var c in e.mediaGroups[o][l]){var d=e.mediaGroups[o][l][c];s(d,o,l,c)}})},Pm={},hl={},Vc={},_2;function b0(){if(_2)return Vc;_2=1;function n(l,c,d){if(d===void 0&&(d=Array.prototype),l&&typeof d.find=="function")return d.find.call(l,c);for(var m=0;m<l.length;m++)if(Object.prototype.hasOwnProperty.call(l,m)){var p=l[m];if(c.call(void 0,p,m,l))return p}}function e(l,c){return c===void 0&&(c=Object),c&&typeof c.freeze=="function"?c.freeze(l):l}function i(l,c){if(l===null||typeof l!="object")throw new TypeError("target is not an object");for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(l[d]=c[d]);return l}var s=e({HTML:"text/html",isHTML:function(l){return l===s.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),o=e({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(l){return l===o.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});return Vc.assign=i,Vc.find=n,Vc.freeze=e,Vc.MIME_TYPE=s,Vc.NAMESPACE=o,Vc}var x2;function Iw(){if(x2)return hl;x2=1;var n=b0(),e=n.find,i=n.NAMESPACE;function s(V){return V!==""}function o(V){return V?V.split(/[\t\n\f\r ]+/).filter(s):[]}function l(V,$){return V.hasOwnProperty($)||(V[$]=!0),V}function c(V){if(!V)return[];var $=o(V);return Object.keys($.reduce(l,{}))}function d(V){return function($){return V&&V.indexOf($)!==-1}}function m(V,$){for(var K in V)Object.prototype.hasOwnProperty.call(V,K)&&($[K]=V[K])}function p(V,$){var K=V.prototype;if(!(K instanceof $)){let Se=function(){};Se.prototype=$.prototype,Se=new Se,m(K,Se),V.prototype=K=Se}K.constructor!=V&&(typeof V!="function"&&console.error("unknown Class:"+V),K.constructor=V)}var v={},E=v.ELEMENT_NODE=1,C=v.ATTRIBUTE_NODE=2,D=v.TEXT_NODE=3,P=v.CDATA_SECTION_NODE=4,A=v.ENTITY_REFERENCE_NODE=5,U=v.ENTITY_NODE=6,M=v.PROCESSING_INSTRUCTION_NODE=7,B=v.COMMENT_NODE=8,L=v.DOCUMENT_NODE=9,H=v.DOCUMENT_TYPE_NODE=10,Q=v.DOCUMENT_FRAGMENT_NODE=11,se=v.NOTATION_NODE=12,q={},te={};q.INDEX_SIZE_ERR=(te[1]="Index size error",1),q.DOMSTRING_SIZE_ERR=(te[2]="DOMString size error",2);var I=q.HIERARCHY_REQUEST_ERR=(te[3]="Hierarchy request error",3);q.WRONG_DOCUMENT_ERR=(te[4]="Wrong document",4),q.INVALID_CHARACTER_ERR=(te[5]="Invalid character",5),q.NO_DATA_ALLOWED_ERR=(te[6]="No data allowed",6),q.NO_MODIFICATION_ALLOWED_ERR=(te[7]="No modification allowed",7);var j=q.NOT_FOUND_ERR=(te[8]="Not found",8);q.NOT_SUPPORTED_ERR=(te[9]="Not supported",9);var ge=q.INUSE_ATTRIBUTE_ERR=(te[10]="Attribute in use",10);q.INVALID_STATE_ERR=(te[11]="Invalid state",11),q.SYNTAX_ERR=(te[12]="Syntax error",12),q.INVALID_MODIFICATION_ERR=(te[13]="Invalid modification",13),q.NAMESPACE_ERR=(te[14]="Invalid namespace",14),q.INVALID_ACCESS_ERR=(te[15]="Invalid access",15);function de(V,$){if($ instanceof Error)var K=$;else K=this,Error.call(this,te[V]),this.message=te[V],Error.captureStackTrace&&Error.captureStackTrace(this,de);return K.code=V,$&&(this.message=this.message+": "+$),K}de.prototype=Error.prototype,m(q,de);function ie(){}ie.prototype={length:0,item:function(V){return V>=0&&V<this.length?this[V]:null},toString:function(V,$){for(var K=[],Se=0;Se<this.length;Se++)ir(this[Se],K,V,$);return K.join("")},filter:function(V){return Array.prototype.filter.call(this,V)},indexOf:function(V){return Array.prototype.indexOf.call(this,V)}};function fe(V,$){this._node=V,this._refresh=$,Re(this)}function Re(V){var $=V._node._inc||V._node.ownerDocument._inc;if(V._inc!==$){var K=V._refresh(V._node);if(Fi(V,"length",K.length),!V.$$length||K.length<V.$$length)for(var Se=K.length;Se in V;Se++)Object.prototype.hasOwnProperty.call(V,Se)&&delete V[Se];m(K,V),V._inc=$}}fe.prototype.item=function(V){return Re(this),this[V]||null},p(fe,ie);function be(){}function ve(V,$){for(var K=V.length;K--;)if(V[K]===$)return K}function Te(V,$,K,Se){if(Se?$[ve($,Se)]=K:$[$.length++]=K,V){K.ownerElement=V;var Ue=V.ownerDocument;Ue&&(Se&&Zt(Ue,V,Se),Qe(Ue,V,K))}}function De(V,$,K){var Se=ve($,K);if(Se>=0){for(var Ue=$.length-1;Se<Ue;)$[Se]=$[++Se];if($.length=Ue,V){var et=V.ownerDocument;et&&(Zt(et,V,K),K.ownerElement=null)}}else throw new de(j,new Error(V.tagName+"@"+K))}be.prototype={length:0,item:ie.prototype.item,getNamedItem:function(V){for(var $=this.length;$--;){var K=this[$];if(K.nodeName==V)return K}},setNamedItem:function(V){var $=V.ownerElement;if($&&$!=this._ownerElement)throw new de(ge);var K=this.getNamedItem(V.nodeName);return Te(this._ownerElement,this,V,K),K},setNamedItemNS:function(V){var $=V.ownerElement,K;if($&&$!=this._ownerElement)throw new de(ge);return K=this.getNamedItemNS(V.namespaceURI,V.localName),Te(this._ownerElement,this,V,K),K},removeNamedItem:function(V){var $=this.getNamedItem(V);return De(this._ownerElement,this,$),$},removeNamedItemNS:function(V,$){var K=this.getNamedItemNS(V,$);return De(this._ownerElement,this,K),K},getNamedItemNS:function(V,$){for(var K=this.length;K--;){var Se=this[K];if(Se.localName==$&&Se.namespaceURI==V)return Se}return null}};function ke(){}ke.prototype={hasFeature:function(V,$){return!0},createDocument:function(V,$,K){var Se=new Pe;if(Se.implementation=this,Se.childNodes=new ie,Se.doctype=K||null,K&&Se.appendChild(K),$){var Ue=Se.createElementNS(V,$);Se.appendChild(Ue)}return Se},createDocumentType:function(V,$,K){var Se=new Ht;return Se.name=V,Se.nodeName=V,Se.publicId=$||"",Se.systemId=K||"",Se}};function le(){}le.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(V,$){return Vn(this,V,$)},replaceChild:function(V,$){Vn(this,V,$,yn),$&&this.removeChild($)},removeChild:function(V){return It(this,V)},appendChild:function(V){return this.insertBefore(V,null)},hasChildNodes:function(){return this.firstChild!=null},cloneNode:function(V){return rr(this.ownerDocument||this,this,V)},normalize:function(){for(var V=this.firstChild;V;){var $=V.nextSibling;$&&$.nodeType==D&&V.nodeType==D?(this.removeChild($),V.appendData($.data)):(V.normalize(),V=$)}},isSupported:function(V,$){return this.ownerDocument.implementation.hasFeature(V,$)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(V){for(var $=this;$;){var K=$._nsMap;if(K){for(var Se in K)if(Object.prototype.hasOwnProperty.call(K,Se)&&K[Se]===V)return Se}$=$.nodeType==C?$.ownerDocument:$.parentNode}return null},lookupNamespaceURI:function(V){for(var $=this;$;){var K=$._nsMap;if(K&&Object.prototype.hasOwnProperty.call(K,V))return K[V];$=$.nodeType==C?$.ownerDocument:$.parentNode}return null},isDefaultNamespace:function(V){var $=this.lookupPrefix(V);return $==null}};function Be(V){return V=="<"&&"&lt;"||V==">"&&"&gt;"||V=="&"&&"&amp;"||V=='"'&&"&quot;"||"&#"+V.charCodeAt()+";"}m(v,le),m(v,le.prototype);function Ge(V,$){if($(V))return!0;if(V=V.firstChild)do if(Ge(V,$))return!0;while(V=V.nextSibling)}function Pe(){this.ownerDocument=this}function Qe(V,$,K){V&&V._inc++;var Se=K.namespaceURI;Se===i.XMLNS&&($._nsMap[K.prefix?K.localName:""]=K.value)}function Zt(V,$,K,Se){V&&V._inc++;var Ue=K.namespaceURI;Ue===i.XMLNS&&delete $._nsMap[K.prefix?K.localName:""]}function gt(V,$,K){if(V&&V._inc){V._inc++;var Se=$.childNodes;if(K)Se[Se.length++]=K;else{for(var Ue=$.firstChild,et=0;Ue;)Se[et++]=Ue,Ue=Ue.nextSibling;Se.length=et,delete Se[Se.length]}}}function It(V,$){var K=$.previousSibling,Se=$.nextSibling;return K?K.nextSibling=Se:V.firstChild=Se,Se?Se.previousSibling=K:V.lastChild=K,$.parentNode=null,$.previousSibling=null,$.nextSibling=null,gt(V.ownerDocument,V),$}function Gt(V){return V&&(V.nodeType===le.DOCUMENT_NODE||V.nodeType===le.DOCUMENT_FRAGMENT_NODE||V.nodeType===le.ELEMENT_NODE)}function an(V){return V&&(Xe(V)||tt(V)||je(V)||V.nodeType===le.DOCUMENT_FRAGMENT_NODE||V.nodeType===le.COMMENT_NODE||V.nodeType===le.PROCESSING_INSTRUCTION_NODE)}function je(V){return V&&V.nodeType===le.DOCUMENT_TYPE_NODE}function Xe(V){return V&&V.nodeType===le.ELEMENT_NODE}function tt(V){return V&&V.nodeType===le.TEXT_NODE}function st(V,$){var K=V.childNodes||[];if(e(K,Xe)||je($))return!1;var Se=e(K,je);return!($&&Se&&K.indexOf(Se)>K.indexOf($))}function Wt(V,$){var K=V.childNodes||[];function Se(et){return Xe(et)&&et!==$}if(e(K,Se))return!1;var Ue=e(K,je);return!($&&Ue&&K.indexOf(Ue)>K.indexOf($))}function Ke(V,$,K){if(!Gt(V))throw new de(I,"Unexpected parent node type "+V.nodeType);if(K&&K.parentNode!==V)throw new de(j,"child not in parent");if(!an($)||je($)&&V.nodeType!==le.DOCUMENT_NODE)throw new de(I,"Unexpected node type "+$.nodeType+" for parent node type "+V.nodeType)}function Kn(V,$,K){var Se=V.childNodes||[],Ue=$.childNodes||[];if($.nodeType===le.DOCUMENT_FRAGMENT_NODE){var et=Ue.filter(Xe);if(et.length>1||e(Ue,tt))throw new de(I,"More than one element or text in fragment");if(et.length===1&&!st(V,K))throw new de(I,"Element in fragment can not be inserted before doctype")}if(Xe($)&&!st(V,K))throw new de(I,"Only one element can be added and only after doctype");if(je($)){if(e(Se,je))throw new de(I,"Only one doctype is allowed");var $t=e(Se,Xe);if(K&&Se.indexOf($t)<Se.indexOf(K))throw new de(I,"Doctype can only be inserted before an element");if(!K&&$t)throw new de(I,"Doctype can not be appended since element is present")}}function yn(V,$,K){var Se=V.childNodes||[],Ue=$.childNodes||[];if($.nodeType===le.DOCUMENT_FRAGMENT_NODE){var et=Ue.filter(Xe);if(et.length>1||e(Ue,tt))throw new de(I,"More than one element or text in fragment");if(et.length===1&&!Wt(V,K))throw new de(I,"Element in fragment can not be inserted before doctype")}if(Xe($)&&!Wt(V,K))throw new de(I,"Only one element can be added and only after doctype");if(je($)){if(e(Se,function(vn){return je(vn)&&vn!==K}))throw new de(I,"Only one doctype is allowed");var $t=e(Se,Xe);if(K&&Se.indexOf($t)<Se.indexOf(K))throw new de(I,"Doctype can only be inserted before an element")}}function Vn(V,$,K,Se){Ke(V,$,K),V.nodeType===le.DOCUMENT_NODE&&(Se||Kn)(V,$,K);var Ue=$.parentNode;if(Ue&&Ue.removeChild($),$.nodeType===Q){var et=$.firstChild;if(et==null)return $;var $t=$.lastChild}else et=$t=$;var ei=K?K.previousSibling:V.lastChild;et.previousSibling=ei,$t.nextSibling=K,ei?ei.nextSibling=et:V.firstChild=et,K==null?V.lastChild=$t:K.previousSibling=$t;do{et.parentNode=V;var vn=V.ownerDocument||V;Ze(et,vn)}while(et!==$t&&(et=et.nextSibling));return gt(V.ownerDocument||V,V),$.nodeType==Q&&($.firstChild=$.lastChild=null),$}function Ze(V,$){if(V.ownerDocument!==$){if(V.ownerDocument=$,V.nodeType===E&&V.attributes)for(var K=0;K<V.attributes.length;K++){var Se=V.attributes.item(K);Se&&(Se.ownerDocument=$)}for(var Ue=V.firstChild;Ue;)Ze(Ue,$),Ue=Ue.nextSibling}}function Xt(V,$){$.parentNode&&$.parentNode.removeChild($),$.parentNode=V,$.previousSibling=V.lastChild,$.nextSibling=null,$.previousSibling?$.previousSibling.nextSibling=$:V.firstChild=$,V.lastChild=$,gt(V.ownerDocument,V,$);var K=V.ownerDocument||V;return Ze($,K),$}Pe.prototype={nodeName:"#document",nodeType:L,doctype:null,documentElement:null,_inc:1,insertBefore:function(V,$){if(V.nodeType==Q){for(var K=V.firstChild;K;){var Se=K.nextSibling;this.insertBefore(K,$),K=Se}return V}return Vn(this,V,$),Ze(V,this),this.documentElement===null&&V.nodeType===E&&(this.documentElement=V),V},removeChild:function(V){return this.documentElement==V&&(this.documentElement=null),It(this,V)},replaceChild:function(V,$){Vn(this,V,$,yn),Ze(V,this),$&&this.removeChild($),Xe(V)&&(this.documentElement=V)},importNode:function(V,$){return ys(this,V,$)},getElementById:function(V){var $=null;return Ge(this.documentElement,function(K){if(K.nodeType==E&&K.getAttribute("id")==V)return $=K,!0}),$},getElementsByClassName:function(V){var $=c(V);return new fe(this,function(K){var Se=[];return $.length>0&&Ge(K.documentElement,function(Ue){if(Ue!==K&&Ue.nodeType===E){var et=Ue.getAttribute("class");if(et){var $t=V===et;if(!$t){var ei=c(et);$t=$.every(d(ei))}$t&&Se.push(Ue)}}}),Se})},createElement:function(V){var $=new Lt;$.ownerDocument=this,$.nodeName=V,$.tagName=V,$.localName=V,$.childNodes=new ie;var K=$.attributes=new be;return K._ownerElement=$,$},createDocumentFragment:function(){var V=new Pt;return V.ownerDocument=this,V.childNodes=new ie,V},createTextNode:function(V){var $=new kn;return $.ownerDocument=this,$.appendData(V),$},createComment:function(V){var $=new Gr;return $.ownerDocument=this,$.appendData(V),$},createCDATASection:function(V){var $=new nr;return $.ownerDocument=this,$.appendData(V),$},createProcessingInstruction:function(V,$){var K=new bs;return K.ownerDocument=this,K.tagName=K.nodeName=K.target=V,K.nodeValue=K.data=$,K},createAttribute:function(V){var $=new Jn;return $.ownerDocument=this,$.name=V,$.nodeName=V,$.localName=V,$.specified=!0,$},createEntityReference:function(V){var $=new Ct;return $.ownerDocument=this,$.nodeName=V,$},createElementNS:function(V,$){var K=new Lt,Se=$.split(":"),Ue=K.attributes=new be;return K.childNodes=new ie,K.ownerDocument=this,K.nodeName=$,K.tagName=$,K.namespaceURI=V,Se.length==2?(K.prefix=Se[0],K.localName=Se[1]):K.localName=$,Ue._ownerElement=K,K},createAttributeNS:function(V,$){var K=new Jn,Se=$.split(":");return K.ownerDocument=this,K.nodeName=$,K.name=$,K.namespaceURI=V,K.specified=!0,Se.length==2?(K.prefix=Se[0],K.localName=Se[1]):K.localName=$,K}},p(Pe,le);function Lt(){this._nsMap={}}Lt.prototype={nodeType:E,hasAttribute:function(V){return this.getAttributeNode(V)!=null},getAttribute:function(V){var $=this.getAttributeNode(V);return $&&$.value||""},getAttributeNode:function(V){return this.attributes.getNamedItem(V)},setAttribute:function(V,$){var K=this.ownerDocument.createAttribute(V);K.value=K.nodeValue=""+$,this.setAttributeNode(K)},removeAttribute:function(V){var $=this.getAttributeNode(V);$&&this.removeAttributeNode($)},appendChild:function(V){return V.nodeType===Q?this.insertBefore(V,null):Xt(this,V)},setAttributeNode:function(V){return this.attributes.setNamedItem(V)},setAttributeNodeNS:function(V){return this.attributes.setNamedItemNS(V)},removeAttributeNode:function(V){return this.attributes.removeNamedItem(V.nodeName)},removeAttributeNS:function(V,$){var K=this.getAttributeNodeNS(V,$);K&&this.removeAttributeNode(K)},hasAttributeNS:function(V,$){return this.getAttributeNodeNS(V,$)!=null},getAttributeNS:function(V,$){var K=this.getAttributeNodeNS(V,$);return K&&K.value||""},setAttributeNS:function(V,$,K){var Se=this.ownerDocument.createAttributeNS(V,$);Se.value=Se.nodeValue=""+K,this.setAttributeNode(Se)},getAttributeNodeNS:function(V,$){return this.attributes.getNamedItemNS(V,$)},getElementsByTagName:function(V){return new fe(this,function($){var K=[];return Ge($,function(Se){Se!==$&&Se.nodeType==E&&(V==="*"||Se.tagName==V)&&K.push(Se)}),K})},getElementsByTagNameNS:function(V,$){return new fe(this,function(K){var Se=[];return Ge(K,function(Ue){Ue!==K&&Ue.nodeType===E&&(V==="*"||Ue.namespaceURI===V)&&($==="*"||Ue.localName==$)&&Se.push(Ue)}),Se})}},Pe.prototype.getElementsByTagName=Lt.prototype.getElementsByTagName,Pe.prototype.getElementsByTagNameNS=Lt.prototype.getElementsByTagNameNS,p(Lt,le);function Jn(){}Jn.prototype.nodeType=C,p(Jn,le);function Ri(){}Ri.prototype={data:"",substringData:function(V,$){return this.data.substring(V,V+$)},appendData:function(V){V=this.data+V,this.nodeValue=this.data=V,this.length=V.length},insertData:function(V,$){this.replaceData(V,0,$)},appendChild:function(V){throw new Error(te[I])},deleteData:function(V,$){this.replaceData(V,$,"")},replaceData:function(V,$,K){var Se=this.data.substring(0,V),Ue=this.data.substring(V+$);K=Se+K+Ue,this.nodeValue=this.data=K,this.length=K.length}},p(Ri,le);function kn(){}kn.prototype={nodeName:"#text",nodeType:D,splitText:function(V){var $=this.data,K=$.substring(V);$=$.substring(0,V),this.data=this.nodeValue=$,this.length=$.length;var Se=this.ownerDocument.createTextNode(K);return this.parentNode&&this.parentNode.insertBefore(Se,this.nextSibling),Se}},p(kn,Ri);function Gr(){}Gr.prototype={nodeName:"#comment",nodeType:B},p(Gr,Ri);function nr(){}nr.prototype={nodeName:"#cdata-section",nodeType:P},p(nr,Ri);function Ht(){}Ht.prototype.nodeType=H,p(Ht,le);function Eo(){}Eo.prototype.nodeType=se,p(Eo,le);function ta(){}ta.prototype.nodeType=U,p(ta,le);function Ct(){}Ct.prototype.nodeType=A,p(Ct,le);function Pt(){}Pt.prototype.nodeName="#document-fragment",Pt.prototype.nodeType=Q,p(Pt,le);function bs(){}bs.prototype.nodeType=M,p(bs,le);function Dr(){}Dr.prototype.serializeToString=function(V,$,K){return Ca.call(V,$,K)},le.prototype.toString=Ca;function Ca(V,$){var K=[],Se=this.nodeType==9&&this.documentElement||this,Ue=Se.prefix,et=Se.namespaceURI;if(et&&Ue==null){var Ue=Se.lookupPrefix(et);if(Ue==null)var $t=[{namespace:et,prefix:null}]}return ir(this,K,V,$,$t),K.join("")}function Da(V,$,K){var Se=V.prefix||"",Ue=V.namespaceURI;if(!Ue||Se==="xml"&&Ue===i.XML||Ue===i.XMLNS)return!1;for(var et=K.length;et--;){var $t=K[et];if($t.prefix===Se)return $t.namespace!==Ue}return!0}function Ar(V,$,K){V.push(" ",$,'="',K.replace(/[<>&"\t\n\r]/g,Be),'"')}function ir(V,$,K,Se,Ue){if(Ue||(Ue=[]),Se)if(V=Se(V),V){if(typeof V=="string"){$.push(V);return}}else return;switch(V.nodeType){case E:var et=V.attributes,$t=et.length,_t=V.firstChild,ei=V.tagName;K=i.isHTML(V.namespaceURI)||K;var vn=ei;if(!K&&!V.prefix&&V.namespaceURI){for(var zi,Cn=0;Cn<et.length;Cn++)if(et.item(Cn).name==="xmlns"){zi=et.item(Cn).value;break}if(!zi)for(var on=Ue.length-1;on>=0;on--){var Ti=Ue[on];if(Ti.prefix===""&&Ti.namespace===V.namespaceURI){zi=Ti.namespace;break}}if(zi!==V.namespaceURI)for(var on=Ue.length-1;on>=0;on--){var Ti=Ue[on];if(Ti.namespace===V.namespaceURI){Ti.prefix&&(vn=Ti.prefix+":"+ei);break}}}$.push("<",vn);for(var hn=0;hn<$t;hn++){var ti=et.item(hn);ti.prefix=="xmlns"?Ue.push({prefix:ti.localName,namespace:ti.value}):ti.nodeName=="xmlns"&&Ue.push({prefix:"",namespace:ti.value})}for(var hn=0;hn<$t;hn++){var ti=et.item(hn);if(Da(ti,K,Ue)){var sr=ti.prefix||"",Hi=ti.namespaceURI;Ar($,sr?"xmlns:"+sr:"xmlns",Hi),Ue.push({prefix:sr,namespace:Hi})}ir(ti,$,K,Se,Ue)}if(ei===vn&&Da(V,K,Ue)){var sr=V.prefix||"",Hi=V.namespaceURI;Ar($,sr?"xmlns:"+sr:"xmlns",Hi),Ue.push({prefix:sr,namespace:Hi})}if(_t||K&&!/^(?:meta|link|img|br|hr|input)$/i.test(ei)){if($.push(">"),K&&/^script$/i.test(ei))for(;_t;)_t.data?$.push(_t.data):ir(_t,$,K,Se,Ue.slice()),_t=_t.nextSibling;else for(;_t;)ir(_t,$,K,Se,Ue.slice()),_t=_t.nextSibling;$.push("</",vn,">")}else $.push("/>");return;case L:case Q:for(var _t=V.firstChild;_t;)ir(_t,$,K,Se,Ue.slice()),_t=_t.nextSibling;return;case C:return Ar($,V.name,V.value);case D:return $.push(V.data.replace(/[<&>]/g,Be));case P:return $.push("<![CDATA[",V.data,"]]>");case B:return $.push("<!--",V.data,"-->");case H:var vs=V.publicId,Et=V.systemId;if($.push("<!DOCTYPE ",V.name),vs)$.push(" PUBLIC ",vs),Et&&Et!="."&&$.push(" ",Et),$.push(">");else if(Et&&Et!=".")$.push(" SYSTEM ",Et,">");else{var No=V.internalSubset;No&&$.push(" [",No,"]"),$.push(">")}return;case M:return $.push("<?",V.target," ",V.data,"?>");case A:return $.push("&",V.nodeName,";");default:$.push("??",V.nodeName)}}function ys(V,$,K){var Se;switch($.nodeType){case E:Se=$.cloneNode(!1),Se.ownerDocument=V;case Q:break;case C:K=!0;break}if(Se||(Se=$.cloneNode(!1)),Se.ownerDocument=V,Se.parentNode=null,K)for(var Ue=$.firstChild;Ue;)Se.appendChild(ys(V,Ue,K)),Ue=Ue.nextSibling;return Se}function rr(V,$,K){var Se=new $.constructor;for(var Ue in $)if(Object.prototype.hasOwnProperty.call($,Ue)){var et=$[Ue];typeof et!="object"&&et!=Se[Ue]&&(Se[Ue]=et)}switch($.childNodes&&(Se.childNodes=new ie),Se.ownerDocument=V,Se.nodeType){case E:var $t=$.attributes,ei=Se.attributes=new be,vn=$t.length;ei._ownerElement=Se;for(var zi=0;zi<vn;zi++)Se.setAttributeNode(rr(V,$t.item(zi),!0));break;case C:K=!0}if(K)for(var Cn=$.firstChild;Cn;)Se.appendChild(rr(V,Cn,K)),Cn=Cn.nextSibling;return Se}function Fi(V,$,K){V[$]=K}try{if(Object.defineProperty){let V=function($){switch($.nodeType){case E:case Q:var K=[];for($=$.firstChild;$;)$.nodeType!==7&&$.nodeType!==8&&K.push(V($)),$=$.nextSibling;return K.join("");default:return $.nodeValue}};Object.defineProperty(fe.prototype,"length",{get:function(){return Re(this),this.$$length}}),Object.defineProperty(le.prototype,"textContent",{get:function(){return V(this)},set:function($){switch(this.nodeType){case E:case Q:for(;this.firstChild;)this.removeChild(this.firstChild);($||String($))&&this.appendChild(this.ownerDocument.createTextNode($));break;default:this.data=$,this.value=$,this.nodeValue=$}}}),Fi=function($,K,Se){$["$$"+K]=Se}}}catch{}return hl.DocumentType=Ht,hl.DOMException=de,hl.DOMImplementation=ke,hl.Element=Lt,hl.Node=le,hl.NodeList=ie,hl.XMLSerializer=Dr,hl}var Bm={},sx={},T2;function YL(){return T2||(T2=1,(function(n){var e=b0().freeze;n.XML_ENTITIES=e({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),n.HTML_ENTITIES=e({Aacute:"",aacute:"",Abreve:"",abreve:"",ac:"",acd:"",acE:"",Acirc:"",acirc:"",acute:"",Acy:"",acy:"",AElig:"",aelig:"",af:"",Afr:"",afr:"",Agrave:"",agrave:"",alefsym:"",aleph:"",Alpha:"",alpha:"",Amacr:"",amacr:"",amalg:"",AMP:"&",amp:"&",And:"",and:"",andand:"",andd:"",andslope:"",andv:"",ang:"",ange:"",angle:"",angmsd:"",angmsdaa:"",angmsdab:"",angmsdac:"",angmsdad:"",angmsdae:"",angmsdaf:"",angmsdag:"",angmsdah:"",angrt:"",angrtvb:"",angrtvbd:"",angsph:"",angst:"",angzarr:"",Aogon:"",aogon:"",Aopf:"",aopf:"",ap:"",apacir:"",apE:"",ape:"",apid:"",apos:"'",ApplyFunction:"",approx:"",approxeq:"",Aring:"",aring:"",Ascr:"",ascr:"",Assign:"",ast:"*",asymp:"",asympeq:"",Atilde:"",atilde:"",Auml:"",auml:"",awconint:"",awint:"",backcong:"",backepsilon:"",backprime:"",backsim:"",backsimeq:"",Backslash:"",Barv:"",barvee:"",Barwed:"",barwed:"",barwedge:"",bbrk:"",bbrktbrk:"",bcong:"",Bcy:"",bcy:"",bdquo:"",becaus:"",Because:"",because:"",bemptyv:"",bepsi:"",bernou:"",Bernoullis:"",Beta:"",beta:"",beth:"",between:"",Bfr:"",bfr:"",bigcap:"",bigcirc:"",bigcup:"",bigodot:"",bigoplus:"",bigotimes:"",bigsqcup:"",bigstar:"",bigtriangledown:"",bigtriangleup:"",biguplus:"",bigvee:"",bigwedge:"",bkarow:"",blacklozenge:"",blacksquare:"",blacktriangle:"",blacktriangledown:"",blacktriangleleft:"",blacktriangleright:"",blank:"",blk12:"",blk14:"",blk34:"",block:"",bne:"=",bnequiv:"",bNot:"",bnot:"",Bopf:"",bopf:"",bot:"",bottom:"",bowtie:"",boxbox:"",boxDL:"",boxDl:"",boxdL:"",boxdl:"",boxDR:"",boxDr:"",boxdR:"",boxdr:"",boxH:"",boxh:"",boxHD:"",boxHd:"",boxhD:"",boxhd:"",boxHU:"",boxHu:"",boxhU:"",boxhu:"",boxminus:"",boxplus:"",boxtimes:"",boxUL:"",boxUl:"",boxuL:"",boxul:"",boxUR:"",boxUr:"",boxuR:"",boxur:"",boxV:"",boxv:"",boxVH:"",boxVh:"",boxvH:"",boxvh:"",boxVL:"",boxVl:"",boxvL:"",boxvl:"",boxVR:"",boxVr:"",boxvR:"",boxvr:"",bprime:"",Breve:"",breve:"",brvbar:"",Bscr:"",bscr:"",bsemi:"",bsim:"",bsime:"",bsol:"\\",bsolb:"",bsolhsub:"",bull:"",bullet:"",bump:"",bumpE:"",bumpe:"",Bumpeq:"",bumpeq:"",Cacute:"",cacute:"",Cap:"",cap:"",capand:"",capbrcup:"",capcap:"",capcup:"",capdot:"",CapitalDifferentialD:"",caps:"",caret:"",caron:"",Cayleys:"",ccaps:"",Ccaron:"",ccaron:"",Ccedil:"",ccedil:"",Ccirc:"",ccirc:"",Cconint:"",ccups:"",ccupssm:"",Cdot:"",cdot:"",cedil:"",Cedilla:"",cemptyv:"",cent:"",CenterDot:"",centerdot:"",Cfr:"",cfr:"",CHcy:"",chcy:"",check:"",checkmark:"",Chi:"",chi:"",cir:"",circ:"",circeq:"",circlearrowleft:"",circlearrowright:"",circledast:"",circledcirc:"",circleddash:"",CircleDot:"",circledR:"",circledS:"",CircleMinus:"",CirclePlus:"",CircleTimes:"",cirE:"",cire:"",cirfnint:"",cirmid:"",cirscir:"",ClockwiseContourIntegral:"",CloseCurlyDoubleQuote:"",CloseCurlyQuote:"",clubs:"",clubsuit:"",Colon:"",colon:":",Colone:"",colone:"",coloneq:"",comma:",",commat:"@",comp:"",compfn:"",complement:"",complexes:"",cong:"",congdot:"",Congruent:"",Conint:"",conint:"",ContourIntegral:"",Copf:"",copf:"",coprod:"",Coproduct:"",COPY:"",copy:"",copysr:"",CounterClockwiseContourIntegral:"",crarr:"",Cross:"",cross:"",Cscr:"",cscr:"",csub:"",csube:"",csup:"",csupe:"",ctdot:"",cudarrl:"",cudarrr:"",cuepr:"",cuesc:"",cularr:"",cularrp:"",Cup:"",cup:"",cupbrcap:"",CupCap:"",cupcap:"",cupcup:"",cupdot:"",cupor:"",cups:"",curarr:"",curarrm:"",curlyeqprec:"",curlyeqsucc:"",curlyvee:"",curlywedge:"",curren:"",curvearrowleft:"",curvearrowright:"",cuvee:"",cuwed:"",cwconint:"",cwint:"",cylcty:"",Dagger:"",dagger:"",daleth:"",Darr:"",dArr:"",darr:"",dash:"",Dashv:"",dashv:"",dbkarow:"",dblac:"",Dcaron:"",dcaron:"",Dcy:"",dcy:"",DD:"",dd:"",ddagger:"",ddarr:"",DDotrahd:"",ddotseq:"",deg:"",Del:"",Delta:"",delta:"",demptyv:"",dfisht:"",Dfr:"",dfr:"",dHar:"",dharl:"",dharr:"",DiacriticalAcute:"",DiacriticalDot:"",DiacriticalDoubleAcute:"",DiacriticalGrave:"`",DiacriticalTilde:"",diam:"",Diamond:"",diamond:"",diamondsuit:"",diams:"",die:"",DifferentialD:"",digamma:"",disin:"",div:"",divide:"",divideontimes:"",divonx:"",DJcy:"",djcy:"",dlcorn:"",dlcrop:"",dollar:"$",Dopf:"",dopf:"",Dot:"",dot:"",DotDot:"",doteq:"",doteqdot:"",DotEqual:"",dotminus:"",dotplus:"",dotsquare:"",doublebarwedge:"",DoubleContourIntegral:"",DoubleDot:"",DoubleDownArrow:"",DoubleLeftArrow:"",DoubleLeftRightArrow:"",DoubleLeftTee:"",DoubleLongLeftArrow:"",DoubleLongLeftRightArrow:"",DoubleLongRightArrow:"",DoubleRightArrow:"",DoubleRightTee:"",DoubleUpArrow:"",DoubleUpDownArrow:"",DoubleVerticalBar:"",DownArrow:"",Downarrow:"",downarrow:"",DownArrowBar:"",DownArrowUpArrow:"",DownBreve:"",downdownarrows:"",downharpoonleft:"",downharpoonright:"",DownLeftRightVector:"",DownLeftTeeVector:"",DownLeftVector:"",DownLeftVectorBar:"",DownRightTeeVector:"",DownRightVector:"",DownRightVectorBar:"",DownTee:"",DownTeeArrow:"",drbkarow:"",drcorn:"",drcrop:"",Dscr:"",dscr:"",DScy:"",dscy:"",dsol:"",Dstrok:"",dstrok:"",dtdot:"",dtri:"",dtrif:"",duarr:"",duhar:"",dwangle:"",DZcy:"",dzcy:"",dzigrarr:"",Eacute:"",eacute:"",easter:"",Ecaron:"",ecaron:"",ecir:"",Ecirc:"",ecirc:"",ecolon:"",Ecy:"",ecy:"",eDDot:"",Edot:"",eDot:"",edot:"",ee:"",efDot:"",Efr:"",efr:"",eg:"",Egrave:"",egrave:"",egs:"",egsdot:"",el:"",Element:"",elinters:"",ell:"",els:"",elsdot:"",Emacr:"",emacr:"",empty:"",emptyset:"",EmptySmallSquare:"",emptyv:"",EmptyVerySmallSquare:"",emsp:"",emsp13:"",emsp14:"",ENG:"",eng:"",ensp:"",Eogon:"",eogon:"",Eopf:"",eopf:"",epar:"",eparsl:"",eplus:"",epsi:"",Epsilon:"",epsilon:"",epsiv:"",eqcirc:"",eqcolon:"",eqsim:"",eqslantgtr:"",eqslantless:"",Equal:"",equals:"=",EqualTilde:"",equest:"",Equilibrium:"",equiv:"",equivDD:"",eqvparsl:"",erarr:"",erDot:"",Escr:"",escr:"",esdot:"",Esim:"",esim:"",Eta:"",eta:"",ETH:"",eth:"",Euml:"",euml:"",euro:"",excl:"!",exist:"",Exists:"",expectation:"",ExponentialE:"",exponentiale:"",fallingdotseq:"",Fcy:"",fcy:"",female:"",ffilig:"",fflig:"",ffllig:"",Ffr:"",ffr:"",filig:"",FilledSmallSquare:"",FilledVerySmallSquare:"",fjlig:"fj",flat:"",fllig:"",fltns:"",fnof:"",Fopf:"",fopf:"",ForAll:"",forall:"",fork:"",forkv:"",Fouriertrf:"",fpartint:"",frac12:"",frac13:"",frac14:"",frac15:"",frac16:"",frac18:"",frac23:"",frac25:"",frac34:"",frac35:"",frac38:"",frac45:"",frac56:"",frac58:"",frac78:"",frasl:"",frown:"",Fscr:"",fscr:"",gacute:"",Gamma:"",gamma:"",Gammad:"",gammad:"",gap:"",Gbreve:"",gbreve:"",Gcedil:"",Gcirc:"",gcirc:"",Gcy:"",gcy:"",Gdot:"",gdot:"",gE:"",ge:"",gEl:"",gel:"",geq:"",geqq:"",geqslant:"",ges:"",gescc:"",gesdot:"",gesdoto:"",gesdotol:"",gesl:"",gesles:"",Gfr:"",gfr:"",Gg:"",gg:"",ggg:"",gimel:"",GJcy:"",gjcy:"",gl:"",gla:"",glE:"",glj:"",gnap:"",gnapprox:"",gnE:"",gne:"",gneq:"",gneqq:"",gnsim:"",Gopf:"",gopf:"",grave:"`",GreaterEqual:"",GreaterEqualLess:"",GreaterFullEqual:"",GreaterGreater:"",GreaterLess:"",GreaterSlantEqual:"",GreaterTilde:"",Gscr:"",gscr:"",gsim:"",gsime:"",gsiml:"",Gt:"",GT:">",gt:">",gtcc:"",gtcir:"",gtdot:"",gtlPar:"",gtquest:"",gtrapprox:"",gtrarr:"",gtrdot:"",gtreqless:"",gtreqqless:"",gtrless:"",gtrsim:"",gvertneqq:"",gvnE:"",Hacek:"",hairsp:"",half:"",hamilt:"",HARDcy:"",hardcy:"",hArr:"",harr:"",harrcir:"",harrw:"",Hat:"^",hbar:"",Hcirc:"",hcirc:"",hearts:"",heartsuit:"",hellip:"",hercon:"",Hfr:"",hfr:"",HilbertSpace:"",hksearow:"",hkswarow:"",hoarr:"",homtht:"",hookleftarrow:"",hookrightarrow:"",Hopf:"",hopf:"",horbar:"",HorizontalLine:"",Hscr:"",hscr:"",hslash:"",Hstrok:"",hstrok:"",HumpDownHump:"",HumpEqual:"",hybull:"",hyphen:"",Iacute:"",iacute:"",ic:"",Icirc:"",icirc:"",Icy:"",icy:"",Idot:"",IEcy:"",iecy:"",iexcl:"",iff:"",Ifr:"",ifr:"",Igrave:"",igrave:"",ii:"",iiiint:"",iiint:"",iinfin:"",iiota:"",IJlig:"",ijlig:"",Im:"",Imacr:"",imacr:"",image:"",ImaginaryI:"",imagline:"",imagpart:"",imath:"",imof:"",imped:"",Implies:"",in:"",incare:"",infin:"",infintie:"",inodot:"",Int:"",int:"",intcal:"",integers:"",Integral:"",intercal:"",Intersection:"",intlarhk:"",intprod:"",InvisibleComma:"",InvisibleTimes:"",IOcy:"",iocy:"",Iogon:"",iogon:"",Iopf:"",iopf:"",Iota:"",iota:"",iprod:"",iquest:"",Iscr:"",iscr:"",isin:"",isindot:"",isinE:"",isins:"",isinsv:"",isinv:"",it:"",Itilde:"",itilde:"",Iukcy:"",iukcy:"",Iuml:"",iuml:"",Jcirc:"",jcirc:"",Jcy:"",jcy:"",Jfr:"",jfr:"",jmath:"",Jopf:"",jopf:"",Jscr:"",jscr:"",Jsercy:"",jsercy:"",Jukcy:"",jukcy:"",Kappa:"",kappa:"",kappav:"",Kcedil:"",kcedil:"",Kcy:"",kcy:"",Kfr:"",kfr:"",kgreen:"",KHcy:"",khcy:"",KJcy:"",kjcy:"",Kopf:"",kopf:"",Kscr:"",kscr:"",lAarr:"",Lacute:"",lacute:"",laemptyv:"",lagran:"",Lambda:"",lambda:"",Lang:"",lang:"",langd:"",langle:"",lap:"",Laplacetrf:"",laquo:"",Larr:"",lArr:"",larr:"",larrb:"",larrbfs:"",larrfs:"",larrhk:"",larrlp:"",larrpl:"",larrsim:"",larrtl:"",lat:"",lAtail:"",latail:"",late:"",lates:"",lBarr:"",lbarr:"",lbbrk:"",lbrace:"{",lbrack:"[",lbrke:"",lbrksld:"",lbrkslu:"",Lcaron:"",lcaron:"",Lcedil:"",lcedil:"",lceil:"",lcub:"{",Lcy:"",lcy:"",ldca:"",ldquo:"",ldquor:"",ldrdhar:"",ldrushar:"",ldsh:"",lE:"",le:"",LeftAngleBracket:"",LeftArrow:"",Leftarrow:"",leftarrow:"",LeftArrowBar:"",LeftArrowRightArrow:"",leftarrowtail:"",LeftCeiling:"",LeftDoubleBracket:"",LeftDownTeeVector:"",LeftDownVector:"",LeftDownVectorBar:"",LeftFloor:"",leftharpoondown:"",leftharpoonup:"",leftleftarrows:"",LeftRightArrow:"",Leftrightarrow:"",leftrightarrow:"",leftrightarrows:"",leftrightharpoons:"",leftrightsquigarrow:"",LeftRightVector:"",LeftTee:"",LeftTeeArrow:"",LeftTeeVector:"",leftthreetimes:"",LeftTriangle:"",LeftTriangleBar:"",LeftTriangleEqual:"",LeftUpDownVector:"",LeftUpTeeVector:"",LeftUpVector:"",LeftUpVectorBar:"",LeftVector:"",LeftVectorBar:"",lEg:"",leg:"",leq:"",leqq:"",leqslant:"",les:"",lescc:"",lesdot:"",lesdoto:"",lesdotor:"",lesg:"",lesges:"",lessapprox:"",lessdot:"",lesseqgtr:"",lesseqqgtr:"",LessEqualGreater:"",LessFullEqual:"",LessGreater:"",lessgtr:"",LessLess:"",lesssim:"",LessSlantEqual:"",LessTilde:"",lfisht:"",lfloor:"",Lfr:"",lfr:"",lg:"",lgE:"",lHar:"",lhard:"",lharu:"",lharul:"",lhblk:"",LJcy:"",ljcy:"",Ll:"",ll:"",llarr:"",llcorner:"",Lleftarrow:"",llhard:"",lltri:"",Lmidot:"",lmidot:"",lmoust:"",lmoustache:"",lnap:"",lnapprox:"",lnE:"",lne:"",lneq:"",lneqq:"",lnsim:"",loang:"",loarr:"",lobrk:"",LongLeftArrow:"",Longleftarrow:"",longleftarrow:"",LongLeftRightArrow:"",Longleftrightarrow:"",longleftrightarrow:"",longmapsto:"",LongRightArrow:"",Longrightarrow:"",longrightarrow:"",looparrowleft:"",looparrowright:"",lopar:"",Lopf:"",lopf:"",loplus:"",lotimes:"",lowast:"",lowbar:"_",LowerLeftArrow:"",LowerRightArrow:"",loz:"",lozenge:"",lozf:"",lpar:"(",lparlt:"",lrarr:"",lrcorner:"",lrhar:"",lrhard:"",lrm:"",lrtri:"",lsaquo:"",Lscr:"",lscr:"",Lsh:"",lsh:"",lsim:"",lsime:"",lsimg:"",lsqb:"[",lsquo:"",lsquor:"",Lstrok:"",lstrok:"",Lt:"",LT:"<",lt:"<",ltcc:"",ltcir:"",ltdot:"",lthree:"",ltimes:"",ltlarr:"",ltquest:"",ltri:"",ltrie:"",ltrif:"",ltrPar:"",lurdshar:"",luruhar:"",lvertneqq:"",lvnE:"",macr:"",male:"",malt:"",maltese:"",Map:"",map:"",mapsto:"",mapstodown:"",mapstoleft:"",mapstoup:"",marker:"",mcomma:"",Mcy:"",mcy:"",mdash:"",mDDot:"",measuredangle:"",MediumSpace:"",Mellintrf:"",Mfr:"",mfr:"",mho:"",micro:"",mid:"",midast:"*",midcir:"",middot:"",minus:"",minusb:"",minusd:"",minusdu:"",MinusPlus:"",mlcp:"",mldr:"",mnplus:"",models:"",Mopf:"",mopf:"",mp:"",Mscr:"",mscr:"",mstpos:"",Mu:"",mu:"",multimap:"",mumap:"",nabla:"",Nacute:"",nacute:"",nang:"",nap:"",napE:"",napid:"",napos:"",napprox:"",natur:"",natural:"",naturals:"",nbsp:"",nbump:"",nbumpe:"",ncap:"",Ncaron:"",ncaron:"",Ncedil:"",ncedil:"",ncong:"",ncongdot:"",ncup:"",Ncy:"",ncy:"",ndash:"",ne:"",nearhk:"",neArr:"",nearr:"",nearrow:"",nedot:"",NegativeMediumSpace:"",NegativeThickSpace:"",NegativeThinSpace:"",NegativeVeryThinSpace:"",nequiv:"",nesear:"",nesim:"",NestedGreaterGreater:"",NestedLessLess:"",NewLine:`
`,nexist:"",nexists:"",Nfr:"",nfr:"",ngE:"",nge:"",ngeq:"",ngeqq:"",ngeqslant:"",nges:"",nGg:"",ngsim:"",nGt:"",ngt:"",ngtr:"",nGtv:"",nhArr:"",nharr:"",nhpar:"",ni:"",nis:"",nisd:"",niv:"",NJcy:"",njcy:"",nlArr:"",nlarr:"",nldr:"",nlE:"",nle:"",nLeftarrow:"",nleftarrow:"",nLeftrightarrow:"",nleftrightarrow:"",nleq:"",nleqq:"",nleqslant:"",nles:"",nless:"",nLl:"",nlsim:"",nLt:"",nlt:"",nltri:"",nltrie:"",nLtv:"",nmid:"",NoBreak:"",NonBreakingSpace:"",Nopf:"",nopf:"",Not:"",not:"",NotCongruent:"",NotCupCap:"",NotDoubleVerticalBar:"",NotElement:"",NotEqual:"",NotEqualTilde:"",NotExists:"",NotGreater:"",NotGreaterEqual:"",NotGreaterFullEqual:"",NotGreaterGreater:"",NotGreaterLess:"",NotGreaterSlantEqual:"",NotGreaterTilde:"",NotHumpDownHump:"",NotHumpEqual:"",notin:"",notindot:"",notinE:"",notinva:"",notinvb:"",notinvc:"",NotLeftTriangle:"",NotLeftTriangleBar:"",NotLeftTriangleEqual:"",NotLess:"",NotLessEqual:"",NotLessGreater:"",NotLessLess:"",NotLessSlantEqual:"",NotLessTilde:"",NotNestedGreaterGreater:"",NotNestedLessLess:"",notni:"",notniva:"",notnivb:"",notnivc:"",NotPrecedes:"",NotPrecedesEqual:"",NotPrecedesSlantEqual:"",NotReverseElement:"",NotRightTriangle:"",NotRightTriangleBar:"",NotRightTriangleEqual:"",NotSquareSubset:"",NotSquareSubsetEqual:"",NotSquareSuperset:"",NotSquareSupersetEqual:"",NotSubset:"",NotSubsetEqual:"",NotSucceeds:"",NotSucceedsEqual:"",NotSucceedsSlantEqual:"",NotSucceedsTilde:"",NotSuperset:"",NotSupersetEqual:"",NotTilde:"",NotTildeEqual:"",NotTildeFullEqual:"",NotTildeTilde:"",NotVerticalBar:"",npar:"",nparallel:"",nparsl:"",npart:"",npolint:"",npr:"",nprcue:"",npre:"",nprec:"",npreceq:"",nrArr:"",nrarr:"",nrarrc:"",nrarrw:"",nRightarrow:"",nrightarrow:"",nrtri:"",nrtrie:"",nsc:"",nsccue:"",nsce:"",Nscr:"",nscr:"",nshortmid:"",nshortparallel:"",nsim:"",nsime:"",nsimeq:"",nsmid:"",nspar:"",nsqsube:"",nsqsupe:"",nsub:"",nsubE:"",nsube:"",nsubset:"",nsubseteq:"",nsubseteqq:"",nsucc:"",nsucceq:"",nsup:"",nsupE:"",nsupe:"",nsupset:"",nsupseteq:"",nsupseteqq:"",ntgl:"",Ntilde:"",ntilde:"",ntlg:"",ntriangleleft:"",ntrianglelefteq:"",ntriangleright:"",ntrianglerighteq:"",Nu:"",nu:"",num:"#",numero:"",numsp:"",nvap:"",nVDash:"",nVdash:"",nvDash:"",nvdash:"",nvge:"",nvgt:">",nvHarr:"",nvinfin:"",nvlArr:"",nvle:"",nvlt:"<",nvltrie:"",nvrArr:"",nvrtrie:"",nvsim:"",nwarhk:"",nwArr:"",nwarr:"",nwarrow:"",nwnear:"",Oacute:"",oacute:"",oast:"",ocir:"",Ocirc:"",ocirc:"",Ocy:"",ocy:"",odash:"",Odblac:"",odblac:"",odiv:"",odot:"",odsold:"",OElig:"",oelig:"",ofcir:"",Ofr:"",ofr:"",ogon:"",Ograve:"",ograve:"",ogt:"",ohbar:"",ohm:"",oint:"",olarr:"",olcir:"",olcross:"",oline:"",olt:"",Omacr:"",omacr:"",Omega:"",omega:"",Omicron:"",omicron:"",omid:"",ominus:"",Oopf:"",oopf:"",opar:"",OpenCurlyDoubleQuote:"",OpenCurlyQuote:"",operp:"",oplus:"",Or:"",or:"",orarr:"",ord:"",order:"",orderof:"",ordf:"",ordm:"",origof:"",oror:"",orslope:"",orv:"",oS:"",Oscr:"",oscr:"",Oslash:"",oslash:"",osol:"",Otilde:"",otilde:"",Otimes:"",otimes:"",otimesas:"",Ouml:"",ouml:"",ovbar:"",OverBar:"",OverBrace:"",OverBracket:"",OverParenthesis:"",par:"",para:"",parallel:"",parsim:"",parsl:"",part:"",PartialD:"",Pcy:"",pcy:"",percnt:"%",period:".",permil:"",perp:"",pertenk:"",Pfr:"",pfr:"",Phi:"",phi:"",phiv:"",phmmat:"",phone:"",Pi:"",pi:"",pitchfork:"",piv:"",planck:"",planckh:"",plankv:"",plus:"+",plusacir:"",plusb:"",pluscir:"",plusdo:"",plusdu:"",pluse:"",PlusMinus:"",plusmn:"",plussim:"",plustwo:"",pm:"",Poincareplane:"",pointint:"",Popf:"",popf:"",pound:"",Pr:"",pr:"",prap:"",prcue:"",prE:"",pre:"",prec:"",precapprox:"",preccurlyeq:"",Precedes:"",PrecedesEqual:"",PrecedesSlantEqual:"",PrecedesTilde:"",preceq:"",precnapprox:"",precneqq:"",precnsim:"",precsim:"",Prime:"",prime:"",primes:"",prnap:"",prnE:"",prnsim:"",prod:"",Product:"",profalar:"",profline:"",profsurf:"",prop:"",Proportion:"",Proportional:"",propto:"",prsim:"",prurel:"",Pscr:"",pscr:"",Psi:"",psi:"",puncsp:"",Qfr:"",qfr:"",qint:"",Qopf:"",qopf:"",qprime:"",Qscr:"",qscr:"",quaternions:"",quatint:"",quest:"?",questeq:"",QUOT:'"',quot:'"',rAarr:"",race:"",Racute:"",racute:"",radic:"",raemptyv:"",Rang:"",rang:"",rangd:"",range:"",rangle:"",raquo:"",Rarr:"",rArr:"",rarr:"",rarrap:"",rarrb:"",rarrbfs:"",rarrc:"",rarrfs:"",rarrhk:"",rarrlp:"",rarrpl:"",rarrsim:"",Rarrtl:"",rarrtl:"",rarrw:"",rAtail:"",ratail:"",ratio:"",rationals:"",RBarr:"",rBarr:"",rbarr:"",rbbrk:"",rbrace:"}",rbrack:"]",rbrke:"",rbrksld:"",rbrkslu:"",Rcaron:"",rcaron:"",Rcedil:"",rcedil:"",rceil:"",rcub:"}",Rcy:"",rcy:"",rdca:"",rdldhar:"",rdquo:"",rdquor:"",rdsh:"",Re:"",real:"",realine:"",realpart:"",reals:"",rect:"",REG:"",reg:"",ReverseElement:"",ReverseEquilibrium:"",ReverseUpEquilibrium:"",rfisht:"",rfloor:"",Rfr:"",rfr:"",rHar:"",rhard:"",rharu:"",rharul:"",Rho:"",rho:"",rhov:"",RightAngleBracket:"",RightArrow:"",Rightarrow:"",rightarrow:"",RightArrowBar:"",RightArrowLeftArrow:"",rightarrowtail:"",RightCeiling:"",RightDoubleBracket:"",RightDownTeeVector:"",RightDownVector:"",RightDownVectorBar:"",RightFloor:"",rightharpoondown:"",rightharpoonup:"",rightleftarrows:"",rightleftharpoons:"",rightrightarrows:"",rightsquigarrow:"",RightTee:"",RightTeeArrow:"",RightTeeVector:"",rightthreetimes:"",RightTriangle:"",RightTriangleBar:"",RightTriangleEqual:"",RightUpDownVector:"",RightUpTeeVector:"",RightUpVector:"",RightUpVectorBar:"",RightVector:"",RightVectorBar:"",ring:"",risingdotseq:"",rlarr:"",rlhar:"",rlm:"",rmoust:"",rmoustache:"",rnmid:"",roang:"",roarr:"",robrk:"",ropar:"",Ropf:"",ropf:"",roplus:"",rotimes:"",RoundImplies:"",rpar:")",rpargt:"",rppolint:"",rrarr:"",Rrightarrow:"",rsaquo:"",Rscr:"",rscr:"",Rsh:"",rsh:"",rsqb:"]",rsquo:"",rsquor:"",rthree:"",rtimes:"",rtri:"",rtrie:"",rtrif:"",rtriltri:"",RuleDelayed:"",ruluhar:"",rx:"",Sacute:"",sacute:"",sbquo:"",Sc:"",sc:"",scap:"",Scaron:"",scaron:"",sccue:"",scE:"",sce:"",Scedil:"",scedil:"",Scirc:"",scirc:"",scnap:"",scnE:"",scnsim:"",scpolint:"",scsim:"",Scy:"",scy:"",sdot:"",sdotb:"",sdote:"",searhk:"",seArr:"",searr:"",searrow:"",sect:"",semi:";",seswar:"",setminus:"",setmn:"",sext:"",Sfr:"",sfr:"",sfrown:"",sharp:"",SHCHcy:"",shchcy:"",SHcy:"",shcy:"",ShortDownArrow:"",ShortLeftArrow:"",shortmid:"",shortparallel:"",ShortRightArrow:"",ShortUpArrow:"",shy:"",Sigma:"",sigma:"",sigmaf:"",sigmav:"",sim:"",simdot:"",sime:"",simeq:"",simg:"",simgE:"",siml:"",simlE:"",simne:"",simplus:"",simrarr:"",slarr:"",SmallCircle:"",smallsetminus:"",smashp:"",smeparsl:"",smid:"",smile:"",smt:"",smte:"",smtes:"",SOFTcy:"",softcy:"",sol:"/",solb:"",solbar:"",Sopf:"",sopf:"",spades:"",spadesuit:"",spar:"",sqcap:"",sqcaps:"",sqcup:"",sqcups:"",Sqrt:"",sqsub:"",sqsube:"",sqsubset:"",sqsubseteq:"",sqsup:"",sqsupe:"",sqsupset:"",sqsupseteq:"",squ:"",Square:"",square:"",SquareIntersection:"",SquareSubset:"",SquareSubsetEqual:"",SquareSuperset:"",SquareSupersetEqual:"",SquareUnion:"",squarf:"",squf:"",srarr:"",Sscr:"",sscr:"",ssetmn:"",ssmile:"",sstarf:"",Star:"",star:"",starf:"",straightepsilon:"",straightphi:"",strns:"",Sub:"",sub:"",subdot:"",subE:"",sube:"",subedot:"",submult:"",subnE:"",subne:"",subplus:"",subrarr:"",Subset:"",subset:"",subseteq:"",subseteqq:"",SubsetEqual:"",subsetneq:"",subsetneqq:"",subsim:"",subsub:"",subsup:"",succ:"",succapprox:"",succcurlyeq:"",Succeeds:"",SucceedsEqual:"",SucceedsSlantEqual:"",SucceedsTilde:"",succeq:"",succnapprox:"",succneqq:"",succnsim:"",succsim:"",SuchThat:"",Sum:"",sum:"",sung:"",Sup:"",sup:"",sup1:"",sup2:"",sup3:"",supdot:"",supdsub:"",supE:"",supe:"",supedot:"",Superset:"",SupersetEqual:"",suphsol:"",suphsub:"",suplarr:"",supmult:"",supnE:"",supne:"",supplus:"",Supset:"",supset:"",supseteq:"",supseteqq:"",supsetneq:"",supsetneqq:"",supsim:"",supsub:"",supsup:"",swarhk:"",swArr:"",swarr:"",swarrow:"",swnwar:"",szlig:"",Tab:"	",target:"",Tau:"",tau:"",tbrk:"",Tcaron:"",tcaron:"",Tcedil:"",tcedil:"",Tcy:"",tcy:"",tdot:"",telrec:"",Tfr:"",tfr:"",there4:"",Therefore:"",therefore:"",Theta:"",theta:"",thetasym:"",thetav:"",thickapprox:"",thicksim:"",ThickSpace:"",thinsp:"",ThinSpace:"",thkap:"",thksim:"",THORN:"",thorn:"",Tilde:"",tilde:"",TildeEqual:"",TildeFullEqual:"",TildeTilde:"",times:"",timesb:"",timesbar:"",timesd:"",tint:"",toea:"",top:"",topbot:"",topcir:"",Topf:"",topf:"",topfork:"",tosa:"",tprime:"",TRADE:"",trade:"",triangle:"",triangledown:"",triangleleft:"",trianglelefteq:"",triangleq:"",triangleright:"",trianglerighteq:"",tridot:"",trie:"",triminus:"",TripleDot:"",triplus:"",trisb:"",tritime:"",trpezium:"",Tscr:"",tscr:"",TScy:"",tscy:"",TSHcy:"",tshcy:"",Tstrok:"",tstrok:"",twixt:"",twoheadleftarrow:"",twoheadrightarrow:"",Uacute:"",uacute:"",Uarr:"",uArr:"",uarr:"",Uarrocir:"",Ubrcy:"",ubrcy:"",Ubreve:"",ubreve:"",Ucirc:"",ucirc:"",Ucy:"",ucy:"",udarr:"",Udblac:"",udblac:"",udhar:"",ufisht:"",Ufr:"",ufr:"",Ugrave:"",ugrave:"",uHar:"",uharl:"",uharr:"",uhblk:"",ulcorn:"",ulcorner:"",ulcrop:"",ultri:"",Umacr:"",umacr:"",uml:"",UnderBar:"_",UnderBrace:"",UnderBracket:"",UnderParenthesis:"",Union:"",UnionPlus:"",Uogon:"",uogon:"",Uopf:"",uopf:"",UpArrow:"",Uparrow:"",uparrow:"",UpArrowBar:"",UpArrowDownArrow:"",UpDownArrow:"",Updownarrow:"",updownarrow:"",UpEquilibrium:"",upharpoonleft:"",upharpoonright:"",uplus:"",UpperLeftArrow:"",UpperRightArrow:"",Upsi:"",upsi:"",upsih:"",Upsilon:"",upsilon:"",UpTee:"",UpTeeArrow:"",upuparrows:"",urcorn:"",urcorner:"",urcrop:"",Uring:"",uring:"",urtri:"",Uscr:"",uscr:"",utdot:"",Utilde:"",utilde:"",utri:"",utrif:"",uuarr:"",Uuml:"",uuml:"",uwangle:"",vangrt:"",varepsilon:"",varkappa:"",varnothing:"",varphi:"",varpi:"",varpropto:"",vArr:"",varr:"",varrho:"",varsigma:"",varsubsetneq:"",varsubsetneqq:"",varsupsetneq:"",varsupsetneqq:"",vartheta:"",vartriangleleft:"",vartriangleright:"",Vbar:"",vBar:"",vBarv:"",Vcy:"",vcy:"",VDash:"",Vdash:"",vDash:"",vdash:"",Vdashl:"",Vee:"",vee:"",veebar:"",veeeq:"",vellip:"",Verbar:"",verbar:"|",Vert:"",vert:"|",VerticalBar:"",VerticalLine:"|",VerticalSeparator:"",VerticalTilde:"",VeryThinSpace:"",Vfr:"",vfr:"",vltri:"",vnsub:"",vnsup:"",Vopf:"",vopf:"",vprop:"",vrtri:"",Vscr:"",vscr:"",vsubnE:"",vsubne:"",vsupnE:"",vsupne:"",Vvdash:"",vzigzag:"",Wcirc:"",wcirc:"",wedbar:"",Wedge:"",wedge:"",wedgeq:"",weierp:"",Wfr:"",wfr:"",Wopf:"",wopf:"",wp:"",wr:"",wreath:"",Wscr:"",wscr:"",xcap:"",xcirc:"",xcup:"",xdtri:"",Xfr:"",xfr:"",xhArr:"",xharr:"",Xi:"",xi:"",xlArr:"",xlarr:"",xmap:"",xnis:"",xodot:"",Xopf:"",xopf:"",xoplus:"",xotime:"",xrArr:"",xrarr:"",Xscr:"",xscr:"",xsqcup:"",xuplus:"",xutri:"",xvee:"",xwedge:"",Yacute:"",yacute:"",YAcy:"",yacy:"",Ycirc:"",ycirc:"",Ycy:"",ycy:"",yen:"",Yfr:"",yfr:"",YIcy:"",yicy:"",Yopf:"",yopf:"",Yscr:"",yscr:"",YUcy:"",yucy:"",Yuml:"",yuml:"",Zacute:"",zacute:"",Zcaron:"",zcaron:"",Zcy:"",zcy:"",Zdot:"",zdot:"",zeetrf:"",ZeroWidthSpace:"",Zeta:"",zeta:"",Zfr:"",zfr:"",ZHcy:"",zhcy:"",zigrarr:"",Zopf:"",zopf:"",Zscr:"",zscr:"",zwj:"",zwnj:""}),n.entityMap=n.HTML_ENTITIES})(sx)),sx}var bb={},S2;function QL(){if(S2)return bb;S2=1;var n=b0().NAMESPACE,e=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,i=new RegExp("[\\-\\.0-9"+e.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),s=new RegExp("^"+e.source+i.source+"*(?::"+e.source+i.source+"*)?$"),o=0,l=1,c=2,d=3,m=4,p=5,v=6,E=7;function C(I,j){this.message=I,this.locator=j,Error.captureStackTrace&&Error.captureStackTrace(this,C)}C.prototype=new Error,C.prototype.name=C.name;function D(){}D.prototype={parse:function(I,j,ge){var de=this.domBuilder;de.startDocument(),H(j,j={}),P(I,j,ge,de,this.errorHandler),de.endDocument()}};function P(I,j,ge,de,ie){function fe(Xt){if(Xt>65535){Xt-=65536;var Lt=55296+(Xt>>10),Jn=56320+(Xt&1023);return String.fromCharCode(Lt,Jn)}else return String.fromCharCode(Xt)}function Re(Xt){var Lt=Xt.slice(1,-1);return Object.hasOwnProperty.call(ge,Lt)?ge[Lt]:Lt.charAt(0)==="#"?fe(parseInt(Lt.substr(1).replace("x","0x"))):(ie.error("entity not found:"+Xt),Xt)}function be(Xt){if(Xt>Pe){var Lt=I.substring(Pe,Xt).replace(/&#?\w+;/g,Re);le&&ve(Pe),de.characters(Lt,0,Xt-Pe),Pe=Xt}}function ve(Xt,Lt){for(;Xt>=De&&(Lt=ke.exec(I));)Te=Lt.index,De=Te+Lt[0].length,le.lineNumber++;le.columnNumber=Xt-Te+1}for(var Te=0,De=0,ke=/.*(?:\r\n?|\n)|.*$/g,le=de.locator,Be=[{currentNSMap:j}],Ge={},Pe=0;;){try{var Qe=I.indexOf("<",Pe);if(Qe<0){if(!I.substr(Pe).match(/^\s*$/)){var Zt=de.doc,gt=Zt.createTextNode(I.substr(Pe));Zt.appendChild(gt),de.currentElement=gt}return}switch(Qe>Pe&&be(Qe),I.charAt(Qe+1)){case"/":var Ke=I.indexOf(">",Qe+3),It=I.substring(Qe+2,Ke).replace(/[ \t\n\r]+$/g,""),Gt=Be.pop();Ke<0?(It=I.substring(Qe+2).replace(/[\s<].*/,""),ie.error("end tag name: "+It+" is not complete:"+Gt.tagName),Ke=Qe+1+It.length):It.match(/\s</)&&(It=It.replace(/[\s<].*/,""),ie.error("end tag name: "+It+" maybe not complete"),Ke=Qe+1+It.length);var an=Gt.localNSMap,je=Gt.tagName==It,Xe=je||Gt.tagName&&Gt.tagName.toLowerCase()==It.toLowerCase();if(Xe){if(de.endElement(Gt.uri,Gt.localName,It),an)for(var tt in an)Object.prototype.hasOwnProperty.call(an,tt)&&de.endPrefixMapping(tt);je||ie.fatalError("end tag name: "+It+" is not match the current start tagName:"+Gt.tagName)}else Be.push(Gt);Ke++;break;case"?":le&&ve(Qe),Ke=se(I,Qe,de);break;case"!":le&&ve(Qe),Ke=Q(I,Qe,de,ie);break;default:le&&ve(Qe);var st=new q,Wt=Be[Be.length-1].currentNSMap,Ke=U(I,Qe,st,Wt,Re,ie),Kn=st.length;if(!st.closed&&L(I,Ke,st.tagName,Ge)&&(st.closed=!0,ge.nbsp||ie.warning("unclosed xml attribute")),le&&Kn){for(var yn=A(le,{}),Vn=0;Vn<Kn;Vn++){var Ze=st[Vn];ve(Ze.offset),Ze.locator=A(le,{})}de.locator=yn,M(st,de,Wt)&&Be.push(st),de.locator=le}else M(st,de,Wt)&&Be.push(st);n.isHTML(st.uri)&&!st.closed?Ke=B(I,Ke,st.tagName,Re,de):Ke++}}catch(Xt){if(Xt instanceof C)throw Xt;ie.error("element parse error: "+Xt),Ke=-1}Ke>Pe?Pe=Ke:be(Math.max(Qe,Pe)+1)}}function A(I,j){return j.lineNumber=I.lineNumber,j.columnNumber=I.columnNumber,j}function U(I,j,ge,de,ie,fe){function Re(le,Be,Ge){ge.attributeNames.hasOwnProperty(le)&&fe.fatalError("Attribute "+le+" redefined"),ge.addValue(le,Be.replace(/[\t\n\r]/g," ").replace(/&#?\w+;/g,ie),Ge)}for(var be,ve,Te=++j,De=o;;){var ke=I.charAt(Te);switch(ke){case"=":if(De===l)be=I.slice(j,Te),De=d;else if(De===c)De=d;else throw new Error("attribute equal must after attrName");break;case"'":case'"':if(De===d||De===l)if(De===l&&(fe.warning('attribute value must after "="'),be=I.slice(j,Te)),j=Te+1,Te=I.indexOf(ke,j),Te>0)ve=I.slice(j,Te),Re(be,ve,j-1),De=p;else throw new Error("attribute value no end '"+ke+"' match");else if(De==m)ve=I.slice(j,Te),Re(be,ve,j),fe.warning('attribute "'+be+'" missed start quot('+ke+")!!"),j=Te+1,De=p;else throw new Error('attribute value must after "="');break;case"/":switch(De){case o:ge.setTagName(I.slice(j,Te));case p:case v:case E:De=E,ge.closed=!0;case m:case l:break;case c:ge.closed=!0;break;default:throw new Error("attribute invalid close char('/')")}break;case"":return fe.error("unexpected end of input"),De==o&&ge.setTagName(I.slice(j,Te)),Te;case">":switch(De){case o:ge.setTagName(I.slice(j,Te));case p:case v:case E:break;case m:case l:ve=I.slice(j,Te),ve.slice(-1)==="/"&&(ge.closed=!0,ve=ve.slice(0,-1));case c:De===c&&(ve=be),De==m?(fe.warning('attribute "'+ve+'" missed quot(")!'),Re(be,ve,j)):((!n.isHTML(de[""])||!ve.match(/^(?:disabled|checked|selected)$/i))&&fe.warning('attribute "'+ve+'" missed value!! "'+ve+'" instead!!'),Re(ve,ve,j));break;case d:throw new Error("attribute value missed!!")}return Te;case"":ke=" ";default:if(ke<=" ")switch(De){case o:ge.setTagName(I.slice(j,Te)),De=v;break;case l:be=I.slice(j,Te),De=c;break;case m:var ve=I.slice(j,Te);fe.warning('attribute "'+ve+'" missed quot(")!!'),Re(be,ve,j);case p:De=v;break}else switch(De){case c:ge.tagName,(!n.isHTML(de[""])||!be.match(/^(?:disabled|checked|selected)$/i))&&fe.warning('attribute "'+be+'" missed value!! "'+be+'" instead2!!'),Re(be,be,j),j=Te,De=l;break;case p:fe.warning('attribute space is required"'+be+'"!!');case v:De=l,j=Te;break;case d:De=m,j=Te;break;case E:throw new Error("elements closed character '/' and '>' must be connected to")}}Te++}}function M(I,j,ge){for(var de=I.tagName,ie=null,ke=I.length;ke--;){var fe=I[ke],Re=fe.qName,be=fe.value,le=Re.indexOf(":");if(le>0)var ve=fe.prefix=Re.slice(0,le),Te=Re.slice(le+1),De=ve==="xmlns"&&Te;else Te=Re,ve=null,De=Re==="xmlns"&&"";fe.localName=Te,De!==!1&&(ie==null&&(ie={},H(ge,ge={})),ge[De]=ie[De]=be,fe.uri=n.XMLNS,j.startPrefixMapping(De,be))}for(var ke=I.length;ke--;){fe=I[ke];var ve=fe.prefix;ve&&(ve==="xml"&&(fe.uri=n.XML),ve!=="xmlns"&&(fe.uri=ge[ve||""]))}var le=de.indexOf(":");le>0?(ve=I.prefix=de.slice(0,le),Te=I.localName=de.slice(le+1)):(ve=null,Te=I.localName=de);var Be=I.uri=ge[ve||""];if(j.startElement(Be,Te,de,I),I.closed){if(j.endElement(Be,Te,de),ie)for(ve in ie)Object.prototype.hasOwnProperty.call(ie,ve)&&j.endPrefixMapping(ve)}else return I.currentNSMap=ge,I.localNSMap=ie,!0}function B(I,j,ge,de,ie){if(/^(?:script|textarea)$/i.test(ge)){var fe=I.indexOf("</"+ge+">",j),Re=I.substring(j+1,fe);if(/[&<]/.test(Re))return/^script$/i.test(ge)?(ie.characters(Re,0,Re.length),fe):(Re=Re.replace(/&#?\w+;/g,de),ie.characters(Re,0,Re.length),fe)}return j+1}function L(I,j,ge,de){var ie=de[ge];return ie==null&&(ie=I.lastIndexOf("</"+ge+">"),ie<j&&(ie=I.lastIndexOf("</"+ge)),de[ge]=ie),ie<j}function H(I,j){for(var ge in I)Object.prototype.hasOwnProperty.call(I,ge)&&(j[ge]=I[ge])}function Q(I,j,ge,de){var ie=I.charAt(j+2);switch(ie){case"-":if(I.charAt(j+3)==="-"){var fe=I.indexOf("-->",j+4);return fe>j?(ge.comment(I,j+4,fe-j-4),fe+3):(de.error("Unclosed comment"),-1)}else return-1;default:if(I.substr(j+3,6)=="CDATA["){var fe=I.indexOf("]]>",j+9);return ge.startCDATA(),ge.characters(I,j+9,fe-j-9),ge.endCDATA(),fe+3}var Re=te(I,j),be=Re.length;if(be>1&&/!doctype/i.test(Re[0][0])){var ve=Re[1][0],Te=!1,De=!1;be>3&&(/^public$/i.test(Re[2][0])?(Te=Re[3][0],De=be>4&&Re[4][0]):/^system$/i.test(Re[2][0])&&(De=Re[3][0]));var ke=Re[be-1];return ge.startDTD(ve,Te,De),ge.endDTD(),ke.index+ke[0].length}}return-1}function se(I,j,ge){var de=I.indexOf("?>",j);if(de){var ie=I.substring(j,de).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return ie?(ie[0].length,ge.processingInstruction(ie[1],ie[2]),de+2):-1}return-1}function q(){this.attributeNames={}}q.prototype={setTagName:function(I){if(!s.test(I))throw new Error("invalid tagName:"+I);this.tagName=I},addValue:function(I,j,ge){if(!s.test(I))throw new Error("invalid attribute:"+I);this.attributeNames[I]=this.length,this[this.length++]={qName:I,value:j,offset:ge}},length:0,getLocalName:function(I){return this[I].localName},getLocator:function(I){return this[I].locator},getQName:function(I){return this[I].qName},getURI:function(I){return this[I].uri},getValue:function(I){return this[I].value}};function te(I,j){var ge,de=[],ie=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(ie.lastIndex=j,ie.exec(I);ge=ie.exec(I);)if(de.push(ge),ge[1])return de}return bb.XMLReader=D,bb.ParseError=C,bb}var E2;function ZL(){if(E2)return Bm;E2=1;var n=b0(),e=Iw(),i=YL(),s=QL(),o=e.DOMImplementation,l=n.NAMESPACE,c=s.ParseError,d=s.XMLReader;function m(U){return U.replace(/\r[\n\u0085]/g,`
`).replace(/[\r\u0085\u2028]/g,`
`)}function p(U){this.options=U||{locator:{}}}p.prototype.parseFromString=function(U,M){var B=this.options,L=new d,H=B.domBuilder||new E,Q=B.errorHandler,se=B.locator,q=B.xmlns||{},te=/\/x?html?$/.test(M),I=te?i.HTML_ENTITIES:i.XML_ENTITIES;se&&H.setDocumentLocator(se),L.errorHandler=v(Q,H,se),L.domBuilder=B.domBuilder||H,te&&(q[""]=l.HTML),q.xml=q.xml||l.XML;var j=B.normalizeLineEndings||m;return U&&typeof U=="string"?L.parse(j(U),q,I):L.errorHandler.error("invalid doc source"),H.doc};function v(U,M,B){if(!U){if(M instanceof E)return M;U=M}var L={},H=U instanceof Function;B=B||{};function Q(se){var q=U[se];!q&&H&&(q=U.length==2?function(te){U(se,te)}:U),L[se]=q&&function(te){q("[xmldom "+se+"]	"+te+D(B))}||function(){}}return Q("warning"),Q("error"),Q("fatalError"),L}function E(){this.cdata=!1}function C(U,M){M.lineNumber=U.lineNumber,M.columnNumber=U.columnNumber}E.prototype={startDocument:function(){this.doc=new o().createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(U,M,B,L){var H=this.doc,Q=H.createElementNS(U,B||M),se=L.length;A(this,Q),this.currentElement=Q,this.locator&&C(this.locator,Q);for(var q=0;q<se;q++){var U=L.getURI(q),te=L.getValue(q),B=L.getQName(q),I=H.createAttributeNS(U,B);this.locator&&C(L.getLocator(q),I),I.value=I.nodeValue=te,Q.setAttributeNode(I)}},endElement:function(U,M,B){var L=this.currentElement;L.tagName,this.currentElement=L.parentNode},startPrefixMapping:function(U,M){},endPrefixMapping:function(U){},processingInstruction:function(U,M){var B=this.doc.createProcessingInstruction(U,M);this.locator&&C(this.locator,B),A(this,B)},ignorableWhitespace:function(U,M,B){},characters:function(U,M,B){if(U=P.apply(this,arguments),U){if(this.cdata)var L=this.doc.createCDATASection(U);else var L=this.doc.createTextNode(U);this.currentElement?this.currentElement.appendChild(L):/^\s*$/.test(U)&&this.doc.appendChild(L),this.locator&&C(this.locator,L)}},skippedEntity:function(U){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(U){(this.locator=U)&&(U.lineNumber=0)},comment:function(U,M,B){U=P.apply(this,arguments);var L=this.doc.createComment(U);this.locator&&C(this.locator,L),A(this,L)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(U,M,B){var L=this.doc.implementation;if(L&&L.createDocumentType){var H=L.createDocumentType(U,M,B);this.locator&&C(this.locator,H),A(this,H),this.doc.doctype=H}},warning:function(U){console.warn("[xmldom warning]	"+U,D(this.locator))},error:function(U){console.error("[xmldom error]	"+U,D(this.locator))},fatalError:function(U){throw new c(U,this.locator)}};function D(U){if(U)return`
@`+(U.systemId||"")+"#[line:"+U.lineNumber+",col:"+U.columnNumber+"]"}function P(U,M,B){return typeof U=="string"?U.substr(M,B):U.length>=M+B||M?new java.lang.String(U,M,B)+"":U}"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(U){E.prototype[U]=function(){return null}});function A(U,M){U.currentElement?U.currentElement.appendChild(M):U.doc.appendChild(M)}return Bm.__DOMHandler=E,Bm.normalizeLineEndings=m,Bm.DOMParser=p,Bm}var N2;function WL(){if(N2)return Pm;N2=1;var n=Iw();return Pm.DOMImplementation=n.DOMImplementation,Pm.XMLSerializer=n.XMLSerializer,Pm.DOMParser=ZL().DOMParser,Pm}var KL=WL();/*! @name mpd-parser @version 1.3.1 @license Apache-2.0 */const C2=n=>!!n&&typeof n=="object",Ui=(...n)=>n.reduce((e,i)=>(typeof i!="object"||Object.keys(i).forEach(s=>{Array.isArray(e[s])&&Array.isArray(i[s])?e[s]=e[s].concat(i[s]):C2(e[s])&&C2(i[s])?e[s]=Ui(e[s],i[s]):e[s]=i[s]}),e),{}),Lw=n=>Object.keys(n).map(e=>n[e]),JL=(n,e)=>{const i=[];for(let s=n;s<e;s++)i.push(s);return i},zh=n=>n.reduce((e,i)=>e.concat(i),[]),Pw=n=>{if(!n.length)return[];const e=[];for(let i=0;i<n.length;i++)e.push(n[i]);return e},e8=(n,e)=>n.reduce((i,s,o)=>(s[e]&&i.push(o),i),[]),t8=(n,e)=>Lw(n.reduce((i,s)=>(s.forEach(o=>{i[e(o)]=o}),i),{}));var Hh={INVALID_NUMBER_OF_PERIOD:"INVALID_NUMBER_OF_PERIOD",DASH_EMPTY_MANIFEST:"DASH_EMPTY_MANIFEST",DASH_INVALID_XML:"DASH_INVALID_XML",NO_BASE_URL:"NO_BASE_URL",SEGMENT_TIME_UNSPECIFIED:"SEGMENT_TIME_UNSPECIFIED",UNSUPPORTED_UTC_TIMING_SCHEME:"UNSUPPORTED_UTC_TIMING_SCHEME"};const np=({baseUrl:n="",source:e="",range:i="",indexRange:s=""})=>{const o={uri:e,resolvedUri:g0(n||"",e)};if(i||s){const c=(i||s).split("-");let d=W.BigInt?W.BigInt(c[0]):parseInt(c[0],10),m=W.BigInt?W.BigInt(c[1]):parseInt(c[1],10);d<Number.MAX_SAFE_INTEGER&&typeof d=="bigint"&&(d=Number(d)),m<Number.MAX_SAFE_INTEGER&&typeof m=="bigint"&&(m=Number(m));let p;typeof m=="bigint"||typeof d=="bigint"?p=W.BigInt(m)-W.BigInt(d)+W.BigInt(1):p=m-d+1,typeof p=="bigint"&&p<Number.MAX_SAFE_INTEGER&&(p=Number(p)),o.byterange={length:p,offset:d}}return o},n8=n=>{let e;return typeof n.offset=="bigint"||typeof n.length=="bigint"?e=W.BigInt(n.offset)+W.BigInt(n.length)-W.BigInt(1):e=n.offset+n.length-1,`${n.offset}-${e}`},D2=n=>(n&&typeof n!="number"&&(n=parseInt(n,10)),isNaN(n)?null:n),i8={static(n){const{duration:e,timescale:i=1,sourceDuration:s,periodDuration:o}=n,l=D2(n.endNumber),c=e/i;return typeof l=="number"?{start:0,end:l}:typeof o=="number"?{start:0,end:o/c}:{start:0,end:s/c}},dynamic(n){const{NOW:e,clientOffset:i,availabilityStartTime:s,timescale:o=1,duration:l,periodStart:c=0,minimumUpdatePeriod:d=0,timeShiftBufferDepth:m=1/0}=n,p=D2(n.endNumber),v=(e+i)/1e3,E=s+c,D=v+d-E,P=Math.ceil(D*o/l),A=Math.floor((v-E-m)*o/l),U=Math.floor((v-E)*o/l);return{start:Math.max(0,A),end:typeof p=="number"?p:Math.min(P,U)}}},r8=n=>e=>{const{duration:i,timescale:s=1,periodStart:o,startNumber:l=1}=n;return{number:l+e,duration:i/s,timeline:o,time:e*i}},N1=n=>{const{type:e,duration:i,timescale:s=1,periodDuration:o,sourceDuration:l}=n,{start:c,end:d}=i8[e](n),m=JL(c,d).map(r8(n));if(e==="static"){const p=m.length-1,v=typeof o=="number"?o:l;m[p].duration=v-i/s*p}return m},Bw=n=>{const{baseUrl:e,initialization:i={},sourceDuration:s,indexRange:o="",periodStart:l,presentationTime:c,number:d=0,duration:m}=n;if(!e)throw new Error(Hh.NO_BASE_URL);const p=np({baseUrl:e,source:i.sourceURL,range:i.range}),v=np({baseUrl:e,source:e,indexRange:o});if(v.map=p,m){const E=N1(n);E.length&&(v.duration=E[0].duration,v.timeline=E[0].timeline)}else s&&(v.duration=s,v.timeline=l);return v.presentationTime=c||l,v.number=d,[v]},C1=(n,e,i)=>{const s=n.sidx.map?n.sidx.map:null,o=n.sidx.duration,l=n.timeline||0,c=n.sidx.byterange,d=c.offset+c.length,m=e.timescale,p=e.references.filter(U=>U.referenceType!==1),v=[],E=n.endList?"static":"dynamic",C=n.sidx.timeline;let D=C,P=n.mediaSequence||0,A;typeof e.firstOffset=="bigint"?A=W.BigInt(d)+e.firstOffset:A=d+e.firstOffset;for(let U=0;U<p.length;U++){const M=e.references[U],B=M.referencedSize,L=M.subsegmentDuration;let H;typeof A=="bigint"?H=A+W.BigInt(B)-W.BigInt(1):H=A+B-1;const Q=`${A}-${H}`,q=Bw({baseUrl:i,timescale:m,timeline:l,periodStart:C,presentationTime:D,number:P,duration:L,sourceDuration:o,indexRange:Q,type:E})[0];s&&(q.map=s),v.push(q),typeof A=="bigint"?A+=W.BigInt(B):A+=B,D+=L/m,P++}return n.segments=v,n},s8=["AUDIO","SUBTITLES"],a8=1/60,jw=n=>t8(n,({timeline:e})=>e).sort((e,i)=>e.timeline>i.timeline?1:-1),o8=(n,e)=>{for(let i=0;i<n.length;i++)if(n[i].attributes.NAME===e)return n[i];return null},A2=n=>{let e=[];return XL(n,s8,(i,s,o,l)=>{e=e.concat(i.playlists||[])}),e},w2=({playlist:n,mediaSequence:e})=>{n.mediaSequence=e,n.segments.forEach((i,s)=>{i.number=n.mediaSequence+s})},l8=({oldPlaylists:n,newPlaylists:e,timelineStarts:i})=>{e.forEach(s=>{s.discontinuitySequence=i.findIndex(function({timeline:m}){return m===s.timeline});const o=o8(n,s.attributes.NAME);if(!o||s.sidx)return;const l=s.segments[0],c=o.segments.findIndex(function(m){return Math.abs(m.presentationTime-l.presentationTime)<a8});if(c===-1){w2({playlist:s,mediaSequence:o.mediaSequence+o.segments.length}),s.segments[0].discontinuity=!0,s.discontinuityStarts.unshift(0),(!o.segments.length&&s.timeline>o.timeline||o.segments.length&&s.timeline>o.segments[o.segments.length-1].timeline)&&s.discontinuitySequence--;return}o.segments[c].discontinuity&&!l.discontinuity&&(l.discontinuity=!0,s.discontinuityStarts.unshift(0),s.discontinuitySequence--),w2({playlist:s,mediaSequence:o.segments[c].number})})},u8=({oldManifest:n,newManifest:e})=>{const i=n.playlists.concat(A2(n)),s=e.playlists.concat(A2(e));return e.timelineStarts=jw([n.timelineStarts,e.timelineStarts]),l8({oldPlaylists:i,newPlaylists:s,timelineStarts:e.timelineStarts}),e},y0=n=>n&&n.uri+"-"+n8(n.byterange),ax=n=>{const e=n.reduce(function(s,o){return s[o.attributes.baseUrl]||(s[o.attributes.baseUrl]=[]),s[o.attributes.baseUrl].push(o),s},{});let i=[];return Object.values(e).forEach(s=>{const o=Lw(s.reduce((l,c)=>{const d=c.attributes.id+(c.attributes.lang||"");return l[d]?(c.segments&&(c.segments[0]&&(c.segments[0].discontinuity=!0),l[d].segments.push(...c.segments)),c.attributes.contentProtection&&(l[d].attributes.contentProtection=c.attributes.contentProtection)):(l[d]=c,l[d].attributes.timelineStarts=[]),l[d].attributes.timelineStarts.push({start:c.attributes.periodStart,timeline:c.attributes.periodStart}),l},{}));i=i.concat(o)}),i.map(s=>(s.discontinuityStarts=e8(s.segments||[],"discontinuity"),s))},D1=(n,e)=>{const i=y0(n.sidx),s=i&&e[i]&&e[i].sidx;return s&&C1(n,s,n.sidx.resolvedUri),n},c8=(n,e={})=>{if(!Object.keys(e).length)return n;for(const i in n)n[i]=D1(n[i],e);return n},d8=({attributes:n,segments:e,sidx:i,mediaSequence:s,discontinuitySequence:o,discontinuityStarts:l},c)=>{const d={attributes:{NAME:n.id,BANDWIDTH:n.bandwidth,CODECS:n.codecs,"PROGRAM-ID":1},uri:"",endList:n.type==="static",timeline:n.periodStart,resolvedUri:n.baseUrl||"",targetDuration:n.duration,discontinuitySequence:o,discontinuityStarts:l,timelineStarts:n.timelineStarts,mediaSequence:s,segments:e};return n.contentProtection&&(d.contentProtection=n.contentProtection),n.serviceLocation&&(d.attributes.serviceLocation=n.serviceLocation),i&&(d.sidx=i),c&&(d.attributes.AUDIO="audio",d.attributes.SUBTITLES="subs"),d},h8=({attributes:n,segments:e,mediaSequence:i,discontinuityStarts:s,discontinuitySequence:o})=>{typeof e>"u"&&(e=[{uri:n.baseUrl,timeline:n.periodStart,resolvedUri:n.baseUrl||"",duration:n.sourceDuration,number:0}],n.duration=n.sourceDuration);const l={NAME:n.id,BANDWIDTH:n.bandwidth,"PROGRAM-ID":1};n.codecs&&(l.CODECS=n.codecs);const c={attributes:l,uri:"",endList:n.type==="static",timeline:n.periodStart,resolvedUri:n.baseUrl||"",targetDuration:n.duration,timelineStarts:n.timelineStarts,discontinuityStarts:s,discontinuitySequence:o,mediaSequence:i,segments:e};return n.serviceLocation&&(c.attributes.serviceLocation=n.serviceLocation),c},f8=(n,e={},i=!1)=>{let s;const o=n.reduce((l,c)=>{const d=c.attributes.role&&c.attributes.role.value||"",m=c.attributes.lang||"";let p=c.attributes.label||"main";if(m&&!c.attributes.label){const E=d?` (${d})`:"";p=`${c.attributes.lang}${E}`}l[p]||(l[p]={language:m,autoselect:!0,default:d==="main",playlists:[],uri:""});const v=D1(d8(c,i),e);return l[p].playlists.push(v),typeof s>"u"&&d==="main"&&(s=c,s.default=!0),l},{});if(!s){const l=Object.keys(o)[0];o[l].default=!0}return o},m8=(n,e={})=>n.reduce((i,s)=>{const o=s.attributes.label||s.attributes.lang||"text",l=s.attributes.lang||"und";return i[o]||(i[o]={language:l,default:!1,autoselect:!1,playlists:[],uri:""}),i[o].playlists.push(D1(h8(s),e)),i},{}),p8=n=>n.reduce((e,i)=>(i&&i.forEach(s=>{const{channel:o,language:l}=s;e[l]={autoselect:!1,default:!1,instreamId:o,language:l},s.hasOwnProperty("aspectRatio")&&(e[l].aspectRatio=s.aspectRatio),s.hasOwnProperty("easyReader")&&(e[l].easyReader=s.easyReader),s.hasOwnProperty("3D")&&(e[l]["3D"]=s["3D"])}),e),{}),g8=({attributes:n,segments:e,sidx:i,discontinuityStarts:s})=>{const o={attributes:{NAME:n.id,AUDIO:"audio",SUBTITLES:"subs",RESOLUTION:{width:n.width,height:n.height},CODECS:n.codecs,BANDWIDTH:n.bandwidth,"PROGRAM-ID":1},uri:"",endList:n.type==="static",timeline:n.periodStart,resolvedUri:n.baseUrl||"",targetDuration:n.duration,discontinuityStarts:s,timelineStarts:n.timelineStarts,segments:e};return n.frameRate&&(o.attributes["FRAME-RATE"]=n.frameRate),n.contentProtection&&(o.contentProtection=n.contentProtection),n.serviceLocation&&(o.attributes.serviceLocation=n.serviceLocation),i&&(o.sidx=i),o},b8=({attributes:n})=>n.mimeType==="video/mp4"||n.mimeType==="video/webm"||n.contentType==="video",y8=({attributes:n})=>n.mimeType==="audio/mp4"||n.mimeType==="audio/webm"||n.contentType==="audio",v8=({attributes:n})=>n.mimeType==="text/vtt"||n.contentType==="text",_8=(n,e)=>{n.forEach(i=>{i.mediaSequence=0,i.discontinuitySequence=e.findIndex(function({timeline:s}){return s===i.timeline}),i.segments&&i.segments.forEach((s,o)=>{s.number=o})})},R2=n=>n?Object.keys(n).reduce((e,i)=>{const s=n[i];return e.concat(s.playlists)},[]):[],x8=({dashPlaylists:n,locations:e,contentSteering:i,sidxMapping:s={},previousManifest:o,eventStream:l})=>{if(!n.length)return{};const{sourceDuration:c,type:d,suggestedPresentationDelay:m,minimumUpdatePeriod:p}=n[0].attributes,v=ax(n.filter(b8)).map(g8),E=ax(n.filter(y8)),C=ax(n.filter(v8)),D=n.map(H=>H.attributes.captionServices).filter(Boolean),P={allowCache:!0,discontinuityStarts:[],segments:[],endList:!0,mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:"",duration:c,playlists:c8(v,s)};p>=0&&(P.minimumUpdatePeriod=p*1e3),e&&(P.locations=e),i&&(P.contentSteering=i),d==="dynamic"&&(P.suggestedPresentationDelay=m),l&&l.length>0&&(P.eventStream=l);const A=P.playlists.length===0,U=E.length?f8(E,s,A):null,M=C.length?m8(C,s):null,B=v.concat(R2(U),R2(M)),L=B.map(({timelineStarts:H})=>H);return P.timelineStarts=jw(L),_8(B,P.timelineStarts),U&&(P.mediaGroups.AUDIO.audio=U),M&&(P.mediaGroups.SUBTITLES.subs=M),D.length&&(P.mediaGroups["CLOSED-CAPTIONS"].cc=p8(D)),o?u8({oldManifest:o,newManifest:P}):P},T8=(n,e,i)=>{const{NOW:s,clientOffset:o,availabilityStartTime:l,timescale:c=1,periodStart:d=0,minimumUpdatePeriod:m=0}=n,p=(s+o)/1e3,v=l+d,C=p+m-v;return Math.ceil((C*c-e)/i)},Uw=(n,e)=>{const{type:i,minimumUpdatePeriod:s=0,media:o="",sourceDuration:l,timescale:c=1,startNumber:d=1,periodStart:m}=n,p=[];let v=-1;for(let E=0;E<e.length;E++){const C=e[E],D=C.d,P=C.r||0,A=C.t||0;v<0&&(v=A),A&&A>v&&(v=A);let U;if(P<0){const L=E+1;L===e.length?i==="dynamic"&&s>0&&o.indexOf("$Number$")>0?U=T8(n,v,D):U=(l*c-v)/D:U=(e[L].t-v)/D}else U=P+1;const M=d+p.length+U;let B=d+p.length;for(;B<M;)p.push({number:B,duration:D/c,time:v,timeline:m}),v+=D,B++}return p},S8=/\$([A-z]*)(?:(%0)([0-9]+)d)?\$/g,E8=n=>(e,i,s,o)=>{if(e==="$$")return"$";if(typeof n[i]>"u")return e;const l=""+n[i];return i==="RepresentationID"||(s?o=parseInt(o,10):o=1,l.length>=o)?l:`${new Array(o-l.length+1).join("0")}${l}`},k2=(n,e)=>n.replace(S8,E8(e)),N8=(n,e)=>!n.duration&&!e?[{number:n.startNumber||1,duration:n.sourceDuration,time:0,timeline:n.periodStart}]:n.duration?N1(n):Uw(n,e),C8=(n,e)=>{const i={RepresentationID:n.id,Bandwidth:n.bandwidth||0},{initialization:s={sourceURL:"",range:""}}=n,o=np({baseUrl:n.baseUrl,source:k2(s.sourceURL,i),range:s.range});return N8(n,e).map(c=>{i.Number=c.number,i.Time=c.time;const d=k2(n.media||"",i),m=n.timescale||1,p=n.presentationTimeOffset||0,v=n.periodStart+(c.time-p)/m;return{uri:d,timeline:c.timeline,duration:c.duration,resolvedUri:g0(n.baseUrl||"",d),map:o,number:c.number,presentationTime:v}})},D8=(n,e)=>{const{baseUrl:i,initialization:s={}}=n,o=np({baseUrl:i,source:s.sourceURL,range:s.range}),l=np({baseUrl:i,source:e.media,range:e.mediaRange});return l.map=o,l},A8=(n,e)=>{const{duration:i,segmentUrls:s=[],periodStart:o}=n;if(!i&&!e||i&&e)throw new Error(Hh.SEGMENT_TIME_UNSPECIFIED);const l=s.map(m=>D8(n,m));let c;return i&&(c=N1(n)),e&&(c=Uw(n,e)),c.map((m,p)=>{if(l[p]){const v=l[p],E=n.timescale||1,C=n.presentationTimeOffset||0;return v.timeline=m.timeline,v.duration=m.duration,v.number=m.number,v.presentationTime=o+(m.time-C)/E,v}}).filter(m=>m)},w8=({attributes:n,segmentInfo:e})=>{let i,s;e.template?(s=C8,i=Ui(n,e.template)):e.base?(s=Bw,i=Ui(n,e.base)):e.list&&(s=A8,i=Ui(n,e.list));const o={attributes:n};if(!s)return o;const l=s(i,e.segmentTimeline);if(i.duration){const{duration:c,timescale:d=1}=i;i.duration=c/d}else l.length?i.duration=l.reduce((c,d)=>Math.max(c,Math.ceil(d.duration)),0):i.duration=0;return o.attributes=i,o.segments=l,e.base&&i.indexRange&&(o.sidx=l[0],o.segments=[]),o},R8=n=>n.map(w8),Bn=(n,e)=>Pw(n.childNodes).filter(({tagName:i})=>i===e),fp=n=>n.textContent.trim(),k8=n=>parseFloat(n.split("/").reduce((e,i)=>e/i)),Sh=n=>{const d=/P(?:(\d*)Y)?(?:(\d*)M)?(?:(\d*)D)?(?:T(?:(\d*)H)?(?:(\d*)M)?(?:([\d.]*)S)?)?/.exec(n);if(!d)return 0;const[m,p,v,E,C,D]=d.slice(1);return parseFloat(m||0)*31536e3+parseFloat(p||0)*2592e3+parseFloat(v||0)*86400+parseFloat(E||0)*3600+parseFloat(C||0)*60+parseFloat(D||0)},O8=n=>(/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(n)&&(n+="Z"),Date.parse(n)),O2={mediaPresentationDuration(n){return Sh(n)},availabilityStartTime(n){return O8(n)/1e3},minimumUpdatePeriod(n){return Sh(n)},suggestedPresentationDelay(n){return Sh(n)},type(n){return n},timeShiftBufferDepth(n){return Sh(n)},start(n){return Sh(n)},width(n){return parseInt(n,10)},height(n){return parseInt(n,10)},bandwidth(n){return parseInt(n,10)},frameRate(n){return k8(n)},startNumber(n){return parseInt(n,10)},timescale(n){return parseInt(n,10)},presentationTimeOffset(n){return parseInt(n,10)},duration(n){const e=parseInt(n,10);return isNaN(e)?Sh(n):e},d(n){return parseInt(n,10)},t(n){return parseInt(n,10)},r(n){return parseInt(n,10)},presentationTime(n){return parseInt(n,10)},DEFAULT(n){return n}},yi=n=>n&&n.attributes?Pw(n.attributes).reduce((e,i)=>{const s=O2[i.name]||O2.DEFAULT;return e[i.name]=s(i.value),e},{}):{},M8={"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime","urn:mpeg:dash:mp4protection:2011":"mp4protection"},v0=(n,e)=>e.length?zh(n.map(function(i){return e.map(function(s){const o=fp(s),l=g0(i.baseUrl,o),c=Ui(yi(s),{baseUrl:l});return l!==o&&!c.serviceLocation&&i.serviceLocation&&(c.serviceLocation=i.serviceLocation),c})})):n,A1=n=>{const e=Bn(n,"SegmentTemplate")[0],i=Bn(n,"SegmentList")[0],s=i&&Bn(i,"SegmentURL").map(E=>Ui({tag:"SegmentURL"},yi(E))),o=Bn(n,"SegmentBase")[0],l=i||e,c=l&&Bn(l,"SegmentTimeline")[0],d=i||o||e,m=d&&Bn(d,"Initialization")[0],p=e&&yi(e);p&&m?p.initialization=m&&yi(m):p&&p.initialization&&(p.initialization={sourceURL:p.initialization});const v={template:p,segmentTimeline:c&&Bn(c,"S").map(E=>yi(E)),list:i&&Ui(yi(i),{segmentUrls:s,initialization:yi(m)}),base:o&&Ui(yi(o),{initialization:yi(m)})};return Object.keys(v).forEach(E=>{v[E]||delete v[E]}),v},I8=(n,e,i)=>s=>{const o=Bn(s,"BaseURL"),l=v0(e,o),c=Ui(n,yi(s)),d=A1(s);return l.map(m=>({segmentInfo:Ui(i,d),attributes:Ui(c,m)}))},L8=n=>n.reduce((e,i)=>{const s=yi(i);s.schemeIdUri&&(s.schemeIdUri=s.schemeIdUri.toLowerCase());const o=M8[s.schemeIdUri];if(o){e[o]={attributes:s};const l=Bn(i,"cenc:pssh")[0];if(l){const c=fp(l);e[o].pssh=c&&Aw(c)}}return e},{}),P8=n=>{if(n.schemeIdUri==="urn:scte:dash:cc:cea-608:2015")return(typeof n.value!="string"?[]:n.value.split(";")).map(i=>{let s,o;return o=i,/^CC\d=/.test(i)?[s,o]=i.split("="):/^CC\d$/.test(i)&&(s=i),{channel:s,language:o}});if(n.schemeIdUri==="urn:scte:dash:cc:cea-708:2015")return(typeof n.value!="string"?[]:n.value.split(";")).map(i=>{const s={channel:void 0,language:void 0,aspectRatio:1,easyReader:0,"3D":0};if(/=/.test(i)){const[o,l=""]=i.split("=");s.channel=o,s.language=i,l.split(",").forEach(c=>{const[d,m]=c.split(":");d==="lang"?s.language=m:d==="er"?s.easyReader=Number(m):d==="war"?s.aspectRatio=Number(m):d==="3D"&&(s["3D"]=Number(m))})}else s.language=i;return s.channel&&(s.channel="SERVICE"+s.channel),s})},B8=n=>zh(Bn(n.node,"EventStream").map(e=>{const i=yi(e),s=i.schemeIdUri;return Bn(e,"Event").map(o=>{const l=yi(o),c=l.presentationTime||0,d=i.timescale||1,m=l.duration||0,p=c/d+n.attributes.start;return{schemeIdUri:s,value:i.value,id:l.id,start:p,end:p+m/d,messageData:fp(o)||l.messageData,contentEncoding:i.contentEncoding,presentationTimeOffset:i.presentationTimeOffset||0}})})),j8=(n,e,i)=>s=>{const o=yi(s),l=v0(e,Bn(s,"BaseURL")),c=Bn(s,"Role")[0],d={role:yi(c)};let m=Ui(n,o,d);const p=Bn(s,"Accessibility")[0],v=P8(yi(p));v&&(m=Ui(m,{captionServices:v}));const E=Bn(s,"Label")[0];if(E&&E.childNodes.length){const U=E.childNodes[0].nodeValue.trim();m=Ui(m,{label:U})}const C=L8(Bn(s,"ContentProtection"));Object.keys(C).length&&(m=Ui(m,{contentProtection:C}));const D=A1(s),P=Bn(s,"Representation"),A=Ui(i,D);return zh(P.map(I8(m,l,A)))},U8=(n,e)=>(i,s)=>{const o=v0(e,Bn(i.node,"BaseURL")),l=Ui(n,{periodStart:i.attributes.start});typeof i.attributes.duration=="number"&&(l.periodDuration=i.attributes.duration);const c=Bn(i.node,"AdaptationSet"),d=A1(i.node);return zh(c.map(j8(l,o,d)))},V8=(n,e)=>{if(n.length>1&&e({type:"warn",message:"The MPD manifest should contain no more than one ContentSteering tag"}),!n.length)return null;const i=Ui({serverURL:fp(n[0])},yi(n[0]));return i.queryBeforeStart=i.queryBeforeStart==="true",i},F8=({attributes:n,priorPeriodAttributes:e,mpdType:i})=>typeof n.start=="number"?n.start:e&&typeof e.start=="number"&&typeof e.duration=="number"?e.start+e.duration:!e&&i==="static"?0:null,z8=(n,e={})=>{const{manifestUri:i="",NOW:s=Date.now(),clientOffset:o=0,eventHandler:l=function(){}}=e,c=Bn(n,"Period");if(!c.length)throw new Error(Hh.INVALID_NUMBER_OF_PERIOD);const d=Bn(n,"Location"),m=yi(n),p=v0([{baseUrl:i}],Bn(n,"BaseURL")),v=Bn(n,"ContentSteering");m.type=m.type||"static",m.sourceDuration=m.mediaPresentationDuration||0,m.NOW=s,m.clientOffset=o,d.length&&(m.locations=d.map(fp));const E=[];return c.forEach((C,D)=>{const P=yi(C),A=E[D-1];P.start=F8({attributes:P,priorPeriodAttributes:A?A.attributes:null,mpdType:m.type}),E.push({node:C,attributes:P})}),{locations:m.locations,contentSteeringInfo:V8(v,l),representationInfo:zh(E.map(U8(m,p))),eventStream:zh(E.map(B8))}},Vw=n=>{if(n==="")throw new Error(Hh.DASH_EMPTY_MANIFEST);const e=new KL.DOMParser;let i,s;try{i=e.parseFromString(n,"application/xml"),s=i&&i.documentElement.tagName==="MPD"?i.documentElement:null}catch{}if(!s||s&&s.getElementsByTagName("parsererror").length>0)throw new Error(Hh.DASH_INVALID_XML);return s},H8=n=>{const e=Bn(n,"UTCTiming")[0];if(!e)return null;const i=yi(e);switch(i.schemeIdUri){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":i.method="HEAD";break;case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":i.method="GET";break;case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":i.method="DIRECT",i.value=Date.parse(i.value);break;case"urn:mpeg:dash:utc:http-ntp:2014":case"urn:mpeg:dash:utc:ntp:2014":case"urn:mpeg:dash:utc:sntp:2014":default:throw new Error(Hh.UNSUPPORTED_UTC_TIMING_SCHEME)}return i},$8=(n,e={})=>{const i=z8(Vw(n),e),s=R8(i.representationInfo);return x8({dashPlaylists:s,locations:i.locations,contentSteering:i.contentSteeringInfo,sidxMapping:e.sidxMapping,previousManifest:e.previousManifest,eventStream:i.eventStream})},q8=n=>H8(Vw(n));var ox,M2;function G8(){if(M2)return ox;M2=1;var n=Math.pow(2,32),e=function(i){var s=new DataView(i.buffer,i.byteOffset,i.byteLength),o;return s.getBigUint64?(o=s.getBigUint64(0),o<Number.MAX_SAFE_INTEGER?Number(o):o):s.getUint32(0)*n+s.getUint32(4)};return ox={getUint64:e,MAX_UINT32:n},ox}var lx,I2;function X8(){if(I2)return lx;I2=1;var n=G8().getUint64,e=function(i){var s=new DataView(i.buffer,i.byteOffset,i.byteLength),o={version:i[0],flags:new Uint8Array(i.subarray(1,4)),references:[],referenceId:s.getUint32(4),timescale:s.getUint32(8)},l=12;o.version===0?(o.earliestPresentationTime=s.getUint32(l),o.firstOffset=s.getUint32(l+4),l+=8):(o.earliestPresentationTime=n(i.subarray(l)),o.firstOffset=n(i.subarray(l+8)),l+=16),l+=2;var c=s.getUint16(l);for(l+=2;c>0;l+=12,c--)o.references.push({referenceType:(i[l]&128)>>>7,referencedSize:s.getUint32(l)&2147483647,subsegmentDuration:s.getUint32(l+4),startsWithSap:!!(i[l+8]&128),sapType:(i[l+8]&112)>>>4,sapDeltaTime:s.getUint32(l+8)&268435455});return o};return lx=e,lx}var Y8=X8();const Q8=Kh(Y8);var Z8=ot([73,68,51]),W8=function(e,i){i===void 0&&(i=0),e=ot(e);var s=e[i+5],o=e[i+6]<<21|e[i+7]<<14|e[i+8]<<7|e[i+9],l=(s&16)>>4;return l?o+20:o+10},Hm=function n(e,i){return i===void 0&&(i=0),e=ot(e),e.length-i<10||!Pn(e,Z8,{offset:i})?i:(i+=W8(e,i),n(e,i))},L2=function(e){return typeof e=="string"?Mw(e):e},K8=function(e){return Array.isArray(e)?e.map(function(i){return L2(i)}):[L2(e)]},J8=function n(e,i,s){s===void 0&&(s=!1),i=K8(i),e=ot(e);var o=[];if(!i.length)return o;for(var l=0;l<e.length;){var c=(e[l]<<24|e[l+1]<<16|e[l+2]<<8|e[l+3])>>>0,d=e.subarray(l+4,l+8);if(c===0)break;var m=l+c;if(m>e.length){if(s)break;m=e.length}var p=e.subarray(l+8,m);Pn(d,i[0])&&(i.length===1?o.push(p):o.push.apply(o,n(p,i.slice(1),s))),l=m}return o},yb={EBML:ot([26,69,223,163]),DocType:ot([66,130]),Segment:ot([24,83,128,103]),SegmentInfo:ot([21,73,169,102]),Tracks:ot([22,84,174,107]),Track:ot([174]),TrackNumber:ot([215]),DefaultDuration:ot([35,227,131]),TrackEntry:ot([174]),TrackType:ot([131]),FlagDefault:ot([136]),CodecID:ot([134]),CodecPrivate:ot([99,162]),VideoTrack:ot([224]),AudioTrack:ot([225]),Cluster:ot([31,67,182,117]),Timestamp:ot([231]),TimestampScale:ot([42,215,177]),BlockGroup:ot([160]),BlockDuration:ot([155]),Block:ot([161]),SimpleBlock:ot([163])},Mx=[128,64,32,16,8,4,2,1],eP=function(e){for(var i=1,s=0;s<Mx.length&&!(e&Mx[s]);s++)i++;return i},zb=function(e,i,s,o){s===void 0&&(s=!0),o===void 0&&(o=!1);var l=eP(e[i]),c=e.subarray(i,i+l);return s&&(c=Array.prototype.slice.call(e,i,i+l),c[0]^=Mx[l-1]),{length:l,value:$L(c,{signed:o}),bytes:c}},P2=function n(e){return typeof e=="string"?e.match(/.{1,2}/g).map(function(i){return n(i)}):typeof e=="number"?qL(e):e},tP=function(e){return Array.isArray(e)?e.map(function(i){return P2(i)}):[P2(e)]},nP=function n(e,i,s){if(s>=i.length)return i.length;var o=zb(i,s,!1);if(Pn(e.bytes,o.bytes))return s;var l=zb(i,s+o.length);return n(e,i,s+l.length+l.value+o.length)},B2=function n(e,i){i=tP(i),e=ot(e);var s=[];if(!i.length)return s;for(var o=0;o<e.length;){var l=zb(e,o,!1),c=zb(e,o+l.length),d=o+l.length+c.length;c.value===127&&(c.value=nP(l,e,d),c.value!==e.length&&(c.value-=d));var m=d+c.value>e.length?e.length:d+c.value,p=e.subarray(d,m);Pn(i[0],l.bytes)&&(i.length===1?s.push(p):s=s.concat(n(p,i.slice(1))));var v=l.length+c.length+p.length;o+=v}return s},iP=ot([0,0,0,1]),rP=ot([0,0,1]),sP=ot([0,0,3]),aP=function(e){for(var i=[],s=1;s<e.length-2;)Pn(e.subarray(s,s+3),sP)&&(i.push(s+2),s++),s++;if(i.length===0)return e;var o=e.length-i.length,l=new Uint8Array(o),c=0;for(s=0;s<o;c++,s++)c===i[0]&&(c++,i.shift()),l[s]=e[c];return l},Fw=function(e,i,s,o){e=ot(e),s=[].concat(s);for(var l=0,c,d=0;l<e.length&&(d<o||c);){var m=void 0;if(Pn(e.subarray(l),iP)?m=4:Pn(e.subarray(l),rP)&&(m=3),!m){l++;continue}if(d++,c)return aP(e.subarray(c,l));var p=void 0;i==="h264"?p=e[l+m]&31:i==="h265"&&(p=e[l+m]>>1&63),s.indexOf(p)!==-1&&(c=l+m),l+=m+(i==="h264"?1:2)}return e.subarray(0,0)},oP=function(e,i,s){return Fw(e,"h264",i,s)},lP=function(e,i,s){return Fw(e,"h265",i,s)},xr={webm:ot([119,101,98,109]),matroska:ot([109,97,116,114,111,115,107,97]),flac:ot([102,76,97,67]),ogg:ot([79,103,103,83]),ac3:ot([11,119]),riff:ot([82,73,70,70]),avi:ot([65,86,73]),wav:ot([87,65,86,69]),"3gp":ot([102,116,121,112,51,103]),mp4:ot([102,116,121,112]),fmp4:ot([115,116,121,112]),mov:ot([102,116,121,112,113,116]),moov:ot([109,111,111,118]),moof:ot([109,111,111,102])},$h={aac:function(e){var i=Hm(e);return Pn(e,[255,16],{offset:i,mask:[255,22]})},mp3:function(e){var i=Hm(e);return Pn(e,[255,2],{offset:i,mask:[255,6]})},webm:function(e){var i=B2(e,[yb.EBML,yb.DocType])[0];return Pn(i,xr.webm)},mkv:function(e){var i=B2(e,[yb.EBML,yb.DocType])[0];return Pn(i,xr.matroska)},mp4:function(e){if($h["3gp"](e)||$h.mov(e))return!1;if(Pn(e,xr.mp4,{offset:4})||Pn(e,xr.fmp4,{offset:4})||Pn(e,xr.moof,{offset:4})||Pn(e,xr.moov,{offset:4}))return!0},mov:function(e){return Pn(e,xr.mov,{offset:4})},"3gp":function(e){return Pn(e,xr["3gp"],{offset:4})},ac3:function(e){var i=Hm(e);return Pn(e,xr.ac3,{offset:i})},ts:function(e){if(e.length<189&&e.length>=1)return e[0]===71;for(var i=0;i+188<e.length&&i<188;){if(e[i]===71&&e[i+188]===71)return!0;i+=1}return!1},flac:function(e){var i=Hm(e);return Pn(e,xr.flac,{offset:i})},ogg:function(e){return Pn(e,xr.ogg)},avi:function(e){return Pn(e,xr.riff)&&Pn(e,xr.avi,{offset:8})},wav:function(e){return Pn(e,xr.riff)&&Pn(e,xr.wav,{offset:8})},h264:function(e){return oP(e,7,3).length},h265:function(e){return lP(e,[32,33],3).length}},Ix=Object.keys($h).filter(function(n){return n!=="ts"&&n!=="h264"&&n!=="h265"}).concat(["ts","h264","h265"]);Ix.forEach(function(n){var e=$h[n];$h[n]=function(i){return e(ot(i))}});var uP=$h,w1=function(e){e=ot(e);for(var i=0;i<Ix.length;i++){var s=Ix[i];if(uP[s](e))return s}return""},cP=function(e){return J8(e,["moof"]).length>0},ux,j2;function dP(){if(j2)return ux;j2=1;var n=9e4,e,i,s,o,l,c,d;return e=function(m){return m*n},i=function(m,p){return m*p},s=function(m){return m/n},o=function(m,p){return m/p},l=function(m,p){return e(o(m,p))},c=function(m,p){return i(s(m),p)},d=function(m,p,v){return s(v?m:m-p)},ux={ONE_SECOND_IN_TS:n,secondsToVideoTs:e,secondsToAudioTs:i,videoTsToSeconds:s,audioTsToSeconds:o,audioTsToVideoTs:l,videoTsToAudioTs:c,metadataTsToSeconds:d},ux}var $c=dP();/**
 * @license
 * Video.js 8.23.4 <http://videojs.com/>
 * Copyright Brightcove, Inc. <https://www.brightcove.com/>
 * Available under Apache License Version 2.0
 * <https://github.com/videojs/video.js/blob/main/LICENSE>
 *
 * Includes vtt.js <https://github.com/mozilla/vtt.js>
 * Available under Apache License Version 2.0
 * <https://github.com/mozilla/vtt.js/blob/main/LICENSE>
 */var Lx="8.23.4";const fl={},Mu=function(n,e){return fl[n]=fl[n]||[],e&&(fl[n]=fl[n].concat(e)),fl[n]},hP=function(n,e){Mu(n,e)},zw=function(n,e){const i=Mu(n).indexOf(e);return i<=-1?!1:(fl[n]=fl[n].slice(),fl[n].splice(i,1),!0)},fP=function(n,e){Mu(n,[].concat(e).map(i=>{const s=(...o)=>(zw(n,s),i(...o));return s}))},Hb={prefixed:!0},Lb=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror","fullscreen"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"]],U2=Lb[0];let $m;for(let n=0;n<Lb.length;n++)if(Lb[n][1]in Ve){$m=Lb[n];break}if($m){for(let n=0;n<$m.length;n++)Hb[U2[n]]=$m[n];Hb.prefixed=$m[0]!==U2[0]}let Vr=[];const mP=(n,e,i)=>(s,o,l)=>{const c=e.levels[o],d=new RegExp(`^(${c})$`);let m=n;if(s!=="log"&&l.unshift(s.toUpperCase()+":"),i&&(m=`%c${n}`,l.unshift(i)),l.unshift(m+":"),Vr){Vr.push([].concat(l));const v=Vr.length-1e3;Vr.splice(0,v>0?v:0)}if(!W.console)return;let p=W.console[s];!p&&s==="debug"&&(p=W.console.info||W.console.log),!(!p||!c||!d.test(s))&&p[Array.isArray(l)?"apply":"call"](W.console,l)};function Px(n,e=":",i=""){let s="info",o;function l(...c){o("log",s,c)}return o=mP(n,l,i),l.createLogger=(c,d,m)=>{const p=d!==void 0?d:e,v=m!==void 0?m:i,E=`${n} ${p} ${c}`;return Px(E,p,v)},l.createNewLogger=(c,d,m)=>Px(c,d,m),l.levels={all:"debug|log|warn|error",off:"",debug:"debug|log|warn|error",info:"log|warn|error",warn:"warn|error",error:"error",DEFAULT:s},l.level=c=>{if(typeof c=="string"){if(!l.levels.hasOwnProperty(c))throw new Error(`"${c}" in not a valid log level`);s=c}return s},l.history=()=>Vr?[].concat(Vr):[],l.history.filter=c=>(Vr||[]).filter(d=>new RegExp(`.*${c}.*`).test(d[0])),l.history.clear=()=>{Vr&&(Vr.length=0)},l.history.disable=()=>{Vr!==null&&(Vr.length=0,Vr=null)},l.history.enable=()=>{Vr===null&&(Vr=[])},l.error=(...c)=>o("error",s,c),l.warn=(...c)=>o("warn",s,c),l.debug=(...c)=>o("debug",s,c),l}const At=Px("VIDEOJS"),Hw=At.createLogger,pP=Object.prototype.toString,$w=function(n){return _o(n)?Object.keys(n):[]};function Rh(n,e){$w(n).forEach(i=>e(n[i],i))}function qw(n,e,i=0){return $w(n).reduce((s,o)=>e(s,n[o],o),i)}function _o(n){return!!n&&typeof n=="object"}function qh(n){return _o(n)&&pP.call(n)==="[object Object]"&&n.constructor===Object}function dn(...n){const e={};return n.forEach(i=>{i&&Rh(i,(s,o)=>{if(!qh(s)){e[o]=s;return}qh(e[o])||(e[o]={}),e[o]=dn(e[o],s)})}),e}function Gw(n={}){const e=[];for(const i in n)if(n.hasOwnProperty(i)){const s=n[i];e.push(s)}return e}function _0(n,e,i,s=!0){const o=c=>Object.defineProperty(n,e,{value:c,enumerable:!0,writable:!0}),l={configurable:!0,enumerable:!0,get(){const c=i();return o(c),c}};return s&&(l.set=o),Object.defineProperty(n,e,l)}var gP=Object.freeze({__proto__:null,each:Rh,reduce:qw,isObject:_o,isPlain:qh,merge:dn,values:Gw,defineLazyProperty:_0});let R1=!1,Xw=null,Sa=!1,Yw,Qw=!1,kh=!1,Oh=!1,xo=!1,k1=null,x0=null;const bP=!!(W.cast&&W.cast.framework&&W.cast.framework.CastReceiverContext);let Zw=null,$b=!1,T0=!1,qb=!1,S0=!1,Gb=!1,Xb=!1,Yb=!1;const ip=!!(tf()&&("ontouchstart"in W||W.navigator.maxTouchPoints||W.DocumentTouch&&W.document instanceof W.DocumentTouch)),Eu=W.navigator&&W.navigator.userAgentData;Eu&&Eu.platform&&Eu.brands&&(Sa=Eu.platform==="Android",kh=!!Eu.brands.find(n=>n.brand==="Microsoft Edge"),Oh=!!Eu.brands.find(n=>n.brand==="Chromium"),xo=!kh&&Oh,k1=x0=(Eu.brands.find(n=>n.brand==="Chromium")||{}).version||null,T0=Eu.platform==="Windows");if(!Oh){const n=W.navigator&&W.navigator.userAgent||"";R1=/iPod/i.test(n),Xw=(function(){const e=n.match(/OS (\d+)_/i);return e&&e[1]?e[1]:null})(),Sa=/Android/i.test(n),Yw=(function(){const e=n.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!e)return null;const i=e[1]&&parseFloat(e[1]),s=e[2]&&parseFloat(e[2]);return i&&s?parseFloat(e[1]+"."+e[2]):i||null})(),Qw=/Firefox/i.test(n),kh=/Edg/i.test(n),Oh=/Chrome/i.test(n)||/CriOS/i.test(n),xo=!kh&&Oh,k1=x0=(function(){const e=n.match(/(Chrome|CriOS)\/(\d+)/);return e&&e[2]?parseFloat(e[2]):null})(),Zw=(function(){const e=/MSIE\s(\d+)\.\d/.exec(n);let i=e&&parseFloat(e[1]);return!i&&/Trident\/7.0/i.test(n)&&/rv:11.0/.test(n)&&(i=11),i})(),Gb=/Tizen/i.test(n),Xb=/Web0S/i.test(n),Yb=Gb||Xb,$b=/Safari/i.test(n)&&!xo&&!Sa&&!kh&&!Yb,T0=/Windows/i.test(n),qb=/iPad/i.test(n)||$b&&ip&&!/iPhone/i.test(n),S0=/iPhone/i.test(n)&&!qb}const Ji=S0||qb||R1,E0=($b||Ji)&&!xo;var Ww=Object.freeze({__proto__:null,get IS_IPOD(){return R1},get IOS_VERSION(){return Xw},get IS_ANDROID(){return Sa},get ANDROID_VERSION(){return Yw},get IS_FIREFOX(){return Qw},get IS_EDGE(){return kh},get IS_CHROMIUM(){return Oh},get IS_CHROME(){return xo},get CHROMIUM_VERSION(){return k1},get CHROME_VERSION(){return x0},IS_CHROMECAST_RECEIVER:bP,get IE_VERSION(){return Zw},get IS_SAFARI(){return $b},get IS_WINDOWS(){return T0},get IS_IPAD(){return qb},get IS_IPHONE(){return S0},get IS_TIZEN(){return Gb},get IS_WEBOS(){return Xb},get IS_SMART_TV(){return Yb},TOUCH_ENABLED:ip,IS_IOS:Ji,IS_ANY_SAFARI:E0});function V2(n){return typeof n=="string"&&!!n.trim()}function yP(n){if(n.indexOf(" ")>=0)throw new Error("class has illegal whitespace characters")}function tf(){return Ve===W.document}function nf(n){return _o(n)&&n.nodeType===1}function Kw(){try{return W.parent!==W.self}catch{return!0}}function Jw(n){return function(e,i){if(!V2(e))return Ve[n](null);V2(i)&&(i=Ve.querySelector(i));const s=nf(i)?i:Ve;return s[n]&&s[n](e)}}function ct(n="div",e={},i={},s){const o=Ve.createElement(n);return Object.getOwnPropertyNames(e).forEach(function(l){const c=e[l];l==="textContent"?Pu(o,c):(o[l]!==c||l==="tabIndex")&&(o[l]=c)}),Object.getOwnPropertyNames(i).forEach(function(l){o.setAttribute(l,i[l])}),s&&O1(o,s),o}function Pu(n,e){return typeof n.textContent>"u"?n.innerText=e:n.textContent=e,n}function Bx(n,e){e.firstChild?e.insertBefore(n,e.firstChild):e.appendChild(n)}function Xm(n,e){return yP(e),n.classList.contains(e)}function Xc(n,...e){return n.classList.add(...e.reduce((i,s)=>i.concat(s.split(/\s+/)),[])),n}function N0(n,...e){return n?(n.classList.remove(...e.reduce((i,s)=>i.concat(s.split(/\s+/)),[])),n):(At.warn("removeClass was called with an element that doesn't exist"),null)}function e3(n,e,i){return typeof i=="function"&&(i=i(n,e)),typeof i!="boolean"&&(i=void 0),e.split(/\s+/).forEach(s=>n.classList.toggle(s,i)),n}function t3(n,e){Object.getOwnPropertyNames(e).forEach(function(i){const s=e[i];s===null||typeof s>"u"||s===!1?n.removeAttribute(i):n.setAttribute(i,s===!0?"":s)})}function Du(n){const e={},i=["autoplay","controls","playsinline","loop","muted","default","defaultMuted"];if(n&&n.attributes&&n.attributes.length>0){const s=n.attributes;for(let o=s.length-1;o>=0;o--){const l=s[o].name;let c=s[o].value;i.includes(l)&&(c=c!==null),e[l]=c}}return e}function n3(n,e){return n.getAttribute(e)}function Gh(n,e,i){n.setAttribute(e,i)}function C0(n,e){n.removeAttribute(e)}function i3(){Ve.body.focus(),Ve.onselectstart=function(){return!1}}function r3(){Ve.onselectstart=function(){return!0}}function Xh(n){if(n&&n.getBoundingClientRect&&n.parentNode){const e=n.getBoundingClientRect(),i={};return["bottom","height","left","right","top","width"].forEach(s=>{e[s]!==void 0&&(i[s]=e[s])}),i.height||(i.height=parseFloat(Yh(n,"height"))),i.width||(i.width=parseFloat(Yh(n,"width"))),i}}function rp(n){if(!n||n&&!n.offsetParent)return{left:0,top:0,width:0,height:0};const e=n.offsetWidth,i=n.offsetHeight;let s=0,o=0;for(;n.offsetParent&&n!==Ve[Hb.fullscreenElement];)s+=n.offsetLeft,o+=n.offsetTop,n=n.offsetParent;return{left:s,top:o,width:e,height:i}}function D0(n,e){const i={x:0,y:0};if(Ji){let v=n;for(;v&&v.nodeName.toLowerCase()!=="html";){const E=Yh(v,"transform");if(/^matrix/.test(E)){const C=E.slice(7,-1).split(/,\s/).map(Number);i.x+=C[4],i.y+=C[5]}else if(/^matrix3d/.test(E)){const C=E.slice(9,-1).split(/,\s/).map(Number);i.x+=C[12],i.y+=C[13]}if(v.assignedSlot&&v.assignedSlot.parentElement&&W.WebKitCSSMatrix){const C=W.getComputedStyle(v.assignedSlot.parentElement).transform,D=new W.WebKitCSSMatrix(C);i.x+=D.m41,i.y+=D.m42}v=v.parentNode||v.host}}const s={},o=rp(e.target),l=rp(n),c=l.width,d=l.height;let m=e.offsetY-(l.top-o.top),p=e.offsetX-(l.left-o.left);return e.changedTouches&&(p=e.changedTouches[0].pageX-l.left,m=e.changedTouches[0].pageY+l.top,Ji&&(p-=i.x,m-=i.y)),s.y=1-Math.max(0,Math.min(1,m/d)),s.x=Math.max(0,Math.min(1,p/c)),s}function s3(n){return _o(n)&&n.nodeType===3}function A0(n){for(;n.firstChild;)n.removeChild(n.firstChild);return n}function a3(n){return typeof n=="function"&&(n=n()),(Array.isArray(n)?n:[n]).map(e=>{if(typeof e=="function"&&(e=e()),nf(e)||s3(e))return e;if(typeof e=="string"&&/\S/.test(e))return Ve.createTextNode(e)}).filter(e=>e)}function O1(n,e){return a3(e).forEach(i=>n.appendChild(i)),n}function o3(n,e){return O1(A0(n),e)}function sp(n){return n.button===void 0&&n.buttons===void 0||n.button===0&&n.buttons===void 0||n.type==="mouseup"&&n.button===0&&n.buttons===0||n.type==="mousedown"&&n.button===0&&n.buttons===0?!0:!(n.button!==0||n.buttons!==1)}const Iu=Jw("querySelector"),l3=Jw("querySelectorAll");function Yh(n,e){if(!n||!e)return"";if(typeof W.getComputedStyle=="function"){let i;try{i=W.getComputedStyle(n)}catch{return""}return i?i.getPropertyValue(e)||i[e]:""}return""}function u3(n){[...Ve.styleSheets].forEach(e=>{try{const i=[...e.cssRules].map(o=>o.cssText).join(""),s=Ve.createElement("style");s.textContent=i,n.document.head.appendChild(s)}catch{const s=Ve.createElement("link");s.rel="stylesheet",s.type=e.type,s.media=e.media.mediaText,s.href=e.href,n.document.head.appendChild(s)}})}var c3=Object.freeze({__proto__:null,isReal:tf,isEl:nf,isInFrame:Kw,createEl:ct,textContent:Pu,prependTo:Bx,hasClass:Xm,addClass:Xc,removeClass:N0,toggleClass:e3,setAttributes:t3,getAttributes:Du,getAttribute:n3,setAttribute:Gh,removeAttribute:C0,blockTextSelection:i3,unblockTextSelection:r3,getBoundingClientRect:Xh,findPosition:rp,getPointerPosition:D0,isTextNode:s3,emptyEl:A0,normalizeContent:a3,appendContent:O1,insertContent:o3,isSingleLeftClick:sp,$:Iu,$$:l3,computedStyle:Yh,copyStyleSheetsToWindow:u3});let d3=!1,jx;const vP=function(){if(jx.options.autoSetup===!1)return;const n=Array.prototype.slice.call(Ve.getElementsByTagName("video")),e=Array.prototype.slice.call(Ve.getElementsByTagName("audio")),i=Array.prototype.slice.call(Ve.getElementsByTagName("video-js")),s=n.concat(e,i);if(s&&s.length>0)for(let o=0,l=s.length;o<l;o++){const c=s[o];if(c&&c.getAttribute)c.player===void 0&&c.getAttribute("data-setup")!==null&&jx(c);else{Ux(1);break}}else d3||Ux(1)};function Ux(n,e){tf()&&(e&&(jx=e),W.setTimeout(vP,n))}function Vx(){d3=!0,W.removeEventListener("load",Vx)}tf()&&(Ve.readyState==="complete"?Vx():W.addEventListener("load",Vx));const h3=function(n){const e=Ve.createElement("style");return e.className=n,e},f3=function(n,e){n.styleSheet?n.styleSheet.cssText=e:n.textContent=e};var Sr=new WeakMap;const _P=3;let xP=_P;function Qs(){return xP++}function F2(n,e){if(!Sr.has(n))return;const i=Sr.get(n);i.handlers[e].length===0&&(delete i.handlers[e],n.removeEventListener?n.removeEventListener(e,i.dispatcher,!1):n.detachEvent&&n.detachEvent("on"+e,i.dispatcher)),Object.getOwnPropertyNames(i.handlers).length<=0&&(delete i.handlers,delete i.dispatcher,delete i.disabled),Object.getOwnPropertyNames(i).length===0&&Sr.delete(n)}function M1(n,e,i,s){i.forEach(function(o){n(e,o,s)})}function w0(n){if(n.fixed_)return n;function e(){return!0}function i(){return!1}if(!n||!n.isPropagationStopped||!n.isImmediatePropagationStopped){const s=n||W.event;n={};const o=["layerX","layerY","keyLocation","path","webkitMovementX","webkitMovementY","mozPressure","mozInputSource"];for(const l in s)o.includes(l)||l==="returnValue"&&s.preventDefault||(n[l]=s[l]);if(n.target||(n.target=n.srcElement||Ve),n.relatedTarget||(n.relatedTarget=n.fromElement===n.target?n.toElement:n.fromElement),n.preventDefault=function(){s.preventDefault&&s.preventDefault(),n.returnValue=!1,s.returnValue=!1,n.defaultPrevented=!0},n.defaultPrevented=!1,n.stopPropagation=function(){s.stopPropagation&&s.stopPropagation(),n.cancelBubble=!0,s.cancelBubble=!0,n.isPropagationStopped=e},n.isPropagationStopped=i,n.stopImmediatePropagation=function(){s.stopImmediatePropagation&&s.stopImmediatePropagation(),n.isImmediatePropagationStopped=e,n.stopPropagation()},n.isImmediatePropagationStopped=i,n.clientX!==null&&n.clientX!==void 0){const l=Ve.documentElement,c=Ve.body;n.pageX=n.clientX+(l&&l.scrollLeft||c&&c.scrollLeft||0)-(l&&l.clientLeft||c&&c.clientLeft||0),n.pageY=n.clientY+(l&&l.scrollTop||c&&c.scrollTop||0)-(l&&l.clientTop||c&&c.clientTop||0)}n.which=n.charCode||n.keyCode,n.button!==null&&n.button!==void 0&&(n.button=n.button&1?0:n.button&4?1:n.button&2?2:0)}return n.fixed_=!0,n}let vb;const TP=function(){if(typeof vb!="boolean"){vb=!1;try{const n=Object.defineProperty({},"passive",{get(){vb=!0}});W.addEventListener("test",null,n),W.removeEventListener("test",null,n)}catch{}}return vb},SP=["touchstart","touchmove"];function ps(n,e,i){if(Array.isArray(e))return M1(ps,n,e,i);Sr.has(n)||Sr.set(n,{});const s=Sr.get(n);if(s.handlers||(s.handlers={}),s.handlers[e]||(s.handlers[e]=[]),i.guid||(i.guid=Qs()),s.handlers[e].push(i),s.dispatcher||(s.disabled=!1,s.dispatcher=function(o,l){if(s.disabled)return;o=w0(o);const c=s.handlers[o.type];if(c){const d=c.slice(0);for(let m=0,p=d.length;m<p&&!o.isImmediatePropagationStopped();m++)try{d[m].call(n,o,l)}catch(v){At.error(v)}}}),s.handlers[e].length===1)if(n.addEventListener){let o=!1;TP()&&SP.indexOf(e)>-1&&(o={passive:!0}),n.addEventListener(e,s.dispatcher,o)}else n.attachEvent&&n.attachEvent("on"+e,s.dispatcher)}function er(n,e,i){if(!Sr.has(n))return;const s=Sr.get(n);if(!s.handlers)return;if(Array.isArray(e))return M1(er,n,e,i);const o=function(c,d){s.handlers[d]=[],F2(c,d)};if(e===void 0){for(const c in s.handlers)Object.prototype.hasOwnProperty.call(s.handlers||{},c)&&o(n,c);return}const l=s.handlers[e];if(l){if(!i){o(n,e);return}if(i.guid)for(let c=0;c<l.length;c++)l[c].guid===i.guid&&l.splice(c--,1);F2(n,e)}}function rf(n,e,i){const s=Sr.has(n)?Sr.get(n):{},o=n.parentNode||n.ownerDocument;if(typeof e=="string"?e={type:e,target:n}:e.target||(e.target=n),e=w0(e),s.dispatcher&&s.dispatcher.call(n,e,i),o&&!e.isPropagationStopped()&&e.bubbles===!0)rf.call(null,o,e,i);else if(!o&&!e.defaultPrevented&&e.target&&e.target[e.type]){Sr.has(e.target)||Sr.set(e.target,{});const l=Sr.get(e.target);e.target[e.type]&&(l.disabled=!0,typeof e.target[e.type]=="function"&&e.target[e.type](),l.disabled=!1)}return!e.defaultPrevented}function R0(n,e,i){if(Array.isArray(e))return M1(R0,n,e,i);const s=function(){er(n,e,s),i.apply(this,arguments)};s.guid=i.guid=i.guid||Qs(),ps(n,e,s)}function I1(n,e,i){const s=function(){er(n,e,s),i.apply(this,arguments)};s.guid=i.guid=i.guid||Qs(),ps(n,e,s)}var EP=Object.freeze({__proto__:null,fixEvent:w0,on:ps,off:er,trigger:rf,one:R0,any:I1});const Zs=30,En=function(n,e,i){e.guid||(e.guid=Qs());const s=e.bind(n);return s.guid=i?i+"_"+e.guid:e.guid,s},To=function(n,e){let i=W.performance.now();return function(...o){const l=W.performance.now();l-i>=e&&(n(...o),i=l)}},m3=function(n,e,i,s=W){let o;const l=()=>{s.clearTimeout(o),o=null},c=function(){const d=this,m=arguments;let p=function(){o=null,p=null,i||n.apply(d,m)};!o&&i&&n.apply(d,m),s.clearTimeout(o),o=s.setTimeout(p,e)};return c.cancel=l,c};var NP=Object.freeze({__proto__:null,UPDATE_REFRESH_INTERVAL:Zs,bind_:En,throttle:To,debounce:m3});let jm;class gs{on(e,i){const s=this.addEventListener;this.addEventListener=()=>{},ps(this,e,i),this.addEventListener=s}off(e,i){er(this,e,i)}one(e,i){const s=this.addEventListener;this.addEventListener=()=>{},R0(this,e,i),this.addEventListener=s}any(e,i){const s=this.addEventListener;this.addEventListener=()=>{},I1(this,e,i),this.addEventListener=s}trigger(e){const i=e.type||e;typeof e=="string"&&(e={type:i}),e=w0(e),this.allowedEvents_[i]&&this["on"+i]&&this["on"+i](e),rf(this,e)}queueTrigger(e){jm||(jm=new Map);const i=e.type||e;let s=jm.get(this);s||(s=new Map,jm.set(this,s));const o=s.get(i);s.delete(i),W.clearTimeout(o);const l=W.setTimeout(()=>{s.delete(i),s.size===0&&(s=null,jm.delete(this)),this.trigger(e)},0);s.set(i,l)}}gs.prototype.allowedEvents_={};gs.prototype.addEventListener=gs.prototype.on;gs.prototype.removeEventListener=gs.prototype.off;gs.prototype.dispatchEvent=gs.prototype.trigger;const k0=n=>typeof n.name=="function"?n.name():typeof n.name=="string"?n.name:n.name_?n.name_:n.constructor&&n.constructor.name?n.constructor.name:typeof n,bl=n=>n instanceof gs||!!n.eventBusEl_&&["on","one","off","trigger"].every(e=>typeof n[e]=="function"),CP=(n,e)=>{bl(n)?e():(n.eventedCallbacks||(n.eventedCallbacks=[]),n.eventedCallbacks.push(e))},Fx=n=>typeof n=="string"&&/\S/.test(n)||Array.isArray(n)&&!!n.length,Qb=(n,e,i)=>{if(!n||!n.nodeName&&!bl(n))throw new Error(`Invalid target for ${k0(e)}#${i}; must be a DOM node or evented object.`)},p3=(n,e,i)=>{if(!Fx(n))throw new Error(`Invalid event type for ${k0(e)}#${i}; must be a non-empty string or array.`)},g3=(n,e,i)=>{if(typeof n!="function")throw new Error(`Invalid listener for ${k0(e)}#${i}; must be a function.`)},cx=(n,e,i)=>{const s=e.length<3||e[0]===n||e[0]===n.eventBusEl_;let o,l,c;return s?(o=n.eventBusEl_,e.length>=3&&e.shift(),[l,c]=e):(o=e[0],l=e[1],c=e[2]),Qb(o,n,i),p3(l,n,i),g3(c,n,i),c=En(n,c),{isTargetingSelf:s,target:o,type:l,listener:c}},Fc=(n,e,i,s)=>{Qb(n,n,e),n.nodeName?EP[e](n,i,s):n[e](i,s)},DP={on(...n){const{isTargetingSelf:e,target:i,type:s,listener:o}=cx(this,n,"on");if(Fc(i,"on",s,o),!e){const l=()=>this.off(i,s,o);l.guid=o.guid;const c=()=>this.off("dispose",l);c.guid=o.guid,Fc(this,"on","dispose",l),Fc(i,"on","dispose",c)}},one(...n){const{isTargetingSelf:e,target:i,type:s,listener:o}=cx(this,n,"one");if(e)Fc(i,"one",s,o);else{const l=(...c)=>{this.off(i,s,l),o.apply(null,c)};l.guid=o.guid,Fc(i,"one",s,l)}},any(...n){const{isTargetingSelf:e,target:i,type:s,listener:o}=cx(this,n,"any");if(e)Fc(i,"any",s,o);else{const l=(...c)=>{this.off(i,s,l),o.apply(null,c)};l.guid=o.guid,Fc(i,"any",s,l)}},off(n,e,i){if(!n||Fx(n))er(this.eventBusEl_,n,e);else{const s=n,o=e;Qb(s,this,"off"),p3(o,this,"off"),g3(i,this,"off"),i=En(this,i),this.off("dispose",i),s.nodeName?(er(s,o,i),er(s,"dispose",i)):bl(s)&&(s.off(o,i),s.off("dispose",i))}},trigger(n,e){Qb(this.eventBusEl_,this,"trigger");const i=n&&typeof n!="string"?n.type:n;if(!Fx(i))throw new Error(`Invalid event type for ${k0(this)}#trigger; must be a non-empty string or object with a type key that has a non-empty value.`);return rf(this.eventBusEl_,n,e)}};function L1(n,e={}){const{eventBusKey:i}=e;if(i){if(!n[i].nodeName)throw new Error(`The eventBusKey "${i}" does not refer to an element.`);n.eventBusEl_=n[i]}else n.eventBusEl_=ct("span",{className:"vjs-event-bus"});return Object.assign(n,DP),n.eventedCallbacks&&n.eventedCallbacks.forEach(s=>{s()}),n.on("dispose",()=>{n.off(),[n,n.el_,n.eventBusEl_].forEach(function(s){s&&Sr.has(s)&&Sr.delete(s)}),W.setTimeout(()=>{n.eventBusEl_=null},0)}),n}const AP={state:{},setState(n){typeof n=="function"&&(n=n());let e;return Rh(n,(i,s)=>{this.state[s]!==i&&(e=e||{},e[s]={from:this.state[s],to:i}),this.state[s]=i}),e&&bl(this)&&this.trigger({changes:e,type:"statechanged"}),e}};function b3(n,e){return Object.assign(n,AP),n.state=Object.assign({},n.state,e),typeof n.handleStateChanged=="function"&&bl(n)&&n.on("statechanged",n.handleStateChanged),n}const Ym=function(n){return typeof n!="string"?n:n.replace(/./,e=>e.toLowerCase())},Wn=function(n){return typeof n!="string"?n:n.replace(/./,e=>e.toUpperCase())},y3=function(n,e){return Wn(n)===Wn(e)};var wP=Object.freeze({__proto__:null,toLowerCase:Ym,toTitleCase:Wn,titleCaseEquals:y3});class Oe{constructor(e,i,s){if(!e&&this.play?this.player_=e=this:this.player_=e,this.isDisposed_=!1,this.parentComponent_=null,this.options_=dn({},this.options_),i=this.options_=dn(this.options_,i),this.id_=i.id||i.el&&i.el.id,!this.id_){const o=e&&e.id&&e.id()||"no_player";this.id_=`${o}_component_${Qs()}`}this.name_=i.name||null,i.el?this.el_=i.el:i.createEl!==!1&&(this.el_=this.createEl()),i.className&&this.el_&&i.className.split(" ").forEach(o=>this.addClass(o)),["on","off","one","any","trigger"].forEach(o=>{this[o]=void 0}),i.evented!==!1&&(L1(this,{eventBusKey:this.el_?"el_":null}),this.handleLanguagechange=this.handleLanguagechange.bind(this),this.on(this.player_,"languagechange",this.handleLanguagechange)),b3(this,this.constructor.defaultState),this.children_=[],this.childIndex_={},this.childNameIndex_={},this.setTimeoutIds_=new Set,this.setIntervalIds_=new Set,this.rafIds_=new Set,this.namedRafs_=new Map,this.clearingTimersOnDispose_=!1,i.initChildren!==!1&&this.initChildren(),this.ready(s),i.reportTouchActivity!==!1&&this.enableTouchActivity()}dispose(e={}){if(!this.isDisposed_){if(this.readyQueue_&&(this.readyQueue_.length=0),this.trigger({type:"dispose",bubbles:!1}),this.isDisposed_=!0,this.children_)for(let i=this.children_.length-1;i>=0;i--)this.children_[i].dispose&&this.children_[i].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.parentComponent_=null,this.el_&&(this.el_.parentNode&&(e.restoreEl?this.el_.parentNode.replaceChild(e.restoreEl,this.el_):this.el_.parentNode.removeChild(this.el_)),this.el_=null),this.player_=null}}isDisposed(){return!!this.isDisposed_}player(){return this.player_}options(e){return e?(this.options_=dn(this.options_,e),this.options_):this.options_}el(){return this.el_}createEl(e,i,s){return ct(e,i,s)}localize(e,i,s=e){const o=this.player_.language&&this.player_.language(),l=this.player_.languages&&this.player_.languages(),c=l&&l[o],d=o&&o.split("-")[0],m=l&&l[d];let p=s;return c&&c[e]?p=c[e]:m&&m[e]&&(p=m[e]),i&&(p=p.replace(/\{(\d+)\}/g,function(v,E){const C=i[E-1];let D=C;return typeof C>"u"&&(D=v),D})),p}handleLanguagechange(){}contentEl(){return this.contentEl_||this.el_}id(){return this.id_}name(){return this.name_}children(){return this.children_}getChildById(e){return this.childIndex_[e]}getChild(e){if(e)return this.childNameIndex_[e]}getDescendant(...e){e=e.reduce((s,o)=>s.concat(o),[]);let i=this;for(let s=0;s<e.length;s++)if(i=i.getChild(e[s]),!i||!i.getChild)return;return i}setIcon(e,i=this.el()){if(!this.player_.options_.experimentalSvgIcons)return;const s="http://www.w3.org/2000/svg",o=ct("span",{className:"vjs-icon-placeholder vjs-svg-icon"},{"aria-hidden":"true"}),l=Ve.createElementNS(s,"svg");l.setAttributeNS(null,"viewBox","0 0 512 512");const c=Ve.createElementNS(s,"use");return l.appendChild(c),c.setAttributeNS(null,"href",`#vjs-icon-${e}`),o.appendChild(l),this.iconIsSet_?i.replaceChild(o,i.querySelector(".vjs-icon-placeholder")):i.appendChild(o),this.iconIsSet_=!0,o}addChild(e,i={},s=this.children_.length){let o,l;if(typeof e=="string"){l=Wn(e);const c=i.componentClass||l;i.name=l;const d=Oe.getComponent(c);if(!d)throw new Error(`Component ${c} does not exist`);if(typeof d!="function")return null;o=new d(this.player_||this,i)}else o=e;if(o.parentComponent_&&o.parentComponent_.removeChild(o),this.children_.splice(s,0,o),o.parentComponent_=this,typeof o.id=="function"&&(this.childIndex_[o.id()]=o),l=l||o.name&&Wn(o.name()),l&&(this.childNameIndex_[l]=o,this.childNameIndex_[Ym(l)]=o),typeof o.el=="function"&&o.el()){let c=null;this.children_[s+1]&&(this.children_[s+1].el_?c=this.children_[s+1].el_:nf(this.children_[s+1])&&(c=this.children_[s+1])),this.contentEl().insertBefore(o.el(),c)}return o}removeChild(e){if(typeof e=="string"&&(e=this.getChild(e)),!e||!this.children_)return;let i=!1;for(let o=this.children_.length-1;o>=0;o--)if(this.children_[o]===e){i=!0,this.children_.splice(o,1);break}if(!i)return;e.parentComponent_=null,this.childIndex_[e.id()]=null,this.childNameIndex_[Wn(e.name())]=null,this.childNameIndex_[Ym(e.name())]=null;const s=e.el();s&&s.parentNode===this.contentEl()&&this.contentEl().removeChild(e.el())}initChildren(){const e=this.options_.children;if(e){const i=this.options_,s=c=>{const d=c.name;let m=c.opts;if(i[d]!==void 0&&(m=i[d]),m===!1)return;m===!0&&(m={}),m.playerOptions=this.options_.playerOptions;const p=this.addChild(d,m);p&&(this[d]=p)};let o;const l=Oe.getComponent("Tech");Array.isArray(e)?o=e:o=Object.keys(e),o.concat(Object.keys(this.options_).filter(function(c){return!o.some(function(d){return typeof d=="string"?c===d:c===d.name})})).map(c=>{let d,m;return typeof c=="string"?(d=c,m=e[d]||this.options_[d]||{}):(d=c.name,m=c),{name:d,opts:m}}).filter(c=>{const d=Oe.getComponent(c.opts.componentClass||Wn(c.name));return d&&!l.isTech(d)}).forEach(s)}}buildCSSClass(){return""}ready(e,i=!1){if(e){if(!this.isReady_){this.readyQueue_=this.readyQueue_||[],this.readyQueue_.push(e);return}i?e.call(this):this.setTimeout(e,1)}}triggerReady(){this.isReady_=!0,this.setTimeout(function(){const e=this.readyQueue_;this.readyQueue_=[],e&&e.length>0&&e.forEach(function(i){i.call(this)},this),this.trigger("ready")},1)}$(e,i){return Iu(e,i||this.contentEl())}$$(e,i){return l3(e,i||this.contentEl())}hasClass(e){return Xm(this.el_,e)}addClass(...e){Xc(this.el_,...e)}removeClass(...e){N0(this.el_,...e)}toggleClass(e,i){e3(this.el_,e,i)}show(){this.removeClass("vjs-hidden")}hide(){this.addClass("vjs-hidden")}lockShowing(){this.addClass("vjs-lock-showing")}unlockShowing(){this.removeClass("vjs-lock-showing")}getAttribute(e){return n3(this.el_,e)}setAttribute(e,i){Gh(this.el_,e,i)}removeAttribute(e){C0(this.el_,e)}width(e,i){return this.dimension("width",e,i)}height(e,i){return this.dimension("height",e,i)}dimensions(e,i){this.width(e,!0),this.height(i)}dimension(e,i,s){if(i!==void 0){(i===null||i!==i)&&(i=0),(""+i).indexOf("%")!==-1||(""+i).indexOf("px")!==-1?this.el_.style[e]=i:i==="auto"?this.el_.style[e]="":this.el_.style[e]=i+"px",s||this.trigger("componentresize");return}if(!this.el_)return 0;const o=this.el_.style[e],l=o.indexOf("px");return parseInt(l!==-1?o.slice(0,l):this.el_["offset"+Wn(e)],10)}currentDimension(e){let i=0;if(e!=="width"&&e!=="height")throw new Error("currentDimension only accepts width or height value");if(i=Yh(this.el_,e),i=parseFloat(i),i===0||isNaN(i)){const s=`offset${Wn(e)}`;i=this.el_[s]}return i}currentDimensions(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}}currentWidth(){return this.currentDimension("width")}currentHeight(){return this.currentDimension("height")}getPositions(){const e=this.el_.getBoundingClientRect(),i={x:e.x,y:e.y,width:e.width,height:e.height,top:e.top,right:e.right,bottom:e.bottom,left:e.left},s={x:e.left+e.width/2,y:e.top+e.height/2,width:0,height:0,top:e.top+e.height/2,right:e.left+e.width/2,bottom:e.top+e.height/2,left:e.left+e.width/2};return{boundingClientRect:i,center:s}}focus(){this.el_.focus()}blur(){this.el_.blur()}handleKeyDown(e){this.player_&&(e.key!=="Tab"&&!(this.player_.options_.playerOptions.spatialNavigation&&this.player_.options_.playerOptions.spatialNavigation.enabled)&&e.stopPropagation(),this.player_.handleKeyDown(e))}handleKeyPress(e){this.handleKeyDown(e)}emitTapEvents(){let e=0,i=null;const s=10,o=200;let l;this.on("touchstart",function(d){d.touches.length===1&&(i={pageX:d.touches[0].pageX,pageY:d.touches[0].pageY},e=W.performance.now(),l=!0)}),this.on("touchmove",function(d){if(d.touches.length>1)l=!1;else if(i){const m=d.touches[0].pageX-i.pageX,p=d.touches[0].pageY-i.pageY;Math.sqrt(m*m+p*p)>s&&(l=!1)}});const c=function(){l=!1};this.on("touchleave",c),this.on("touchcancel",c),this.on("touchend",function(d){i=null,l===!0&&W.performance.now()-e<o&&(d.preventDefault(),this.trigger("tap"))})}enableTouchActivity(){if(!this.player()||!this.player().reportUserActivity)return;const e=En(this.player(),this.player().reportUserActivity);let i;this.on("touchstart",function(){e(),this.clearInterval(i),i=this.setInterval(e,250)});const s=function(o){e(),this.clearInterval(i)};this.on("touchmove",e),this.on("touchend",s),this.on("touchcancel",s)}setTimeout(e,i){var s;return e=En(this,e),this.clearTimersOnDispose_(),s=W.setTimeout(()=>{this.setTimeoutIds_.has(s)&&this.setTimeoutIds_.delete(s),e()},i),this.setTimeoutIds_.add(s),s}clearTimeout(e){return this.setTimeoutIds_.has(e)&&(this.setTimeoutIds_.delete(e),W.clearTimeout(e)),e}setInterval(e,i){e=En(this,e),this.clearTimersOnDispose_();const s=W.setInterval(e,i);return this.setIntervalIds_.add(s),s}clearInterval(e){return this.setIntervalIds_.has(e)&&(this.setIntervalIds_.delete(e),W.clearInterval(e)),e}requestAnimationFrame(e){this.clearTimersOnDispose_();var i;return e=En(this,e),i=W.requestAnimationFrame(()=>{this.rafIds_.has(i)&&this.rafIds_.delete(i),e()}),this.rafIds_.add(i),i}requestNamedAnimationFrame(e,i){this.namedRafs_.has(e)&&this.cancelNamedAnimationFrame(e),this.clearTimersOnDispose_(),i=En(this,i);const s=this.requestAnimationFrame(()=>{i(),this.namedRafs_.has(e)&&this.namedRafs_.delete(e)});return this.namedRafs_.set(e,s),e}cancelNamedAnimationFrame(e){this.namedRafs_.has(e)&&(this.cancelAnimationFrame(this.namedRafs_.get(e)),this.namedRafs_.delete(e))}cancelAnimationFrame(e){return this.rafIds_.has(e)&&(this.rafIds_.delete(e),W.cancelAnimationFrame(e)),e}clearTimersOnDispose_(){this.clearingTimersOnDispose_||(this.clearingTimersOnDispose_=!0,this.one("dispose",()=>{[["namedRafs_","cancelNamedAnimationFrame"],["rafIds_","cancelAnimationFrame"],["setTimeoutIds_","clearTimeout"],["setIntervalIds_","clearInterval"]].forEach(([e,i])=>{this[e].forEach((s,o)=>this[i](o))}),this.clearingTimersOnDispose_=!1}))}getIsDisabled(){return!!this.el_.disabled}getIsExpresslyInert(){return this.el_.inert&&!this.el_.ownerDocument.documentElement.inert}getIsFocusable(e){return(e||this.el_).tabIndex>=0&&!(this.getIsDisabled()||this.getIsExpresslyInert())}getIsAvailableToBeFocused(e){function i(l){const c=W.getComputedStyle(l,null),d=c.getPropertyValue("visibility");return c.getPropertyValue("display")!=="none"&&!["hidden","collapse"].includes(d)}function s(l){return!(!i(l.parentElement)||!i(l)||l.style.opacity==="0"||W.getComputedStyle(l).height==="0px"||W.getComputedStyle(l).width==="0px")}function o(l){if(l.offsetWidth+l.offsetHeight+l.getBoundingClientRect().height+l.getBoundingClientRect().width===0)return!1;const c={x:l.getBoundingClientRect().left+l.offsetWidth/2,y:l.getBoundingClientRect().top+l.offsetHeight/2};if(c.x<0||c.x>(Ve.documentElement.clientWidth||W.innerWidth)||c.y<0||c.y>(Ve.documentElement.clientHeight||W.innerHeight))return!1;let d=Ve.elementFromPoint(c.x,c.y);for(;d;){if(d===l)return!0;if(d.parentNode)d=d.parentNode;else return!1}}return e||(e=this.el()),!!(o(e)&&s(e)&&(!e.parentElement||e.tabIndex>=0))}static registerComponent(e,i){if(typeof e!="string"||!e)throw new Error(`Illegal component name, "${e}"; must be a non-empty string.`);const s=Oe.getComponent("Tech"),o=s&&s.isTech(i),l=Oe===i||Oe.prototype.isPrototypeOf(i.prototype);if(o||!l){let d;throw o?d="techs must be registered using Tech.registerTech()":d="must be a Component subclass",new Error(`Illegal component, "${e}"; ${d}.`)}e=Wn(e),Oe.components_||(Oe.components_={});const c=Oe.getComponent("Player");if(e==="Player"&&c&&c.players){const d=c.players,m=Object.keys(d);if(d&&m.length>0){for(let p=0;p<m.length;p++)if(d[m[p]]!==null)throw new Error("Can not register Player component after player has been created.")}}return Oe.components_[e]=i,Oe.components_[Ym(e)]=i,i}static getComponent(e){if(!(!e||!Oe.components_))return Oe.components_[e]}}Oe.registerComponent("Component",Oe);function RP(n,e,i){if(typeof e!="number"||e<0||e>i)throw new Error(`Failed to execute '${n}' on 'TimeRanges': The index provided (${e}) is non-numeric or out of bounds (0-${i}).`)}function z2(n,e,i,s){return RP(n,s,i.length-1),i[s][e]}function dx(n){let e;return n===void 0||n.length===0?e={length:0,start(){throw new Error("This TimeRanges object is empty")},end(){throw new Error("This TimeRanges object is empty")}}:e={length:n.length,start:z2.bind(null,"start",0,n),end:z2.bind(null,"end",1,n)},W.Symbol&&W.Symbol.iterator&&(e[W.Symbol.iterator]=()=>(n||[]).values()),e}function xa(n,e){return Array.isArray(n)?dx(n):n===void 0||e===void 0?dx():dx([[n,e]])}const v3=function(n,e){n=n<0?0:n;let i=Math.floor(n%60),s=Math.floor(n/60%60),o=Math.floor(n/3600);const l=Math.floor(e/60%60),c=Math.floor(e/3600);return(isNaN(n)||n===1/0)&&(o=s=i="-"),o=o>0||c>0?o+":":"",s=((o||l>=10)&&s<10?"0"+s:s)+":",i=i<10?"0"+i:i,o+s+i};let P1=v3;function _3(n){P1=n}function x3(){P1=v3}function Wc(n,e=n){return P1(n,e)}var kP=Object.freeze({__proto__:null,createTimeRanges:xa,createTimeRange:xa,setFormatTime:_3,resetFormatTime:x3,formatTime:Wc});function T3(n,e){let i=0,s,o;if(!e)return 0;(!n||!n.length)&&(n=xa(0,0));for(let l=0;l<n.length;l++)s=n.start(l),o=n.end(l),o>e&&(o=e),i+=o-s;return i/e}function Xn(n){if(n instanceof Xn)return n;typeof n=="number"?this.code=n:typeof n=="string"?this.message=n:_o(n)&&(typeof n.code=="number"&&(this.code=n.code),Object.assign(this,n)),this.message||(this.message=Xn.defaultMessages[this.code]||"")}Xn.prototype.code=0;Xn.prototype.message="";Xn.prototype.status=null;Xn.prototype.metadata=null;Xn.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"];Xn.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};Xn.MEDIA_ERR_CUSTOM=0;Xn.prototype.MEDIA_ERR_CUSTOM=0;Xn.MEDIA_ERR_ABORTED=1;Xn.prototype.MEDIA_ERR_ABORTED=1;Xn.MEDIA_ERR_NETWORK=2;Xn.prototype.MEDIA_ERR_NETWORK=2;Xn.MEDIA_ERR_DECODE=3;Xn.prototype.MEDIA_ERR_DECODE=3;Xn.MEDIA_ERR_SRC_NOT_SUPPORTED=4;Xn.prototype.MEDIA_ERR_SRC_NOT_SUPPORTED=4;Xn.MEDIA_ERR_ENCRYPTED=5;Xn.prototype.MEDIA_ERR_ENCRYPTED=5;function Qm(n){return n!=null&&typeof n.then=="function"}function po(n){Qm(n)&&n.then(null,e=>{})}const zx=function(n){return["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce((i,s,o)=>(n[s]&&(i[s]=n[s]),i),{cues:n.cues&&Array.prototype.map.call(n.cues,function(i){return{startTime:i.startTime,endTime:i.endTime,text:i.text,id:i.id}})})},OP=function(n){const e=n.$$("track"),i=Array.prototype.map.call(e,o=>o.track);return Array.prototype.map.call(e,function(o){const l=zx(o.track);return o.src&&(l.src=o.src),l}).concat(Array.prototype.filter.call(n.textTracks(),function(o){return i.indexOf(o)===-1}).map(zx))},MP=function(n,e){return n.forEach(function(i){const s=e.addRemoteTextTrack(i).track;!i.src&&i.cues&&i.cues.forEach(o=>s.addCue(o))}),e.textTracks()};var Hx={textTracksToJson:OP,jsonToTextTracks:MP,trackToJson:zx};const hx="vjs-modal-dialog";class sf extends Oe{constructor(e,i){super(e,i),this.handleKeyDown_=s=>this.handleKeyDown(s),this.close_=s=>this.close(s),this.opened_=this.hasBeenOpened_=this.hasBeenFilled_=!1,this.closeable(!this.options_.uncloseable),this.content(this.options_.content),this.contentEl_=ct("div",{className:`${hx}-content`},{role:"document"}),this.descEl_=ct("p",{className:`${hx}-description vjs-control-text`,id:this.el().getAttribute("aria-describedby")}),Pu(this.descEl_,this.description()),this.el_.appendChild(this.descEl_),this.el_.appendChild(this.contentEl_)}createEl(){return super.createEl("div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":`${this.id()}_description`,"aria-hidden":"true","aria-label":this.label(),role:"dialog","aria-live":"polite"})}dispose(){this.contentEl_=null,this.descEl_=null,this.previouslyActiveEl_=null,super.dispose()}buildCSSClass(){return`${hx} vjs-hidden ${super.buildCSSClass()}`}label(){return this.localize(this.options_.label||"Modal Window")}description(){let e=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(e+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),e}open(){if(this.opened_){this.options_.fillAlways&&this.fill();return}const e=this.player();this.trigger("beforemodalopen"),this.opened_=!0,(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_)&&this.fill(),this.wasPlaying_=!e.paused(),this.options_.pauseOnOpen&&this.wasPlaying_&&e.pause(),this.on("keydown",this.handleKeyDown_),this.hadControls_=e.controls(),e.controls(!1),this.show(),this.conditionalFocus_(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0}opened(e){return typeof e=="boolean"&&this[e?"open":"close"](),this.opened_}close(){if(!this.opened_)return;const e=this.player();this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&this.options_.pauseOnOpen&&e.play(),this.off("keydown",this.handleKeyDown_),this.hadControls_&&e.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger({type:"modalclose",bubbles:!0}),this.conditionalBlur_(),this.options_.temporary&&this.dispose()}closeable(e){if(typeof e=="boolean"){const i=this.closeable_=!!e;let s=this.getChild("closeButton");if(i&&!s){const o=this.contentEl_;this.contentEl_=this.el_,s=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=o,this.on(s,"close",this.close_)}!i&&s&&(this.off(s,"close",this.close_),this.removeChild(s),s.dispose())}return this.closeable_}fill(){this.fillWith(this.content())}fillWith(e){const i=this.contentEl(),s=i.parentNode,o=i.nextSibling;this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,s.removeChild(i),this.empty(),o3(i,e),this.trigger("modalfill"),o?s.insertBefore(i,o):s.appendChild(i);const l=this.getChild("closeButton");l&&s.appendChild(l.el_),this.trigger("aftermodalfill")}empty(){this.trigger("beforemodalempty"),A0(this.contentEl()),this.trigger("modalempty")}content(e){return typeof e<"u"&&(this.content_=e),this.content_}conditionalFocus_(){const e=Ve.activeElement,i=this.player_.el_;this.previouslyActiveEl_=null,(i.contains(e)||i===e)&&(this.previouslyActiveEl_=e,this.focus())}conditionalBlur_(){this.previouslyActiveEl_&&(this.previouslyActiveEl_.focus(),this.previouslyActiveEl_=null)}handleKeyDown(e){if(this.trigger({type:"modalKeydown",originalEvent:e,target:this,bubbles:!0}),e.stopPropagation(),e.key==="Escape"&&this.closeable()){e.preventDefault(),this.close();return}if(e.key!=="Tab")return;const i=this.focusableEls_(),s=this.el_.querySelector(":focus");let o;for(let l=0;l<i.length;l++)if(s===i[l]){o=l;break}Ve.activeElement===this.el_&&(o=0),e.shiftKey&&o===0?(i[i.length-1].focus(),e.preventDefault()):!e.shiftKey&&o===i.length-1&&(i[0].focus(),e.preventDefault())}focusableEls_(){const e=this.el_.querySelectorAll("*");return Array.prototype.filter.call(e,i=>(i instanceof W.HTMLAnchorElement||i instanceof W.HTMLAreaElement)&&i.hasAttribute("href")||(i instanceof W.HTMLInputElement||i instanceof W.HTMLSelectElement||i instanceof W.HTMLTextAreaElement||i instanceof W.HTMLButtonElement)&&!i.hasAttribute("disabled")||i instanceof W.HTMLIFrameElement||i instanceof W.HTMLObjectElement||i instanceof W.HTMLEmbedElement||i.hasAttribute("tabindex")&&i.getAttribute("tabindex")!==-1||i.hasAttribute("contenteditable"))}}sf.prototype.options_={pauseOnOpen:!0,temporary:!0};Oe.registerComponent("ModalDialog",sf);class Kc extends gs{constructor(e=[]){super(),this.tracks_=[],Object.defineProperty(this,"length",{get(){return this.tracks_.length}});for(let i=0;i<e.length;i++)this.addTrack(e[i])}addTrack(e){const i=this.tracks_.length;""+i in this||Object.defineProperty(this,i,{get(){return this.tracks_[i]}}),this.tracks_.indexOf(e)===-1&&(this.tracks_.push(e),this.trigger({track:e,type:"addtrack",target:this})),e.labelchange_=()=>{this.trigger({track:e,type:"labelchange",target:this})},bl(e)&&e.addEventListener("labelchange",e.labelchange_)}removeTrack(e){let i;for(let s=0,o=this.length;s<o;s++)if(this[s]===e){i=this[s],i.off&&i.off(),this.tracks_.splice(s,1);break}i&&this.trigger({track:i,type:"removetrack",target:this})}getTrackById(e){let i=null;for(let s=0,o=this.length;s<o;s++){const l=this[s];if(l.id===e){i=l;break}}return i}}Kc.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack",labelchange:"labelchange"};for(const n in Kc.prototype.allowedEvents_)Kc.prototype["on"+n]=null;const fx=function(n,e){for(let i=0;i<n.length;i++)!Object.keys(n[i]).length||e.id===n[i].id||(n[i].enabled=!1)};class S3 extends Kc{constructor(e=[]){for(let i=e.length-1;i>=0;i--)if(e[i].enabled){fx(e,e[i]);break}super(e),this.changing_=!1}addTrack(e){e.enabled&&fx(this,e),super.addTrack(e),e.addEventListener&&(e.enabledChange_=()=>{this.changing_||(this.changing_=!0,fx(this,e),this.changing_=!1,this.trigger("change"))},e.addEventListener("enabledchange",e.enabledChange_))}removeTrack(e){super.removeTrack(e),e.removeEventListener&&e.enabledChange_&&(e.removeEventListener("enabledchange",e.enabledChange_),e.enabledChange_=null)}}const mx=function(n,e){for(let i=0;i<n.length;i++)!Object.keys(n[i]).length||e.id===n[i].id||(n[i].selected=!1)};class E3 extends Kc{constructor(e=[]){for(let i=e.length-1;i>=0;i--)if(e[i].selected){mx(e,e[i]);break}super(e),this.changing_=!1,Object.defineProperty(this,"selectedIndex",{get(){for(let i=0;i<this.length;i++)if(this[i].selected)return i;return-1},set(){}})}addTrack(e){e.selected&&mx(this,e),super.addTrack(e),e.addEventListener&&(e.selectedChange_=()=>{this.changing_||(this.changing_=!0,mx(this,e),this.changing_=!1,this.trigger("change"))},e.addEventListener("selectedchange",e.selectedChange_))}removeTrack(e){super.removeTrack(e),e.removeEventListener&&e.selectedChange_&&(e.removeEventListener("selectedchange",e.selectedChange_),e.selectedChange_=null)}}class B1 extends Kc{addTrack(e){super.addTrack(e),this.queueChange_||(this.queueChange_=()=>this.queueTrigger("change")),this.triggerSelectedlanguagechange||(this.triggerSelectedlanguagechange_=()=>this.trigger("selectedlanguagechange")),e.addEventListener("modechange",this.queueChange_),["metadata","chapters"].indexOf(e.kind)===-1&&e.addEventListener("modechange",this.triggerSelectedlanguagechange_)}removeTrack(e){super.removeTrack(e),e.removeEventListener&&(this.queueChange_&&e.removeEventListener("modechange",this.queueChange_),this.selectedlanguagechange_&&e.removeEventListener("modechange",this.triggerSelectedlanguagechange_))}toJSON(){return this.tracks_.map(e=>e.toJSON())}}class IP{constructor(e=[]){this.trackElements_=[],Object.defineProperty(this,"length",{get(){return this.trackElements_.length}});for(let i=0,s=e.length;i<s;i++)this.addTrackElement_(e[i])}addTrackElement_(e){const i=this.trackElements_.length;""+i in this||Object.defineProperty(this,i,{get(){return this.trackElements_[i]}}),this.trackElements_.indexOf(e)===-1&&this.trackElements_.push(e)}getTrackElementByTrack_(e){let i;for(let s=0,o=this.trackElements_.length;s<o;s++)if(e===this.trackElements_[s].track){i=this.trackElements_[s];break}return i}removeTrackElement_(e){for(let i=0,s=this.trackElements_.length;i<s;i++)if(e===this.trackElements_[i]){this.trackElements_[i].track&&typeof this.trackElements_[i].track.off=="function"&&this.trackElements_[i].track.off(),typeof this.trackElements_[i].off=="function"&&this.trackElements_[i].off(),this.trackElements_.splice(i,1);break}}}class Zb{constructor(e){Zb.prototype.setCues_.call(this,e),Object.defineProperty(this,"length",{get(){return this.length_}})}setCues_(e){const i=this.length||0;let s=0;const o=e.length;this.cues_=e,this.length_=e.length;const l=function(c){""+c in this||Object.defineProperty(this,""+c,{get(){return this.cues_[c]}})};if(i<o)for(s=i;s<o;s++)l.call(this,s)}getCueById(e){let i=null;for(let s=0,o=this.length;s<o;s++){const l=this[s];if(l.id===e){i=l;break}}return i}}const LP={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},PP={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},BP={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},H2={disabled:"disabled",hidden:"hidden",showing:"showing"};class j1 extends gs{constructor(e={}){super();const i={id:e.id||"vjs_track_"+Qs(),kind:e.kind||"",language:e.language||""};let s=e.label||"";for(const o in i)Object.defineProperty(this,o,{get(){return i[o]},set(){}});Object.defineProperty(this,"label",{get(){return s},set(o){o!==s&&(s=o,this.trigger("labelchange"))}})}}const U1=function(n){return new URL(n,Ve.baseURI)},N3=function(n){return new URL(n,Ve.baseURI).href},V1=function(n){if(typeof n=="string"){const i=n.split("?")[0].replace(/\/+$/,"").match(/\.([^.\/]+)$/);return i?i[1].toLowerCase():""}return""},O0=function(n,e=W.location){return U1(n).origin!==e.origin};var jP=Object.freeze({__proto__:null,parseUrl:U1,getAbsoluteURL:N3,getFileExtension:V1,isCrossOrigin:O0});const $2=function(n,e){const i=new W.WebVTT.Parser(W,W.vttjs,W.WebVTT.StringDecoder()),s=[];i.oncue=function(o){e.addCue(o)},i.onparsingerror=function(o){s.push(o)},i.onflush=function(){e.trigger({type:"loadeddata",target:e})},i.parse(n),s.length>0&&(W.console&&W.console.groupCollapsed&&W.console.groupCollapsed(`Text Track parsing errors for ${e.src}`),s.forEach(o=>At.error(o)),W.console&&W.console.groupEnd&&W.console.groupEnd()),i.flush()},q2=function(n,e){const i={uri:n},s=O0(n);s&&(i.cors=s);const o=e.tech_.crossOrigin()==="use-credentials";o&&(i.withCredentials=o),Dw(i,En(this,function(l,c,d){if(l)return At.error(l,c);e.loaded_=!0,typeof W.WebVTT!="function"?e.tech_&&e.tech_.any(["vttjsloaded","vttjserror"],m=>{if(m.type==="vttjserror"){At.error(`vttjs failed to load, stopping trying to process ${e.src}`);return}return $2(d,e)}):$2(d,e)}))};class mp extends j1{constructor(e={}){if(!e.tech)throw new Error("A tech was not provided.");const i=dn(e,{kind:BP[e.kind]||"subtitles",language:e.language||e.srclang||""});let s=H2[i.mode]||"disabled";const o=i.default;(i.kind==="metadata"||i.kind==="chapters")&&(s="hidden"),super(i),this.tech_=i.tech,this.cues_=[],this.activeCues_=[],this.preload_=this.tech_.preloadTextTracks!==!1;const l=new Zb(this.cues_),c=new Zb(this.activeCues_);let d=!1;this.timeupdateHandler=En(this,function(p={}){if(!this.tech_.isDisposed()){if(!this.tech_.isReady_){p.type!=="timeupdate"&&(this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler));return}this.activeCues=this.activeCues,d&&(this.trigger("cuechange"),d=!1),p.type!=="timeupdate"&&(this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler))}});const m=()=>{this.stopTracking()};this.tech_.one("dispose",m),s!=="disabled"&&this.startTracking(),Object.defineProperties(this,{default:{get(){return o},set(){}},mode:{get(){return s},set(p){H2[p]&&s!==p&&(s=p,!this.preload_&&s!=="disabled"&&this.cues.length===0&&q2(this.src,this),this.stopTracking(),s!=="disabled"&&this.startTracking(),this.trigger("modechange"))}},cues:{get(){return this.loaded_?l:null},set(){}},activeCues:{get(){if(!this.loaded_)return null;if(this.cues.length===0)return c;const p=this.tech_.currentTime(),v=[];for(let E=0,C=this.cues.length;E<C;E++){const D=this.cues[E];D.startTime<=p&&D.endTime>=p&&v.push(D)}if(d=!1,v.length!==this.activeCues_.length)d=!0;else for(let E=0;E<v.length;E++)this.activeCues_.indexOf(v[E])===-1&&(d=!0);return this.activeCues_=v,c.setCues_(this.activeCues_),c},set(){}}}),i.src?(this.src=i.src,this.preload_||(this.loaded_=!0),(this.preload_||i.kind!=="subtitles"&&i.kind!=="captions")&&q2(this.src,this)):this.loaded_=!0}startTracking(){this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler),this.tech_.on("timeupdate",this.timeupdateHandler)}stopTracking(){this.rvf_&&(this.tech_.cancelVideoFrameCallback(this.rvf_),this.rvf_=void 0),this.tech_.off("timeupdate",this.timeupdateHandler)}addCue(e){let i=e;if(!("getCueAsHTML"in i)){i=new W.vttjs.VTTCue(e.startTime,e.endTime,e.text);for(const o in e)o in i||(i[o]=e[o]);i.id=e.id,i.originalCue_=e}const s=this.tech_.textTracks();for(let o=0;o<s.length;o++)s[o]!==this&&s[o].removeCue(i);this.cues_.push(i),this.cues.setCues_(this.cues_)}toJSON(){return Hx.trackToJson(this)}removeCue(e){let i=this.cues_.length;for(;i--;){const s=this.cues_[i];if(s===e||s.originalCue_&&s.originalCue_===e){this.cues_.splice(i,1),this.cues.setCues_(this.cues_);break}}}}mp.prototype.allowedEvents_={cuechange:"cuechange"};class C3 extends j1{constructor(e={}){const i=dn(e,{kind:PP[e.kind]||""});super(i);let s=!1;Object.defineProperty(this,"enabled",{get(){return s},set(o){typeof o!="boolean"||o===s||(s=o,this.trigger("enabledchange"))}}),i.enabled&&(this.enabled=i.enabled),this.loaded_=!0}}class D3 extends j1{constructor(e={}){const i=dn(e,{kind:LP[e.kind]||""});super(i);let s=!1;Object.defineProperty(this,"selected",{get(){return s},set(o){typeof o!="boolean"||o===s||(s=o,this.trigger("selectedchange"))}}),i.selected&&(this.selected=i.selected)}}class yl extends gs{constructor(e={}){super();let i;const s=new mp(e);this.kind=s.kind,this.src=s.src,this.srclang=s.language,this.label=s.label,this.default=s.default,Object.defineProperties(this,{readyState:{get(){return i}},track:{get(){return s}}}),i=yl.NONE,s.addEventListener("loadeddata",()=>{i=yl.LOADED,this.trigger({type:"load",target:this})})}}yl.prototype.allowedEvents_={load:"load"};yl.NONE=0;yl.LOADING=1;yl.LOADED=2;yl.ERROR=3;const Ys={audio:{ListClass:S3,TrackClass:C3,capitalName:"Audio"},video:{ListClass:E3,TrackClass:D3,capitalName:"Video"},text:{ListClass:B1,TrackClass:mp,capitalName:"Text"}};Object.keys(Ys).forEach(function(n){Ys[n].getterName=`${n}Tracks`,Ys[n].privateName=`${n}Tracks_`});const Qh={remoteText:{ListClass:B1,TrackClass:mp,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:IP,TrackClass:yl,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}},Tr=Object.assign({},Ys,Qh);Qh.names=Object.keys(Qh);Ys.names=Object.keys(Ys);Tr.names=[].concat(Qh.names).concat(Ys.names);function UP(n,e,i,s,o={}){const l=n.textTracks();o.kind=e,i&&(o.label=i),s&&(o.language=s),o.tech=n;const c=new Tr.text.TrackClass(o);return l.addTrack(c),c}class vt extends Oe{constructor(e={},i=function(){}){e.reportTouchActivity=!1,super(null,e,i),this.onDurationChange_=s=>this.onDurationChange(s),this.trackProgress_=s=>this.trackProgress(s),this.trackCurrentTime_=s=>this.trackCurrentTime(s),this.stopTrackingCurrentTime_=s=>this.stopTrackingCurrentTime(s),this.disposeSourceHandler_=s=>this.disposeSourceHandler(s),this.queuedHanders_=new Set,this.hasStarted_=!1,this.on("playing",function(){this.hasStarted_=!0}),this.on("loadstart",function(){this.hasStarted_=!1}),Tr.names.forEach(s=>{const o=Tr[s];e&&e[o.getterName]&&(this[o.privateName]=e[o.getterName])}),this.featuresProgressEvents||this.manualProgressOn(),this.featuresTimeupdateEvents||this.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach(s=>{e[`native${s}Tracks`]===!1&&(this[`featuresNative${s}Tracks`]=!1)}),e.nativeCaptions===!1||e.nativeTextTracks===!1?this.featuresNativeTextTracks=!1:(e.nativeCaptions===!0||e.nativeTextTracks===!0)&&(this.featuresNativeTextTracks=!0),this.featuresNativeTextTracks||this.emulateTextTracks(),this.preloadTextTracks=e.preloadTextTracks!==!1,this.autoRemoteTextTracks_=new Tr.text.ListClass,this.initTrackListeners(),e.nativeControlsForTouch||this.emitTapEvents(),this.constructor&&(this.name_=this.constructor.name||"Unknown Tech")}triggerSourceset(e){this.isReady_||this.one("ready",()=>this.setTimeout(()=>this.triggerSourceset(e),1)),this.trigger({src:e,type:"sourceset"})}manualProgressOn(){this.on("durationchange",this.onDurationChange_),this.manualProgress=!0,this.one("ready",this.trackProgress_)}manualProgressOff(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange_)}trackProgress(e){this.stopTrackingProgress(),this.progressInterval=this.setInterval(En(this,function(){const i=this.bufferedPercent();this.bufferedPercent_!==i&&this.trigger("progress"),this.bufferedPercent_=i,i===1&&this.stopTrackingProgress()}),500)}onDurationChange(e){this.duration_=this.duration()}buffered(){return xa(0,0)}bufferedPercent(){return T3(this.buffered(),this.duration_)}stopTrackingProgress(){this.clearInterval(this.progressInterval)}manualTimeUpdatesOn(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime_),this.on("pause",this.stopTrackingCurrentTime_)}manualTimeUpdatesOff(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime_),this.off("pause",this.stopTrackingCurrentTime_)}trackCurrentTime(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval(function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},250)}stopTrackingCurrentTime(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})}dispose(){this.clearTracks(Ys.names),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),super.dispose()}clearTracks(e){e=[].concat(e),e.forEach(i=>{const s=this[`${i}Tracks`]()||[];let o=s.length;for(;o--;){const l=s[o];i==="text"&&this.removeRemoteTextTrack(l),s.removeTrack(l)}})}cleanupAutoTextTracks(){const e=this.autoRemoteTextTracks_||[];let i=e.length;for(;i--;){const s=e[i];this.removeRemoteTextTrack(s)}}reset(){}crossOrigin(){}setCrossOrigin(){}error(e){return e!==void 0&&(this.error_=new Xn(e),this.trigger("error")),this.error_}played(){return this.hasStarted_?xa(0,0):xa()}play(){}setScrubbing(e){}scrubbing(){}setCurrentTime(e){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})}initTrackListeners(){Ys.names.forEach(e=>{const i=Ys[e],s=()=>{this.trigger(`${e}trackchange`)},o=this[i.getterName]();o.addEventListener("removetrack",s),o.addEventListener("addtrack",s),this.on("dispose",()=>{o.removeEventListener("removetrack",s),o.removeEventListener("addtrack",s)})})}addWebVttScript_(){if(!W.WebVTT)if(Ve.body.contains(this.el())){if(!this.options_["vtt.js"]&&qh(p2)&&Object.keys(p2).length>0){this.trigger("vttjsloaded");return}const e=Ve.createElement("script");e.src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.14.1/vtt.min.js",e.onload=()=>{this.trigger("vttjsloaded")},e.onerror=()=>{this.trigger("vttjserror")},this.on("dispose",()=>{e.onload=null,e.onerror=null}),W.WebVTT=!0,this.el().parentNode.appendChild(e)}else this.ready(this.addWebVttScript_)}emulateTextTracks(){const e=this.textTracks(),i=this.remoteTextTracks(),s=d=>e.addTrack(d.track),o=d=>e.removeTrack(d.track);i.on("addtrack",s),i.on("removetrack",o),this.addWebVttScript_();const l=()=>this.trigger("texttrackchange"),c=()=>{l();for(let d=0;d<e.length;d++){const m=e[d];m.removeEventListener("cuechange",l),m.mode==="showing"&&m.addEventListener("cuechange",l)}};c(),e.addEventListener("change",c),e.addEventListener("addtrack",c),e.addEventListener("removetrack",c),this.on("dispose",function(){i.off("addtrack",s),i.off("removetrack",o),e.removeEventListener("change",c),e.removeEventListener("addtrack",c),e.removeEventListener("removetrack",c);for(let d=0;d<e.length;d++)e[d].removeEventListener("cuechange",l)})}addTextTrack(e,i,s){if(!e)throw new Error("TextTrack kind is required but was not provided");return UP(this,e,i,s)}createRemoteTextTrack(e){const i=dn(e,{tech:this});return new Qh.remoteTextEl.TrackClass(i)}addRemoteTextTrack(e={},i){const s=this.createRemoteTextTrack(e);return typeof i!="boolean"&&(i=!1),this.remoteTextTrackEls().addTrackElement_(s),this.remoteTextTracks().addTrack(s.track),i===!1&&this.ready(()=>this.autoRemoteTextTracks_.addTrack(s.track)),s}removeRemoteTextTrack(e){const i=this.remoteTextTrackEls().getTrackElementByTrack_(e);this.remoteTextTrackEls().removeTrackElement_(i),this.remoteTextTracks().removeTrack(e),this.autoRemoteTextTracks_.removeTrack(e)}getVideoPlaybackQuality(){return{}}requestPictureInPicture(){return Promise.reject()}disablePictureInPicture(){return!0}setDisablePictureInPicture(){}requestVideoFrameCallback(e){const i=Qs();return!this.isReady_||this.paused()?(this.queuedHanders_.add(i),this.one("playing",()=>{this.queuedHanders_.has(i)&&(this.queuedHanders_.delete(i),e())})):this.requestNamedAnimationFrame(i,e),i}cancelVideoFrameCallback(e){this.queuedHanders_.has(e)?this.queuedHanders_.delete(e):this.cancelNamedAnimationFrame(e)}setPoster(){}playsinline(){}setPlaysinline(){}overrideNativeAudioTracks(e){}overrideNativeVideoTracks(e){}canPlayType(e){return""}static canPlayType(e){return""}static canPlaySource(e,i){return vt.canPlayType(e.type)}static isTech(e){return e.prototype instanceof vt||e instanceof vt||e===vt}static registerTech(e,i){if(vt.techs_||(vt.techs_={}),!vt.isTech(i))throw new Error(`Tech ${e} must be a Tech`);if(!vt.canPlayType)throw new Error("Techs must have a static canPlayType method on them");if(!vt.canPlaySource)throw new Error("Techs must have a static canPlaySource method on them");return e=Wn(e),vt.techs_[e]=i,vt.techs_[Ym(e)]=i,e!=="Tech"&&vt.defaultTechOrder_.push(e),i}static getTech(e){if(e){if(vt.techs_&&vt.techs_[e])return vt.techs_[e];if(e=Wn(e),W&&W.videojs&&W.videojs[e])return At.warn(`The ${e} tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)`),W.videojs[e]}}}Tr.names.forEach(function(n){const e=Tr[n];vt.prototype[e.getterName]=function(){return this[e.privateName]=this[e.privateName]||new e.ListClass,this[e.privateName]}});vt.prototype.featuresVolumeControl=!0;vt.prototype.featuresMuteControl=!0;vt.prototype.featuresFullscreenResize=!1;vt.prototype.featuresPlaybackRate=!1;vt.prototype.featuresProgressEvents=!1;vt.prototype.featuresSourceset=!1;vt.prototype.featuresTimeupdateEvents=!1;vt.prototype.featuresNativeTextTracks=!1;vt.prototype.featuresVideoFrameCallback=!1;vt.withSourceHandlers=function(n){n.registerSourceHandler=function(i,s){let o=n.sourceHandlers;o||(o=n.sourceHandlers=[]),s===void 0&&(s=o.length),o.splice(s,0,i)},n.canPlayType=function(i){const s=n.sourceHandlers||[];let o;for(let l=0;l<s.length;l++)if(o=s[l].canPlayType(i),o)return o;return""},n.selectSourceHandler=function(i,s){const o=n.sourceHandlers||[];let l;for(let c=0;c<o.length;c++)if(l=o[c].canHandleSource(i,s),l)return o[c];return null},n.canPlaySource=function(i,s){const o=n.selectSourceHandler(i,s);return o?o.canHandleSource(i,s):""},["seekable","seeking","duration"].forEach(function(i){const s=this[i];typeof s=="function"&&(this[i]=function(){return this.sourceHandler_&&this.sourceHandler_[i]?this.sourceHandler_[i].apply(this.sourceHandler_,arguments):s.apply(this,arguments)})},n.prototype),n.prototype.setSource=function(i){let s=n.selectSourceHandler(i,this.options_);s||(n.nativeSourceHandler?s=n.nativeSourceHandler:At.error("No source handler found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler_),s!==n.nativeSourceHandler&&(this.currentSource_=i),this.sourceHandler_=s.handleSource(i,this,this.options_),this.one("dispose",this.disposeSourceHandler_)},n.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}};Oe.registerComponent("Tech",vt);vt.registerTech("Tech",vt);vt.defaultTechOrder_=[];const Yc={},Wb={},Kb={};function VP(n,e){Yc[n]=Yc[n]||[],Yc[n].push(e)}function FP(n,e,i){n.setTimeout(()=>zc(e,Yc[e.type],i,n),1)}function zP(n,e){n.forEach(i=>i.setTech&&i.setTech(e))}function HP(n,e,i){return n.reduceRight(F1(i),e[i]())}function $P(n,e,i,s){return e[i](n.reduce(F1(i),s))}function G2(n,e,i,s=null){const o="call"+Wn(i),l=n.reduce(F1(o),s),c=l===Kb,d=c?null:e[i](l);return XP(n,i,d,c),d}const qP={buffered:1,currentTime:1,duration:1,muted:1,played:1,paused:1,seekable:1,volume:1,ended:1},GP={setCurrentTime:1,setMuted:1,setVolume:1},X2={play:1,pause:1};function F1(n){return(e,i)=>e===Kb?Kb:i[n]?i[n](e):e}function XP(n,e,i,s){for(let o=n.length-1;o>=0;o--){const l=n[o];l[e]&&l[e](s,i)}}function YP(n){Wb.hasOwnProperty(n.id())&&delete Wb[n.id()]}function QP(n,e){const i=Wb[n.id()];let s=null;if(i==null)return s=e(n),Wb[n.id()]=[[e,s]],s;for(let o=0;o<i.length;o++){const[l,c]=i[o];l===e&&(s=c)}return s===null&&(s=e(n),i.push([e,s])),s}function zc(n={},e=[],i,s,o=[],l=!1){const[c,...d]=e;if(typeof c=="string")zc(n,Yc[c],i,s,o,l);else if(c){const m=QP(s,c);if(!m.setSource)return o.push(m),zc(n,d,i,s,o,l);m.setSource(Object.assign({},n),function(p,v){if(p)return zc(n,d,i,s,o,l);o.push(m),zc(v,n.type===v.type?d:Yc[v.type],i,s,o,l)})}else d.length?zc(n,d,i,s,o,l):l?i(n,o):zc(n,Yc["*"],i,s,o,!0)}const ZP={opus:"video/ogg",ogv:"video/ogg",mp4:"video/mp4",mov:"video/mp4",m4v:"video/mp4",mkv:"video/x-matroska",m4a:"audio/mp4",mp3:"audio/mpeg",aac:"audio/aac",caf:"audio/x-caf",flac:"audio/flac",oga:"audio/ogg",wav:"audio/wav",m3u8:"application/x-mpegURL",mpd:"application/dash+xml",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif",png:"image/png",svg:"image/svg+xml",webp:"image/webp"},Jb=function(n=""){const e=V1(n);return ZP[e.toLowerCase()]||""},WP=(n,e)=>{if(!e)return"";if(n.cache_.source.src===e&&n.cache_.source.type)return n.cache_.source.type;const i=n.cache_.sources.filter(o=>o.src===e);if(i.length)return i[0].type;const s=n.$$("source");for(let o=0;o<s.length;o++){const l=s[o];if(l.type&&l.src&&l.src===e)return l.type}return Jb(e)},A3=function(n){if(Array.isArray(n)){let e=[];n.forEach(function(i){i=A3(i),Array.isArray(i)?e=e.concat(i):_o(i)&&e.push(i)}),n=e}else typeof n=="string"&&n.trim()?n=[Y2({src:n})]:_o(n)&&typeof n.src=="string"&&n.src&&n.src.trim()?n=[Y2(n)]:n=[];return n};function Y2(n){if(!n.type){const e=Jb(n.src);e&&(n.type=e)}return n}var KP=`<svg xmlns="http://www.w3.org/2000/svg">
  <defs>
    <symbol viewBox="0 0 48 48" id="vjs-icon-play">
      <path d="M16 10v28l22-14z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-pause">
      <path d="M12 38h8V10h-8v28zm16-28v28h8V10h-8z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-audio">
      <path d="M24 2C14.06 2 6 10.06 6 20v14c0 3.31 2.69 6 6 6h6V24h-8v-4c0-7.73 6.27-14 14-14s14 6.27 14 14v4h-8v16h6c3.31 0 6-2.69 6-6V20c0-9.94-8.06-18-18-18z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-captions">
      <path d="M38 8H10c-2.21 0-4 1.79-4 4v24c0 2.21 1.79 4 4 4h28c2.21 0 4-1.79 4-4V12c0-2.21-1.79-4-4-4zM22 22h-3v-1h-4v6h4v-1h3v2a2 2 0 0 1-2 2h-6a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2zm14 0h-3v-1h-4v6h4v-1h3v2a2 2 0 0 1-2 2h-6a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-subtitles">
      <path d="M40 8H8c-2.21 0-4 1.79-4 4v24c0 2.21 1.79 4 4 4h32c2.21 0 4-1.79 4-4V12c0-2.21-1.79-4-4-4zM8 24h8v4H8v-4zm20 12H8v-4h20v4zm12 0h-8v-4h8v4zm0-8H20v-4h20v4z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-fullscreen-enter">
      <path d="M14 28h-4v10h10v-4h-6v-6zm-4-8h4v-6h6v-4H10v10zm24 14h-6v4h10V28h-4v6zm-6-24v4h6v6h4V10H28z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-fullscreen-exit">
      <path d="M10 32h6v6h4V28H10v4zm6-16h-6v4h10V10h-4v6zm12 22h4v-6h6v-4H28v10zm4-22v-6h-4v10h10v-4h-6z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-play-circle">
      <path d="M20 33l12-9-12-9v18zm4-29C12.95 4 4 12.95 4 24s8.95 20 20 20 20-8.95 20-20S35.05 4 24 4zm0 36c-8.82 0-16-7.18-16-16S15.18 8 24 8s16 7.18 16 16-7.18 16-16 16z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-volume-mute">
      <path d="M33 24c0-3.53-2.04-6.58-5-8.05v4.42l4.91 4.91c.06-.42.09-.85.09-1.28zm5 0c0 1.88-.41 3.65-1.08 5.28l3.03 3.03C41.25 29.82 42 27 42 24c0-8.56-5.99-15.72-14-17.54v4.13c5.78 1.72 10 7.07 10 13.41zM8.55 6L6 8.55 15.45 18H6v12h8l10 10V26.55l8.51 8.51c-1.34 1.03-2.85 1.86-4.51 2.36v4.13a17.94 17.94 0 0 0 7.37-3.62L39.45 42 42 39.45l-18-18L8.55 6zM24 8l-4.18 4.18L24 16.36V8z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-volume-low">
      <path d="M14 18v12h8l10 10V8L22 18h-8z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-volume-medium">
      <path d="M37 24c0-3.53-2.04-6.58-5-8.05v16.11c2.96-1.48 5-4.53 5-8.06zm-27-6v12h8l10 10V8L18 18h-8z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-volume-high">
      <path d="M6 18v12h8l10 10V8L14 18H6zm27 6c0-3.53-2.04-6.58-5-8.05v16.11c2.96-1.48 5-4.53 5-8.06zM28 6.46v4.13c5.78 1.72 10 7.07 10 13.41s-4.22 11.69-10 13.41v4.13c8.01-1.82 14-8.97 14-17.54S36.01 8.28 28 6.46z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-spinner">
      <path d="M18.8 21l9.53-16.51C26.94 4.18 25.49 4 24 4c-4.8 0-9.19 1.69-12.64 4.51l7.33 12.69.11-.2zm24.28-3c-1.84-5.85-6.3-10.52-11.99-12.68L23.77 18h19.31zm.52 2H28.62l.58 1 9.53 16.5C41.99 33.94 44 29.21 44 24c0-1.37-.14-2.71-.4-4zm-26.53 4l-7.8-13.5C6.01 14.06 4 18.79 4 24c0 1.37.14 2.71.4 4h14.98l-2.31-4zM4.92 30c1.84 5.85 6.3 10.52 11.99 12.68L24.23 30H4.92zm22.54 0l-7.8 13.51c1.4.31 2.85.49 4.34.49 4.8 0 9.19-1.69 12.64-4.51L29.31 26.8 27.46 30z"></path>
    </symbol>
    <symbol viewBox="0 0 24 24" id="vjs-icon-hd">
      <path d="M19 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-8 12H9.5v-2h-2v2H6V9h1.5v2.5h2V9H11v6zm2-6h4c.55 0 1 .45 1 1v4c0 .55-.45 1-1 1h-4V9zm1.5 4.5h2v-3h-2v3z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-chapters">
      <path d="M6 26h4v-4H6v4zm0 8h4v-4H6v4zm0-16h4v-4H6v4zm8 8h28v-4H14v4zm0 8h28v-4H14v4zm0-20v4h28v-4H14z"></path>
    </symbol>
    <symbol viewBox="0 0 40 40" id="vjs-icon-downloading">
      <path d="M18.208 36.875q-3.208-.292-5.979-1.729-2.771-1.438-4.812-3.729-2.042-2.292-3.188-5.229-1.146-2.938-1.146-6.23 0-6.583 4.334-11.416 4.333-4.834 10.833-5.5v3.166q-5.167.75-8.583 4.646Q6.25 14.75 6.25 19.958q0 5.209 3.396 9.104 3.396 3.896 8.562 4.646zM20 28.417L11.542 20l2.083-2.083 4.917 4.916v-11.25h2.916v11.25l4.875-4.916L28.417 20zm1.792 8.458v-3.167q1.833-.25 3.541-.958 1.709-.708 3.167-1.875l2.333 2.292q-1.958 1.583-4.25 2.541-2.291.959-4.791 1.167zm6.791-27.792q-1.541-1.125-3.25-1.854-1.708-.729-3.541-1.021V3.042q2.5.25 4.77 1.208 2.271.958 4.271 2.5zm4.584 21.584l-2.25-2.25q1.166-1.5 1.854-3.209.687-1.708.937-3.541h3.209q-.292 2.5-1.229 4.791-.938 2.292-2.521 4.209zm.541-12.417q-.291-1.833-.958-3.562-.667-1.73-1.833-3.188l2.375-2.208q1.541 1.916 2.458 4.208.917 2.292 1.167 4.75z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-file-download">
      <path d="M10.8 40.55q-1.35 0-2.375-1T7.4 37.15v-7.7h3.4v7.7h26.35v-7.7h3.4v7.7q0 1.4-1 2.4t-2.4 1zM24 32.1L13.9 22.05l2.45-2.45 5.95 5.95V7.15h3.4v18.4l5.95-5.95 2.45 2.45z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-file-download-done">
      <path d="M9.8 40.5v-3.45h28.4v3.45zm9.2-9.05L7.4 19.85l2.45-2.35L19 26.65l19.2-19.2 2.4 2.4z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-file-download-off">
      <path d="M4.9 4.75L43.25 43.1 41 45.3l-4.75-4.75q-.05.05-.075.025-.025-.025-.075-.025H10.8q-1.35 0-2.375-1T7.4 37.15v-7.7h3.4v7.7h22.05l-7-7-1.85 1.8L13.9 21.9l1.85-1.85L2.7 7zm26.75 14.7l2.45 2.45-3.75 3.8-2.45-2.5zM25.7 7.15V21.1l-3.4-3.45V7.15z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-share">
      <path d="M36 32.17c-1.52 0-2.89.59-3.93 1.54L17.82 25.4c.11-.45.18-.92.18-1.4s-.07-.95-.18-1.4l14.1-8.23c1.07 1 2.5 1.62 4.08 1.62 3.31 0 6-2.69 6-6s-2.69-6-6-6-6 2.69-6 6c0 .48.07.95.18 1.4l-14.1 8.23c-1.07-1-2.5-1.62-4.08-1.62-3.31 0-6 2.69-6 6s2.69 6 6 6c1.58 0 3.01-.62 4.08-1.62l14.25 8.31c-.1.42-.16.86-.16 1.31A5.83 5.83 0 1 0 36 32.17z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-cog">
      <path d="M38.86 25.95c.08-.64.14-1.29.14-1.95s-.06-1.31-.14-1.95l4.23-3.31c.38-.3.49-.84.24-1.28l-4-6.93c-.25-.43-.77-.61-1.22-.43l-4.98 2.01c-1.03-.79-2.16-1.46-3.38-1.97L29 4.84c-.09-.47-.5-.84-1-.84h-8c-.5 0-.91.37-.99.84l-.75 5.3a14.8 14.8 0 0 0-3.38 1.97L9.9 10.1a1 1 0 0 0-1.22.43l-4 6.93c-.25.43-.14.97.24 1.28l4.22 3.31C9.06 22.69 9 23.34 9 24s.06 1.31.14 1.95l-4.22 3.31c-.38.3-.49.84-.24 1.28l4 6.93c.25.43.77.61 1.22.43l4.98-2.01c1.03.79 2.16 1.46 3.38 1.97l.75 5.3c.08.47.49.84.99.84h8c.5 0 .91-.37.99-.84l.75-5.3a14.8 14.8 0 0 0 3.38-1.97l4.98 2.01a1 1 0 0 0 1.22-.43l4-6.93c.25-.43.14-.97-.24-1.28l-4.22-3.31zM24 31c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-square">
      <path d="M36 8H12c-2.21 0-4 1.79-4 4v24c0 2.21 1.79 4 4 4h24c2.21 0 4-1.79 4-4V12c0-2.21-1.79-4-4-4zm0 28H12V12h24v24z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-circle">
      <circle cx="24" cy="24" r="20"></circle>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-circle-outline">
      <path d="M24 4C12.95 4 4 12.95 4 24s8.95 20 20 20 20-8.95 20-20S35.05 4 24 4zm0 36c-8.82 0-16-7.18-16-16S15.18 8 24 8s16 7.18 16 16-7.18 16-16 16z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-circle-inner-circle">
      <path d="M24 4C12.97 4 4 12.97 4 24s8.97 20 20 20 20-8.97 20-20S35.03 4 24 4zm0 36c-8.82 0-16-7.18-16-16S15.18 8 24 8s16 7.18 16 16-7.18 16-16 16zm6-16c0 3.31-2.69 6-6 6s-6-2.69-6-6 2.69-6 6-6 6 2.69 6 6z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-cancel">
      <path d="M24 4C12.95 4 4 12.95 4 24s8.95 20 20 20 20-8.95 20-20S35.05 4 24 4zm10 27.17L31.17 34 24 26.83 16.83 34 14 31.17 21.17 24 14 16.83 16.83 14 24 21.17 31.17 14 34 16.83 26.83 24 34 31.17z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-replay">
      <path d="M24 10V2L14 12l10 10v-8c6.63 0 12 5.37 12 12s-5.37 12-12 12-12-5.37-12-12H8c0 8.84 7.16 16 16 16s16-7.16 16-16-7.16-16-16-16z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-repeat">
      <path d="M14 14h20v6l8-8-8-8v6H10v12h4v-8zm20 20H14v-6l-8 8 8 8v-6h24V26h-4v8z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-replay-5">
      <path d="M17.689 98l-8.697 8.696 8.697 8.697 2.486-2.485-4.32-4.319h1.302c4.93 0 9.071 1.722 12.424 5.165 3.352 3.443 5.029 7.638 5.029 12.584h3.55c0-2.958-.553-5.73-1.658-8.313-1.104-2.583-2.622-4.841-4.555-6.774-1.932-1.932-4.19-3.45-6.773-4.555-2.584-1.104-5.355-1.657-8.313-1.657H15.5l4.615-4.615zm-8.08 21.659v13.861h11.357v5.008H9.609V143h12.7c.834 0 1.55-.298 2.146-.894.596-.597.895-1.31.895-2.145v-7.781c0-.835-.299-1.55-.895-2.147a2.929 2.929 0 0 0-2.147-.894h-8.227v-5.096H25.35v-4.384z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-replay-10">
      <path d="M42.315 125.63c0-4.997-1.694-9.235-5.08-12.713-3.388-3.479-7.571-5.218-12.552-5.218h-1.315l4.363 4.363-2.51 2.51-8.787-8.786L25.221 97l2.45 2.45-4.662 4.663h1.375c2.988 0 5.788.557 8.397 1.673 2.61 1.116 4.892 2.65 6.844 4.602 1.953 1.953 3.487 4.234 4.602 6.844 1.116 2.61 1.674 5.41 1.674 8.398zM8.183 142v-19.657H3.176V117.8h9.643V142zm13.63 0c-1.156 0-2.127-.393-2.912-1.178-.778-.778-1.168-1.746-1.168-2.902v-16.04c0-1.156.393-2.127 1.178-2.912.779-.779 1.746-1.168 2.902-1.168h7.696c1.156 0 2.126.392 2.911 1.177.779.78 1.168 1.747 1.168 2.903v16.04c0 1.156-.392 2.127-1.177 2.912-.779.779-1.746 1.168-2.902 1.168zm.556-4.636h6.583v-15.02H22.37z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-replay-30">
      <path d="M26.047 97l-8.733 8.732 8.733 8.733 2.496-2.494-4.336-4.338h1.307c4.95 0 9.108 1.73 12.474 5.187 3.367 3.458 5.051 7.668 5.051 12.635h3.565c0-2.97-.556-5.751-1.665-8.346-1.109-2.594-2.633-4.862-4.574-6.802-1.94-1.941-4.208-3.466-6.803-4.575-2.594-1.109-5.375-1.664-8.345-1.664H23.85l4.634-4.634zM2.555 117.531v4.688h10.297v5.25H5.873v4.687h6.979v5.156H2.555V142H13.36c1.061 0 1.95-.395 2.668-1.186.718-.79 1.076-1.772 1.076-2.94v-16.218c0-1.168-.358-2.149-1.076-2.94-.717-.79-1.607-1.185-2.668-1.185zm22.482.14c-1.149 0-2.11.39-2.885 1.165-.78.78-1.172 1.744-1.172 2.893v15.943c0 1.149.388 2.11 1.163 2.885.78.78 1.745 1.172 2.894 1.172h7.649c1.148 0 2.11-.388 2.884-1.163.78-.78 1.17-1.745 1.17-2.894v-15.943c0-1.15-.386-2.111-1.16-2.885-.78-.78-1.746-1.172-2.894-1.172zm.553 4.518h6.545v14.93H25.59z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-forward-5">
      <path d="M29.508 97l-2.431 2.43 4.625 4.625h-1.364c-2.965 0-5.742.554-8.332 1.66-2.589 1.107-4.851 2.629-6.788 4.566-1.937 1.937-3.458 4.2-4.565 6.788-1.107 2.59-1.66 5.367-1.66 8.331h3.557c0-4.957 1.68-9.16 5.04-12.611 3.36-3.45 7.51-5.177 12.451-5.177h1.304l-4.326 4.33 2.49 2.49 8.715-8.716zm-9.783 21.61v13.89h11.382v5.018H19.725V142h12.727a2.93 2.93 0 0 0 2.15-.896 2.93 2.93 0 0 0 .896-2.15v-7.798c0-.837-.299-1.554-.896-2.152a2.93 2.93 0 0 0-2.15-.896h-8.245V123h11.29v-4.392z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-forward-10">
      <path d="M23.119 97l-2.386 2.383 4.538 4.538h-1.339c-2.908 0-5.633.543-8.173 1.63-2.54 1.085-4.76 2.577-6.66 4.478-1.9 1.9-3.392 4.12-4.478 6.66-1.085 2.54-1.629 5.264-1.629 8.172h3.49c0-4.863 1.648-8.986 4.944-12.372 3.297-3.385 7.368-5.078 12.216-5.078h1.279l-4.245 4.247 2.443 2.442 8.55-8.55zm-9.52 21.45v4.42h4.871V142h4.513v-23.55zm18.136 0c-1.125 0-2.066.377-2.824 1.135-.764.764-1.148 1.709-1.148 2.834v15.612c0 1.124.38 2.066 1.139 2.824.764.764 1.708 1.145 2.833 1.145h7.489c1.125 0 2.066-.378 2.824-1.136.764-.764 1.145-1.709 1.145-2.833v-15.612c0-1.125-.378-2.067-1.136-2.825-.764-.764-1.708-1.145-2.833-1.145zm.54 4.42h6.408v14.617h-6.407z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-forward-30">
      <path d="M25.549 97l-2.437 2.434 4.634 4.635H26.38c-2.97 0-5.753.555-8.347 1.664-2.594 1.109-4.861 2.633-6.802 4.574-1.94 1.94-3.465 4.207-4.574 6.802-1.109 2.594-1.664 5.377-1.664 8.347h3.565c0-4.967 1.683-9.178 5.05-12.636 3.366-3.458 7.525-5.187 12.475-5.187h1.307l-4.335 4.338 2.495 2.494 8.732-8.732zm-11.553 20.53v4.689h10.297v5.249h-6.978v4.688h6.978v5.156H13.996V142h10.808c1.06 0 1.948-.395 2.666-1.186.718-.79 1.077-1.771 1.077-2.94v-16.217c0-1.169-.36-2.15-1.077-2.94-.718-.79-1.605-1.186-2.666-1.186zm21.174.168c-1.149 0-2.11.389-2.884 1.163-.78.78-1.172 1.745-1.172 2.894v15.942c0 1.15.388 2.11 1.162 2.885.78.78 1.745 1.17 2.894 1.17h7.649c1.149 0 2.11-.386 2.885-1.16.78-.78 1.17-1.746 1.17-2.895v-15.942c0-1.15-.387-2.11-1.161-2.885-.78-.78-1.745-1.172-2.894-1.172zm.552 4.516h6.542v14.931h-6.542z"></path>
    </symbol>
    <symbol viewBox="0 0 512 512" id="vjs-icon-audio-description">
      <g fill-rule="evenodd"><path d="M227.29 381.351V162.993c50.38-1.017 89.108-3.028 117.631 17.126 27.374 19.342 48.734 56.965 44.89 105.325-4.067 51.155-41.335 94.139-89.776 98.475-24.085 2.155-71.972 0-71.972 0s-.84-1.352-.773-2.568m48.755-54.804c31.43 1.26 53.208-16.633 56.495-45.386 4.403-38.51-21.188-63.552-58.041-60.796v103.612c-.036 1.466.575 2.22 1.546 2.57"></path><path d="M383.78 381.328c13.336 3.71 17.387-11.06 23.215-21.408 12.722-22.571 22.294-51.594 22.445-84.774.221-47.594-18.343-82.517-35.6-106.182h-8.51c-.587 3.874 2.226 7.315 3.865 10.276 13.166 23.762 25.367 56.553 25.54 94.194.2 43.176-14.162 79.278-30.955 107.894"></path><path d="M425.154 381.328c13.336 3.71 17.384-11.061 23.215-21.408 12.721-22.571 22.291-51.594 22.445-84.774.221-47.594-18.343-82.517-35.6-106.182h-8.511c-.586 3.874 2.226 7.315 3.866 10.276 13.166 23.762 25.367 56.553 25.54 94.194.2 43.176-14.162 79.278-30.955 107.894"></path><path d="M466.26 381.328c13.337 3.71 17.385-11.061 23.216-21.408 12.722-22.571 22.292-51.594 22.445-84.774.221-47.594-18.343-82.517-35.6-106.182h-8.51c-.587 3.874 2.225 7.315 3.865 10.276 13.166 23.762 25.367 56.553 25.54 94.194.2 43.176-14.162 79.278-30.955 107.894M4.477 383.005H72.58l18.573-28.484 64.169-.135s.065 19.413.065 28.62h48.756V160.307h-58.816c-5.653 9.537-140.85 222.697-140.85 222.697zm152.667-145.282v71.158l-40.453-.27 40.453-70.888z"></path></g>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-next-item">
      <path d="M12 36l17-12-17-12v24zm20-24v24h4V12h-4z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-previous-item">
      <path d="M12 12h4v24h-4zm7 12l17 12V12z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-shuffle">
      <path d="M21.17 18.34L10.83 8 8 10.83l10.34 10.34 2.83-2.83zM29 8l4.09 4.09L8 37.17 10.83 40l25.09-25.09L40 19V8H29zm.66 18.83l-2.83 2.83 6.26 6.26L29 40h11V29l-4.09 4.09-6.25-6.26z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-cast">
      <path d="M42 6H6c-2.21 0-4 1.79-4 4v6h4v-6h36v28H28v4h14c2.21 0 4-1.79 4-4V10c0-2.21-1.79-4-4-4zM2 36v6h6c0-3.31-2.69-6-6-6zm0-8v4c5.52 0 10 4.48 10 10h4c0-7.73-6.27-14-14-14zm0-8v4c9.94 0 18 8.06 18 18h4c0-12.15-9.85-22-22-22z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-picture-in-picture-enter">
      <path d="M38 22H22v11.99h16V22zm8 16V9.96C46 7.76 44.2 6 42 6H6C3.8 6 2 7.76 2 9.96V38c0 2.2 1.8 4 4 4h36c2.2 0 4-1.8 4-4zm-4 .04H6V9.94h36v28.1z"></path>
    </symbol>
    <symbol viewBox="0 0 22 18" id="vjs-icon-picture-in-picture-exit">
      <path d="M18 4H4v10h14V4zm4 12V1.98C22 .88 21.1 0 20 0H2C.9 0 0 .88 0 1.98V16c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2zm-2 .02H2V1.97h18v14.05z"></path>
      <path fill="none" d="M-1-3h24v24H-1z"></path>
    </symbol>
    <symbol viewBox="0 0 1792 1792" id="vjs-icon-facebook">
      <path d="M1343 12v264h-157q-86 0-116 36t-30 108v189h293l-39 296h-254v759H734V905H479V609h255V391q0-186 104-288.5T1115 0q147 0 228 12z"></path>
    </symbol>
    <symbol viewBox="0 0 1792 1792" id="vjs-icon-linkedin">
      <path d="M477 625v991H147V625h330zm21-306q1 73-50.5 122T312 490h-2q-82 0-132-49t-50-122q0-74 51.5-122.5T314 148t133 48.5T498 319zm1166 729v568h-329v-530q0-105-40.5-164.5T1168 862q-63 0-105.5 34.5T999 982q-11 30-11 81v553H659q2-399 2-647t-1-296l-1-48h329v144h-2q20-32 41-56t56.5-52 87-43.5T1285 602q171 0 275 113.5t104 332.5z"></path>
    </symbol>
    <symbol viewBox="0 0 1200 1227" id="vjs-icon-twitter">
      <path d="M714.163 519.284L1160.89 0H1055.03L667.137 450.887L357.328 0H0L468.492 681.821L0 1226.37H105.866L515.491 750.218L842.672 1226.37H1200L714.137 519.284H714.163ZM569.165 687.828L521.697 619.934L144.011 79.6944H306.615L611.412 515.685L658.88 583.579L1055.08 1150.3H892.476L569.165 687.854V687.828Z"/>
    </symbol>
    <symbol viewBox="0 0 1792 1792" id="vjs-icon-tumblr">
      <path d="M1328 1329l80 237q-23 35-111 66t-177 32q-104 2-190.5-26T787 1564t-95-106-55.5-120-16.5-118V676H452V461q72-26 129-69.5t91-90 58-102 34-99T779 12q1-5 4.5-8.5T791 0h244v424h333v252h-334v518q0 30 6.5 56t22.5 52.5 49.5 41.5 81.5 14q78-2 134-29z"></path>
    </symbol>
    <symbol viewBox="0 0 1792 1792" id="vjs-icon-pinterest">
      <path d="M1664 896q0 209-103 385.5T1281.5 1561 896 1664q-111 0-218-32 59-93 78-164 9-34 54-211 20 39 73 67.5t114 28.5q121 0 216-68.5t147-188.5 52-270q0-114-59.5-214T1180 449t-255-63q-105 0-196 29t-154.5 77-109 110.5-67 129.5T377 866q0 104 40 183t117 111q30 12 38-20 2-7 8-31t8-30q6-23-11-43-51-61-51-151 0-151 104.5-259.5T904 517q151 0 235.5 82t84.5 213q0 170-68.5 289T980 1220q-61 0-98-43.5T859 1072q8-35 26.5-93.5t30-103T927 800q0-50-27-83t-77-33q-62 0-105 57t-43 142q0 73 25 122l-99 418q-17 70-13 177-206-91-333-281T128 896q0-209 103-385.5T510.5 231 896 128t385.5 103T1561 510.5 1664 896z"></path>
    </symbol>
  </defs>
</svg>`;const Q2=Gb?10009:Xb?461:8,Eh={codes:{play:415,pause:19,ff:417,rw:412,back:Q2},names:{415:"play",19:"pause",417:"ff",412:"rw",[Q2]:"back"},isEventKey(n,e){return e=e.toLowerCase(),!!(this.names[n.keyCode]&&this.names[n.keyCode]===e)},getEventName(n){if(this.names[n.keyCode])return this.names[n.keyCode];if(this.codes[n.code]){const e=this.codes[n.code];return this.names[e]}return null}},Z2=5;class JP extends gs{constructor(e){super(),this.player_=e,this.focusableComponents=[],this.isListening_=!1,this.isPaused_=!1,this.onKeyDown_=this.onKeyDown_.bind(this),this.lastFocusedComponent_=null}start(){this.isListening_||(this.player_.on("keydown",this.onKeyDown_),this.player_.on("modalKeydown",this.onKeyDown_),this.player_.on("loadedmetadata",()=>{this.focus(this.updateFocusableComponents()[0])}),this.player_.on("modalclose",()=>{this.refocusComponent()}),this.player_.on("focusin",this.handlePlayerFocus_.bind(this)),this.player_.on("focusout",this.handlePlayerBlur_.bind(this)),this.isListening_=!0,this.player_.errorDisplay&&this.player_.errorDisplay.on("aftermodalfill",()=>{this.updateFocusableComponents(),this.focusableComponents.length&&(this.focusableComponents.length>1?this.focusableComponents[1].focus():this.focusableComponents[0].focus())}))}stop(){this.player_.off("keydown",this.onKeyDown_),this.isListening_=!1}onKeyDown_(e){const i=e.originalEvent?e.originalEvent:e;if(["ArrowLeft","ArrowRight","ArrowUp","ArrowDown"].includes(i.key)){if(this.isPaused_)return;i.preventDefault();const s=i.key.substring(5).toLowerCase();this.move(s)}else if(Eh.isEventKey(i,"play")||Eh.isEventKey(i,"pause")||Eh.isEventKey(i,"ff")||Eh.isEventKey(i,"rw")){i.preventDefault();const s=Eh.getEventName(i);this.performMediaAction_(s)}else Eh.isEventKey(i,"Back")&&e.target&&typeof e.target.closeable=="function"&&e.target.closeable()&&(i.preventDefault(),e.target.close())}performMediaAction_(e){if(this.player_)switch(e){case"play":this.player_.paused()&&this.player_.play();break;case"pause":this.player_.paused()||this.player_.pause();break;case"ff":this.userSeek_(this.player_.currentTime()+Z2);break;case"rw":this.userSeek_(this.player_.currentTime()-Z2);break}}userSeek_(e){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&this.player_.liveTracker.nextSeekedFromUser(),this.player_.currentTime(e)}pause(){this.isPaused_=!0}resume(){this.isPaused_=!1}handlePlayerBlur_(e){const i=e.relatedTarget;let s=null;const o=this.getCurrentComponent(e.target);i&&(s=!!i.closest(".video-js"),i.classList.contains("vjs-text-track-settings")&&!this.isPaused_&&this.searchForTrackSelect_()),(!e.currentTarget.contains(e.relatedTarget)&&!s||!i)&&(o&&o.name()==="CloseButton"?this.refocusComponent():(this.pause(),o&&o.el()&&(this.lastFocusedComponent_=o)))}handlePlayerFocus_(){this.getCurrentComponent()&&this.getCurrentComponent().getIsFocusable()&&this.resume()}updateFocusableComponents(){const e=this.player_,i=[];function s(o){for(const l of o)l.hasOwnProperty("el_")&&l.getIsFocusable()&&l.getIsAvailableToBeFocused(l.el())&&i.push(l),l.hasOwnProperty("children_")&&l.children_.length>0&&s(l.children_)}return e.children_.forEach(o=>{if(o.hasOwnProperty("el_"))if(o.getIsFocusable&&o.getIsAvailableToBeFocused&&o.getIsFocusable()&&o.getIsAvailableToBeFocused(o.el())){i.push(o);return}else o.hasOwnProperty("children_")&&o.children_.length>0?s(o.children_):o.hasOwnProperty("items")&&o.items.length>0?s(o.items):this.findSuitableDOMChild(o)&&i.push(o);if(o.name_==="ErrorDisplay"&&o.opened_){const l=o.el_.querySelector(".vjs-errors-ok-button-container");l&&l.querySelectorAll("button").forEach((d,m)=>{i.push({name:()=>"ModalButton"+(m+1),el:()=>d,getPositions:()=>{const p=d.getBoundingClientRect(),v={x:p.x,y:p.y,width:p.width,height:p.height,top:p.top,right:p.right,bottom:p.bottom,left:p.left},E={x:p.left+p.width/2,y:p.top+p.height/2,width:0,height:0,top:p.top+p.height/2,right:p.left+p.width/2,bottom:p.top+p.height/2,left:p.left+p.width/2};return{boundingClientRect:v,center:E}},getIsAvailableToBeFocused:()=>!0,getIsFocusable:p=>!0,focus:()=>d.focus()})})}}),this.focusableComponents=i,this.focusableComponents}findSuitableDOMChild(e){function i(s){if(e.getIsFocusable(s)&&e.getIsAvailableToBeFocused(s))return s;for(let o=0;o<s.children.length;o++){const l=s.children[o],c=i(l);if(c)return c}return null}return e.el()?i(e.el()):null}getCurrentComponent(e){this.updateFocusableComponents();const i=e||document.activeElement;if(this.focusableComponents.length){for(const s of this.focusableComponents)if(s.el()===i)return s}}add(e){const i=[...this.focusableComponents];e.hasOwnProperty("el_")&&e.getIsFocusable()&&e.getIsAvailableToBeFocused(e.el())&&i.push(e),this.focusableComponents=i,this.trigger({type:"focusableComponentsChanged",focusableComponents:this.focusableComponents})}remove(e){for(let i=0;i<this.focusableComponents.length;i++)if(this.focusableComponents[i].name()===e.name()){this.focusableComponents.splice(i,1),this.trigger({type:"focusableComponentsChanged",focusableComponents:this.focusableComponents});return}}clear(){this.focusableComponents.length>0&&(this.focusableComponents=[],this.trigger({type:"focusableComponentsChanged",focusableComponents:this.focusableComponents}))}move(e){const i=this.getCurrentComponent();if(!i)return;const s=i.getPositions(),o=this.focusableComponents.filter(c=>c!==i&&this.isInDirection_(s.boundingClientRect,c.getPositions().boundingClientRect,e)),l=this.findBestCandidate_(s.center,o,e);l?this.focus(l):this.trigger({type:"endOfFocusableComponents",direction:e,focusedComponent:i})}findBestCandidate_(e,i,s){let o=1/0,l=null;for(const c of i){const d=c.getPositions().center,m=this.calculateDistance_(e,d,s);m<o&&(o=m,l=c)}return l}isInDirection_(e,i,s){switch(s){case"right":return i.left>=e.right;case"left":return i.right<=e.left;case"down":return i.top>=e.bottom;case"up":return i.bottom<=e.top;default:return!1}}refocusComponent(){if(this.lastFocusedComponent_){this.player_.userActive()||this.player_.userActive(!0),this.updateFocusableComponents();for(let e=0;e<this.focusableComponents.length;e++)if(this.focusableComponents[e].name()===this.lastFocusedComponent_.name()){this.focus(this.focusableComponents[e]);return}}else this.focus(this.updateFocusableComponents()[0])}focus(e){typeof e=="object"&&(e.getIsAvailableToBeFocused(e.el())?e.focus():this.findSuitableDOMChild(e)&&this.findSuitableDOMChild(e).focus())}calculateDistance_(e,i,s){const o=Math.abs(e.x-i.x),l=Math.abs(e.y-i.y);let c;switch(s){case"right":case"left":c=o+l*100;break;case"up":c=l*2+o*.5;break;case"down":c=l*5+o;break;default:c=o+l}return c}searchForTrackSelect_(){const e=this;for(const i of e.updateFocusableComponents())if(i.constructor.name==="TextTrackSelect"){e.focus(i);break}}}class e6 extends Oe{constructor(e,i,s){const o=dn({createEl:!1},i);if(super(e,o,s),!i.playerOptions.sources||i.playerOptions.sources.length===0)for(let l=0,c=i.playerOptions.techOrder;l<c.length;l++){const d=Wn(c[l]);let m=vt.getTech(d);if(d||(m=Oe.getComponent(d)),m&&m.isSupported()){e.loadTech_(d);break}}else e.src(i.playerOptions.sources)}}Oe.registerComponent("MediaLoader",e6);class M0 extends Oe{constructor(e,i){super(e,i),this.options_.controlText&&this.controlText(this.options_.controlText),this.handleMouseOver_=s=>this.handleMouseOver(s),this.handleMouseOut_=s=>this.handleMouseOut(s),this.handleClick_=s=>this.handleClick(s),this.handleKeyDown_=s=>this.handleKeyDown(s),this.emitTapEvents(),this.enable()}createEl(e="div",i={},s={}){i=Object.assign({className:this.buildCSSClass(),tabIndex:0},i),e==="button"&&At.error(`Creating a ClickableComponent with an HTML element of ${e} is not supported; use a Button instead.`),s=Object.assign({role:"button"},s),this.tabIndex_=i.tabIndex;const o=ct(e,i,s);return this.player_.options_.experimentalSvgIcons||o.appendChild(ct("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(o),o}dispose(){this.controlTextEl_=null,super.dispose()}createControlTextEl(e){return this.controlTextEl_=ct("span",{className:"vjs-control-text"},{"aria-live":"polite"}),e&&e.appendChild(this.controlTextEl_),this.controlText(this.controlText_,e),this.controlTextEl_}controlText(e,i=this.el()){if(e===void 0)return this.controlText_||"Need Text";const s=this.localize(e);this.controlText_=e,Pu(this.controlTextEl_,s),!this.nonIconControl&&!this.player_.options_.noUITitleAttributes&&i.setAttribute("title",s)}buildCSSClass(){return`vjs-control vjs-button ${super.buildCSSClass()}`}enable(){this.enabled_||(this.enabled_=!0,this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),typeof this.tabIndex_<"u"&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.on(["tap","click"],this.handleClick_),this.on("keydown",this.handleKeyDown_))}disable(){this.enabled_=!1,this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),typeof this.tabIndex_<"u"&&this.el_.removeAttribute("tabIndex"),this.off("mouseover",this.handleMouseOver_),this.off("mouseout",this.handleMouseOut_),this.off(["tap","click"],this.handleClick_),this.off("keydown",this.handleKeyDown_)}handleLanguagechange(){this.controlText(this.controlText_)}handleClick(e){this.options_.clickHandler&&this.options_.clickHandler.call(this,arguments)}handleKeyDown(e){e.key===" "||e.key==="Enter"?(e.preventDefault(),e.stopPropagation(),this.trigger("click")):super.handleKeyDown(e)}}Oe.registerComponent("ClickableComponent",M0);class $x extends M0{constructor(e,i){super(e,i),this.update(),this.update_=s=>this.update(s),e.on("posterchange",this.update_)}dispose(){this.player().off("posterchange",this.update_),super.dispose()}createEl(){return ct("div",{className:"vjs-poster"})}crossOrigin(e){if(typeof e>"u")return this.$("img")?this.$("img").crossOrigin:this.player_.tech_&&this.player_.tech_.isReady_?this.player_.crossOrigin():this.player_.options_.crossOrigin||this.player_.options_.crossorigin||null;if(e!==null&&e!=="anonymous"&&e!=="use-credentials"){this.player_.log.warn(`crossOrigin must be null,  "anonymous" or "use-credentials", given "${e}"`);return}this.$("img")&&(this.$("img").crossOrigin=e)}update(e){const i=this.player().poster();this.setSrc(i),i?this.show():this.hide()}setSrc(e){if(!e){this.el_.textContent="";return}this.$("img")||this.el_.appendChild(ct("picture",{className:"vjs-poster",tabIndex:-1},{},ct("img",{loading:"lazy",crossOrigin:this.crossOrigin()},{alt:""}))),this.$("img").src=e}handleClick(e){this.player_.controls()&&(this.player_.tech(!0)&&this.player_.tech(!0).focus(),this.player_.paused()?po(this.player_.play()):this.player_.pause())}}$x.prototype.crossorigin=$x.prototype.crossOrigin;Oe.registerComponent("PosterImage",$x);const Xs="#222",W2="#ccc",t6={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'};function px(n,e){let i;if(n.length===4)i=n[1]+n[1]+n[2]+n[2]+n[3]+n[3];else if(n.length===7)i=n.slice(1);else throw new Error("Invalid color code provided, "+n+"; must be formatted as e.g. #f0e or #f604e2.");return"rgba("+parseInt(i.slice(0,2),16)+","+parseInt(i.slice(2,4),16)+","+parseInt(i.slice(4,6),16)+","+e+")"}function ho(n,e,i){try{n.style[e]=i}catch{return}}function K2(n){return n?`${n}px`:""}class n6 extends Oe{constructor(e,i,s){super(e,i,s);const o=c=>this.updateDisplay(c),l=c=>{this.updateDisplayOverlay(),this.updateDisplay(c)};e.on("loadstart",c=>this.toggleDisplay(c)),e.on("useractive",o),e.on("userinactive",o),e.on("texttrackchange",o),e.on("loadedmetadata",c=>{this.updateDisplayOverlay(),this.preselectTrack(c)}),e.ready(En(this,function(){if(e.tech_&&e.tech_.featuresNativeTextTracks){this.hide();return}e.on("fullscreenchange",l),e.on("playerresize",l);const c=W.screen.orientation||W,d=W.screen.orientation?"change":"orientationchange";c.addEventListener(d,l),e.on("dispose",()=>c.removeEventListener(d,l));const m=this.options_.playerOptions.tracks||[];for(let p=0;p<m.length;p++)this.player_.addRemoteTextTrack(m[p],!0);this.preselectTrack()}))}preselectTrack(){const e={captions:1,subtitles:1},i=this.player_.textTracks(),s=this.player_.cache_.selectedLanguage;let o,l,c;for(let d=0;d<i.length;d++){const m=i[d];s&&s.enabled&&s.language&&s.language===m.language&&m.kind in e?m.kind===s.kind?c=m:c||(c=m):s&&!s.enabled?(c=null,o=null,l=null):m.default&&(m.kind==="descriptions"&&!o?o=m:m.kind in e&&!l&&(l=m))}c?c.mode="showing":l?l.mode="showing":o&&(o.mode="showing")}toggleDisplay(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()}createEl(){return super.createEl("div",{className:"vjs-text-track-display"},{translate:"yes","aria-live":"off","aria-atomic":"true"})}clearDisplay(){typeof W.WebVTT=="function"&&W.WebVTT.processCues(W,[],this.el_)}updateDisplay(){const e=this.player_.textTracks(),i=this.options_.allowMultipleShowingTracks;if(this.clearDisplay(),i){const c=[];for(let d=0;d<e.length;++d){const m=e[d];m.mode==="showing"&&c.push(m)}this.updateForTrack(c);return}let s=null,o=null,l=e.length;for(;l--;){const c=e[l];c.mode==="showing"&&(c.kind==="descriptions"?s=c:o=c)}if(o?(this.getAttribute("aria-live")!=="off"&&this.setAttribute("aria-live","off"),this.updateForTrack(o)):s&&(this.getAttribute("aria-live")!=="assertive"&&this.setAttribute("aria-live","assertive"),this.updateForTrack(s)),!W.CSS.supports("inset","10px")){const c=this.el_,d=c.querySelectorAll(".vjs-text-track-cue"),m=this.player_.controlBar.el_.getBoundingClientRect().height,p=this.player_.el_.getBoundingClientRect().height;c.style="",ho(c,"position","relative"),ho(c,"height",p-m+"px"),ho(c,"top","unset"),Yb?ho(c,"bottom",p+"px"):ho(c,"bottom","0px"),d.length>0&&d.forEach(v=>{if(v.style.inset){const E=v.style.inset.split(" ");E.length===3&&Object.assign(v.style,{top:E[0],right:E[1],bottom:E[2],left:"unset"})}})}}updateDisplayOverlay(){if(!this.player_.videoHeight()||!W.CSS.supports("inset-inline: 10px"))return;const e=this.player_.currentWidth(),i=this.player_.currentHeight(),s=e/i,o=this.player_.videoWidth()/this.player_.videoHeight();let l=0,c=0;Math.abs(s-o)>.1&&(s>o?l=Math.round((e-i*o)/2):c=Math.round((i-e/o)/2)),ho(this.el_,"insetInline",K2(l)),ho(this.el_,"insetBlock",K2(c))}updateDisplayState(e){const i=this.player_.textTrackSettings.getValues(),s=e.activeCues;let o=s.length;for(;o--;){const l=s[o];if(!l)continue;const c=l.displayState;if(i.color&&(c.firstChild.style.color=i.color),i.textOpacity&&ho(c.firstChild,"color",px(i.color||"#fff",i.textOpacity)),i.backgroundColor&&(c.firstChild.style.backgroundColor=i.backgroundColor),i.backgroundOpacity&&ho(c.firstChild,"backgroundColor",px(i.backgroundColor||"#000",i.backgroundOpacity)),i.windowColor&&(i.windowOpacity?ho(c,"backgroundColor",px(i.windowColor,i.windowOpacity)):c.style.backgroundColor=i.windowColor),i.edgeStyle&&(i.edgeStyle==="dropshadow"?c.firstChild.style.textShadow=`2px 2px 3px ${Xs}, 2px 2px 4px ${Xs}, 2px 2px 5px ${Xs}`:i.edgeStyle==="raised"?c.firstChild.style.textShadow=`1px 1px ${Xs}, 2px 2px ${Xs}, 3px 3px ${Xs}`:i.edgeStyle==="depressed"?c.firstChild.style.textShadow=`1px 1px ${W2}, 0 1px ${W2}, -1px -1px ${Xs}, 0 -1px ${Xs}`:i.edgeStyle==="uniform"&&(c.firstChild.style.textShadow=`0 0 4px ${Xs}, 0 0 4px ${Xs}, 0 0 4px ${Xs}, 0 0 4px ${Xs}`)),i.fontPercent&&i.fontPercent!==1){const d=W.parseFloat(c.style.fontSize);c.style.fontSize=d*i.fontPercent+"px",c.style.height="auto",c.style.top="auto"}i.fontFamily&&i.fontFamily!=="default"&&(i.fontFamily==="small-caps"?c.firstChild.style.fontVariant="small-caps":c.firstChild.style.fontFamily=t6[i.fontFamily])}}updateForTrack(e){if(Array.isArray(e)||(e=[e]),typeof W.WebVTT!="function"||e.every(s=>!s.activeCues))return;const i=[];for(let s=0;s<e.length;++s){const o=e[s];for(let l=0;l<o.activeCues.length;++l)i.push(o.activeCues[l])}W.WebVTT.processCues(W,i,this.el_);for(let s=0;s<e.length;++s){const o=e[s];for(let l=0;l<o.activeCues.length;++l){const c=o.activeCues[l].displayState;Xc(c,"vjs-text-track-cue","vjs-text-track-cue-"+(o.language?o.language:s)),o.language&&Gh(c,"lang",o.language)}this.player_.textTrackSettings&&this.updateDisplayState(o)}}}Oe.registerComponent("TextTrackDisplay",n6);class i6 extends Oe{createEl(){const e=this.player_.isAudio(),i=this.localize(e?"Audio Player":"Video Player"),s=ct("span",{className:"vjs-control-text",textContent:this.localize("{1} is loading.",[i])}),o=super.createEl("div",{className:"vjs-loading-spinner",dir:"ltr"});return o.appendChild(s),o}handleLanguagechange(){this.$(".vjs-control-text").textContent=this.localize("{1} is loading.",[this.player_.isAudio()?"Audio Player":"Video Player"])}}Oe.registerComponent("LoadingSpinner",i6);class tr extends M0{createEl(e,i={},s={}){e="button",i=Object.assign({className:this.buildCSSClass()},i),s=Object.assign({type:"button"},s);const o=ct(e,i,s);return this.player_.options_.experimentalSvgIcons||o.appendChild(ct("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(o),o}addChild(e,i={}){const s=this.constructor.name;return At.warn(`Adding an actionable (user controllable) child to a Button (${s}) is not supported; use a ClickableComponent instead.`),Oe.prototype.addChild.call(this,e,i)}enable(){super.enable(),this.el_.removeAttribute("disabled")}disable(){super.disable(),this.el_.setAttribute("disabled","disabled")}handleKeyDown(e){if(e.key===" "||e.key==="Enter"){e.stopPropagation();return}super.handleKeyDown(e)}}Oe.registerComponent("Button",tr);class w3 extends tr{constructor(e,i){super(e,i),this.mouseused_=!1,this.setIcon("play"),this.on("mousedown",s=>this.handleMouseDown(s))}buildCSSClass(){return"vjs-big-play-button"}handleClick(e){const i=this.player_.play();if(e.type==="tap"||this.mouseused_&&"clientX"in e&&"clientY"in e){po(i),this.player_.tech(!0)&&this.player_.tech(!0).focus();return}const s=this.player_.getChild("controlBar"),o=s&&s.getChild("playToggle");if(!o){this.player_.tech(!0).focus();return}const l=()=>o.focus();Qm(i)?i.then(l,()=>{}):this.setTimeout(l,1)}handleKeyDown(e){this.mouseused_=!1,super.handleKeyDown(e)}handleMouseDown(e){this.mouseused_=!0}}w3.prototype.controlText_="Play Video";Oe.registerComponent("BigPlayButton",w3);class r6 extends tr{constructor(e,i){super(e,i),this.setIcon("cancel"),this.controlText(i&&i.controlText||this.localize("Close"))}buildCSSClass(){return`vjs-close-button ${super.buildCSSClass()}`}handleClick(e){this.trigger({type:"close",bubbles:!1})}handleKeyDown(e){e.key==="Escape"?(e.preventDefault(),e.stopPropagation(),this.trigger("click")):super.handleKeyDown(e)}}Oe.registerComponent("CloseButton",r6);class R3 extends tr{constructor(e,i={}){super(e,i),i.replay=i.replay===void 0||i.replay,this.setIcon("play"),this.on(e,"play",s=>this.handlePlay(s)),this.on(e,"pause",s=>this.handlePause(s)),i.replay&&this.on(e,"ended",s=>this.handleEnded(s))}buildCSSClass(){return`vjs-play-control ${super.buildCSSClass()}`}handleClick(e){this.player_.paused()?po(this.player_.play()):this.player_.pause()}handleSeeked(e){this.removeClass("vjs-ended"),this.player_.paused()?this.handlePause(e):this.handlePlay(e)}handlePlay(e){this.removeClass("vjs-ended","vjs-paused"),this.addClass("vjs-playing"),this.setIcon("pause"),this.controlText("Pause")}handlePause(e){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.setIcon("play"),this.controlText("Play")}handleEnded(e){this.removeClass("vjs-playing"),this.addClass("vjs-ended"),this.setIcon("replay"),this.controlText("Replay"),this.one(this.player_,"seeked",i=>this.handleSeeked(i))}}R3.prototype.controlText_="Play";Oe.registerComponent("PlayToggle",R3);class af extends Oe{constructor(e,i){super(e,i),this.on(e,["timeupdate","ended","seeking"],s=>this.update(s)),this.updateTextNode_()}createEl(){const e=this.buildCSSClass(),i=super.createEl("div",{className:`${e} vjs-time-control vjs-control`}),s=ct("span",{className:"vjs-control-text",textContent:`${this.localize(this.labelText_)}`},{role:"presentation"});return i.appendChild(s),this.contentEl_=ct("span",{className:`${e}-display`},{role:"presentation"}),i.appendChild(this.contentEl_),i}dispose(){this.contentEl_=null,this.textNode_=null,super.dispose()}update(e){!this.player_.options_.enableSmoothSeeking&&e.type==="seeking"||this.updateContent(e)}updateTextNode_(e=0){e=Wc(e),this.formattedTime_!==e&&(this.formattedTime_=e,this.requestNamedAnimationFrame("TimeDisplay#updateTextNode_",()=>{if(!this.contentEl_)return;let i=this.textNode_;i&&this.contentEl_.firstChild!==i&&(i=null,At.warn("TimeDisplay#updateTextnode_: Prevented replacement of text node element since it was no longer a child of this node. Appending a new node instead.")),this.textNode_=Ve.createTextNode(this.formattedTime_),this.textNode_&&(i?this.contentEl_.replaceChild(this.textNode_,i):this.contentEl_.appendChild(this.textNode_))}))}updateContent(e){}}af.prototype.labelText_="Time";af.prototype.controlText_="Time";Oe.registerComponent("TimeDisplay",af);class z1 extends af{buildCSSClass(){return"vjs-current-time"}updateContent(e){let i;this.player_.ended()?i=this.player_.duration():e&&e.target&&typeof e.target.pendingSeekTime=="function"?i=e.target.pendingSeekTime():i=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),this.updateTextNode_(i)}}z1.prototype.labelText_="Current Time";z1.prototype.controlText_="Current Time";Oe.registerComponent("CurrentTimeDisplay",z1);class H1 extends af{constructor(e,i){super(e,i);const s=o=>this.updateContent(o);this.on(e,"durationchange",s),this.on(e,"loadstart",s),this.on(e,"loadedmetadata",s)}buildCSSClass(){return"vjs-duration"}updateContent(e){const i=this.player_.duration();this.updateTextNode_(i)}}H1.prototype.labelText_="Duration";H1.prototype.controlText_="Duration";Oe.registerComponent("DurationDisplay",H1);class s6 extends Oe{createEl(){const e=super.createEl("div",{className:"vjs-time-control vjs-time-divider"},{"aria-hidden":!0}),i=super.createEl("div"),s=super.createEl("span",{textContent:"/"});return i.appendChild(s),e.appendChild(i),e}}Oe.registerComponent("TimeDivider",s6);class $1 extends af{constructor(e,i){super(e,i),this.on(e,"durationchange",s=>this.updateContent(s))}buildCSSClass(){return"vjs-remaining-time"}createEl(){const e=super.createEl();return this.options_.displayNegative!==!1&&e.insertBefore(ct("span",{},{"aria-hidden":!0},"-"),this.contentEl_),e}updateContent(e){if(typeof this.player_.duration()!="number")return;let i;this.player_.ended()?i=0:this.player_.remainingTimeDisplay?i=this.player_.remainingTimeDisplay():i=this.player_.remainingTime(),this.updateTextNode_(i)}}$1.prototype.labelText_="Remaining Time";$1.prototype.controlText_="Remaining Time";Oe.registerComponent("RemainingTimeDisplay",$1);class a6 extends Oe{constructor(e,i){super(e,i),this.updateShowing(),this.on(this.player(),"durationchange",s=>this.updateShowing(s))}createEl(){const e=super.createEl("div",{className:"vjs-live-control vjs-control"});return this.contentEl_=ct("div",{className:"vjs-live-display"},{"aria-live":"off"}),this.contentEl_.appendChild(ct("span",{className:"vjs-control-text",textContent:`${this.localize("Stream Type")}`})),this.contentEl_.appendChild(Ve.createTextNode(this.localize("LIVE"))),e.appendChild(this.contentEl_),e}dispose(){this.contentEl_=null,super.dispose()}updateShowing(e){this.player().duration()===1/0?this.show():this.hide()}}Oe.registerComponent("LiveDisplay",a6);class k3 extends tr{constructor(e,i){super(e,i),this.updateLiveEdgeStatus(),this.player_.liveTracker&&(this.updateLiveEdgeStatusHandler_=s=>this.updateLiveEdgeStatus(s),this.on(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatusHandler_))}createEl(){const e=super.createEl("button",{className:"vjs-seek-to-live-control vjs-control"});return this.setIcon("circle",e),this.textEl_=ct("span",{className:"vjs-seek-to-live-text",textContent:this.localize("LIVE")},{"aria-hidden":"true"}),e.appendChild(this.textEl_),e}updateLiveEdgeStatus(){!this.player_.liveTracker||this.player_.liveTracker.atLiveEdge()?(this.setAttribute("aria-disabled",!0),this.addClass("vjs-at-live-edge"),this.controlText("Seek to live, currently playing live")):(this.setAttribute("aria-disabled",!1),this.removeClass("vjs-at-live-edge"),this.controlText("Seek to live, currently behind live"))}handleClick(){this.player_.liveTracker.seekToLiveEdge()}dispose(){this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatusHandler_),this.textEl_=null,super.dispose()}}k3.prototype.controlText_="Seek to live, currently playing live";Oe.registerComponent("SeekToLive",k3);function pp(n,e,i){return n=Number(n),Math.min(i,Math.max(e,isNaN(n)?e:n))}var o6=Object.freeze({__proto__:null,clamp:pp});class q1 extends Oe{constructor(e,i){super(e,i),this.handleMouseDown_=s=>this.handleMouseDown(s),this.handleMouseUp_=s=>this.handleMouseUp(s),this.handleKeyDown_=s=>this.handleKeyDown(s),this.handleClick_=s=>this.handleClick(s),this.handleMouseMove_=s=>this.handleMouseMove(s),this.update_=s=>this.update(s),this.bar=this.getChild(this.options_.barName),this.vertical(!!this.options_.vertical),this.enable()}enabled(){return this.enabled_}enable(){this.enabled()||(this.on("mousedown",this.handleMouseDown_),this.on("touchstart",this.handleMouseDown_),this.on("keydown",this.handleKeyDown_),this.on("click",this.handleClick_),this.on(this.player_,"controlsvisible",this.update),this.playerEvent&&this.on(this.player_,this.playerEvent,this.update),this.removeClass("disabled"),this.setAttribute("tabindex",0),this.enabled_=!0)}disable(){if(!this.enabled())return;const e=this.bar.el_.ownerDocument;this.off("mousedown",this.handleMouseDown_),this.off("touchstart",this.handleMouseDown_),this.off("keydown",this.handleKeyDown_),this.off("click",this.handleClick_),this.off(this.player_,"controlsvisible",this.update_),this.off(e,"mousemove",this.handleMouseMove_),this.off(e,"mouseup",this.handleMouseUp_),this.off(e,"touchmove",this.handleMouseMove_),this.off(e,"touchend",this.handleMouseUp_),this.removeAttribute("tabindex"),this.addClass("disabled"),this.playerEvent&&this.off(this.player_,this.playerEvent,this.update),this.enabled_=!1}createEl(e,i={},s={}){return i.className=i.className+" vjs-slider",i=Object.assign({tabIndex:0},i),s=Object.assign({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100},s),super.createEl(e,i,s)}handleMouseDown(e){const i=this.bar.el_.ownerDocument;e.type==="mousedown"&&e.preventDefault(),e.type==="touchstart"&&!xo&&e.preventDefault(),i3(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(i,"mousemove",this.handleMouseMove_),this.on(i,"mouseup",this.handleMouseUp_),this.on(i,"touchmove",this.handleMouseMove_),this.on(i,"touchend",this.handleMouseUp_),this.handleMouseMove(e,!0)}handleMouseMove(e){}handleMouseUp(e){const i=this.bar.el_.ownerDocument;r3(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(i,"mousemove",this.handleMouseMove_),this.off(i,"mouseup",this.handleMouseUp_),this.off(i,"touchmove",this.handleMouseMove_),this.off(i,"touchend",this.handleMouseUp_),this.update()}update(){if(!this.el_||!this.bar)return;const e=this.getProgress();return e===this.progress_||(this.progress_=e,this.requestNamedAnimationFrame("Slider#update",()=>{const i=this.vertical()?"height":"width";this.bar.el().style[i]=(e*100).toFixed(2)+"%"})),e}getProgress(){return Number(pp(this.getPercent(),0,1).toFixed(4))}calculateDistance(e){const i=D0(this.el_,e);return this.vertical()?i.y:i.x}handleKeyDown(e){const i=this.options_.playerOptions.spatialNavigation,s=i&&i.enabled,o=i&&i.horizontalSeek;s?o&&e.key==="ArrowLeft"||!o&&e.key==="ArrowDown"?(e.preventDefault(),e.stopPropagation(),this.stepBack()):o&&e.key==="ArrowRight"||!o&&e.key==="ArrowUp"?(e.preventDefault(),e.stopPropagation(),this.stepForward()):(this.pendingSeekTime()&&(this.pendingSeekTime(null),this.userSeek_(this.player_.currentTime())),super.handleKeyDown(e)):e.key==="ArrowLeft"||e.key==="ArrowDown"?(e.preventDefault(),e.stopPropagation(),this.stepBack()):e.key==="ArrowUp"||e.key==="ArrowRight"?(e.preventDefault(),e.stopPropagation(),this.stepForward()):super.handleKeyDown(e)}handleClick(e){e.stopPropagation(),e.preventDefault()}vertical(e){if(e===void 0)return this.vertical_||!1;this.vertical_=!!e,this.vertical_?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal")}}Oe.registerComponent("Slider",q1);const gx=(n,e)=>pp(n/e*100,0,100).toFixed(2)+"%";class l6 extends Oe{constructor(e,i){super(e,i),this.partEls_=[],this.on(e,"progress",s=>this.update(s))}createEl(){const e=super.createEl("div",{className:"vjs-load-progress"}),i=ct("span",{className:"vjs-control-text"}),s=ct("span",{textContent:this.localize("Loaded")}),o=Ve.createTextNode(": ");return this.percentageEl_=ct("span",{className:"vjs-control-text-loaded-percentage",textContent:"0%"}),e.appendChild(i),i.appendChild(s),i.appendChild(o),i.appendChild(this.percentageEl_),e}dispose(){this.partEls_=null,this.percentageEl_=null,super.dispose()}update(e){this.requestNamedAnimationFrame("LoadProgressBar#update",()=>{const i=this.player_.liveTracker,s=this.player_.buffered(),o=i&&i.isLive()?i.seekableEnd():this.player_.duration(),l=this.player_.bufferedEnd(),c=this.partEls_,d=gx(l,o);this.percent_!==d&&(this.el_.style.width=d,Pu(this.percentageEl_,d),this.percent_=d);for(let m=0;m<s.length;m++){const p=s.start(m),v=s.end(m);let E=c[m];E||(E=this.el_.appendChild(ct()),c[m]=E),!(E.dataset.start===p&&E.dataset.end===v)&&(E.dataset.start=p,E.dataset.end=v,E.style.left=gx(p,l),E.style.width=gx(v-p,l))}for(let m=c.length;m>s.length;m--)this.el_.removeChild(c[m-1]);c.length=s.length})}}Oe.registerComponent("LoadProgressBar",l6);class u6 extends Oe{constructor(e,i){super(e,i),this.update=To(En(this,this.update),Zs)}createEl(){return super.createEl("div",{className:"vjs-time-tooltip"},{"aria-hidden":"true"})}update(e,i,s){const o=rp(this.el_),l=Xh(this.player_.el()),c=e.width*i;if(!l||!o)return;let d=e.left-l.left+c,m=e.width-c+(l.right-e.right);m||(m=e.width-c,d=c);let p=o.width/2;d<p?p+=p-d:m<p&&(p=m),p<0?p=0:p>o.width&&(p=o.width),p=Math.round(p),this.el_.style.right=`-${p}px`,this.write(s)}write(e){Pu(this.el_,e)}updateTime(e,i,s,o){this.requestNamedAnimationFrame("TimeTooltip#updateTime",()=>{let l;const c=this.player_.duration();if(this.player_.liveTracker&&this.player_.liveTracker.isLive()){const d=this.player_.liveTracker.liveWindow(),m=d-i*d;l=(m<1?"":"-")+Wc(m,d)}else l=Wc(s,c);this.update(e,i,l),o&&o()})}}Oe.registerComponent("TimeTooltip",u6);class G1 extends Oe{constructor(e,i){super(e,i),this.setIcon("circle"),this.update=To(En(this,this.update),Zs)}createEl(){return super.createEl("div",{className:"vjs-play-progress vjs-slider-bar"},{"aria-hidden":"true"})}update(e,i,s){const o=this.getChild("timeTooltip");if(!o)return;const l=s&&s.target&&typeof s.target.pendingSeekTime=="function"?s.target.pendingSeekTime():this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();o.updateTime(e,i,l)}}G1.prototype.options_={children:[]};!Ji&&!Sa&&G1.prototype.options_.children.push("timeTooltip");Oe.registerComponent("PlayProgressBar",G1);class O3 extends Oe{constructor(e,i){super(e,i),this.update=To(En(this,this.update),Zs)}createEl(){return super.createEl("div",{className:"vjs-mouse-display"})}update(e,i){const s=i*this.player_.duration();this.getChild("timeTooltip").updateTime(e,i,s,()=>{this.el_.style.left=`${e.width*i}px`})}}O3.prototype.options_={children:["timeTooltip"]};Oe.registerComponent("MouseTimeDisplay",O3);class I0 extends q1{constructor(e,i){i=dn(I0.prototype.options_,i),i.children=[...i.children];const s=e.options_.disableSeekWhileScrubbingOnMobile&&(Ji||Sa)||e.options_.disableSeekWhileScrubbingOnSTV;(!Ji&&!Sa||s)&&i.children.splice(1,0,"mouseTimeDisplay"),super(e,i),this.shouldDisableSeekWhileScrubbing_=s,this.pendingSeekTime_=null,this.setEventHandlers_()}setEventHandlers_(){this.update_=En(this,this.update),this.update=To(this.update_,Zs),this.on(this.player_,["durationchange","timeupdate"],this.update),this.on(this.player_,["ended"],this.update_),this.player_.liveTracker&&this.on(this.player_.liveTracker,"liveedgechange",this.update),this.updateInterval=null,this.enableIntervalHandler_=e=>this.enableInterval_(e),this.disableIntervalHandler_=e=>this.disableInterval_(e),this.on(this.player_,["playing"],this.enableIntervalHandler_),this.on(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in Ve&&"visibilityState"in Ve&&this.on(Ve,"visibilitychange",this.toggleVisibility_)}toggleVisibility_(e){Ve.visibilityState==="hidden"?(this.cancelNamedAnimationFrame("SeekBar#update"),this.cancelNamedAnimationFrame("Slider#update"),this.disableInterval_(e)):(!this.player_.ended()&&!this.player_.paused()&&this.enableInterval_(),this.update())}enableInterval_(){this.updateInterval||(this.updateInterval=this.setInterval(this.update,Zs))}disableInterval_(e){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&e&&e.type!=="ended"||this.updateInterval&&(this.clearInterval(this.updateInterval),this.updateInterval=null)}createEl(){return super.createEl("div",{className:"vjs-progress-holder"},{"aria-label":this.localize("Progress Bar")})}update(e){if(Ve.visibilityState==="hidden")return;const i=super.update();return this.requestNamedAnimationFrame("SeekBar#update",()=>{const s=this.player_.ended()?this.player_.duration():this.getCurrentTime_(),o=this.player_.liveTracker;let l=this.player_.duration();o&&o.isLive()&&(l=this.player_.liveTracker.liveCurrentTime()),this.percent_!==i&&(this.el_.setAttribute("aria-valuenow",(i*100).toFixed(2)),this.percent_=i),(this.currentTime_!==s||this.duration_!==l)&&(this.el_.setAttribute("aria-valuetext",this.localize("progress bar timing: currentTime={1} duration={2}",[Wc(s,l),Wc(l,l)],"{1} of {2}")),this.currentTime_=s,this.duration_=l),this.bar&&this.bar.update(Xh(this.el()),this.getProgress(),e)}),i}userSeek_(e){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&this.player_.liveTracker.nextSeekedFromUser(),this.player_.currentTime(e)}getCurrentTime_(){return this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime()}pendingSeekTime(e){if(e!==void 0)if(e!==null){const i=this.player_.duration();this.pendingSeekTime_=Math.max(0,Math.min(e,i))}else this.pendingSeekTime_=null;return this.pendingSeekTime_}getPercent(){if(this.pendingSeekTime()!==null)return this.pendingSeekTime()/this.player_.duration();const e=this.getCurrentTime_();let i;const s=this.player_.liveTracker;return s&&s.isLive()?(i=(e-s.seekableStart())/s.liveWindow(),s.atLiveEdge()&&(i=1)):i=e/this.player_.duration(),i}handleMouseDown(e){sp(e)&&(e.stopPropagation(),this.videoWasPlaying=!this.player_.paused(),this.shouldDisableSeekWhileScrubbing_||this.player_.pause(),super.handleMouseDown(e))}handleMouseMove(e,i=!1){if(!sp(e)||isNaN(this.player_.duration()))return;!i&&!this.player_.scrubbing()&&this.player_.scrubbing(!0);let s;const o=this.calculateDistance(e),l=this.player_.liveTracker;if(!l||!l.isLive())s=o*this.player_.duration(),s===this.player_.duration()&&(s=s-.1);else{if(o>=.99){l.seekToLiveEdge();return}const c=l.seekableStart(),d=l.liveCurrentTime();if(s=c+o*l.liveWindow(),s>=d&&(s=d),s<=c&&(s=c+.1),s===1/0)return}this.shouldDisableSeekWhileScrubbing_?this.pendingSeekTime(s):this.userSeek_(s),this.player_.options_.enableSmoothSeeking&&this.update()}enable(){super.enable();const e=this.getChild("mouseTimeDisplay");e&&e.show()}disable(){super.disable();const e=this.getChild("mouseTimeDisplay");e&&e.hide()}handleMouseUp(e){super.handleMouseUp(e),e&&e.stopPropagation(),this.player_.scrubbing(!1),this.pendingSeekTime()!==null&&(this.userSeek_(this.pendingSeekTime()),this.pendingSeekTime(null)),this.player_.trigger({type:"timeupdate",target:this,manuallyTriggered:!0}),this.videoWasPlaying?po(this.player_.play()):this.update_()}handlePendingSeek_(e){this.player_.paused()||this.player_.pause();const i=this.pendingSeekTime()!==null?this.pendingSeekTime():this.player_.currentTime();this.pendingSeekTime(i+e),this.player_.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})}stepForward(){this.shouldDisableSeekWhileScrubbing_?this.handlePendingSeek_(this.options().stepSeconds):this.userSeek_(this.player_.currentTime()+this.options().stepSeconds)}stepBack(){this.shouldDisableSeekWhileScrubbing_?this.handlePendingSeek_(-this.options().stepSeconds):this.userSeek_(this.player_.currentTime()-this.options().stepSeconds)}handleAction(e){this.pendingSeekTime()!==null&&(this.userSeek_(this.pendingSeekTime()),this.pendingSeekTime(null)),this.player_.paused()?this.player_.play():this.player_.pause()}handleKeyDown(e){const i=this.player_.liveTracker;if(e.key===" "||e.key==="Enter")e.preventDefault(),e.stopPropagation(),this.handleAction(e);else if(e.key==="Home")e.preventDefault(),e.stopPropagation(),this.userSeek_(0);else if(e.key==="End")e.preventDefault(),e.stopPropagation(),i&&i.isLive()?this.userSeek_(i.liveCurrentTime()):this.userSeek_(this.player_.duration());else if(/^[0-9]$/.test(e.key)){e.preventDefault(),e.stopPropagation();const s=parseInt(e.key,10)*.1;i&&i.isLive()?this.userSeek_(i.seekableStart()+i.liveWindow()*s):this.userSeek_(this.player_.duration()*s)}else e.key==="PageDown"?(e.preventDefault(),e.stopPropagation(),this.userSeek_(this.player_.currentTime()-this.options().stepSeconds*this.options().pageMultiplier)):e.key==="PageUp"?(e.preventDefault(),e.stopPropagation(),this.userSeek_(this.player_.currentTime()+this.options().stepSeconds*this.options().pageMultiplier)):super.handleKeyDown(e)}dispose(){this.disableInterval_(),this.off(this.player_,["durationchange","timeupdate"],this.update),this.off(this.player_,["ended"],this.update_),this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.update),this.off(this.player_,["playing"],this.enableIntervalHandler_),this.off(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in Ve&&"visibilityState"in Ve&&this.off(Ve,"visibilitychange",this.toggleVisibility_),super.dispose()}}I0.prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar",stepSeconds:5,pageMultiplier:12};Oe.registerComponent("SeekBar",I0);class M3 extends Oe{constructor(e,i){super(e,i),this.handleMouseMove=To(En(this,this.handleMouseMove),Zs),this.throttledHandleMouseSeek=To(En(this,this.handleMouseSeek),Zs),this.handleMouseUpHandler_=s=>this.handleMouseUp(s),this.handleMouseDownHandler_=s=>this.handleMouseDown(s),this.enable()}createEl(){return super.createEl("div",{className:"vjs-progress-control vjs-control"})}handleMouseMove(e){const i=this.getChild("seekBar");if(!i)return;const s=i.getChild("playProgressBar"),o=i.getChild("mouseTimeDisplay");if(!s&&!o)return;const l=i.el(),c=rp(l);let d=D0(l,e).x;d=pp(d,0,1),o&&o.update(c,d),s&&s.update(c,i.getProgress())}handleMouseSeek(e){const i=this.getChild("seekBar");i&&i.handleMouseMove(e)}enabled(){return this.enabled_}disable(){if(this.children().forEach(e=>e.disable&&e.disable()),!!this.enabled()&&(this.off(["mousedown","touchstart"],this.handleMouseDownHandler_),this.off(this.el_,["mousemove","touchmove"],this.handleMouseMove),this.removeListenersAddedOnMousedownAndTouchstart(),this.addClass("disabled"),this.enabled_=!1,this.player_.scrubbing())){const e=this.getChild("seekBar");this.player_.scrubbing(!1),e.videoWasPlaying&&po(this.player_.play())}}enable(){this.children().forEach(e=>e.enable&&e.enable()),!this.enabled()&&(this.on(["mousedown","touchstart"],this.handleMouseDownHandler_),this.on(this.el_,["mousemove","touchmove"],this.handleMouseMove),this.removeClass("disabled"),this.enabled_=!0)}removeListenersAddedOnMousedownAndTouchstart(){const e=this.el_.ownerDocument;this.off(e,"mousemove",this.throttledHandleMouseSeek),this.off(e,"touchmove",this.throttledHandleMouseSeek),this.off(e,"mouseup",this.handleMouseUpHandler_),this.off(e,"touchend",this.handleMouseUpHandler_)}handleMouseDown(e){const i=this.el_.ownerDocument,s=this.getChild("seekBar");s&&s.handleMouseDown(e),this.on(i,"mousemove",this.throttledHandleMouseSeek),this.on(i,"touchmove",this.throttledHandleMouseSeek),this.on(i,"mouseup",this.handleMouseUpHandler_),this.on(i,"touchend",this.handleMouseUpHandler_)}handleMouseUp(e){const i=this.getChild("seekBar");i&&i.handleMouseUp(e),this.removeListenersAddedOnMousedownAndTouchstart()}}M3.prototype.options_={children:["seekBar"]};Oe.registerComponent("ProgressControl",M3);class I3 extends tr{constructor(e,i){super(e,i),this.setIcon("picture-in-picture-enter"),this.on(e,["enterpictureinpicture","leavepictureinpicture"],s=>this.handlePictureInPictureChange(s)),this.on(e,["disablepictureinpicturechanged","loadedmetadata"],s=>this.handlePictureInPictureEnabledChange(s)),this.on(e,["loadedmetadata","audioonlymodechange","audiopostermodechange"],()=>this.handlePictureInPictureAudioModeChange()),this.disable()}buildCSSClass(){return`vjs-picture-in-picture-control vjs-hidden ${super.buildCSSClass()}`}handlePictureInPictureAudioModeChange(){if(!(this.player_.currentType().substring(0,5)==="audio"||this.player_.audioPosterMode()||this.player_.audioOnlyMode())){this.show();return}this.player_.isInPictureInPicture()&&this.player_.exitPictureInPicture(),this.hide()}handlePictureInPictureEnabledChange(){Ve.pictureInPictureEnabled&&this.player_.disablePictureInPicture()===!1||this.player_.options_.enableDocumentPictureInPicture&&"documentPictureInPicture"in W?this.enable():this.disable()}handlePictureInPictureChange(e){this.player_.isInPictureInPicture()?(this.setIcon("picture-in-picture-exit"),this.controlText("Exit Picture-in-Picture")):(this.setIcon("picture-in-picture-enter"),this.controlText("Picture-in-Picture")),this.handlePictureInPictureEnabledChange()}handleClick(e){this.player_.isInPictureInPicture()?this.player_.exitPictureInPicture():this.player_.requestPictureInPicture()}show(){typeof Ve.exitPictureInPicture=="function"&&super.show()}}I3.prototype.controlText_="Picture-in-Picture";Oe.registerComponent("PictureInPictureToggle",I3);class L3 extends tr{constructor(e,i){super(e,i),this.setIcon("fullscreen-enter"),this.on(e,"fullscreenchange",s=>this.handleFullscreenChange(s)),Ve[e.fsApi_.fullscreenEnabled]===!1&&this.disable()}buildCSSClass(){return`vjs-fullscreen-control ${super.buildCSSClass()}`}handleFullscreenChange(e){this.player_.isFullscreen()?(this.controlText("Exit Fullscreen"),this.setIcon("fullscreen-exit")):(this.controlText("Fullscreen"),this.setIcon("fullscreen-enter"))}handleClick(e){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()}}L3.prototype.controlText_="Fullscreen";Oe.registerComponent("FullscreenToggle",L3);const c6=function(n,e){e.tech_&&!e.tech_.featuresVolumeControl&&n.addClass("vjs-hidden"),n.on(e,"loadstart",function(){e.tech_.featuresVolumeControl?n.removeClass("vjs-hidden"):n.addClass("vjs-hidden")})};class d6 extends Oe{createEl(){const e=super.createEl("div",{className:"vjs-volume-level"});return this.setIcon("circle",e),e.appendChild(super.createEl("span",{className:"vjs-control-text"})),e}}Oe.registerComponent("VolumeLevel",d6);class h6 extends Oe{constructor(e,i){super(e,i),this.update=To(En(this,this.update),Zs)}createEl(){return super.createEl("div",{className:"vjs-volume-tooltip"},{"aria-hidden":"true"})}update(e,i,s,o){if(!s){const l=Xh(this.el_),c=Xh(this.player_.el()),d=e.width*i;if(!c||!l)return;const m=e.left-c.left+d,p=e.width-d+(c.right-e.right);let v=l.width/2;m<v?v+=v-m:p<v&&(v=p),v<0?v=0:v>l.width&&(v=l.width),this.el_.style.right=`-${v}px`}this.write(`${o}%`)}write(e){Pu(this.el_,e)}updateVolume(e,i,s,o,l){this.requestNamedAnimationFrame("VolumeLevelTooltip#updateVolume",()=>{this.update(e,i,s,o.toFixed(0)),l&&l()})}}Oe.registerComponent("VolumeLevelTooltip",h6);class P3 extends Oe{constructor(e,i){super(e,i),this.update=To(En(this,this.update),Zs)}createEl(){return super.createEl("div",{className:"vjs-mouse-display"})}update(e,i,s){const o=100*i;this.getChild("volumeLevelTooltip").updateVolume(e,i,s,o,()=>{s?this.el_.style.bottom=`${e.height*i}px`:this.el_.style.left=`${e.width*i}px`})}}P3.prototype.options_={children:["volumeLevelTooltip"]};Oe.registerComponent("MouseVolumeLevelDisplay",P3);class L0 extends q1{constructor(e,i){super(e,i),this.on("slideractive",s=>this.updateLastVolume_(s)),this.on(e,"volumechange",s=>this.updateARIAAttributes(s)),e.ready(()=>this.updateARIAAttributes())}createEl(){return super.createEl("div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":this.localize("Volume Level"),"aria-live":"polite"})}handleMouseDown(e){sp(e)&&super.handleMouseDown(e)}handleMouseMove(e){const i=this.getChild("mouseVolumeLevelDisplay");if(i){const s=this.el(),o=Xh(s),l=this.vertical();let c=D0(s,e);c=l?c.y:c.x,c=pp(c,0,1),i.update(o,c,l)}sp(e)&&(this.checkMuted(),this.player_.volume(this.calculateDistance(e)))}checkMuted(){this.player_.muted()&&this.player_.muted(!1)}getPercent(){return this.player_.muted()?0:this.player_.volume()}stepForward(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)}stepBack(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)}updateARIAAttributes(e){const i=this.player_.muted()?0:this.volumeAsPercentage_();this.el_.setAttribute("aria-valuenow",i),this.el_.setAttribute("aria-valuetext",i+"%")}volumeAsPercentage_(){return Math.round(this.player_.volume()*100)}updateLastVolume_(){const e=this.player_.volume();this.one("sliderinactive",()=>{this.player_.volume()===0&&this.player_.lastVolume_(e)})}}L0.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"};!Ji&&!Sa&&L0.prototype.options_.children.splice(0,0,"mouseVolumeLevelDisplay");L0.prototype.playerEvent="volumechange";Oe.registerComponent("VolumeBar",L0);class B3 extends Oe{constructor(e,i={}){i.vertical=i.vertical||!1,(typeof i.volumeBar>"u"||qh(i.volumeBar))&&(i.volumeBar=i.volumeBar||{},i.volumeBar.vertical=i.vertical),super(e,i),c6(this,e),this.throttledHandleMouseMove=To(En(this,this.handleMouseMove),Zs),this.handleMouseUpHandler_=s=>this.handleMouseUp(s),this.on("mousedown",s=>this.handleMouseDown(s)),this.on("touchstart",s=>this.handleMouseDown(s)),this.on("mousemove",s=>this.handleMouseMove(s)),this.on(this.volumeBar,["focus","slideractive"],()=>{this.volumeBar.addClass("vjs-slider-active"),this.addClass("vjs-slider-active"),this.trigger("slideractive")}),this.on(this.volumeBar,["blur","sliderinactive"],()=>{this.volumeBar.removeClass("vjs-slider-active"),this.removeClass("vjs-slider-active"),this.trigger("sliderinactive")})}createEl(){let e="vjs-volume-horizontal";return this.options_.vertical&&(e="vjs-volume-vertical"),super.createEl("div",{className:`vjs-volume-control vjs-control ${e}`})}handleMouseDown(e){const i=this.el_.ownerDocument;this.on(i,"mousemove",this.throttledHandleMouseMove),this.on(i,"touchmove",this.throttledHandleMouseMove),this.on(i,"mouseup",this.handleMouseUpHandler_),this.on(i,"touchend",this.handleMouseUpHandler_)}handleMouseUp(e){const i=this.el_.ownerDocument;this.off(i,"mousemove",this.throttledHandleMouseMove),this.off(i,"touchmove",this.throttledHandleMouseMove),this.off(i,"mouseup",this.handleMouseUpHandler_),this.off(i,"touchend",this.handleMouseUpHandler_)}handleMouseMove(e){this.volumeBar.handleMouseMove(e)}}B3.prototype.options_={children:["volumeBar"]};Oe.registerComponent("VolumeControl",B3);const f6=function(n,e){e.tech_&&!e.tech_.featuresMuteControl&&n.addClass("vjs-hidden"),n.on(e,"loadstart",function(){e.tech_.featuresMuteControl?n.removeClass("vjs-hidden"):n.addClass("vjs-hidden")})};class j3 extends tr{constructor(e,i){super(e,i),f6(this,e),this.on(e,["loadstart","volumechange"],s=>this.update(s))}buildCSSClass(){return`vjs-mute-control ${super.buildCSSClass()}`}handleClick(e){const i=this.player_.volume(),s=this.player_.lastVolume_();if(i===0){const o=s<.1?.1:s;this.player_.volume(o),this.player_.muted(!1)}else this.player_.muted(!this.player_.muted())}update(e){this.updateIcon_(),this.updateControlText_()}updateIcon_(){const e=this.player_.volume();let i=3;this.setIcon("volume-high"),Ji&&this.player_.tech_&&this.player_.tech_.el_&&this.player_.muted(this.player_.tech_.el_.muted),e===0||this.player_.muted()?(this.setIcon("volume-mute"),i=0):e<.33?(this.setIcon("volume-low"),i=1):e<.67&&(this.setIcon("volume-medium"),i=2),N0(this.el_,[0,1,2,3].reduce((s,o)=>s+`${o?" ":""}vjs-vol-${o}`,"")),Xc(this.el_,`vjs-vol-${i}`)}updateControlText_(){const i=this.player_.muted()||this.player_.volume()===0?"Unmute":"Mute";this.controlText()!==i&&this.controlText(i)}}j3.prototype.controlText_="Mute";Oe.registerComponent("MuteToggle",j3);class U3 extends Oe{constructor(e,i={}){typeof i.inline<"u"?i.inline=i.inline:i.inline=!0,(typeof i.volumeControl>"u"||qh(i.volumeControl))&&(i.volumeControl=i.volumeControl||{},i.volumeControl.vertical=!i.inline),super(e,i),this.handleKeyPressHandler_=s=>this.handleKeyPress(s),this.on(e,["loadstart"],s=>this.volumePanelState_(s)),this.on(this.muteToggle,"keyup",s=>this.handleKeyPress(s)),this.on(this.volumeControl,"keyup",s=>this.handleVolumeControlKeyUp(s)),this.on("keydown",s=>this.handleKeyPress(s)),this.on("mouseover",s=>this.handleMouseOver(s)),this.on("mouseout",s=>this.handleMouseOut(s)),this.on(this.volumeControl,["slideractive"],this.sliderActive_),this.on(this.volumeControl,["sliderinactive"],this.sliderInactive_)}sliderActive_(){this.addClass("vjs-slider-active")}sliderInactive_(){this.removeClass("vjs-slider-active")}volumePanelState_(){this.volumeControl.hasClass("vjs-hidden")&&this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-hidden"),this.volumeControl.hasClass("vjs-hidden")&&!this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-mute-toggle-only")}createEl(){let e="vjs-volume-panel-horizontal";return this.options_.inline||(e="vjs-volume-panel-vertical"),super.createEl("div",{className:`vjs-volume-panel vjs-control ${e}`})}dispose(){this.handleMouseOut(),super.dispose()}handleVolumeControlKeyUp(e){e.key==="Escape"&&this.muteToggle.focus()}handleMouseOver(e){this.addClass("vjs-hover"),ps(Ve,"keyup",this.handleKeyPressHandler_)}handleMouseOut(e){this.removeClass("vjs-hover"),er(Ve,"keyup",this.handleKeyPressHandler_)}handleKeyPress(e){e.key==="Escape"&&this.handleMouseOut()}}U3.prototype.options_={children:["muteToggle","volumeControl"]};Oe.registerComponent("VolumePanel",U3);class V3 extends tr{constructor(e,i){super(e,i),this.validOptions=[5,10,30],this.skipTime=this.getSkipForwardTime(),this.skipTime&&this.validOptions.includes(this.skipTime)?(this.setIcon(`forward-${this.skipTime}`),this.controlText(this.localize("Skip forward {1} seconds",[this.skipTime.toLocaleString(e.language())])),this.show()):this.hide()}getSkipForwardTime(){const e=this.options_.playerOptions;return e.controlBar&&e.controlBar.skipButtons&&e.controlBar.skipButtons.forward}buildCSSClass(){return`vjs-skip-forward-${this.getSkipForwardTime()} ${super.buildCSSClass()}`}handleClick(e){if(isNaN(this.player_.duration()))return;const i=this.player_.currentTime(),s=this.player_.liveTracker,o=s&&s.isLive()?s.seekableEnd():this.player_.duration();let l;i+this.skipTime<=o?l=i+this.skipTime:l=o,this.player_.currentTime(l)}handleLanguagechange(){this.controlText(this.localize("Skip forward {1} seconds",[this.skipTime]))}}V3.prototype.controlText_="Skip Forward";Oe.registerComponent("SkipForward",V3);class F3 extends tr{constructor(e,i){super(e,i),this.validOptions=[5,10,30],this.skipTime=this.getSkipBackwardTime(),this.skipTime&&this.validOptions.includes(this.skipTime)?(this.setIcon(`replay-${this.skipTime}`),this.controlText(this.localize("Skip backward {1} seconds",[this.skipTime.toLocaleString(e.language())])),this.show()):this.hide()}getSkipBackwardTime(){const e=this.options_.playerOptions;return e.controlBar&&e.controlBar.skipButtons&&e.controlBar.skipButtons.backward}buildCSSClass(){return`vjs-skip-backward-${this.getSkipBackwardTime()} ${super.buildCSSClass()}`}handleClick(e){const i=this.player_.currentTime(),s=this.player_.liveTracker,o=s&&s.isLive()&&s.seekableStart();let l;o&&i-this.skipTime<=o?l=o:i>=this.skipTime?l=i-this.skipTime:l=0,this.player_.currentTime(l)}handleLanguagechange(){this.controlText(this.localize("Skip backward {1} seconds",[this.skipTime]))}}F3.prototype.controlText_="Skip Backward";Oe.registerComponent("SkipBackward",F3);class z3 extends Oe{constructor(e,i){super(e,i),i&&(this.menuButton_=i.menuButton),this.focusedChild_=-1,this.on("keydown",s=>this.handleKeyDown(s)),this.boundHandleBlur_=s=>this.handleBlur(s),this.boundHandleTapClick_=s=>this.handleTapClick(s)}addEventListenerForItem(e){e instanceof Oe&&(this.on(e,"blur",this.boundHandleBlur_),this.on(e,["tap","click"],this.boundHandleTapClick_))}removeEventListenerForItem(e){e instanceof Oe&&(this.off(e,"blur",this.boundHandleBlur_),this.off(e,["tap","click"],this.boundHandleTapClick_))}removeChild(e){typeof e=="string"&&(e=this.getChild(e)),this.removeEventListenerForItem(e),super.removeChild(e)}addItem(e){const i=this.addChild(e);i&&this.addEventListenerForItem(i)}createEl(){const e=this.options_.contentElType||"ul";this.contentEl_=ct(e,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu");const i=super.createEl("div",{append:this.contentEl_,className:"vjs-menu"});return i.appendChild(this.contentEl_),ps(i,"click",function(s){s.preventDefault(),s.stopImmediatePropagation()}),i}dispose(){this.contentEl_=null,this.boundHandleBlur_=null,this.boundHandleTapClick_=null,super.dispose()}handleBlur(e){const i=e.relatedTarget||Ve.activeElement;if(!this.children().some(s=>s.el()===i)){const s=this.menuButton_;s&&s.buttonPressed_&&i!==s.el().firstChild&&s.unpressButton()}}handleTapClick(e){if(this.menuButton_){this.menuButton_.unpressButton();const i=this.children();if(!Array.isArray(i))return;const s=i.filter(o=>o.el()===e.target)[0];if(!s)return;s.name()!=="CaptionSettingsMenuItem"&&this.menuButton_.focus()}}handleKeyDown(e){e.key==="ArrowLeft"||e.key==="ArrowDown"?(e.preventDefault(),e.stopPropagation(),this.stepForward()):(e.key==="ArrowRight"||e.key==="ArrowUp")&&(e.preventDefault(),e.stopPropagation(),this.stepBack())}stepForward(){let e=0;this.focusedChild_!==void 0&&(e=this.focusedChild_+1),this.focus(e)}stepBack(){let e=0;this.focusedChild_!==void 0&&(e=this.focusedChild_-1),this.focus(e)}focus(e=0){const i=this.children().slice();i.length&&i[0].hasClass("vjs-menu-title")&&i.shift(),i.length>0&&(e<0?e=0:e>=i.length&&(e=i.length-1),this.focusedChild_=e,i[e].el_.focus())}}Oe.registerComponent("Menu",z3);class X1 extends Oe{constructor(e,i={}){super(e,i),this.menuButton_=new tr(e,i),this.menuButton_.controlText(this.controlText_),this.menuButton_.el_.setAttribute("aria-haspopup","true");const s=tr.prototype.buildCSSClass();this.menuButton_.el_.className=this.buildCSSClass()+" "+s,this.menuButton_.removeClass("vjs-control"),this.addChild(this.menuButton_),this.update(),this.enabled_=!0;const o=l=>this.handleClick(l);this.handleMenuKeyUp_=l=>this.handleMenuKeyUp(l),this.on(this.menuButton_,"tap",o),this.on(this.menuButton_,"click",o),this.on(this.menuButton_,"keydown",l=>this.handleKeyDown(l)),this.on(this.menuButton_,"mouseenter",()=>{this.addClass("vjs-hover"),this.menu.show(),ps(Ve,"keyup",this.handleMenuKeyUp_)}),this.on("mouseleave",l=>this.handleMouseLeave(l)),this.on("keydown",l=>this.handleSubmenuKeyDown(l))}update(){const e=this.createMenu();this.menu&&(this.menu.dispose(),this.removeChild(this.menu)),this.menu=e,this.addChild(e),this.buttonPressed_=!1,this.menuButton_.el_.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.hideThreshold_?(this.hide(),this.menu.contentEl_.removeAttribute("role")):(this.show(),this.menu.contentEl_.setAttribute("role","menu"))}createMenu(){const e=new z3(this.player_,{menuButton:this});if(this.hideThreshold_=0,this.options_.title){const i=ct("li",{className:"vjs-menu-title",textContent:Wn(this.options_.title),tabIndex:-1}),s=new Oe(this.player_,{el:i});e.addItem(s)}if(this.items=this.createItems(),this.items)for(let i=0;i<this.items.length;i++)e.addItem(this.items[i]);return e}createItems(){}createEl(){return super.createEl("div",{className:this.buildWrapperCSSClass()},{})}setIcon(e){super.setIcon(e,this.menuButton_.el_)}buildWrapperCSSClass(){let e="vjs-menu-button";this.options_.inline===!0?e+="-inline":e+="-popup";const i=tr.prototype.buildCSSClass();return`vjs-menu-button ${e} ${i} ${super.buildCSSClass()}`}buildCSSClass(){let e="vjs-menu-button";return this.options_.inline===!0?e+="-inline":e+="-popup",`vjs-menu-button ${e} ${super.buildCSSClass()}`}controlText(e,i=this.menuButton_.el()){return this.menuButton_.controlText(e,i)}dispose(){this.handleMouseLeave(),super.dispose()}handleClick(e){this.buttonPressed_?this.unpressButton():this.pressButton()}handleMouseLeave(e){this.removeClass("vjs-hover"),er(Ve,"keyup",this.handleMenuKeyUp_)}focus(){this.menuButton_.focus()}blur(){this.menuButton_.blur()}handleKeyDown(e){e.key==="Escape"||e.key==="Tab"?(this.buttonPressed_&&this.unpressButton(),!e.key==="Tab"&&(e.preventDefault(),this.menuButton_.focus())):(e.key==="Up"||e.key==="Down"&&!(this.player_.options_.playerOptions.spatialNavigation&&this.player_.options_.playerOptions.spatialNavigation.enabled))&&(this.buttonPressed_||(e.preventDefault(),this.pressButton()))}handleMenuKeyUp(e){(e.key==="Escape"||e.key==="Tab")&&this.removeClass("vjs-hover")}handleSubmenuKeyPress(e){this.handleSubmenuKeyDown(e)}handleSubmenuKeyDown(e){(e.key==="Escape"||e.key==="Tab")&&(this.buttonPressed_&&this.unpressButton(),!e.key==="Tab"&&(e.preventDefault(),this.menuButton_.focus()))}pressButton(){if(this.enabled_){if(this.buttonPressed_=!0,this.menu.show(),this.menu.lockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","true"),Ji&&Kw())return;this.menu.focus()}}unpressButton(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.menu.hide(),this.menuButton_.el_.setAttribute("aria-expanded","false"))}disable(){this.unpressButton(),this.enabled_=!1,this.addClass("vjs-disabled"),this.menuButton_.disable()}enable(){this.enabled_=!0,this.removeClass("vjs-disabled"),this.menuButton_.enable()}}Oe.registerComponent("MenuButton",X1);class Y1 extends X1{constructor(e,i){const s=i.tracks;if(super(e,i),this.items.length<=1&&this.hide(),!s)return;const o=En(this,this.update);s.addEventListener("removetrack",o),s.addEventListener("addtrack",o),s.addEventListener("labelchange",o),this.player_.on("ready",o),this.player_.on("dispose",function(){s.removeEventListener("removetrack",o),s.removeEventListener("addtrack",o),s.removeEventListener("labelchange",o)})}}Oe.registerComponent("TrackButton",Y1);class gp extends M0{constructor(e,i){super(e,i),this.selectable=i.selectable,this.isSelected_=i.selected||!1,this.multiSelectable=i.multiSelectable,this.selected(this.isSelected_),this.selectable?this.multiSelectable?this.el_.setAttribute("role","menuitemcheckbox"):this.el_.setAttribute("role","menuitemradio"):this.el_.setAttribute("role","menuitem")}createEl(e,i,s){this.nonIconControl=!0;const o=super.createEl("li",Object.assign({className:"vjs-menu-item",tabIndex:-1},i),s),l=ct("span",{className:"vjs-menu-item-text",textContent:this.localize(this.options_.label)});return this.player_.options_.experimentalSvgIcons?o.appendChild(l):o.replaceChild(l,o.querySelector(".vjs-icon-placeholder")),o}handleKeyDown(e){["Tab","Escape","ArrowUp","ArrowLeft","ArrowRight","ArrowDown"].includes(e.key)||super.handleKeyDown(e)}handleClick(e){this.selected(!0)}selected(e){this.selectable&&(e?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected"),this.isSelected_=!0):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(""),this.isSelected_=!1))}}Oe.registerComponent("MenuItem",gp);class bp extends gp{constructor(e,i){const s=i.track,o=e.textTracks();i.label=s.label||s.language||"Unknown",i.selected=s.mode==="showing",super(e,i),this.track=s,this.kinds=(i.kinds||[i.kind||this.track.kind]).filter(Boolean);const l=(...d)=>{this.handleTracksChange.apply(this,d)},c=(...d)=>{this.handleSelectedLanguageChange.apply(this,d)};if(e.on(["loadstart","texttrackchange"],l),o.addEventListener("change",l),o.addEventListener("selectedlanguagechange",c),this.on("dispose",function(){e.off(["loadstart","texttrackchange"],l),o.removeEventListener("change",l),o.removeEventListener("selectedlanguagechange",c)}),o.onchange===void 0){let d;this.on(["tap","click"],function(){if(typeof W.Event!="object")try{d=new W.Event("change")}catch{}d||(d=Ve.createEvent("Event"),d.initEvent("change",!0,!0)),o.dispatchEvent(d)})}this.handleTracksChange()}handleClick(e){const i=this.track,s=this.player_.textTracks();if(super.handleClick(e),!!s)for(let o=0;o<s.length;o++){const l=s[o];this.kinds.indexOf(l.kind)!==-1&&(l===i?l.mode!=="showing"&&(l.mode="showing"):l.mode!=="disabled"&&(l.mode="disabled"))}}handleTracksChange(e){const i=this.track.mode==="showing";i!==this.isSelected_&&this.selected(i)}handleSelectedLanguageChange(e){if(this.track.mode==="showing"){const i=this.player_.cache_.selectedLanguage;if(i&&i.enabled&&i.language===this.track.language&&i.kind!==this.track.kind)return;this.player_.cache_.selectedLanguage={enabled:!0,language:this.track.language,kind:this.track.kind}}}dispose(){this.track=null,super.dispose()}}Oe.registerComponent("TextTrackMenuItem",bp);class H3 extends bp{constructor(e,i){i.track={player:e,kind:i.kind,kinds:i.kinds,default:!1,mode:"disabled"},i.kinds||(i.kinds=[i.kind]),i.label?i.track.label=i.label:i.track.label=i.kinds.join(" and ")+" off",i.selectable=!0,i.multiSelectable=!1,super(e,i)}handleTracksChange(e){const i=this.player().textTracks();let s=!0;for(let o=0,l=i.length;o<l;o++){const c=i[o];if(this.options_.kinds.indexOf(c.kind)>-1&&c.mode==="showing"){s=!1;break}}s!==this.isSelected_&&this.selected(s)}handleSelectedLanguageChange(e){const i=this.player().textTracks();let s=!0;for(let o=0,l=i.length;o<l;o++){const c=i[o];if(["captions","descriptions","subtitles"].indexOf(c.kind)>-1&&c.mode==="showing"){s=!1;break}}s&&(this.player_.cache_.selectedLanguage={enabled:!1})}handleLanguagechange(){this.$(".vjs-menu-item-text").textContent=this.player_.localize(this.options_.label),super.handleLanguagechange()}}Oe.registerComponent("OffTextTrackMenuItem",H3);class of extends Y1{constructor(e,i={}){i.tracks=e.textTracks(),super(e,i)}createItems(e=[],i=bp){let s;this.label_&&(s=`${this.label_} off`),e.push(new H3(this.player_,{kinds:this.kinds_,kind:this.kind_,label:s})),this.hideThreshold_+=1;const o=this.player_.textTracks();Array.isArray(this.kinds_)||(this.kinds_=[this.kind_]);for(let l=0;l<o.length;l++){const c=o[l];if(this.kinds_.indexOf(c.kind)>-1){const d=new i(this.player_,{track:c,kinds:this.kinds_,kind:this.kind_,selectable:!0,multiSelectable:!1});d.addClass(`vjs-${c.kind}-menu-item`),e.push(d)}}return e}}Oe.registerComponent("TextTrackButton",of);class $3 extends gp{constructor(e,i){const s=i.track,o=i.cue,l=e.currentTime();i.selectable=!0,i.multiSelectable=!1,i.label=o.text,i.selected=o.startTime<=l&&l<o.endTime,super(e,i),this.track=s,this.cue=o}handleClick(e){super.handleClick(),this.player_.currentTime(this.cue.startTime)}}Oe.registerComponent("ChaptersTrackMenuItem",$3);class Q1 extends of{constructor(e,i,s){super(e,i,s),this.setIcon("chapters"),this.selectCurrentItem_=()=>{this.items.forEach(o=>{o.selected(this.track_.activeCues[0]===o.cue)})}}buildCSSClass(){return`vjs-chapters-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-chapters-button ${super.buildWrapperCSSClass()}`}update(e){if(e&&e.track&&e.track.kind!=="chapters")return;const i=this.findChaptersTrack();i!==this.track_?(this.setTrack(i),super.update()):(!this.items||i&&i.cues&&i.cues.length!==this.items.length)&&super.update()}setTrack(e){if(this.track_!==e){if(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_){const i=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);i&&i.removeEventListener("load",this.updateHandler_),this.track_.removeEventListener("cuechange",this.selectCurrentItem_),this.track_=null}if(this.track_=e,this.track_){this.track_.mode="hidden";const i=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);i&&i.addEventListener("load",this.updateHandler_),this.track_.addEventListener("cuechange",this.selectCurrentItem_)}}}findChaptersTrack(){const e=this.player_.textTracks()||[];for(let i=e.length-1;i>=0;i--){const s=e[i];if(s.kind===this.kind_)return s}}getMenuCaption(){return this.track_&&this.track_.label?this.track_.label:this.localize(Wn(this.kind_))}createMenu(){return this.options_.title=this.getMenuCaption(),super.createMenu()}createItems(){const e=[];if(!this.track_)return e;const i=this.track_.cues;if(!i)return e;for(let s=0,o=i.length;s<o;s++){const l=i[s],c=new $3(this.player_,{track:this.track_,cue:l});e.push(c)}return e}}Q1.prototype.kind_="chapters";Q1.prototype.controlText_="Chapters";Oe.registerComponent("ChaptersButton",Q1);class Z1 extends of{constructor(e,i,s){super(e,i,s),this.setIcon("audio-description");const o=e.textTracks(),l=En(this,this.handleTracksChange);o.addEventListener("change",l),this.on("dispose",function(){o.removeEventListener("change",l)})}handleTracksChange(e){const i=this.player().textTracks();let s=!1;for(let o=0,l=i.length;o<l;o++){const c=i[o];if(c.kind!==this.kind_&&c.mode==="showing"){s=!0;break}}s?this.disable():this.enable()}buildCSSClass(){return`vjs-descriptions-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-descriptions-button ${super.buildWrapperCSSClass()}`}}Z1.prototype.kind_="descriptions";Z1.prototype.controlText_="Descriptions";Oe.registerComponent("DescriptionsButton",Z1);class W1 extends of{constructor(e,i,s){super(e,i,s),this.setIcon("subtitles")}buildCSSClass(){return`vjs-subtitles-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-subtitles-button ${super.buildWrapperCSSClass()}`}}W1.prototype.kind_="subtitles";W1.prototype.controlText_="Subtitles";Oe.registerComponent("SubtitlesButton",W1);class K1 extends bp{constructor(e,i){i.track={player:e,kind:i.kind,label:i.kind+" settings",selectable:!1,default:!1,mode:"disabled"},i.selectable=!1,i.name="CaptionSettingsMenuItem",super(e,i),this.addClass("vjs-texttrack-settings"),this.controlText(", opens "+i.kind+" settings dialog")}handleClick(e){this.player().getChild("textTrackSettings").open()}handleLanguagechange(){this.$(".vjs-menu-item-text").textContent=this.player_.localize(this.options_.kind+" settings"),super.handleLanguagechange()}}Oe.registerComponent("CaptionSettingsMenuItem",K1);class J1 extends of{constructor(e,i,s){super(e,i,s),this.setIcon("captions")}buildCSSClass(){return`vjs-captions-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-captions-button ${super.buildWrapperCSSClass()}`}createItems(){const e=[];return!(this.player().tech_&&this.player().tech_.featuresNativeTextTracks)&&this.player().getChild("textTrackSettings")&&(e.push(new K1(this.player_,{kind:this.kind_})),this.hideThreshold_+=1),super.createItems(e)}}J1.prototype.kind_="captions";J1.prototype.controlText_="Captions";Oe.registerComponent("CaptionsButton",J1);class q3 extends bp{createEl(e,i,s){const o=super.createEl(e,i,s),l=o.querySelector(".vjs-menu-item-text");return this.options_.track.kind==="captions"&&(this.player_.options_.experimentalSvgIcons?this.setIcon("captions",o):l.appendChild(ct("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),l.appendChild(ct("span",{className:"vjs-control-text",textContent:` ${this.localize("Captions")}`}))),o}}Oe.registerComponent("SubsCapsMenuItem",q3);class eT extends of{constructor(e,i={}){super(e,i),this.label_="subtitles",this.setIcon("subtitles"),["en","en-us","en-ca","fr-ca"].indexOf(this.player_.language_)>-1&&(this.label_="captions",this.setIcon("captions")),this.menuButton_.controlText(Wn(this.label_))}buildCSSClass(){return`vjs-subs-caps-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-subs-caps-button ${super.buildWrapperCSSClass()}`}createItems(){let e=[];return!(this.player().tech_&&this.player().tech_.featuresNativeTextTracks)&&this.player().getChild("textTrackSettings")&&(e.push(new K1(this.player_,{kind:this.label_})),this.hideThreshold_+=1),e=super.createItems(e,q3),e}}eT.prototype.kinds_=["captions","subtitles"];eT.prototype.controlText_="Subtitles";Oe.registerComponent("SubsCapsButton",eT);class G3 extends gp{constructor(e,i){const s=i.track,o=e.audioTracks();i.label=s.label||s.language||"Unknown",i.selected=s.enabled,super(e,i),this.track=s,this.addClass(`vjs-${s.kind}-menu-item`);const l=(...c)=>{this.handleTracksChange.apply(this,c)};o.addEventListener("change",l),this.on("dispose",()=>{o.removeEventListener("change",l)})}createEl(e,i,s){const o=super.createEl(e,i,s),l=o.querySelector(".vjs-menu-item-text");return["main-desc","descriptions"].indexOf(this.options_.track.kind)>=0&&(l.appendChild(ct("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),l.appendChild(ct("span",{className:"vjs-control-text",textContent:" "+this.localize("Descriptions")}))),o}handleClick(e){if(super.handleClick(e),this.track.enabled=!0,this.player_.tech_.featuresNativeAudioTracks){const i=this.player_.audioTracks();for(let s=0;s<i.length;s++){const o=i[s];o!==this.track&&(o.enabled=o===this.track)}}}handleTracksChange(e){this.selected(this.track.enabled)}}Oe.registerComponent("AudioTrackMenuItem",G3);class X3 extends Y1{constructor(e,i={}){i.tracks=e.audioTracks(),super(e,i),this.setIcon("audio")}buildCSSClass(){return`vjs-audio-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-audio-button ${super.buildWrapperCSSClass()}`}createItems(e=[]){this.hideThreshold_=1;const i=this.player_.audioTracks();for(let s=0;s<i.length;s++){const o=i[s];e.push(new G3(this.player_,{track:o,selectable:!0,multiSelectable:!1}))}return e}}X3.prototype.controlText_="Audio Track";Oe.registerComponent("AudioTrackButton",X3);class tT extends gp{constructor(e,i){const s=i.rate,o=parseFloat(s,10);i.label=s,i.selected=o===e.playbackRate(),i.selectable=!0,i.multiSelectable=!1,super(e,i),this.label=s,this.rate=o,this.on(e,"ratechange",l=>this.update(l))}handleClick(e){super.handleClick(),this.player().playbackRate(this.rate)}update(e){this.selected(this.player().playbackRate()===this.rate)}}tT.prototype.contentElType="button";Oe.registerComponent("PlaybackRateMenuItem",tT);class Y3 extends X1{constructor(e,i){super(e,i),this.menuButton_.el_.setAttribute("aria-describedby",this.labelElId_),this.updateVisibility(),this.updateLabel(),this.on(e,"loadstart",s=>this.updateVisibility(s)),this.on(e,"ratechange",s=>this.updateLabel(s)),this.on(e,"playbackrateschange",s=>this.handlePlaybackRateschange(s))}createEl(){const e=super.createEl();return this.labelElId_="vjs-playback-rate-value-label-"+this.id_,this.labelEl_=ct("div",{className:"vjs-playback-rate-value",id:this.labelElId_,textContent:"1x"}),e.appendChild(this.labelEl_),e}dispose(){this.labelEl_=null,super.dispose()}buildCSSClass(){return`vjs-playback-rate ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-playback-rate ${super.buildWrapperCSSClass()}`}createItems(){const e=this.playbackRates(),i=[];for(let s=e.length-1;s>=0;s--)i.push(new tT(this.player(),{rate:e[s]+"x"}));return i}handlePlaybackRateschange(e){this.update()}playbackRates(){const e=this.player();return e.playbackRates&&e.playbackRates()||[]}playbackRateSupported(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0}updateVisibility(e){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")}updateLabel(e){this.playbackRateSupported()&&(this.labelEl_.textContent=this.player().playbackRate()+"x")}}Y3.prototype.controlText_="Playback Rate";Oe.registerComponent("PlaybackRateMenuButton",Y3);class Q3 extends Oe{buildCSSClass(){return`vjs-spacer ${super.buildCSSClass()}`}createEl(e="div",i={},s={}){return i.className||(i.className=this.buildCSSClass()),super.createEl(e,i,s)}}Oe.registerComponent("Spacer",Q3);class m6 extends Q3{buildCSSClass(){return`vjs-custom-control-spacer ${super.buildCSSClass()}`}createEl(){return super.createEl("div",{className:this.buildCSSClass(),textContent:""})}}Oe.registerComponent("CustomControlSpacer",m6);class Z3 extends Oe{createEl(){return super.createEl("div",{className:"vjs-control-bar",dir:"ltr"})}}Z3.prototype.options_={children:["playToggle","skipBackward","skipForward","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","seekToLive","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","pictureInPictureToggle","fullscreenToggle"]};Oe.registerComponent("ControlBar",Z3);class W3 extends sf{constructor(e,i){super(e,i),this.on(e,"error",s=>{this.open(s)})}buildCSSClass(){return`vjs-error-display ${super.buildCSSClass()}`}content(){const e=this.player().error();return e?this.localize(e.message):""}}W3.prototype.options_=Object.assign({},sf.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0});Oe.registerComponent("ErrorDisplay",W3);class K3 extends Oe{constructor(e,i={}){super(e,i),this.el_.setAttribute("aria-labelledby",this.selectLabelledbyIds)}createEl(){return this.selectLabelledbyIds=[this.options_.legendId,this.options_.labelId].join(" ").trim(),ct("select",{id:this.options_.id},{},this.options_.SelectOptions.map(i=>{const s=(this.options_.labelId?this.options_.labelId:`vjs-track-option-${Qs()}`)+"-"+i[1].replace(/\W+/g,""),o=ct("option",{id:s,value:this.localize(i[0]),textContent:this.localize(i[1])});return o.setAttribute("aria-labelledby",`${this.selectLabelledbyIds} ${s}`),o}))}}Oe.registerComponent("TextTrackSelect",K3);class Qc extends Oe{constructor(e,i={}){super(e,i);const s=ct("legend",{textContent:this.localize(this.options_.legendText),id:this.options_.legendId});this.el().appendChild(s);const o=this.options_.selects;for(const l of o){const c=this.options_.selectConfigs[l],d=c.className,m=c.id.replace("%s",this.options_.id_);let p=null;const v=`vjs_select_${Qs()}`;if(this.options_.type==="colors"){p=ct("span",{className:d});const C=ct("label",{id:m,className:"vjs-label",textContent:this.localize(c.label)});C.setAttribute("for",v),p.appendChild(C)}const E=new K3(e,{SelectOptions:c.options,legendId:this.options_.legendId,id:v,labelId:m});this.addChild(E),this.options_.type==="colors"&&(p.appendChild(E.el()),this.el().appendChild(p))}}createEl(){return ct("fieldset",{className:this.options_.className})}}Oe.registerComponent("TextTrackFieldset",Qc);class J3 extends Oe{constructor(e,i={}){super(e,i);const s=this.options_.textTrackComponentid,o=new Qc(e,{id_:s,legendId:`captions-text-legend-${s}`,legendText:this.localize("Text"),className:"vjs-fg vjs-track-setting",selects:this.options_.fieldSets[0],selectConfigs:this.options_.selectConfigs,type:"colors"});this.addChild(o);const l=new Qc(e,{id_:s,legendId:`captions-background-${s}`,legendText:this.localize("Text Background"),className:"vjs-bg vjs-track-setting",selects:this.options_.fieldSets[1],selectConfigs:this.options_.selectConfigs,type:"colors"});this.addChild(l);const c=new Qc(e,{id_:s,legendId:`captions-window-${s}`,legendText:this.localize("Caption Area Background"),className:"vjs-window vjs-track-setting",selects:this.options_.fieldSets[2],selectConfigs:this.options_.selectConfigs,type:"colors"});this.addChild(c)}createEl(){return ct("div",{className:"vjs-track-settings-colors"})}}Oe.registerComponent("TextTrackSettingsColors",J3);class e4 extends Oe{constructor(e,i={}){super(e,i);const s=this.options_.textTrackComponentid,o=new Qc(e,{id_:s,legendId:`captions-font-size-${s}`,legendText:"Font Size",className:"vjs-font-percent vjs-track-setting",selects:this.options_.fieldSets[0],selectConfigs:this.options_.selectConfigs,type:"font"});this.addChild(o);const l=new Qc(e,{id_:s,legendId:`captions-edge-style-${s}`,legendText:this.localize("Text Edge Style"),className:"vjs-edge-style vjs-track-setting",selects:this.options_.fieldSets[1],selectConfigs:this.options_.selectConfigs,type:"font"});this.addChild(l);const c=new Qc(e,{id_:s,legendId:`captions-font-family-${s}`,legendText:this.localize("Font Family"),className:"vjs-font-family vjs-track-setting",selects:this.options_.fieldSets[2],selectConfigs:this.options_.selectConfigs,type:"font"});this.addChild(c)}createEl(){return ct("div",{className:"vjs-track-settings-font"})}}Oe.registerComponent("TextTrackSettingsFont",e4);class t4 extends Oe{constructor(e,i={}){super(e,i);const s=new tr(e,{controlText:this.localize("restore all settings to the default values"),className:"vjs-default-button"});s.el().classList.remove("vjs-control","vjs-button"),s.el().textContent=this.localize("Reset"),this.addChild(s);const o=this.localize("Done"),l=new tr(e,{controlText:o,className:"vjs-done-button"});l.el().classList.remove("vjs-control","vjs-button"),l.el().textContent=o,this.addChild(l)}createEl(){return ct("div",{className:"vjs-track-settings-controls"})}}Oe.registerComponent("TrackSettingsControls",t4);const bx="vjs-text-track-settings",J2=["#000","Black"],eA=["#00F","Blue"],tA=["#0FF","Cyan"],nA=["#0F0","Green"],iA=["#F0F","Magenta"],rA=["#F00","Red"],sA=["#FFF","White"],aA=["#FF0","Yellow"],yx=["1","Opaque"],vx=["0.5","Semi-Transparent"],oA=["0","Transparent"],Au={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[J2,sA,rA,nA,eA,aA,iA,tA],className:"vjs-bg-color"},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Opacity",options:[yx,vx,oA],className:"vjs-bg-opacity vjs-opacity"},color:{selector:".vjs-text-color > select",id:"captions-foreground-color-%s",label:"Color",options:[sA,J2,rA,nA,eA,aA,iA,tA],className:"vjs-text-color"},edgeStyle:{selector:".vjs-edge-style > select",id:"",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Drop shadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:n=>n==="1.00"?null:Number(n)},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Opacity",options:[yx,vx],className:"vjs-text-opacity vjs-opacity"},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color",className:"vjs-window-color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Opacity",options:[oA,vx,yx],className:"vjs-window-opacity vjs-opacity"}};Au.windowColor.options=Au.backgroundColor.options;function n4(n,e){if(e&&(n=e(n)),n&&n!=="none")return n}function p6(n,e){const i=n.options[n.options.selectedIndex].value;return n4(i,e)}function g6(n,e,i){if(e){for(let s=0;s<n.options.length;s++)if(n4(n.options[s].value,i)===e){n.selectedIndex=s;break}}}class b6 extends sf{constructor(e,i){i.temporary=!1,super(e,i),this.updateDisplay=this.updateDisplay.bind(this),this.fill(),this.hasBeenOpened_=this.hasBeenFilled_=!0,this.renderModalComponents(e),this.endDialog=ct("p",{className:"vjs-control-text",textContent:this.localize("End of dialog window.")}),this.el().appendChild(this.endDialog),this.setDefaults(),i.persistTextTrackSettings===void 0&&(this.options_.persistTextTrackSettings=this.options_.playerOptions.persistTextTrackSettings),this.bindFunctionsToSelectsAndButtons(),this.options_.persistTextTrackSettings&&this.restoreSettings()}renderModalComponents(e){const i=new J3(e,{textTrackComponentid:this.id_,selectConfigs:Au,fieldSets:[["color","textOpacity"],["backgroundColor","backgroundOpacity"],["windowColor","windowOpacity"]]});this.addChild(i);const s=new e4(e,{textTrackComponentid:this.id_,selectConfigs:Au,fieldSets:[["fontPercent"],["edgeStyle"],["fontFamily"]]});this.addChild(s);const o=new t4(e);this.addChild(o)}bindFunctionsToSelectsAndButtons(){this.on(this.$(".vjs-done-button"),["click","tap"],()=>{this.saveSettings(),this.close()}),this.on(this.$(".vjs-default-button"),["click","tap"],()=>{this.setDefaults(),this.updateDisplay()}),Rh(Au,e=>{this.on(this.$(e.selector),"change",this.updateDisplay)})}dispose(){this.endDialog=null,super.dispose()}label(){return this.localize("Caption Settings Dialog")}description(){return this.localize("Beginning of dialog window. Escape will cancel and close the window.")}buildCSSClass(){return super.buildCSSClass()+" vjs-text-track-settings"}getValues(){return qw(Au,(e,i,s)=>{const o=p6(this.$(i.selector),i.parser);return o!==void 0&&(e[s]=o),e},{})}setValues(e){Rh(Au,(i,s)=>{g6(this.$(i.selector),e[s],i.parser)})}setDefaults(){Rh(Au,e=>{const i=e.hasOwnProperty("default")?e.default:0;this.$(e.selector).selectedIndex=i})}restoreSettings(){let e;try{e=JSON.parse(W.localStorage.getItem(bx))}catch(i){At.warn(i)}e&&this.setValues(e)}saveSettings(){if(!this.options_.persistTextTrackSettings)return;const e=this.getValues();try{Object.keys(e).length?W.localStorage.setItem(bx,JSON.stringify(e)):W.localStorage.removeItem(bx)}catch(i){At.warn(i)}}updateDisplay(){const e=this.player_.getChild("textTrackDisplay");e&&e.updateDisplay()}handleLanguagechange(){this.fill(),this.renderModalComponents(this.player_),this.bindFunctionsToSelectsAndButtons()}}Oe.registerComponent("TextTrackSettings",b6);class y6 extends Oe{constructor(e,i){let s=i.ResizeObserver||W.ResizeObserver;i.ResizeObserver===null&&(s=!1);const o=dn({createEl:!s,reportTouchActivity:!1},i);super(e,o),this.ResizeObserver=i.ResizeObserver||W.ResizeObserver,this.loadListener_=null,this.resizeObserver_=null,this.debouncedHandler_=m3(()=>{this.resizeHandler()},100,!1,this),s?(this.resizeObserver_=new this.ResizeObserver(this.debouncedHandler_),this.resizeObserver_.observe(e.el())):(this.loadListener_=()=>{if(!this.el_||!this.el_.contentWindow)return;const l=this.debouncedHandler_;let c=this.unloadListener_=function(){er(this,"resize",l),er(this,"unload",c),c=null};ps(this.el_.contentWindow,"unload",c),ps(this.el_.contentWindow,"resize",l)},this.one("load",this.loadListener_))}createEl(){return super.createEl("iframe",{className:"vjs-resize-manager",tabIndex:-1,title:this.localize("No content")},{"aria-hidden":"true"})}resizeHandler(){!this.player_||!this.player_.trigger||this.player_.trigger("playerresize")}dispose(){this.debouncedHandler_&&this.debouncedHandler_.cancel(),this.resizeObserver_&&(this.player_.el()&&this.resizeObserver_.unobserve(this.player_.el()),this.resizeObserver_.disconnect()),this.loadListener_&&this.off("load",this.loadListener_),this.el_&&this.el_.contentWindow&&this.unloadListener_&&this.unloadListener_.call(this.el_.contentWindow),this.ResizeObserver=null,this.resizeObserver=null,this.debouncedHandler_=null,this.loadListener_=null,super.dispose()}}Oe.registerComponent("ResizeManager",y6);const v6={trackingThreshold:20,liveTolerance:15};class _6 extends Oe{constructor(e,i){const s=dn(v6,i,{createEl:!1});super(e,s),this.trackLiveHandler_=()=>this.trackLive_(),this.handlePlay_=o=>this.handlePlay(o),this.handleFirstTimeupdate_=o=>this.handleFirstTimeupdate(o),this.handleSeeked_=o=>this.handleSeeked(o),this.seekToLiveEdge_=o=>this.seekToLiveEdge(o),this.reset_(),this.on(this.player_,"durationchange",o=>this.handleDurationchange(o)),this.on(this.player_,"canplay",()=>this.toggleTracking())}trackLive_(){const e=this.player_.seekable();if(!e||!e.length)return;const i=Number(W.performance.now().toFixed(4)),s=this.lastTime_===-1?0:(i-this.lastTime_)/1e3;this.lastTime_=i,this.pastSeekEnd_=this.pastSeekEnd()+s;const o=this.liveCurrentTime(),l=this.player_.currentTime();let c=this.player_.paused()||this.seekedBehindLive_||Math.abs(o-l)>this.options_.liveTolerance;(!this.timeupdateSeen_||o===1/0)&&(c=!1),c!==this.behindLiveEdge_&&(this.behindLiveEdge_=c,this.trigger("liveedgechange"))}handleDurationchange(){this.toggleTracking()}toggleTracking(){this.player_.duration()===1/0&&this.liveWindow()>=this.options_.trackingThreshold?(this.player_.options_.liveui&&this.player_.addClass("vjs-liveui"),this.startTracking()):(this.player_.removeClass("vjs-liveui"),this.stopTracking())}startTracking(){this.isTracking()||(this.timeupdateSeen_||(this.timeupdateSeen_=this.player_.hasStarted()),this.trackingInterval_=this.setInterval(this.trackLiveHandler_,Zs),this.trackLive_(),this.on(this.player_,["play","pause"],this.trackLiveHandler_),this.timeupdateSeen_?this.on(this.player_,"seeked",this.handleSeeked_):(this.one(this.player_,"play",this.handlePlay_),this.one(this.player_,"timeupdate",this.handleFirstTimeupdate_)))}handleFirstTimeupdate(){this.timeupdateSeen_=!0,this.on(this.player_,"seeked",this.handleSeeked_)}handleSeeked(){const e=Math.abs(this.liveCurrentTime()-this.player_.currentTime());this.seekedBehindLive_=this.nextSeekedFromUser_&&e>2,this.nextSeekedFromUser_=!1,this.trackLive_()}handlePlay(){this.one(this.player_,"timeupdate",this.seekToLiveEdge_)}reset_(){this.lastTime_=-1,this.pastSeekEnd_=0,this.lastSeekEnd_=-1,this.behindLiveEdge_=!0,this.timeupdateSeen_=!1,this.seekedBehindLive_=!1,this.nextSeekedFromUser_=!1,this.clearInterval(this.trackingInterval_),this.trackingInterval_=null,this.off(this.player_,["play","pause"],this.trackLiveHandler_),this.off(this.player_,"seeked",this.handleSeeked_),this.off(this.player_,"play",this.handlePlay_),this.off(this.player_,"timeupdate",this.handleFirstTimeupdate_),this.off(this.player_,"timeupdate",this.seekToLiveEdge_)}nextSeekedFromUser(){this.nextSeekedFromUser_=!0}stopTracking(){this.isTracking()&&(this.reset_(),this.trigger("liveedgechange"))}seekableEnd(){const e=this.player_.seekable(),i=[];let s=e?e.length:0;for(;s--;)i.push(e.end(s));return i.length?i.sort()[i.length-1]:1/0}seekableStart(){const e=this.player_.seekable(),i=[];let s=e?e.length:0;for(;s--;)i.push(e.start(s));return i.length?i.sort()[0]:0}liveWindow(){const e=this.liveCurrentTime();return e===1/0?0:e-this.seekableStart()}isLive(){return this.isTracking()}atLiveEdge(){return!this.behindLiveEdge()}liveCurrentTime(){return this.pastSeekEnd()+this.seekableEnd()}pastSeekEnd(){const e=this.seekableEnd();return this.lastSeekEnd_!==-1&&e!==this.lastSeekEnd_&&(this.pastSeekEnd_=0),this.lastSeekEnd_=e,this.pastSeekEnd_}behindLiveEdge(){return this.behindLiveEdge_}isTracking(){return typeof this.trackingInterval_=="number"}seekToLiveEdge(){this.seekedBehindLive_=!1,!this.atLiveEdge()&&(this.nextSeekedFromUser_=!1,this.player_.currentTime(this.liveCurrentTime()))}dispose(){this.stopTracking(),super.dispose()}}Oe.registerComponent("LiveTracker",_6);class x6 extends Oe{constructor(e,i){super(e,i),this.on("statechanged",s=>this.updateDom_()),this.updateDom_()}createEl(){return this.els={title:ct("div",{className:"vjs-title-bar-title",id:`vjs-title-bar-title-${Qs()}`}),description:ct("div",{className:"vjs-title-bar-description",id:`vjs-title-bar-description-${Qs()}`})},ct("div",{className:"vjs-title-bar"},{},Gw(this.els))}updateDom_(){const e=this.player_.tech_,i=e&&e.el_,s={title:"aria-labelledby",description:"aria-describedby"};["title","description"].forEach(o=>{const l=this.state[o],c=this.els[o],d=s[o];A0(c),l&&Pu(c,l),i&&(i.removeAttribute(d),l&&i.setAttribute(d,c.id))}),this.state.title||this.state.description?this.show():this.hide()}update(e){this.setState(e)}dispose(){const e=this.player_.tech_,i=e&&e.el_;i&&(i.removeAttribute("aria-labelledby"),i.removeAttribute("aria-describedby")),super.dispose(),this.els=null}}Oe.registerComponent("TitleBar",x6);const T6={initialDisplay:4e3,position:[],takeFocus:!1};class S6 extends tr{constructor(e,i){i=dn(T6,i),super(e,i),this.controlText(i.controlText),this.hide(),this.on(this.player_,["useractive","userinactive"],s=>{this.removeClass("force-display")})}buildCSSClass(){return`vjs-transient-button focus-visible ${this.options_.position.map(e=>`vjs-${e}`).join(" ")}`}createEl(){const e=ct("button",{},{type:"button",class:this.buildCSSClass()},ct("span"));return this.controlTextEl_=e.querySelector("span"),e}show(){super.show(),this.addClass("force-display"),this.options_.takeFocus&&this.el().focus({preventScroll:!0}),this.forceDisplayTimeout=this.player_.setTimeout(()=>{this.removeClass("force-display")},this.options_.initialDisplay)}hide(){this.removeClass("force-display"),super.hide()}dispose(){this.player_.clearTimeout(this.forceDisplayTimeout),super.dispose()}}Oe.registerComponent("TransientButton",S6);const qx=n=>{const e=n.el();if(e.hasAttribute("src"))return n.triggerSourceset(e.src),!0;const i=n.$$("source"),s=[];let o="";if(!i.length)return!1;for(let l=0;l<i.length;l++){const c=i[l].src;c&&s.indexOf(c)===-1&&s.push(c)}return s.length?(s.length===1&&(o=s[0]),n.triggerSourceset(o),!0):!1},E6=Object.defineProperty({},"innerHTML",{get(){return this.cloneNode(!0).innerHTML},set(n){const e=Ve.createElement(this.nodeName.toLowerCase());e.innerHTML=n;const i=Ve.createDocumentFragment();for(;e.childNodes.length;)i.appendChild(e.childNodes[0]);return this.innerText="",W.Element.prototype.appendChild.call(this,i),this.innerHTML}}),i4=(n,e)=>{let i={};for(let s=0;s<n.length&&(i=Object.getOwnPropertyDescriptor(n[s],e),!(i&&i.set&&i.get));s++);return i.enumerable=!0,i.configurable=!0,i},N6=n=>i4([n.el(),W.HTMLMediaElement.prototype,W.Element.prototype,E6],"innerHTML"),lA=function(n){const e=n.el();if(e.resetSourceWatch_)return;const i={},s=N6(n),o=l=>(...c)=>{const d=l.apply(e,c);return qx(n),d};["append","appendChild","insertAdjacentHTML"].forEach(l=>{e[l]&&(i[l]=e[l],e[l]=o(i[l]))}),Object.defineProperty(e,"innerHTML",dn(s,{set:o(s.set)})),e.resetSourceWatch_=()=>{e.resetSourceWatch_=null,Object.keys(i).forEach(l=>{e[l]=i[l]}),Object.defineProperty(e,"innerHTML",s)},n.one("sourceset",e.resetSourceWatch_)},C6=Object.defineProperty({},"src",{get(){return this.hasAttribute("src")?N3(W.Element.prototype.getAttribute.call(this,"src")):""},set(n){return W.Element.prototype.setAttribute.call(this,"src",n),n}}),D6=n=>i4([n.el(),W.HTMLMediaElement.prototype,C6],"src"),A6=function(n){if(!n.featuresSourceset)return;const e=n.el();if(e.resetSourceset_)return;const i=D6(n),s=e.setAttribute,o=e.load;Object.defineProperty(e,"src",dn(i,{set:l=>{const c=i.set.call(e,l);return n.triggerSourceset(e.src),c}})),e.setAttribute=(l,c)=>{const d=s.call(e,l,c);return/src/i.test(l)&&n.triggerSourceset(e.src),d},e.load=()=>{const l=o.call(e);return qx(n)||(n.triggerSourceset(""),lA(n)),l},e.currentSrc?n.triggerSourceset(e.currentSrc):qx(n)||lA(n),e.resetSourceset_=()=>{e.resetSourceset_=null,e.load=o,e.setAttribute=s,Object.defineProperty(e,"src",i),e.resetSourceWatch_&&e.resetSourceWatch_()}};class We extends vt{constructor(e,i){super(e,i);const s=e.source;let o=!1;if(this.featuresVideoFrameCallback=this.featuresVideoFrameCallback&&this.el_.tagName==="VIDEO",s&&(this.el_.currentSrc!==s.src||e.tag&&e.tag.initNetworkState_===3)?this.setSource(s):this.handleLateInit_(this.el_),e.enableSourceset&&this.setupSourcesetHandling_(),this.isScrubbing_=!1,this.el_.hasChildNodes()){const l=this.el_.childNodes;let c=l.length;const d=[];for(;c--;){const m=l[c];m.nodeName.toLowerCase()==="track"&&(this.featuresNativeTextTracks?(this.remoteTextTrackEls().addTrackElement_(m),this.remoteTextTracks().addTrack(m.track),this.textTracks().addTrack(m.track),!o&&!this.el_.hasAttribute("crossorigin")&&O0(m.src)&&(o=!0)):d.push(m))}for(let m=0;m<d.length;m++)this.el_.removeChild(d[m])}this.proxyNativeTracks_(),this.featuresNativeTextTracks&&o&&At.warn(`Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.
This may prevent text tracks from loading.`),this.restoreMetadataTracksInIOSNativePlayer_(),(ip||S0)&&e.nativeControlsForTouch===!0&&this.setControls(!0),this.proxyWebkitFullscreen_(),this.triggerReady()}dispose(){this.el_&&this.el_.resetSourceset_&&this.el_.resetSourceset_(),We.disposeMediaElement(this.el_),this.options_=null,super.dispose()}setupSourcesetHandling_(){A6(this)}restoreMetadataTracksInIOSNativePlayer_(){const e=this.textTracks();let i;const s=()=>{i=[];for(let l=0;l<e.length;l++){const c=e[l];c.kind==="metadata"&&i.push({track:c,storedMode:c.mode})}};s(),e.addEventListener("change",s),this.on("dispose",()=>e.removeEventListener("change",s));const o=()=>{for(let l=0;l<i.length;l++){const c=i[l];c.track.mode==="disabled"&&c.track.mode!==c.storedMode&&(c.track.mode=c.storedMode)}e.removeEventListener("change",o)};this.on("webkitbeginfullscreen",()=>{e.removeEventListener("change",s),e.removeEventListener("change",o),e.addEventListener("change",o)}),this.on("webkitendfullscreen",()=>{e.removeEventListener("change",s),e.addEventListener("change",s),e.removeEventListener("change",o)})}overrideNative_(e,i){if(i!==this[`featuresNative${e}Tracks`])return;const s=e.toLowerCase();this[`${s}TracksListeners_`]&&Object.keys(this[`${s}TracksListeners_`]).forEach(o=>{this.el()[`${s}Tracks`].removeEventListener(o,this[`${s}TracksListeners_`][o])}),this[`featuresNative${e}Tracks`]=!i,this[`${s}TracksListeners_`]=null,this.proxyNativeTracksForType_(s)}overrideNativeAudioTracks(e){this.overrideNative_("Audio",e)}overrideNativeVideoTracks(e){this.overrideNative_("Video",e)}proxyNativeTracksForType_(e){const i=Ys[e],s=this.el()[i.getterName],o=this[i.getterName]();if(!this[`featuresNative${i.capitalName}Tracks`]||!s||!s.addEventListener)return;const l={change:d=>{const m={type:"change",target:o,currentTarget:o,srcElement:o};o.trigger(m),e==="text"&&this[Qh.remoteText.getterName]().trigger(m)},addtrack(d){o.addTrack(d.track)},removetrack(d){o.removeTrack(d.track)}},c=function(){const d=[];for(let m=0;m<o.length;m++){let p=!1;for(let v=0;v<s.length;v++)if(s[v]===o[m]){p=!0;break}p||d.push(o[m])}for(;d.length;)o.removeTrack(d.shift())};this[i.getterName+"Listeners_"]=l,Object.keys(l).forEach(d=>{const m=l[d];s.addEventListener(d,m),this.on("dispose",p=>s.removeEventListener(d,m))}),this.on("loadstart",c),this.on("dispose",d=>this.off("loadstart",c))}proxyNativeTracks_(){Ys.names.forEach(e=>{this.proxyNativeTracksForType_(e)})}createEl(){let e=this.options_.tag;if(!e||!(this.options_.playerElIngest||this.movingMediaElementInDOM)){if(e){const s=e.cloneNode(!0);e.parentNode&&e.parentNode.insertBefore(s,e),We.disposeMediaElement(e),e=s}else{e=Ve.createElement("video");const s=this.options_.tag&&Du(this.options_.tag),o=dn({},s);(!ip||this.options_.nativeControlsForTouch!==!0)&&delete o.controls,t3(e,Object.assign(o,{id:this.options_.techId,class:"vjs-tech"}))}e.playerId=this.options_.playerId}typeof this.options_.preload<"u"&&Gh(e,"preload",this.options_.preload),this.options_.disablePictureInPicture!==void 0&&(e.disablePictureInPicture=this.options_.disablePictureInPicture);const i=["loop","muted","playsinline","autoplay"];for(let s=0;s<i.length;s++){const o=i[s],l=this.options_[o];typeof l<"u"&&(l?Gh(e,o,o):C0(e,o),e[o]=l)}return e}handleLateInit_(e){if(e.networkState===0||e.networkState===3)return;if(e.readyState===0){let s=!1;const o=function(){s=!0};this.on("loadstart",o);const l=function(){s||this.trigger("loadstart")};this.on("loadedmetadata",l),this.ready(function(){this.off("loadstart",o),this.off("loadedmetadata",l),s||this.trigger("loadstart")});return}const i=["loadstart"];i.push("loadedmetadata"),e.readyState>=2&&i.push("loadeddata"),e.readyState>=3&&i.push("canplay"),e.readyState>=4&&i.push("canplaythrough"),this.ready(function(){i.forEach(function(s){this.trigger(s)},this)})}setScrubbing(e){this.isScrubbing_=e}scrubbing(){return this.isScrubbing_}setCurrentTime(e){try{this.isScrubbing_&&this.el_.fastSeek&&E0?this.el_.fastSeek(e):this.el_.currentTime=e}catch(i){At(i,"Video is not ready. (Video.js)")}}duration(){if(this.el_.duration===1/0&&Sa&&xo&&this.el_.currentTime===0){const e=()=>{this.el_.currentTime>0&&(this.el_.duration===1/0&&this.trigger("durationchange"),this.off("timeupdate",e))};return this.on("timeupdate",e),NaN}return this.el_.duration||NaN}width(){return this.el_.offsetWidth}height(){return this.el_.offsetHeight}proxyWebkitFullscreen_(){if(!("webkitDisplayingFullscreen"in this.el_))return;const e=function(){this.trigger("fullscreenchange",{isFullscreen:!1}),this.el_.controls&&!this.options_.nativeControlsForTouch&&this.controls()&&(this.el_.controls=!1)},i=function(){"webkitPresentationMode"in this.el_&&this.el_.webkitPresentationMode!=="picture-in-picture"&&(this.one("webkitendfullscreen",e),this.trigger("fullscreenchange",{isFullscreen:!0,nativeIOSFullscreen:!0}))};this.on("webkitbeginfullscreen",i),this.on("dispose",()=>{this.off("webkitbeginfullscreen",i),this.off("webkitendfullscreen",e)})}supportsFullScreen(){return typeof this.el_.webkitEnterFullScreen=="function"}enterFullScreen(){const e=this.el_;if(e.paused&&e.networkState<=e.HAVE_METADATA)po(this.el_.play()),this.setTimeout(function(){e.pause();try{e.webkitEnterFullScreen()}catch(i){this.trigger("fullscreenerror",i)}},0);else try{e.webkitEnterFullScreen()}catch(i){this.trigger("fullscreenerror",i)}}exitFullScreen(){if(!this.el_.webkitDisplayingFullscreen){this.trigger("fullscreenerror",new Error("The video is not fullscreen"));return}this.el_.webkitExitFullScreen()}requestPictureInPicture(){return this.el_.requestPictureInPicture()}requestVideoFrameCallback(e){return this.featuresVideoFrameCallback&&!this.el_.webkitKeys?this.el_.requestVideoFrameCallback(e):super.requestVideoFrameCallback(e)}cancelVideoFrameCallback(e){this.featuresVideoFrameCallback&&!this.el_.webkitKeys?this.el_.cancelVideoFrameCallback(e):super.cancelVideoFrameCallback(e)}src(e){if(e===void 0)return this.el_.src;this.setSrc(e)}addSourceElement(e,i){if(!e)return At.error("Invalid source URL."),!1;const s={src:e};i&&(s.type=i);const o=ct("source",{},s);return this.el_.appendChild(o),!0}removeSourceElement(e){if(!e)return At.error("Source URL is required to remove the source element."),!1;const i=this.el_.querySelectorAll("source");for(const s of i)if(s.src===e)return this.el_.removeChild(s),!0;return At.warn(`No matching source element found with src: ${e}`),!1}reset(){We.resetMediaElement(this.el_)}currentSrc(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc}setControls(e){this.el_.controls=!!e}addTextTrack(e,i,s){return this.featuresNativeTextTracks?this.el_.addTextTrack(e,i,s):super.addTextTrack(e,i,s)}createRemoteTextTrack(e){if(!this.featuresNativeTextTracks)return super.createRemoteTextTrack(e);const i=Ve.createElement("track");return e.kind&&(i.kind=e.kind),e.label&&(i.label=e.label),(e.language||e.srclang)&&(i.srclang=e.language||e.srclang),e.default&&(i.default=e.default),e.id&&(i.id=e.id),e.src&&(i.src=e.src),i}addRemoteTextTrack(e,i){const s=super.addRemoteTextTrack(e,i);return this.featuresNativeTextTracks&&this.el().appendChild(s),s}removeRemoteTextTrack(e){if(super.removeRemoteTextTrack(e),this.featuresNativeTextTracks){const i=this.$$("track");let s=i.length;for(;s--;)(e===i[s]||e===i[s].track)&&this.el().removeChild(i[s])}}getVideoPlaybackQuality(){if(typeof this.el().getVideoPlaybackQuality=="function")return this.el().getVideoPlaybackQuality();const e={};return typeof this.el().webkitDroppedFrameCount<"u"&&typeof this.el().webkitDecodedFrameCount<"u"&&(e.droppedVideoFrames=this.el().webkitDroppedFrameCount,e.totalVideoFrames=this.el().webkitDecodedFrameCount),W.performance&&(e.creationTime=W.performance.now()),e}}_0(We,"TEST_VID",function(){if(!tf())return;const n=Ve.createElement("video"),e=Ve.createElement("track");return e.kind="captions",e.srclang="en",e.label="English",n.appendChild(e),n});We.isSupported=function(){try{We.TEST_VID.volume=.5}catch{return!1}return!!(We.TEST_VID&&We.TEST_VID.canPlayType)};We.canPlayType=function(n){return We.TEST_VID.canPlayType(n)};We.canPlaySource=function(n,e){return We.canPlayType(n.type)};We.canControlVolume=function(){try{const n=We.TEST_VID.volume;We.TEST_VID.volume=n/2+.1;const e=n!==We.TEST_VID.volume;return e&&Ji?(W.setTimeout(()=>{We&&We.prototype&&(We.prototype.featuresVolumeControl=n!==We.TEST_VID.volume)}),!1):e}catch{return!1}};We.canMuteVolume=function(){try{const n=We.TEST_VID.muted;return We.TEST_VID.muted=!n,We.TEST_VID.muted?Gh(We.TEST_VID,"muted","muted"):C0(We.TEST_VID,"muted","muted"),n!==We.TEST_VID.muted}catch{return!1}};We.canControlPlaybackRate=function(){if(Sa&&xo&&x0<58)return!1;try{const n=We.TEST_VID.playbackRate;return We.TEST_VID.playbackRate=n/2+.1,n!==We.TEST_VID.playbackRate}catch{return!1}};We.canOverrideAttributes=function(){try{const n=()=>{};Object.defineProperty(Ve.createElement("video"),"src",{get:n,set:n}),Object.defineProperty(Ve.createElement("audio"),"src",{get:n,set:n}),Object.defineProperty(Ve.createElement("video"),"innerHTML",{get:n,set:n}),Object.defineProperty(Ve.createElement("audio"),"innerHTML",{get:n,set:n})}catch{return!1}return!0};We.supportsNativeTextTracks=function(){return E0||Ji&&xo};We.supportsNativeVideoTracks=function(){return!!(We.TEST_VID&&We.TEST_VID.videoTracks)};We.supportsNativeAudioTracks=function(){return!!(We.TEST_VID&&We.TEST_VID.audioTracks)};We.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"];[["featuresMuteControl","canMuteVolume"],["featuresPlaybackRate","canControlPlaybackRate"],["featuresSourceset","canOverrideAttributes"],["featuresNativeTextTracks","supportsNativeTextTracks"],["featuresNativeVideoTracks","supportsNativeVideoTracks"],["featuresNativeAudioTracks","supportsNativeAudioTracks"]].forEach(function([n,e]){_0(We.prototype,n,()=>We[e](),!0)});We.prototype.featuresVolumeControl=We.canControlVolume();We.prototype.movingMediaElementInDOM=!Ji;We.prototype.featuresFullscreenResize=!0;We.prototype.featuresProgressEvents=!0;We.prototype.featuresTimeupdateEvents=!0;We.prototype.featuresVideoFrameCallback=!!(We.TEST_VID&&We.TEST_VID.requestVideoFrameCallback);We.disposeMediaElement=function(n){if(n){for(n.parentNode&&n.parentNode.removeChild(n);n.hasChildNodes();)n.removeChild(n.firstChild);n.removeAttribute("src"),typeof n.load=="function"&&(function(){try{n.load()}catch{}})()}};We.resetMediaElement=function(n){if(!n)return;const e=n.querySelectorAll("source");let i=e.length;for(;i--;)n.removeChild(e[i]);n.removeAttribute("src"),typeof n.load=="function"&&(function(){try{n.load()}catch{}})()};["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach(function(n){We.prototype[n]=function(){return this.el_[n]||this.el_.hasAttribute(n)}});["muted","defaultMuted","autoplay","loop","playsinline"].forEach(function(n){We.prototype["set"+Wn(n)]=function(e){this.el_[n]=e,e?this.el_.setAttribute(n,n):this.el_.removeAttribute(n)}});["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","disablePictureInPicture","played","networkState","readyState","videoWidth","videoHeight","crossOrigin"].forEach(function(n){We.prototype[n]=function(){return this.el_[n]}});["volume","src","poster","preload","playbackRate","defaultPlaybackRate","disablePictureInPicture","crossOrigin"].forEach(function(n){We.prototype["set"+Wn(n)]=function(e){this.el_[n]=e}});["pause","load","play"].forEach(function(n){We.prototype[n]=function(){return this.el_[n]()}});vt.withSourceHandlers(We);We.nativeSourceHandler={};We.nativeSourceHandler.canPlayType=function(n){try{return We.TEST_VID.canPlayType(n)}catch{return""}};We.nativeSourceHandler.canHandleSource=function(n,e){if(n.type)return We.nativeSourceHandler.canPlayType(n.type);if(n.src){const i=V1(n.src);return We.nativeSourceHandler.canPlayType(`video/${i}`)}return""};We.nativeSourceHandler.handleSource=function(n,e,i){e.setSrc(n.src)};We.nativeSourceHandler.dispose=function(){};We.registerSourceHandler(We.nativeSourceHandler);vt.registerTech("Html5",We);const r4=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","resize","volumechange","texttrackchange"],_x={canplay:"CanPlay",canplaythrough:"CanPlayThrough",playing:"Playing",seeked:"Seeked"},Gx=["tiny","xsmall","small","medium","large","xlarge","huge"],Pb={};Gx.forEach(n=>{const e=n.charAt(0)==="x"?`x-${n.substring(1)}`:n;Pb[n]=`vjs-layout-${e}`});const w6={tiny:210,xsmall:320,small:425,medium:768,large:1440,xlarge:2560,huge:1/0};class en extends Oe{constructor(e,i,s){if(e.id=e.id||i.id||`vjs_video_${Qs()}`,i=Object.assign(en.getTagSettings(e),i),i.initChildren=!1,i.createEl=!1,i.evented=!1,i.reportTouchActivity=!1,!i.language){const c=e.closest("[lang]");c&&(i.language=c.getAttribute("lang"))}if(super(null,i,s),this.boundDocumentFullscreenChange_=c=>this.documentFullscreenChange_(c),this.boundFullWindowOnEscKey_=c=>this.fullWindowOnEscKey(c),this.boundUpdateStyleEl_=c=>this.updateStyleEl_(c),this.boundApplyInitTime_=c=>this.applyInitTime_(c),this.boundUpdateCurrentBreakpoint_=c=>this.updateCurrentBreakpoint_(c),this.boundHandleTechClick_=c=>this.handleTechClick_(c),this.boundHandleTechDoubleClick_=c=>this.handleTechDoubleClick_(c),this.boundHandleTechTouchStart_=c=>this.handleTechTouchStart_(c),this.boundHandleTechTouchMove_=c=>this.handleTechTouchMove_(c),this.boundHandleTechTouchEnd_=c=>this.handleTechTouchEnd_(c),this.boundHandleTechTap_=c=>this.handleTechTap_(c),this.boundUpdatePlayerHeightOnAudioOnlyMode_=c=>this.updatePlayerHeightOnAudioOnlyMode_(c),this.isFullscreen_=!1,this.log=Hw(this.id_),this.fsApi_=Hb,this.isPosterFromTech_=!1,this.queuedCallbacks_=[],this.isReady_=!1,this.hasStarted_=!1,this.userActive_=!1,this.debugEnabled_=!1,this.audioOnlyMode_=!1,this.audioPosterMode_=!1,this.audioOnlyCache_={controlBarHeight:null,playerHeight:null,hiddenChildren:[]},!this.options_||!this.options_.techOrder||!this.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(this.tag=e,this.tagAttributes=e&&Du(e),this.language(this.options_.language),i.languages){const c={};Object.getOwnPropertyNames(i.languages).forEach(function(d){c[d.toLowerCase()]=i.languages[d]}),this.languages_=c}else this.languages_=en.prototype.options_.languages;this.resetCache_(),this.poster_=i.poster||"",this.controls_=!!i.controls,e.controls=!1,e.removeAttribute("controls"),this.changingSrc_=!1,this.playCallbacks_=[],this.playTerminatedQueue_=[],e.hasAttribute("autoplay")?this.autoplay(!0):this.autoplay(this.options_.autoplay),i.plugins&&Object.keys(i.plugins).forEach(c=>{if(typeof this[c]!="function")throw new Error(`plugin "${c}" does not exist`)}),this.scrubbing_=!1,this.el_=this.createEl(),L1(this,{eventBusKey:"el_"}),this.fsApi_.requestFullscreen&&(ps(Ve,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),this.on(this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_)),this.fluid_&&this.on(["playerreset","resize"],this.boundUpdateStyleEl_);const o=dn(this.options_);if(i.plugins&&Object.keys(i.plugins).forEach(c=>{this[c](i.plugins[c])}),i.debug&&this.debug(!0),this.options_.playerOptions=o,this.middleware_=[],this.playbackRates(i.playbackRates),i.experimentalSvgIcons){const d=new W.DOMParser().parseFromString(KP,"image/svg+xml");if(d.querySelector("parsererror"))At.warn("Failed to load SVG Icons. Falling back to Font Icons."),this.options_.experimentalSvgIcons=null;else{const p=d.documentElement;p.style.display="none",this.el_.appendChild(p),this.addClass("vjs-svg-icons-enabled")}}this.initChildren(),this.isAudio(e.nodeName.toLowerCase()==="audio"),this.controls()?this.addClass("vjs-controls-enabled"):this.addClass("vjs-controls-disabled"),this.el_.setAttribute("role","region"),this.isAudio()?this.el_.setAttribute("aria-label",this.localize("Audio Player")):this.el_.setAttribute("aria-label",this.localize("Video Player")),this.isAudio()&&this.addClass("vjs-audio"),i.spatialNavigation&&i.spatialNavigation.enabled&&(this.spatialNavigation=new JP(this),this.addClass("vjs-spatial-navigation-enabled")),ip&&this.addClass("vjs-touch-enabled"),Ji||this.addClass("vjs-workinghover"),en.players[this.id_]=this;const l=Lx.split(".")[0];this.addClass(`vjs-v${l}`),this.userActive(!0),this.reportUserActivity(),this.one("play",c=>this.listenForUserActivity_(c)),this.on("keydown",c=>this.handleKeyDown(c)),this.on("languagechange",c=>this.handleLanguagechange(c)),this.breakpoints(this.options_.breakpoints),this.responsive(this.options_.responsive),this.on("ready",()=>{this.audioPosterMode(this.options_.audioPosterMode),this.audioOnlyMode(this.options_.audioOnlyMode)})}dispose(){this.trigger("dispose"),this.off("dispose"),er(Ve,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),er(Ve,"keydown",this.boundFullWindowOnEscKey_),this.styleEl_&&this.styleEl_.parentNode&&(this.styleEl_.parentNode.removeChild(this.styleEl_),this.styleEl_=null),en.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&(this.tech_.dispose(),this.isPosterFromTech_=!1,this.poster_=""),this.playerElIngest_&&(this.playerElIngest_=null),this.tag&&(this.tag=null),YP(this),Tr.names.forEach(e=>{const i=Tr[e],s=this[i.getterName]();s&&s.off&&s.off()}),super.dispose({restoreEl:this.options_.restoreEl})}createEl(){let e=this.tag,i,s=this.playerElIngest_=e.parentNode&&e.parentNode.hasAttribute&&e.parentNode.hasAttribute("data-vjs-player");const o=this.tag.tagName.toLowerCase()==="video-js";s?i=this.el_=e.parentNode:o||(i=this.el_=super.createEl("div"));const l=Du(e);if(o){for(i=this.el_=e,e=this.tag=Ve.createElement("video");i.children.length;)e.appendChild(i.firstChild);Xm(i,"video-js")||Xc(i,"video-js"),i.appendChild(e),s=this.playerElIngest_=i,Object.keys(i).forEach(m=>{try{e[m]=i[m]}catch{}})}e.setAttribute("tabindex","-1"),l.tabindex="-1",xo&&T0&&(e.setAttribute("role","application"),l.role="application"),e.removeAttribute("width"),e.removeAttribute("height"),"width"in l&&delete l.width,"height"in l&&delete l.height,Object.getOwnPropertyNames(l).forEach(function(m){o&&m==="class"||i.setAttribute(m,l[m]),o&&e.setAttribute(m,l[m])}),e.playerId=e.id,e.id+="_html5_api",e.className="vjs-tech",e.player=i.player=this,this.addClass("vjs-paused");const c=["IS_SMART_TV","IS_TIZEN","IS_WEBOS","IS_ANDROID","IS_IPAD","IS_IPHONE","IS_CHROMECAST_RECEIVER"].filter(m=>Ww[m]).map(m=>"vjs-device-"+m.substring(3).toLowerCase().replace(/\_/g,"-"));if(this.addClass(...c),W.VIDEOJS_NO_DYNAMIC_STYLE!==!0){this.styleEl_=h3("vjs-styles-dimensions");const m=Iu(".vjs-styles-defaults"),p=Iu("head");p.insertBefore(this.styleEl_,m?m.nextSibling:p.firstChild)}this.fill_=!1,this.fluid_=!1,this.width(this.options_.width),this.height(this.options_.height),this.fill(this.options_.fill),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio),this.crossOrigin(this.options_.crossOrigin||this.options_.crossorigin);const d=e.getElementsByTagName("a");for(let m=0;m<d.length;m++){const p=d.item(m);Xc(p,"vjs-hidden"),p.setAttribute("hidden","hidden")}return e.initNetworkState_=e.networkState,e.parentNode&&!s&&e.parentNode.insertBefore(i,e),Bx(e,i),this.children_.unshift(e),this.el_.setAttribute("lang",this.language_),this.el_.setAttribute("translate","no"),this.el_=i,i}crossOrigin(e){if(typeof e>"u")return this.techGet_("crossOrigin");if(e!==null&&e!=="anonymous"&&e!=="use-credentials"){At.warn(`crossOrigin must be null,  "anonymous" or "use-credentials", given "${e}"`);return}this.techCall_("setCrossOrigin",e),this.posterImage&&this.posterImage.crossOrigin(e)}width(e){return this.dimension("width",e)}height(e){return this.dimension("height",e)}dimension(e,i){const s=e+"_";if(i===void 0)return this[s]||0;if(i===""||i==="auto"){this[s]=void 0,this.updateStyleEl_();return}const o=parseFloat(i);if(isNaN(o)){At.error(`Improper value "${i}" supplied for for ${e}`);return}this[s]=o,this.updateStyleEl_()}fluid(e){if(e===void 0)return!!this.fluid_;this.fluid_=!!e,bl(this)&&this.off(["playerreset","resize"],this.boundUpdateStyleEl_),e?(this.addClass("vjs-fluid"),this.fill(!1),CP(this,()=>{this.on(["playerreset","resize"],this.boundUpdateStyleEl_)})):this.removeClass("vjs-fluid"),this.updateStyleEl_()}fill(e){if(e===void 0)return!!this.fill_;this.fill_=!!e,e?(this.addClass("vjs-fill"),this.fluid(!1)):this.removeClass("vjs-fill")}aspectRatio(e){if(e===void 0)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(e))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=e,this.fluid(!0),this.updateStyleEl_()}updateStyleEl_(){if(W.VIDEOJS_NO_DYNAMIC_STYLE===!0){const d=typeof this.width_=="number"?this.width_:this.options_.width,m=typeof this.height_=="number"?this.height_:this.options_.height,p=this.tech_&&this.tech_.el();p&&(d>=0&&(p.width=d),m>=0&&(p.height=m));return}let e,i,s,o;this.aspectRatio_!==void 0&&this.aspectRatio_!=="auto"?s=this.aspectRatio_:this.videoWidth()>0?s=this.videoWidth()+":"+this.videoHeight():s="16:9";const l=s.split(":"),c=l[1]/l[0];this.width_!==void 0?e=this.width_:this.height_!==void 0?e=this.height_/c:e=this.videoWidth()||300,this.height_!==void 0?i=this.height_:i=e*c,/^[^a-zA-Z]/.test(this.id())?o="dimensions-"+this.id():o=this.id()+"-dimensions",this.addClass(o),f3(this.styleEl_,`
      .${o} {
        width: ${e}px;
        height: ${i}px;
      }

      .${o}.vjs-fluid:not(.vjs-audio-only-mode) {
        padding-top: ${c*100}%;
      }
    `)}loadTech_(e,i){this.tech_&&this.unloadTech_();const s=Wn(e),o=e.charAt(0).toLowerCase()+e.slice(1);s!=="Html5"&&this.tag&&(vt.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=s,this.isReady_=!1;let l=this.autoplay();(typeof this.autoplay()=="string"||this.autoplay()===!0&&this.options_.normalizeAutoplay)&&(l=!1);const c={source:i,autoplay:l,nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:`${this.id()}_${o}_api`,playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,disablePictureInPicture:this.options_.disablePictureInPicture,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"],canOverridePoster:!!this.options_.techCanOverridePoster,enableSourceset:this.options_.enableSourceset};Tr.names.forEach(m=>{const p=Tr[m];c[p.getterName]=this[p.privateName]}),Object.assign(c,this.options_[s]),Object.assign(c,this.options_[o]),Object.assign(c,this.options_[e.toLowerCase()]),this.tag&&(c.tag=this.tag),i&&i.src===this.cache_.src&&this.cache_.currentTime>0&&(c.startTime=this.cache_.currentTime);const d=vt.getTech(e);if(!d)throw new Error(`No Tech named '${s}' exists! '${s}' should be registered using videojs.registerTech()'`);this.tech_=new d(c),this.tech_.ready(En(this,this.handleTechReady_),!0),Hx.jsonToTextTracks(this.textTracksJson_||[],this.tech_),r4.forEach(m=>{this.on(this.tech_,m,p=>this[`handleTech${Wn(m)}_`](p))}),Object.keys(_x).forEach(m=>{this.on(this.tech_,m,p=>{if(this.tech_.playbackRate()===0&&this.tech_.seeking()){this.queuedCallbacks_.push({callback:this[`handleTech${_x[m]}_`].bind(this),event:p});return}this[`handleTech${_x[m]}_`](p)})}),this.on(this.tech_,"loadstart",m=>this.handleTechLoadStart_(m)),this.on(this.tech_,"sourceset",m=>this.handleTechSourceset_(m)),this.on(this.tech_,"waiting",m=>this.handleTechWaiting_(m)),this.on(this.tech_,"ended",m=>this.handleTechEnded_(m)),this.on(this.tech_,"seeking",m=>this.handleTechSeeking_(m)),this.on(this.tech_,"play",m=>this.handleTechPlay_(m)),this.on(this.tech_,"pause",m=>this.handleTechPause_(m)),this.on(this.tech_,"durationchange",m=>this.handleTechDurationChange_(m)),this.on(this.tech_,"fullscreenchange",(m,p)=>this.handleTechFullscreenChange_(m,p)),this.on(this.tech_,"fullscreenerror",(m,p)=>this.handleTechFullscreenError_(m,p)),this.on(this.tech_,"enterpictureinpicture",m=>this.handleTechEnterPictureInPicture_(m)),this.on(this.tech_,"leavepictureinpicture",m=>this.handleTechLeavePictureInPicture_(m)),this.on(this.tech_,"error",m=>this.handleTechError_(m)),this.on(this.tech_,"posterchange",m=>this.handleTechPosterChange_(m)),this.on(this.tech_,"textdata",m=>this.handleTechTextData_(m)),this.on(this.tech_,"ratechange",m=>this.handleTechRateChange_(m)),this.on(this.tech_,"loadedmetadata",this.boundUpdateStyleEl_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode!==this.el()&&(s!=="Html5"||!this.tag)&&Bx(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)}unloadTech_(){Tr.names.forEach(e=>{const i=Tr[e];this[i.privateName]=this[i.getterName]()}),this.textTracksJson_=Hx.textTracksToJson(this.tech_),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1,this.isPosterFromTech_&&(this.poster_="",this.trigger("posterchange")),this.isPosterFromTech_=!1}tech(e){return e===void 0&&At.warn(`Using the tech directly can be dangerous. I hope you know what you're doing.
See https://github.com/videojs/video.js/issues/2617 for more info.
`),this.tech_}version(){return{"video.js":Lx}}addTechControlsListeners_(){this.removeTechControlsListeners_(),this.on(this.tech_,"click",this.boundHandleTechClick_),this.on(this.tech_,"dblclick",this.boundHandleTechDoubleClick_),this.on(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.on(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.on(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.on(this.tech_,"tap",this.boundHandleTechTap_)}removeTechControlsListeners_(){this.off(this.tech_,"tap",this.boundHandleTechTap_),this.off(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.off(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.off(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.off(this.tech_,"click",this.boundHandleTechClick_),this.off(this.tech_,"dblclick",this.boundHandleTechDoubleClick_)}handleTechReady_(){this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_()}handleTechLoadStart_(){this.removeClass("vjs-ended","vjs-seeking"),this.error(null),this.handleTechDurationChange_(),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):this.trigger("loadstart"),this.manualAutoplay_(this.autoplay()===!0&&this.options_.normalizeAutoplay?"play":this.autoplay())}manualAutoplay_(e){if(!this.tech_||typeof e!="string")return;const i=()=>{const o=this.muted();this.muted(!0);const l=()=>{this.muted(o)};this.playTerminatedQueue_.push(l);const c=this.play();if(Qm(c))return c.catch(d=>{throw l(),new Error(`Rejection at manualAutoplay. Restoring muted value. ${d||""}`)})};let s;if(e==="any"&&!this.muted()?(s=this.play(),Qm(s)&&(s=s.catch(i))):e==="muted"&&!this.muted()?s=i():s=this.play(),!!Qm(s))return s.then(()=>{this.trigger({type:"autoplay-success",autoplay:e})}).catch(()=>{this.trigger({type:"autoplay-failure",autoplay:e})})}updateSourceCaches_(e=""){let i=e,s="";typeof i!="string"&&(i=e.src,s=e.type),this.cache_.source=this.cache_.source||{},this.cache_.sources=this.cache_.sources||[],i&&!s&&(s=WP(this,i)),this.cache_.source=dn({},e,{src:i,type:s});const o=this.cache_.sources.filter(m=>m.src&&m.src===i),l=[],c=this.$$("source"),d=[];for(let m=0;m<c.length;m++){const p=Du(c[m]);l.push(p),p.src&&p.src===i&&d.push(p.src)}d.length&&!o.length?this.cache_.sources=l:o.length||(this.cache_.sources=[this.cache_.source]),this.cache_.src=i}handleTechSourceset_(e){if(!this.changingSrc_){let i=l=>this.updateSourceCaches_(l);const s=this.currentSource().src,o=e.src;s&&!/^blob:/.test(s)&&/^blob:/.test(o)&&(!this.lastSource_||this.lastSource_.tech!==o&&this.lastSource_.player!==s)&&(i=()=>{}),i(o),e.src||this.tech_.any(["sourceset","loadstart"],l=>{if(l.type==="sourceset")return;const c=this.techGet_("currentSrc");this.lastSource_.tech=c,this.updateSourceCaches_(c)})}this.lastSource_={player:this.currentSource().src,tech:e.src},this.trigger({src:e.src,type:"sourceset"})}hasStarted(e){if(e===void 0)return this.hasStarted_;e!==this.hasStarted_&&(this.hasStarted_=e,this.hasStarted_?this.addClass("vjs-has-started"):this.removeClass("vjs-has-started"))}handleTechPlay_(){this.removeClass("vjs-ended","vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")}handleTechRateChange_(){this.tech_.playbackRate()>0&&this.cache_.lastPlaybackRate===0&&(this.queuedCallbacks_.forEach(e=>e.callback(e.event)),this.queuedCallbacks_=[]),this.cache_.lastPlaybackRate=this.tech_.playbackRate(),this.trigger("ratechange")}handleTechWaiting_(){this.addClass("vjs-waiting"),this.trigger("waiting");const e=this.currentTime(),i=()=>{e!==this.currentTime()&&(this.removeClass("vjs-waiting"),this.off("timeupdate",i))};this.on("timeupdate",i)}handleTechCanPlay_(){this.removeClass("vjs-waiting"),this.trigger("canplay")}handleTechCanPlayThrough_(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")}handleTechPlaying_(){this.removeClass("vjs-waiting"),this.trigger("playing")}handleTechSeeking_(){this.addClass("vjs-seeking"),this.trigger("seeking")}handleTechSeeked_(){this.removeClass("vjs-seeking","vjs-ended"),this.trigger("seeked")}handleTechPause_(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")}handleTechEnded_(){this.addClass("vjs-ended"),this.removeClass("vjs-waiting"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")}handleTechDurationChange_(){this.duration(this.techGet_("duration"))}handleTechClick_(e){this.controls_&&(this.options_===void 0||this.options_.userActions===void 0||this.options_.userActions.click===void 0||this.options_.userActions.click!==!1)&&(this.options_!==void 0&&this.options_.userActions!==void 0&&typeof this.options_.userActions.click=="function"?this.options_.userActions.click.call(this,e):this.paused()?po(this.play()):this.pause())}handleTechDoubleClick_(e){if(!this.controls_)return;Array.prototype.some.call(this.$$(".vjs-control-bar, .vjs-modal-dialog"),s=>s.contains(e.target))||(this.options_===void 0||this.options_.userActions===void 0||this.options_.userActions.doubleClick===void 0||this.options_.userActions.doubleClick!==!1)&&(this.options_!==void 0&&this.options_.userActions!==void 0&&typeof this.options_.userActions.doubleClick=="function"?this.options_.userActions.doubleClick.call(this,e):this.isInPictureInPicture()&&!Ve.pictureInPictureElement?this.exitPictureInPicture():this.isFullscreen()?this.exitFullscreen():this.requestFullscreen())}handleTechTap_(){this.userActive(!this.userActive())}handleTechTouchStart_(){this.userWasActive=this.userActive()}handleTechTouchMove_(){this.userWasActive&&this.reportUserActivity()}handleTechTouchEnd_(e){e.cancelable&&e.preventDefault()}toggleFullscreenClass_(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")}documentFullscreenChange_(e){const i=e.target.player;if(i&&i!==this)return;const s=this.el();let o=Ve[this.fsApi_.fullscreenElement]===s;!o&&s.matches&&(o=s.matches(":"+this.fsApi_.fullscreen)),this.isFullscreen(o)}handleTechFullscreenChange_(e,i){i&&(i.nativeIOSFullscreen&&(this.addClass("vjs-ios-native-fs"),this.tech_.one("webkitendfullscreen",()=>{this.removeClass("vjs-ios-native-fs")})),this.isFullscreen(i.isFullscreen))}handleTechFullscreenError_(e,i){this.trigger("fullscreenerror",i)}togglePictureInPictureClass_(){this.isInPictureInPicture()?this.addClass("vjs-picture-in-picture"):this.removeClass("vjs-picture-in-picture")}handleTechEnterPictureInPicture_(e){this.isInPictureInPicture(!0)}handleTechLeavePictureInPicture_(e){this.isInPictureInPicture(!1)}handleTechError_(){const e=this.tech_.error();e&&this.error(e)}handleTechTextData_(){let e=null;arguments.length>1&&(e=arguments[1]),this.trigger("textdata",e)}getCache(){return this.cache_}resetCache_(){this.cache_={currentTime:0,initTime:0,inactivityTimeout:this.options_.inactivityTimeout,duration:NaN,lastVolume:1,lastPlaybackRate:this.defaultPlaybackRate(),media:null,src:"",source:{},sources:[],playbackRates:[],volume:1}}techCall_(e,i){this.ready(function(){if(e in GP)return $P(this.middleware_,this.tech_,e,i);if(e in X2)return G2(this.middleware_,this.tech_,e,i);try{this.tech_&&this.tech_[e](i)}catch(s){throw At(s),s}},!0)}techGet_(e){if(!(!this.tech_||!this.tech_.isReady_)){if(e in qP)return HP(this.middleware_,this.tech_,e);if(e in X2)return G2(this.middleware_,this.tech_,e);try{return this.tech_[e]()}catch(i){throw this.tech_[e]===void 0?(At(`Video.js: ${e} method not defined for ${this.techName_} playback technology.`,i),i):i.name==="TypeError"?(At(`Video.js: ${e} unavailable on ${this.techName_} playback technology element.`,i),this.tech_.isReady_=!1,i):(At(i),i)}}}play(){return new Promise(e=>{this.play_(e)})}play_(e=po){this.playCallbacks_.push(e);const i=!!(!this.changingSrc_&&(this.src()||this.currentSrc())),s=!!(E0||Ji);if(this.waitToPlay_&&(this.off(["ready","loadstart"],this.waitToPlay_),this.waitToPlay_=null),!this.isReady_||!i){this.waitToPlay_=c=>{this.play_()},this.one(["ready","loadstart"],this.waitToPlay_),!i&&s&&this.load();return}const o=this.techGet_("play");s&&this.hasClass("vjs-ended")&&this.resetProgressBar_(),o===null?this.runPlayTerminatedQueue_():this.runPlayCallbacks_(o)}runPlayTerminatedQueue_(){const e=this.playTerminatedQueue_.slice(0);this.playTerminatedQueue_=[],e.forEach(function(i){i()})}runPlayCallbacks_(e){const i=this.playCallbacks_.slice(0);this.playCallbacks_=[],this.playTerminatedQueue_=[],i.forEach(function(s){s(e)})}pause(){this.techCall_("pause")}paused(){return this.techGet_("paused")!==!1}played(){return this.techGet_("played")||xa(0,0)}scrubbing(e){if(typeof e>"u")return this.scrubbing_;this.scrubbing_=!!e,this.techCall_("setScrubbing",this.scrubbing_),e?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing")}currentTime(e){if(e===void 0)return this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime;if(e<0&&(e=0),!this.isReady_||this.changingSrc_||!this.tech_||!this.tech_.isReady_){this.cache_.initTime=e,this.off("canplay",this.boundApplyInitTime_),this.one("canplay",this.boundApplyInitTime_);return}this.techCall_("setCurrentTime",e),this.cache_.initTime=0,isFinite(e)&&(this.cache_.currentTime=Number(e))}applyInitTime_(){this.currentTime(this.cache_.initTime)}duration(e){if(e===void 0)return this.cache_.duration!==void 0?this.cache_.duration:NaN;e=parseFloat(e),e<0&&(e=1/0),e!==this.cache_.duration&&(this.cache_.duration=e,e===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"),isNaN(e)||this.trigger("durationchange"))}remainingTime(){return this.duration()-this.currentTime()}remainingTimeDisplay(){return Math.floor(this.duration())-Math.floor(this.currentTime())}buffered(){let e=this.techGet_("buffered");return(!e||!e.length)&&(e=xa(0,0)),e}seekable(){let e=this.techGet_("seekable");return(!e||!e.length)&&(e=xa(0,0)),e}seeking(){return this.techGet_("seeking")}ended(){return this.techGet_("ended")}networkState(){return this.techGet_("networkState")}readyState(){return this.techGet_("readyState")}bufferedPercent(){return T3(this.buffered(),this.duration())}bufferedEnd(){const e=this.buffered(),i=this.duration();let s=e.end(e.length-1);return s>i&&(s=i),s}volume(e){let i;if(e!==void 0){i=Math.max(0,Math.min(1,e)),this.cache_.volume=i,this.techCall_("setVolume",i),i>0&&this.lastVolume_(i);return}return i=parseFloat(this.techGet_("volume")),isNaN(i)?1:i}muted(e){if(e!==void 0){this.techCall_("setMuted",e);return}return this.techGet_("muted")||!1}defaultMuted(e){return e!==void 0&&this.techCall_("setDefaultMuted",e),this.techGet_("defaultMuted")||!1}lastVolume_(e){if(e!==void 0&&e!==0){this.cache_.lastVolume=e;return}return this.cache_.lastVolume}supportsFullScreen(){return this.techGet_("supportsFullScreen")||!1}isFullscreen(e){if(e!==void 0){const i=this.isFullscreen_;this.isFullscreen_=!!e,this.isFullscreen_!==i&&this.fsApi_.prefixed&&this.trigger("fullscreenchange"),this.toggleFullscreenClass_();return}return this.isFullscreen_}requestFullscreen(e){this.isInPictureInPicture()&&this.exitPictureInPicture();const i=this;return new Promise((s,o)=>{function l(){i.off("fullscreenerror",d),i.off("fullscreenchange",c)}function c(){l(),s()}function d(p,v){l(),o(v)}i.one("fullscreenchange",c),i.one("fullscreenerror",d);const m=i.requestFullscreenHelper_(e);m&&(m.then(l,l),m.then(s,o))})}requestFullscreenHelper_(e){let i;if(this.fsApi_.prefixed||(i=this.options_.fullscreen&&this.options_.fullscreen.options||{},e!==void 0&&(i=e)),this.fsApi_.requestFullscreen){const s=this.el_[this.fsApi_.requestFullscreen](i);return s&&s.then(()=>this.isFullscreen(!0),()=>this.isFullscreen(!1)),s}else this.tech_.supportsFullScreen()&&!this.options_.preferFullWindow?this.techCall_("enterFullScreen"):this.enterFullWindow()}exitFullscreen(){const e=this;return new Promise((i,s)=>{function o(){e.off("fullscreenerror",c),e.off("fullscreenchange",l)}function l(){o(),i()}function c(m,p){o(),s(p)}e.one("fullscreenchange",l),e.one("fullscreenerror",c);const d=e.exitFullscreenHelper_();d&&(d.then(o,o),d.then(i,s))})}exitFullscreenHelper_(){if(this.fsApi_.requestFullscreen){const e=Ve[this.fsApi_.exitFullscreen]();return e&&po(e.then(()=>this.isFullscreen(!1))),e}else this.tech_.supportsFullScreen()&&!this.options_.preferFullWindow?this.techCall_("exitFullScreen"):this.exitFullWindow()}enterFullWindow(){this.isFullscreen(!0),this.isFullWindow=!0,this.docOrigOverflow=Ve.documentElement.style.overflow,ps(Ve,"keydown",this.boundFullWindowOnEscKey_),Ve.documentElement.style.overflow="hidden",Xc(Ve.body,"vjs-full-window"),this.trigger("enterFullWindow")}fullWindowOnEscKey(e){e.key==="Escape"&&this.isFullscreen()===!0&&(this.isFullWindow?this.exitFullWindow():this.exitFullscreen())}exitFullWindow(){this.isFullscreen(!1),this.isFullWindow=!1,er(Ve,"keydown",this.boundFullWindowOnEscKey_),Ve.documentElement.style.overflow=this.docOrigOverflow,N0(Ve.body,"vjs-full-window"),this.trigger("exitFullWindow")}disablePictureInPicture(e){if(e===void 0)return this.techGet_("disablePictureInPicture");this.techCall_("setDisablePictureInPicture",e),this.options_.disablePictureInPicture=e,this.trigger("disablepictureinpicturechanged")}isInPictureInPicture(e){if(e!==void 0){this.isInPictureInPicture_=!!e,this.togglePictureInPictureClass_();return}return!!this.isInPictureInPicture_}requestPictureInPicture(){if(this.options_.enableDocumentPictureInPicture&&W.documentPictureInPicture){const e=Ve.createElement(this.el().tagName);return e.classList=this.el().classList,e.classList.add("vjs-pip-container"),this.posterImage&&e.appendChild(this.posterImage.el().cloneNode(!0)),this.titleBar&&e.appendChild(this.titleBar.el().cloneNode(!0)),e.appendChild(ct("p",{className:"vjs-pip-text"},{},this.localize("Playing in picture-in-picture"))),W.documentPictureInPicture.requestWindow({width:this.videoWidth(),height:this.videoHeight()}).then(i=>(u3(i),this.el_.parentNode.insertBefore(e,this.el_),i.document.body.appendChild(this.el_),i.document.body.classList.add("vjs-pip-window"),this.player_.isInPictureInPicture(!0),this.player_.trigger({type:"enterpictureinpicture",pipWindow:i}),i.addEventListener("pagehide",s=>{const o=s.target.querySelector(".video-js");e.parentNode.replaceChild(o,e),this.player_.isInPictureInPicture(!1),this.player_.trigger("leavepictureinpicture")}),i))}return"pictureInPictureEnabled"in Ve&&this.disablePictureInPicture()===!1?this.techGet_("requestPictureInPicture"):Promise.reject("No PiP mode is available")}exitPictureInPicture(){if(W.documentPictureInPicture&&W.documentPictureInPicture.window)return W.documentPictureInPicture.window.close(),Promise.resolve();if("pictureInPictureEnabled"in Ve)return Ve.exitPictureInPicture()}handleKeyDown(e){const{userActions:i}=this.options_;!i||!i.hotkeys||(o=>{const l=o.tagName.toLowerCase();if(o.isContentEditable)return!0;const c=["button","checkbox","hidden","radio","reset","submit"];return l==="input"?c.indexOf(o.type)===-1:["textarea"].indexOf(l)!==-1})(this.el_.ownerDocument.activeElement)||(typeof i.hotkeys=="function"?i.hotkeys.call(this,e):this.handleHotkeys(e))}handleHotkeys(e){const i=this.options_.userActions?this.options_.userActions.hotkeys:{},{fullscreenKey:s=c=>e.key.toLowerCase()==="f",muteKey:o=c=>e.key.toLowerCase()==="m",playPauseKey:l=c=>e.key.toLowerCase()==="k"||e.key.toLowerCase()===" "}=i;if(s.call(this,e)){e.preventDefault(),e.stopPropagation();const c=Oe.getComponent("FullscreenToggle");Ve[this.fsApi_.fullscreenEnabled]!==!1&&c.prototype.handleClick.call(this,e)}else o.call(this,e)?(e.preventDefault(),e.stopPropagation(),Oe.getComponent("MuteToggle").prototype.handleClick.call(this,e)):l.call(this,e)&&(e.preventDefault(),e.stopPropagation(),Oe.getComponent("PlayToggle").prototype.handleClick.call(this,e))}canPlayType(e){let i;for(let s=0,o=this.options_.techOrder;s<o.length;s++){const l=o[s];let c=vt.getTech(l);if(c||(c=Oe.getComponent(l)),!c){At.error(`The "${l}" tech is undefined. Skipped browser support check for that tech.`);continue}if(c.isSupported()&&(i=c.canPlayType(e),i))return i}return""}selectSource(e){const i=this.options_.techOrder.map(d=>[d,vt.getTech(d)]).filter(([d,m])=>m?m.isSupported():(At.error(`The "${d}" tech is undefined. Skipped browser support check for that tech.`),!1)),s=function(d,m,p){let v;return d.some(E=>m.some(C=>{if(v=p(E,C),v)return!0})),v};let o;const l=d=>(m,p)=>d(p,m),c=([d,m],p)=>{if(m.canPlaySource(p,this.options_[d.toLowerCase()]))return{source:p,tech:d}};return this.options_.sourceOrder?o=s(e,i,l(c)):o=s(i,e,c),o||!1}handleSrc_(e,i){if(typeof e>"u")return this.cache_.src||"";this.resetRetryOnError_&&this.resetRetryOnError_();const s=A3(e);if(!s.length){this.setTimeout(function(){this.error({code:4,message:this.options_.notSupportedMessage})},0);return}if(this.changingSrc_=!0,i||(this.cache_.sources=s),this.updateSourceCaches_(s[0]),FP(this,s[0],(o,l)=>{if(this.middleware_=l,i||(this.cache_.sources=s),this.updateSourceCaches_(o),this.src_(o)){if(s.length>1)return this.handleSrc_(s.slice(1));this.changingSrc_=!1,this.setTimeout(function(){this.error({code:4,message:this.options_.notSupportedMessage})},0),this.triggerReady();return}zP(l,this.tech_)}),s.length>1){const o=()=>{this.error(null),this.handleSrc_(s.slice(1),!0)},l=()=>{this.off("error",o)};this.one("error",o),this.one("playing",l),this.resetRetryOnError_=()=>{this.off("error",o),this.off("playing",l)}}}src(e){return this.handleSrc_(e,!1)}src_(e){const i=this.selectSource([e]);return i?y3(i.tech,this.techName_)?(this.ready(function(){this.tech_.constructor.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",e):this.techCall_("src",e.src),this.changingSrc_=!1},!0),!1):(this.changingSrc_=!0,this.loadTech_(i.tech,i.source),this.tech_.ready(()=>{this.changingSrc_=!1}),!1):!0}addSourceElement(e,i){return this.tech_?this.tech_.addSourceElement(e,i):!1}removeSourceElement(e){return this.tech_?this.tech_.removeSourceElement(e):!1}load(){if(this.tech_&&this.tech_.vhs){this.src(this.currentSource());return}this.techCall_("load")}reset(){if(this.paused())this.doReset_();else{const e=this.play();po(e.then(()=>this.doReset_()))}}doReset_(){this.tech_&&this.tech_.clearTracks("text"),this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.resetCache_(),this.poster(""),this.loadTech_(this.options_.techOrder[0],null),this.techCall_("reset"),this.resetControlBarUI_(),this.error(null),this.titleBar&&this.titleBar.update({title:void 0,description:void 0}),bl(this)&&this.trigger("playerreset")}resetControlBarUI_(){this.resetProgressBar_(),this.resetPlaybackRate_(),this.resetVolumeBar_()}resetProgressBar_(){this.currentTime(0);const{currentTimeDisplay:e,durationDisplay:i,progressControl:s,remainingTimeDisplay:o}=this.controlBar||{},{seekBar:l}=s||{};e&&e.updateContent(),i&&i.updateContent(),o&&o.updateContent(),l&&(l.update(),l.loadProgressBar&&l.loadProgressBar.update())}resetPlaybackRate_(){this.playbackRate(this.defaultPlaybackRate()),this.handleTechRateChange_()}resetVolumeBar_(){this.volume(1),this.trigger("volumechange")}currentSources(){const e=this.currentSource(),i=[];return Object.keys(e).length!==0&&i.push(e),this.cache_.sources||i}currentSource(){return this.cache_.source||{}}currentSrc(){return this.currentSource()&&this.currentSource().src||""}currentType(){return this.currentSource()&&this.currentSource().type||""}preload(e){if(e!==void 0){this.techCall_("setPreload",e),this.options_.preload=e;return}return this.techGet_("preload")}autoplay(e){if(e===void 0)return this.options_.autoplay||!1;let i;typeof e=="string"&&/(any|play|muted)/.test(e)||e===!0&&this.options_.normalizeAutoplay?(this.options_.autoplay=e,this.manualAutoplay_(typeof e=="string"?e:"play"),i=!1):e?this.options_.autoplay=!0:this.options_.autoplay=!1,i=typeof i>"u"?this.options_.autoplay:i,this.tech_&&this.techCall_("setAutoplay",i)}playsinline(e){return e!==void 0&&(this.techCall_("setPlaysinline",e),this.options_.playsinline=e),this.techGet_("playsinline")}loop(e){if(e!==void 0){this.techCall_("setLoop",e),this.options_.loop=e;return}return this.techGet_("loop")}poster(e){if(e===void 0)return this.poster_;e||(e=""),e!==this.poster_&&(this.poster_=e,this.techCall_("setPoster",e),this.isPosterFromTech_=!1,this.trigger("posterchange"))}handleTechPosterChange_(){if((!this.poster_||this.options_.techCanOverridePoster)&&this.tech_&&this.tech_.poster){const e=this.tech_.poster()||"";e!==this.poster_&&(this.poster_=e,this.isPosterFromTech_=!0,this.trigger("posterchange"))}}controls(e){if(e===void 0)return!!this.controls_;e=!!e,this.controls_!==e&&(this.controls_=e,this.usingNativeControls()&&this.techCall_("setControls",e),this.controls_?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_()))}usingNativeControls(e){if(e===void 0)return!!this.usingNativeControls_;e=!!e,this.usingNativeControls_!==e&&(this.usingNativeControls_=e,this.usingNativeControls_?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols")))}error(e){if(e===void 0)return this.error_||null;if(Mu("beforeerror").forEach(i=>{const s=i(this,e);if(!(_o(s)&&!Array.isArray(s)||typeof s=="string"||typeof s=="number"||s===null)){this.log.error("please return a value that MediaError expects in beforeerror hooks");return}e=s}),this.options_.suppressNotSupportedError&&e&&e.code===4){const i=function(){this.error(e)};this.options_.suppressNotSupportedError=!1,this.any(["click","touchstart"],i),this.one("loadstart",function(){this.off(["click","touchstart"],i)});return}if(e===null){this.error_=null,this.removeClass("vjs-error"),this.errorDisplay&&this.errorDisplay.close();return}this.error_=new Xn(e),this.addClass("vjs-error"),At.error(`(CODE:${this.error_.code} ${Xn.errorTypes[this.error_.code]})`,this.error_.message,this.error_),this.trigger("error"),Mu("error").forEach(i=>i(this,this.error_))}reportUserActivity(e){this.userActivity_=!0}userActive(e){if(e===void 0)return this.userActive_;if(e=!!e,e!==this.userActive_){if(this.userActive_=e,this.userActive_){this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),this.trigger("useractive");return}this.tech_&&this.tech_.one("mousemove",function(i){i.stopPropagation(),i.preventDefault()}),this.userActivity_=!1,this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive")}}listenForUserActivity_(){let e,i,s;const o=En(this,this.reportUserActivity),l=function(E){(E.screenX!==i||E.screenY!==s)&&(i=E.screenX,s=E.screenY,o())},c=function(){o(),this.clearInterval(e),e=this.setInterval(o,250)},d=function(E){o(),this.clearInterval(e)};this.on("mousedown",c),this.on("mousemove",l),this.on("mouseup",d),this.on("mouseleave",d);const m=this.getChild("controlBar");m&&!Ji&&!Sa&&(m.on("mouseenter",function(E){this.player().options_.inactivityTimeout!==0&&(this.player().cache_.inactivityTimeout=this.player().options_.inactivityTimeout),this.player().options_.inactivityTimeout=0}),m.on("mouseleave",function(E){this.player().options_.inactivityTimeout=this.player().cache_.inactivityTimeout})),this.on("keydown",o),this.on("keyup",o);let p;const v=function(){if(!this.userActivity_)return;this.userActivity_=!1,this.userActive(!0),this.clearTimeout(p);const E=this.options_.inactivityTimeout;E<=0||(p=this.setTimeout(function(){this.userActivity_||this.userActive(!1)},E))};this.setInterval(v,250)}playbackRate(e){if(e!==void 0){this.techCall_("setPlaybackRate",e);return}return this.tech_&&this.tech_.featuresPlaybackRate?this.cache_.lastPlaybackRate||this.techGet_("playbackRate"):1}defaultPlaybackRate(e){return e!==void 0?this.techCall_("setDefaultPlaybackRate",e):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("defaultPlaybackRate"):1}isAudio(e){if(e!==void 0){this.isAudio_=!!e;return}return!!this.isAudio_}updatePlayerHeightOnAudioOnlyMode_(){const e=this.getChild("ControlBar");!e||this.audioOnlyCache_.controlBarHeight===e.currentHeight()||(this.audioOnlyCache_.controlBarHeight=e.currentHeight(),this.height(this.audioOnlyCache_.controlBarHeight))}enableAudioOnlyUI_(){this.addClass("vjs-audio-only-mode");const e=this.children(),i=this.getChild("ControlBar"),s=i&&i.currentHeight();e.forEach(o=>{o!==i&&o.el_&&!o.hasClass("vjs-hidden")&&(o.hide(),this.audioOnlyCache_.hiddenChildren.push(o))}),this.audioOnlyCache_.playerHeight=this.currentHeight(),this.audioOnlyCache_.controlBarHeight=s,this.on("playerresize",this.boundUpdatePlayerHeightOnAudioOnlyMode_),this.height(s),this.trigger("audioonlymodechange")}disableAudioOnlyUI_(){this.removeClass("vjs-audio-only-mode"),this.off("playerresize",this.boundUpdatePlayerHeightOnAudioOnlyMode_),this.audioOnlyCache_.hiddenChildren.forEach(e=>e.show()),this.height(this.audioOnlyCache_.playerHeight),this.trigger("audioonlymodechange")}audioOnlyMode(e){if(typeof e!="boolean"||e===this.audioOnlyMode_)return this.audioOnlyMode_;if(this.audioOnlyMode_=e,e){const i=[];return this.isInPictureInPicture()&&i.push(this.exitPictureInPicture()),this.isFullscreen()&&i.push(this.exitFullscreen()),this.audioPosterMode()&&i.push(this.audioPosterMode(!1)),Promise.all(i).then(()=>this.enableAudioOnlyUI_())}return Promise.resolve().then(()=>this.disableAudioOnlyUI_())}enablePosterModeUI_(){(this.tech_&&this.tech_).hide(),this.addClass("vjs-audio-poster-mode"),this.trigger("audiopostermodechange")}disablePosterModeUI_(){(this.tech_&&this.tech_).show(),this.removeClass("vjs-audio-poster-mode"),this.trigger("audiopostermodechange")}audioPosterMode(e){return typeof e!="boolean"||e===this.audioPosterMode_?this.audioPosterMode_:(this.audioPosterMode_=e,e?this.audioOnlyMode()?this.audioOnlyMode(!1).then(()=>{this.enablePosterModeUI_()}):Promise.resolve().then(()=>{this.enablePosterModeUI_()}):Promise.resolve().then(()=>{this.disablePosterModeUI_()}))}addTextTrack(e,i,s){if(this.tech_)return this.tech_.addTextTrack(e,i,s)}addRemoteTextTrack(e,i){if(this.tech_)return this.tech_.addRemoteTextTrack(e,i)}removeRemoteTextTrack(e={}){let{track:i}=e;if(i||(i=e),this.tech_)return this.tech_.removeRemoteTextTrack(i)}getVideoPlaybackQuality(){return this.techGet_("getVideoPlaybackQuality")}videoWidth(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0}videoHeight(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0}language(e){if(e===void 0)return this.language_;this.language_!==String(e).toLowerCase()&&(this.language_=String(e).toLowerCase(),bl(this)&&this.trigger("languagechange"))}languages(){return dn(en.prototype.options_.languages,this.languages_)}toJSON(){const e=dn(this.options_),i=e.tracks;e.tracks=[];for(let s=0;s<i.length;s++){let o=i[s];o=dn(o),o.player=void 0,e.tracks[s]=o}return e}createModal(e,i){i=i||{},i.content=e||"";const s=new sf(this,i);return this.addChild(s),s.on("dispose",()=>{this.removeChild(s)}),s.open(),s}updateCurrentBreakpoint_(){if(!this.responsive())return;const e=this.currentBreakpoint(),i=this.currentWidth();for(let s=0;s<Gx.length;s++){const o=Gx[s],l=this.breakpoints_[o];if(i<=l){if(e===o)return;e&&this.removeClass(Pb[e]),this.addClass(Pb[o]),this.breakpoint_=o;break}}}removeCurrentBreakpoint_(){const e=this.currentBreakpointClass();this.breakpoint_="",e&&this.removeClass(e)}breakpoints(e){return e===void 0?Object.assign(this.breakpoints_):(this.breakpoint_="",this.breakpoints_=Object.assign({},w6,e),this.updateCurrentBreakpoint_(),Object.assign(this.breakpoints_))}responsive(e){if(e===void 0)return this.responsive_;e=!!e;const i=this.responsive_;if(e!==i)return this.responsive_=e,e?(this.on("playerresize",this.boundUpdateCurrentBreakpoint_),this.updateCurrentBreakpoint_()):(this.off("playerresize",this.boundUpdateCurrentBreakpoint_),this.removeCurrentBreakpoint_()),e}currentBreakpoint(){return this.breakpoint_}currentBreakpointClass(){return Pb[this.breakpoint_]||""}loadMedia(e,i){if(!e||typeof e!="object")return;const s=this.crossOrigin();this.reset(),this.cache_.media=dn(e);const{artist:o,artwork:l,description:c,poster:d,src:m,textTracks:p,title:v}=this.cache_.media;!l&&d&&(this.cache_.media.artwork=[{src:d,type:Jb(d)}]),s&&this.crossOrigin(s),m&&this.src(m),d&&this.poster(d),Array.isArray(p)&&p.forEach(E=>this.addRemoteTextTrack(E,!1)),this.titleBar&&this.titleBar.update({title:v,description:c||o||""}),this.ready(i)}getMedia(){if(!this.cache_.media){const e=this.poster(),i=this.currentSources(),s=Array.prototype.map.call(this.remoteTextTracks(),l=>({kind:l.kind,label:l.label,language:l.language,src:l.src})),o={src:i,textTracks:s};return e&&(o.poster=e,o.artwork=[{src:o.poster,type:Jb(o.poster)}]),o}return dn(this.cache_.media)}static getTagSettings(e){const i={sources:[],tracks:[]},s=Du(e),o=s["data-setup"];if(Xm(e,"vjs-fill")&&(s.fill=!0),Xm(e,"vjs-fluid")&&(s.fluid=!0),o!==null)try{Object.assign(s,JSON.parse(o||"{}"))}catch(l){At.error("data-setup",l)}if(Object.assign(i,s),e.hasChildNodes()){const l=e.childNodes;for(let c=0,d=l.length;c<d;c++){const m=l[c],p=m.nodeName.toLowerCase();p==="source"?i.sources.push(Du(m)):p==="track"&&i.tracks.push(Du(m))}}return i}debug(e){if(e===void 0)return this.debugEnabled_;e?(this.trigger("debugon"),this.previousLogLevel_=this.log.level,this.log.level("debug"),this.debugEnabled_=!0):(this.trigger("debugoff"),this.log.level(this.previousLogLevel_),this.previousLogLevel_=void 0,this.debugEnabled_=!1)}playbackRates(e){if(e===void 0)return this.cache_.playbackRates;Array.isArray(e)&&e.every(i=>typeof i=="number")&&(this.cache_.playbackRates=e,this.trigger("playbackrateschange"))}}en.prototype.videoTracks=()=>{};en.prototype.audioTracks=()=>{};en.prototype.textTracks=()=>{};en.prototype.remoteTextTracks=()=>{};en.prototype.remoteTextTrackEls=()=>{};Tr.names.forEach(function(n){const e=Tr[n];en.prototype[e.getterName]=function(){return this.tech_?this.tech_[e.getterName]():(this[e.privateName]=this[e.privateName]||new e.ListClass,this[e.privateName])}});en.prototype.crossorigin=en.prototype.crossOrigin;en.players={};const Um=W.navigator;en.prototype.options_={techOrder:vt.defaultTechOrder_,html5:{},enableSourceset:!0,inactivityTimeout:2e3,playbackRates:[],liveui:!1,children:["mediaLoader","posterImage","titleBar","textTrackDisplay","loadingSpinner","bigPlayButton","liveTracker","controlBar","errorDisplay","textTrackSettings","resizeManager"],language:Um&&(Um.languages&&Um.languages[0]||Um.userLanguage||Um.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media.",normalizeAutoplay:!1,fullscreen:{options:{navigationUI:"hide"}},breakpoints:{},responsive:!1,audioOnlyMode:!1,audioPosterMode:!1,spatialNavigation:{enabled:!1,horizontalSeek:!1},enableSmoothSeeking:!1,disableSeekWhileScrubbingOnMobile:!1,disableSeekWhileScrubbingOnSTV:!1};r4.forEach(function(n){en.prototype[`handleTech${Wn(n)}_`]=function(){return this.trigger(n)}});Oe.registerComponent("Player",en);const e0="plugin",Mh="activePlugins_",Ch={},t0=n=>Ch.hasOwnProperty(n),Bb=n=>t0(n)?Ch[n]:void 0,s4=(n,e)=>{n[Mh]=n[Mh]||{},n[Mh][e]=!0},n0=(n,e,i)=>{const s=(i?"before":"")+"pluginsetup";n.trigger(s,e),n.trigger(s+":"+e.name,e)},R6=function(n,e){const i=function(){n0(this,{name:n,plugin:e,instance:null},!0);const s=e.apply(this,arguments);return s4(this,n),n0(this,{name:n,plugin:e,instance:s}),s};return Object.keys(e).forEach(function(s){i[s]=e[s]}),i},uA=(n,e)=>(e.prototype.name=n,function(...i){n0(this,{name:n,plugin:e,instance:null},!0);const s=new e(this,...i);return this[n]=()=>s,n0(this,s.getEventHash()),s});class qr{constructor(e){if(this.constructor===qr)throw new Error("Plugin must be sub-classed; not directly instantiated.");this.player=e,this.log||(this.log=this.player.log.createLogger(this.name)),L1(this),delete this.trigger,b3(this,this.constructor.defaultState),s4(e,this.name),this.dispose=this.dispose.bind(this),e.on("dispose",this.dispose)}version(){return this.constructor.VERSION}getEventHash(e={}){return e.name=this.name,e.plugin=this.constructor,e.instance=this,e}trigger(e,i={}){return rf(this.eventBusEl_,e,this.getEventHash(i))}handleStateChanged(e){}dispose(){const{name:e,player:i}=this;this.trigger("dispose"),this.off(),i.off("dispose",this.dispose),i[Mh][e]=!1,this.player=this.state=null,i[e]=uA(e,Ch[e])}static isBasic(e){const i=typeof e=="string"?Bb(e):e;return typeof i=="function"&&!qr.prototype.isPrototypeOf(i.prototype)}static registerPlugin(e,i){if(typeof e!="string")throw new Error(`Illegal plugin name, "${e}", must be a string, was ${typeof e}.`);if(t0(e))At.warn(`A plugin named "${e}" already exists. You may want to avoid re-registering plugins!`);else if(en.prototype.hasOwnProperty(e))throw new Error(`Illegal plugin name, "${e}", cannot share a name with an existing player method!`);if(typeof i!="function")throw new Error(`Illegal plugin for "${e}", must be a function, was ${typeof i}.`);return Ch[e]=i,e!==e0&&(qr.isBasic(i)?en.prototype[e]=R6(e,i):en.prototype[e]=uA(e,i)),i}static deregisterPlugin(e){if(e===e0)throw new Error("Cannot de-register base plugin.");t0(e)&&(delete Ch[e],delete en.prototype[e])}static getPlugins(e=Object.keys(Ch)){let i;return e.forEach(s=>{const o=Bb(s);o&&(i=i||{},i[s]=o)}),i}static getPluginVersion(e){const i=Bb(e);return i&&i.VERSION||""}}qr.getPlugin=Bb;qr.BASE_PLUGIN_NAME=e0;qr.registerPlugin(e0,qr);en.prototype.usingPlugin=function(n){return!!this[Mh]&&this[Mh][n]===!0};en.prototype.hasPlugin=function(n){return!!t0(n)};function k6(n,e){let i=!1;return function(...s){return i||At.warn(n),i=!0,e.apply(this,s)}}function Na(n,e,i,s){return k6(`${e} is deprecated and will be removed in ${n}.0; please use ${i} instead.`,s)}var O6={NetworkBadStatus:"networkbadstatus",NetworkRequestFailed:"networkrequestfailed",NetworkRequestAborted:"networkrequestaborted",NetworkRequestTimeout:"networkrequesttimeout",NetworkBodyParserFailed:"networkbodyparserfailed",StreamingHlsPlaylistParserError:"streaminghlsplaylistparsererror",StreamingDashManifestParserError:"streamingdashmanifestparsererror",StreamingContentSteeringParserError:"streamingcontentsteeringparsererror",StreamingVttParserError:"streamingvttparsererror",StreamingFailedToSelectNextSegment:"streamingfailedtoselectnextsegment",StreamingFailedToDecryptSegment:"streamingfailedtodecryptsegment",StreamingFailedToTransmuxSegment:"streamingfailedtotransmuxsegment",StreamingFailedToAppendSegment:"streamingfailedtoappendsegment",StreamingCodecsChangeError:"streamingcodecschangeerror"};const a4=n=>n.indexOf("#")===0?n.slice(1):n;function _e(n,e,i){let s=_e.getPlayer(n);if(s)return e&&At.warn(`Player "${n}" is already initialised. Options will not be applied.`),i&&s.ready(i),s;const o=typeof n=="string"?Iu("#"+a4(n)):n;if(!nf(o))throw new TypeError("The element or ID supplied is not valid. (videojs)");const c=("getRootNode"in o?o.getRootNode()instanceof W.ShadowRoot:!1)?o.getRootNode():o.ownerDocument.body;(!o.ownerDocument.defaultView||!c.contains(o))&&At.warn("The element supplied is not included in the DOM"),e=e||{},e.restoreEl===!0&&(e.restoreEl=(o.parentNode&&o.parentNode.hasAttribute&&o.parentNode.hasAttribute("data-vjs-player")?o.parentNode:o).cloneNode(!0)),Mu("beforesetup").forEach(m=>{const p=m(o,dn(e));if(!_o(p)||Array.isArray(p)){At.error("please return an object in beforesetup hooks");return}e=dn(e,p)});const d=Oe.getComponent("Player");return s=new d(o,e,i),Mu("setup").forEach(m=>m(s)),s}_e.hooks_=fl;_e.hooks=Mu;_e.hook=hP;_e.hookOnce=fP;_e.removeHook=zw;if(W.VIDEOJS_NO_DYNAMIC_STYLE!==!0&&tf()){let n=Iu(".vjs-styles-defaults");if(!n){n=h3("vjs-styles-defaults");const e=Iu("head");e&&e.insertBefore(n,e.firstChild),f3(n,`
      .video-js {
        width: 300px;
        height: 150px;
      }

      .vjs-fluid:not(.vjs-audio-only-mode) {
        padding-top: 56.25%
      }
    `)}}Ux(1,_e);_e.VERSION=Lx;_e.options=en.prototype.options_;_e.getPlayers=()=>en.players;_e.getPlayer=n=>{const e=en.players;let i;if(typeof n=="string"){const s=a4(n),o=e[s];if(o)return o;i=Iu("#"+s)}else i=n;if(nf(i)){const{player:s,playerId:o}=i;if(s||e[o])return s||e[o]}};_e.getAllPlayers=()=>Object.keys(en.players).map(n=>en.players[n]).filter(Boolean);_e.players=en.players;_e.getComponent=Oe.getComponent;_e.registerComponent=(n,e)=>(vt.isTech(e)&&At.warn(`The ${n} tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)`),Oe.registerComponent.call(Oe,n,e));_e.getTech=vt.getTech;_e.registerTech=vt.registerTech;_e.use=VP;Object.defineProperty(_e,"middleware",{value:{},writeable:!1,enumerable:!0});Object.defineProperty(_e.middleware,"TERMINATOR",{value:Kb,writeable:!1,enumerable:!0});_e.browser=Ww;_e.obj=gP;_e.mergeOptions=Na(9,"videojs.mergeOptions","videojs.obj.merge",dn);_e.defineLazyProperty=Na(9,"videojs.defineLazyProperty","videojs.obj.defineLazyProperty",_0);_e.bind=Na(9,"videojs.bind","native Function.prototype.bind",En);_e.registerPlugin=qr.registerPlugin;_e.deregisterPlugin=qr.deregisterPlugin;_e.plugin=(n,e)=>(At.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead"),qr.registerPlugin(n,e));_e.getPlugins=qr.getPlugins;_e.getPlugin=qr.getPlugin;_e.getPluginVersion=qr.getPluginVersion;_e.addLanguage=function(n,e){return n=(""+n).toLowerCase(),_e.options.languages=dn(_e.options.languages,{[n]:e}),_e.options.languages[n]};_e.log=At;_e.createLogger=Hw;_e.time=kP;_e.createTimeRange=Na(9,"videojs.createTimeRange","videojs.time.createTimeRanges",xa);_e.createTimeRanges=Na(9,"videojs.createTimeRanges","videojs.time.createTimeRanges",xa);_e.formatTime=Na(9,"videojs.formatTime","videojs.time.formatTime",Wc);_e.setFormatTime=Na(9,"videojs.setFormatTime","videojs.time.setFormatTime",_3);_e.resetFormatTime=Na(9,"videojs.resetFormatTime","videojs.time.resetFormatTime",x3);_e.parseUrl=Na(9,"videojs.parseUrl","videojs.url.parseUrl",U1);_e.isCrossOrigin=Na(9,"videojs.isCrossOrigin","videojs.url.isCrossOrigin",O0);_e.EventTarget=gs;_e.any=I1;_e.on=ps;_e.one=R0;_e.off=er;_e.trigger=rf;_e.xhr=Dw;_e.TrackList=Kc;_e.TextTrack=mp;_e.TextTrackList=B1;_e.AudioTrack=C3;_e.AudioTrackList=S3;_e.VideoTrack=D3;_e.VideoTrackList=E3;["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach(n=>{_e[n]=function(){return At.warn(`videojs.${n}() is deprecated; use videojs.dom.${n}() instead`),c3[n].apply(null,arguments)}});_e.computedStyle=Na(9,"videojs.computedStyle","videojs.dom.computedStyle",Yh);_e.dom=c3;_e.fn=NP;_e.num=o6;_e.str=wP;_e.url=jP;_e.Error=O6;/*! @name videojs-contrib-quality-levels @version 4.1.0 @license Apache-2.0 */let M6=class{constructor(e){let i=this;return i.id=e.id,i.label=i.id,i.width=e.width,i.height=e.height,i.bitrate=e.bandwidth,i.frameRate=e.frameRate,i.enabled_=e.enabled,Object.defineProperty(i,"enabled",{get(){return i.enabled_()},set(s){i.enabled_(s)}}),i}},i0=class extends _e.EventTarget{constructor(){super();let e=this;return e.levels_=[],e.selectedIndex_=-1,Object.defineProperty(e,"selectedIndex",{get(){return e.selectedIndex_}}),Object.defineProperty(e,"length",{get(){return e.levels_.length}}),e[Symbol.iterator]=()=>e.levels_.values(),e}addQualityLevel(e){let i=this.getQualityLevelById(e.id);if(i)return i;const s=this.levels_.length;return i=new M6(e),""+s in this||Object.defineProperty(this,s,{get(){return this.levels_[s]}}),this.levels_.push(i),this.trigger({qualityLevel:i,type:"addqualitylevel"}),i}removeQualityLevel(e){let i=null;for(let s=0,o=this.length;s<o;s++)if(this[s]===e){i=this.levels_.splice(s,1)[0],this.selectedIndex_===s?this.selectedIndex_=-1:this.selectedIndex_>s&&this.selectedIndex_--;break}return i&&this.trigger({qualityLevel:e,type:"removequalitylevel"}),i}getQualityLevelById(e){for(let i=0,s=this.length;i<s;i++){const o=this[i];if(o.id===e)return o}return null}dispose(){this.selectedIndex_=-1,this.levels_.length=0}};i0.prototype.allowedEvents_={change:"change",addqualitylevel:"addqualitylevel",removequalitylevel:"removequalitylevel"};for(const n in i0.prototype.allowedEvents_)i0.prototype["on"+n]=null;var o4="4.1.0";const I6=function(n,e){const i=n.qualityLevels,s=new i0,o=function(){s.dispose(),n.qualityLevels=i,n.off("dispose",o)};return n.on("dispose",o),n.qualityLevels=()=>s,n.qualityLevels.VERSION=o4,s},l4=function(n){return I6(this,_e.obj.merge({},n))};_e.registerPlugin("qualityLevels",l4);l4.VERSION=o4;/*! @name @videojs/http-streaming @version 3.17.2 @license Apache-2.0 */const Fr=g0,r0=(n,e)=>e&&e.responseURL&&n!==e.responseURL?e.responseURL:n,Js=n=>_e.log.debug?_e.log.debug.bind(_e,"VHS:",`${n} >`):function(){};function tn(...n){const e=_e.obj||_e;return(e.merge||e.mergeOptions).apply(e,n)}function Vi(...n){const e=_e.time||_e;return(e.createTimeRanges||e.createTimeRanges).apply(e,n)}function L6(n){if(n.length===0)return"Buffered Ranges are empty";let e=`Buffered Ranges: 
`;for(let i=0;i<n.length;i++){const s=n.start(i),o=n.end(i);e+=`${s} --> ${o}. Duration (${o-s})
`}return e}const go=1/30,bo=go*3,u4=function(n,e){const i=[];let s;if(n&&n.length)for(s=0;s<n.length;s++)e(n.start(s),n.end(s))&&i.push([n.start(s),n.end(s)]);return Vi(i)},Dh=function(n,e){return u4(n,function(i,s){return i-bo<=e&&s+bo>=e})},_b=function(n,e){return u4(n,function(i){return i-go>=e})},P6=function(n){if(n.length<2)return Vi();const e=[];for(let i=1;i<n.length;i++){const s=n.end(i-1),o=n.start(i);e.push([s,o])}return Vi(e)},B6=function(n,e){let i=null,s=null,o=0;const l=[],c=[];if(!n||!n.length||!e||!e.length)return Vi();let d=n.length;for(;d--;)l.push({time:n.start(d),type:"start"}),l.push({time:n.end(d),type:"end"});for(d=e.length;d--;)l.push({time:e.start(d),type:"start"}),l.push({time:e.end(d),type:"end"});for(l.sort(function(m,p){return m.time-p.time}),d=0;d<l.length;d++)l[d].type==="start"?(o++,o===2&&(i=l[d].time)):l[d].type==="end"&&(o--,o===1&&(s=l[d].time)),i!==null&&s!==null&&(c.push([i,s]),i=null,s=null);return Vi(c)},c4=n=>{const e=[];if(!n||!n.length)return"";for(let i=0;i<n.length;i++)e.push(n.start(i)+" => "+n.end(i));return e.join(", ")},j6=function(n,e,i=1){return((n.length?n.end(n.length-1):0)-e)/i},qc=n=>{const e=[];for(let i=0;i<n.length;i++)e.push({start:n.start(i),end:n.end(i)});return e},U6=function(n,e){if(n===e)return!1;if(!n&&e||!e&&n||n.length!==e.length)return!0;for(let i=0;i<n.length;i++)if(n.start(i)!==e.start(i)||n.end(i)!==e.end(i))return!0;return!1},xx=function(n){if(!(!n||!n.length||!n.end))return n.end(n.length-1)},nT=function(n,e){let i=0;if(!n||!n.length)return i;for(let s=0;s<n.length;s++){const o=n.start(s),l=n.end(s);if(!(e>l)){if(e>o&&e<=l){i+=l-e;continue}i+=l-o}}return i},iT=(n,e)=>{if(!e.preload)return e.duration;let i=0;return(e.parts||[]).forEach(function(s){i+=s.duration}),(e.preloadHints||[]).forEach(function(s){s.type==="PART"&&(i+=n.partTargetDuration)}),i},Xx=n=>(n.segments||[]).reduce((e,i,s)=>(i.parts?i.parts.forEach(function(o,l){e.push({duration:o.duration,segmentIndex:s,partIndex:l,part:o,segment:i})}):e.push({duration:i.duration,segmentIndex:s,partIndex:null,segment:i,part:null}),e),[]),d4=n=>{const e=n.segments&&n.segments.length&&n.segments[n.segments.length-1];return e&&e.parts||[]},h4=({preloadSegment:n})=>{if(!n)return;const{parts:e,preloadHints:i}=n;let s=(i||[]).reduce((o,l)=>o+(l.type==="PART"?1:0),0);return s+=e&&e.length?e.length:0,s},f4=(n,e)=>{if(e.endList)return 0;if(n&&n.suggestedPresentationDelay)return n.suggestedPresentationDelay;const i=d4(e).length>0;return i&&e.serverControl&&e.serverControl.partHoldBack?e.serverControl.partHoldBack:i&&e.partTargetDuration?e.partTargetDuration*3:e.serverControl&&e.serverControl.holdBack?e.serverControl.holdBack:e.targetDuration?e.targetDuration*3:0},V6=function(n,e){let i=0,s=e-n.mediaSequence,o=n.segments[s];if(o){if(typeof o.start<"u")return{result:o.start,precise:!0};if(typeof o.end<"u")return{result:o.end-o.duration,precise:!0}}for(;s--;){if(o=n.segments[s],typeof o.end<"u")return{result:i+o.end,precise:!0};if(i+=iT(n,o),typeof o.start<"u")return{result:i+o.start,precise:!0}}return{result:i,precise:!1}},F6=function(n,e){let i=0,s,o=e-n.mediaSequence;for(;o<n.segments.length;o++){if(s=n.segments[o],typeof s.start<"u")return{result:s.start-i,precise:!0};if(i+=iT(n,s),typeof s.end<"u")return{result:s.end-i,precise:!0}}return{result:-1,precise:!1}},m4=function(n,e,i){if(typeof e>"u"&&(e=n.mediaSequence+n.segments.length),e<n.mediaSequence)return 0;const s=V6(n,e);if(s.precise)return s.result;const o=F6(n,e);return o.precise?o.result:s.result+i},p4=function(n,e,i){if(!n)return 0;if(typeof i!="number"&&(i=0),typeof e>"u"){if(n.totalDuration)return n.totalDuration;if(!n.endList)return W.Infinity}return m4(n,e,i)},Zm=function({defaultDuration:n,durationList:e,startIndex:i,endIndex:s}){let o=0;if(i>s&&([i,s]=[s,i]),i<0){for(let l=i;l<Math.min(0,s);l++)o+=n;i=0}for(let l=i;l<s;l++)o+=e[l].duration;return o},g4=function(n,e,i,s){if(!n||!n.segments)return null;if(n.endList)return p4(n);if(e===null)return null;e=e||0;let o=m4(n,n.mediaSequence+n.segments.length,e);return i&&(s=typeof s=="number"?s:f4(null,n),o-=s),Math.max(0,o)},z6=function(n,e,i){const o=e||0;let l=g4(n,e,!0,i);return l===null?Vi():(l<o&&(l=o),Vi(o,l))},H6=function({playlist:n,currentTime:e,startingSegmentIndex:i,startingPartIndex:s,startTime:o,exactManifestTimings:l}){let c=e-o;const d=Xx(n);let m=0;for(let p=0;p<d.length;p++){const v=d[p];if(i===v.segmentIndex&&!(typeof s=="number"&&typeof v.partIndex=="number"&&s!==v.partIndex)){m=p;break}}if(c<0){if(m>0)for(let p=m-1;p>=0;p--){const v=d[p];if(c+=v.duration,l){if(c<0)continue}else if(c+go<=0)continue;return{partIndex:v.partIndex,segmentIndex:v.segmentIndex,startTime:o-Zm({defaultDuration:n.targetDuration,durationList:d,startIndex:m,endIndex:p})}}return{partIndex:d[0]&&d[0].partIndex||null,segmentIndex:d[0]&&d[0].segmentIndex||0,startTime:e}}if(m<0){for(let p=m;p<0;p++)if(c-=n.targetDuration,c<0)return{partIndex:d[0]&&d[0].partIndex||null,segmentIndex:d[0]&&d[0].segmentIndex||0,startTime:e};m=0}for(let p=m;p<d.length;p++){const v=d[p];c-=v.duration;const E=v.duration>go,C=c===0,D=E&&c+go>=0;if(!((C||D)&&p!==d.length-1)){if(l){if(c>0)continue}else if(c-go>=0)continue;return{partIndex:v.partIndex,segmentIndex:v.segmentIndex,startTime:o+Zm({defaultDuration:n.targetDuration,durationList:d,startIndex:m,endIndex:p})}}}return{segmentIndex:d[d.length-1].segmentIndex,partIndex:d[d.length-1].partIndex,startTime:e}},b4=function(n){return n.excludeUntil&&n.excludeUntil>Date.now()},rT=function(n){return n.excludeUntil&&n.excludeUntil===1/0},P0=function(n){const e=b4(n);return!n.disabled&&!e},$6=function(n){return n.disabled},q6=function(n){for(let e=0;e<n.segments.length;e++)if(n.segments[e].key)return!0;return!1},y4=function(n,e){return e.attributes&&e.attributes[n]},G6=function(n,e,i,s=0){return y4("BANDWIDTH",i)?(n*i.attributes.BANDWIDTH-s*8)/e:NaN},Yx=(n,e)=>{if(n.playlists.length===1)return!0;const i=e.attributes.BANDWIDTH||Number.MAX_VALUE;return n.playlists.filter(s=>P0(s)?(s.attributes.BANDWIDTH||0)<i:!1).length===0},sT=(n,e)=>!n&&!e||!n&&e||n&&!e?!1:!!(n===e||n.id&&e.id&&n.id===e.id||n.resolvedUri&&e.resolvedUri&&n.resolvedUri===e.resolvedUri||n.uri&&e.uri&&n.uri===e.uri),cA=function(n,e){const i=n&&n.mediaGroups&&n.mediaGroups.AUDIO||{};let s=!1;for(const o in i){for(const l in i[o])if(s=e(i[o][l]),s)break;if(s)break}return!!s},yp=n=>{if(!n||!n.playlists||!n.playlists.length)return cA(n,i=>i.playlists&&i.playlists.length||i.uri);for(let e=0;e<n.playlists.length;e++){const i=n.playlists[e],s=i.attributes&&i.attributes.CODECS;if(!(s&&s.split(",").every(l=>Rw(l))||cA(n,l=>sT(i,l))))return!1}return!0};var Hr={liveEdgeDelay:f4,duration:p4,seekable:z6,getMediaInfoForTime:H6,isEnabled:P0,isDisabled:$6,isExcluded:b4,isIncompatible:rT,playlistEnd:g4,isAes:q6,hasAttribute:y4,estimateSegmentRequestTime:G6,isLowestEnabledRendition:Yx,isAudioOnly:yp,playlistMatch:sT,segmentDurationWithParts:iT};const{log:v4}=_e,Ih=(n,e)=>`${n}-${e}`,_4=(n,e,i)=>`placeholder-uri-${n}-${e}-${i}`,X6=({onwarn:n,oninfo:e,manifestString:i,customTagParsers:s=[],customTagMappers:o=[],llhls:l})=>{const c=new IL;n&&c.on("warn",n),e&&c.on("info",e),s.forEach(p=>c.addParser(p)),o.forEach(p=>c.addTagMapper(p)),c.push(i),c.end();const d=c.manifest;if(l||(["preloadSegment","skip","serverControl","renditionReports","partInf","partTargetDuration"].forEach(function(p){d.hasOwnProperty(p)&&delete d[p]}),d.segments&&d.segments.forEach(function(p){["parts","preloadHints"].forEach(function(v){p.hasOwnProperty(v)&&delete p[v]})})),!d.targetDuration){let p=10;d.segments&&d.segments.length&&(p=d.segments.reduce((v,E)=>Math.max(v,E.duration),0)),n&&n({message:`manifest has no targetDuration defaulting to ${p}`}),d.targetDuration=p}const m=d4(d);if(m.length&&!d.partTargetDuration){const p=m.reduce((v,E)=>Math.max(v,E.duration),0);n&&(n({message:`manifest has no partTargetDuration defaulting to ${p}`}),v4.error("LL-HLS manifest has parts but lacks required #EXT-X-PART-INF:PART-TARGET value. See https://datatracker.ietf.org/doc/html/draft-pantos-hls-rfc8216bis-09#section-4.4.3.7. Playback is not guaranteed.")),d.partTargetDuration=p}return d},lf=(n,e)=>{n.mediaGroups&&["AUDIO","SUBTITLES"].forEach(i=>{if(n.mediaGroups[i])for(const s in n.mediaGroups[i])for(const o in n.mediaGroups[i][s]){const l=n.mediaGroups[i][s][o];e(l,i,s,o)}})},x4=({playlist:n,uri:e,id:i})=>{n.id=i,n.playlistErrors_=0,e&&(n.uri=e),n.attributes=n.attributes||{}},Y6=n=>{let e=n.playlists.length;for(;e--;){const i=n.playlists[e];x4({playlist:i,id:Ih(e,i.uri)}),i.resolvedUri=Fr(n.uri,i.uri),n.playlists[i.id]=i,n.playlists[i.uri]=i,i.attributes.BANDWIDTH||v4.warn("Invalid playlist STREAM-INF detected. Missing BANDWIDTH attribute.")}},Q6=n=>{lf(n,e=>{e.uri&&(e.resolvedUri=Fr(n.uri,e.uri))})},Z6=(n,e)=>{const i=Ih(0,e),s={mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:W.location.href,resolvedUri:W.location.href,playlists:[{uri:e,id:i,resolvedUri:e,attributes:{}}]};return s.playlists[i]=s.playlists[0],s.playlists[e]=s.playlists[0],s},T4=(n,e,i=_4)=>{n.uri=e;for(let o=0;o<n.playlists.length;o++)if(!n.playlists[o].uri){const l=`placeholder-uri-${o}`;n.playlists[o].uri=l}const s=yp(n);lf(n,(o,l,c,d)=>{if(!o.playlists||!o.playlists.length){if(s&&l==="AUDIO"&&!o.uri)for(let m=0;m<n.playlists.length;m++){const p=n.playlists[m];if(p.attributes&&p.attributes.AUDIO&&p.attributes.AUDIO===c)return}o.playlists=[ai({},o)]}o.playlists.forEach(function(m,p){const v=i(l,c,d,m),E=Ih(p,v);m.uri?m.resolvedUri=m.resolvedUri||Fr(n.uri,m.uri):(m.uri=p===0?v:E,m.resolvedUri=m.uri),m.id=m.id||E,m.attributes=m.attributes||{},n.playlists[m.id]=m,n.playlists[m.uri]=m})}),Y6(n),Q6(n)};class dA{constructor(){this.offset_=null,this.pendingDateRanges_=new Map,this.processedDateRanges_=new Map}setOffset(e=[]){if(this.offset_!==null||!e.length)return;const[i]=e;i.programDateTime!==void 0&&(this.offset_=i.programDateTime/1e3)}setPendingDateRanges(e=[]){if(!e.length)return;const[i]=e,s=i.startDate.getTime();this.trimProcessedDateRanges_(s),this.pendingDateRanges_=e.reduce((o,l)=>(o.set(l.id,l),o),new Map)}processDateRange(e){this.pendingDateRanges_.delete(e.id),this.processedDateRanges_.set(e.id,e)}getDateRangesToProcess(){if(this.offset_===null)return[];const e={},i=[];this.pendingDateRanges_.forEach((s,o)=>{if(!this.processedDateRanges_.has(o)&&(s.startTime=s.startDate.getTime()/1e3-this.offset_,s.processDateRange=()=>this.processDateRange(s),i.push(s),!!s.class))if(e[s.class]){const l=e[s.class].push(s);s.classListIndex=l-1}else e[s.class]=[s],s.classListIndex=0});for(const s of i){const o=e[s.class]||[];s.endDate?s.endTime=s.endDate.getTime()/1e3-this.offset_:s.endOnNext&&o[s.classListIndex+1]?s.endTime=o[s.classListIndex+1].startTime:s.duration?s.endTime=s.startTime+s.duration:s.plannedDuration?s.endTime=s.startTime+s.plannedDuration:s.endTime=s.startTime}return i}trimProcessedDateRanges_(e){new Map(this.processedDateRanges_).forEach((s,o)=>{s.startDate.getTime()<e&&this.processedDateRanges_.delete(o)})}}const S4=22,Zc=({requestType:n,request:e,error:i,parseFailure:s})=>{const o=e.status<200||e.status>299,l=e.status>=400&&e.status<=499,c={uri:e.uri,requestType:n},d=o&&!l||s;if(i&&l)c.error=ai({},i),c.errorType=_e.Error.NetworkRequestFailed;else if(e.aborted)c.errorType=_e.Error.NetworkRequestAborted;else if(e.timedout)c.errorType=_e.Error.NetworkRequestTimeout;else if(d){const m=s?_e.Error.NetworkBodyParserFailed:_e.Error.NetworkBadStatus;c.errorType=m,c.status=e.status,c.headers=e.headers}return c},W6=Js("CodecUtils"),E4=function(n){const e=n.attributes||{};if(e.CODECS)return fo(e.CODECS)},N4=(n,e)=>{const i=e.attributes||{};return n&&n.mediaGroups&&n.mediaGroups.AUDIO&&i.AUDIO&&n.mediaGroups.AUDIO[i.AUDIO]},K6=(n,e)=>{if(!N4(n,e))return!0;const i=e.attributes||{},s=n.mediaGroups.AUDIO[i.AUDIO];for(const o in s)if(!s[o].uri&&!s[o].playlists)return!0;return!1},ap=function(n){const e={};return n.forEach(({mediaType:i,type:s,details:o})=>{e[i]=e[i]||[],e[i].push(ww(`${s}${o}`))}),Object.keys(e).forEach(function(i){if(e[i].length>1){W6(`multiple ${i} codecs found as attributes: ${e[i].join(", ")}. Setting playlist codecs to null so that we wait for mux.js to probe segments for real codecs.`),e[i]=null;return}e[i]=e[i][0]}),e},hA=function(n){let e=0;return n.audio&&e++,n.video&&e++,e},Wm=function(n,e){const i=e.attributes||{},s=ap(E4(e)||[]);if(N4(n,e)&&!s.audio&&!K6(n,e)){const o=ap(PL(n,i.AUDIO)||[]);o.audio&&(s.audio=o.audio)}return s},{EventTarget:J6}=_e,eB=(n,e)=>{if(e.endList||!e.serverControl)return n;const i={};if(e.serverControl.canBlockReload){const{preloadSegment:s}=e;let o=e.mediaSequence+e.segments.length;if(s){const l=s.parts||[],c=h4(e)-1;c>-1&&c!==l.length-1&&(i._HLS_part=c),(c>-1||l.length)&&o--}i._HLS_msn=o}if(e.serverControl&&e.serverControl.canSkipUntil&&(i._HLS_skip=e.serverControl.canSkipDateranges?"v2":"YES"),Object.keys(i).length){const s=new W.URL(n);["_HLS_skip","_HLS_msn","_HLS_part"].forEach(function(o){i.hasOwnProperty(o)&&s.searchParams.set(o,i[o])}),n=s.toString()}return n},tB=(n,e)=>{if(!n)return e;const i=tn(n,e);if(n.preloadHints&&!e.preloadHints&&delete i.preloadHints,n.parts&&!e.parts)delete i.parts;else if(n.parts&&e.parts)for(let s=0;s<e.parts.length;s++)n.parts&&n.parts[s]&&(i.parts[s]=tn(n.parts[s],e.parts[s]));return!n.skipped&&e.skipped&&(i.skipped=!1),n.preload&&!e.preload&&(i.preload=!1),i},nB=(n,e,i)=>{const s=n.slice(),o=e.slice();i=i||0;const l=[];let c;for(let d=0;d<o.length;d++){const m=s[d+i],p=o[d];m?(c=m.map||c,l.push(tB(m,p))):(c&&!p.map&&(p.map=c),l.push(p))}return l},C4=(n,e)=>{!n.resolvedUri&&n.uri&&(n.resolvedUri=Fr(e,n.uri)),n.key&&!n.key.resolvedUri&&(n.key.resolvedUri=Fr(e,n.key.uri)),n.map&&!n.map.resolvedUri&&(n.map.resolvedUri=Fr(e,n.map.uri)),n.map&&n.map.key&&!n.map.key.resolvedUri&&(n.map.key.resolvedUri=Fr(e,n.map.key.uri)),n.parts&&n.parts.length&&n.parts.forEach(i=>{i.resolvedUri||(i.resolvedUri=Fr(e,i.uri))}),n.preloadHints&&n.preloadHints.length&&n.preloadHints.forEach(i=>{i.resolvedUri||(i.resolvedUri=Fr(e,i.uri))})},D4=function(n){const e=n.segments||[],i=n.preloadSegment;if(i&&i.parts&&i.parts.length){if(i.preloadHints){for(let s=0;s<i.preloadHints.length;s++)if(i.preloadHints[s].type==="MAP")return e}i.duration=n.targetDuration,i.preload=!0,e.push(i)}return e},A4=(n,e)=>n===e||n.segments&&e.segments&&n.segments.length===e.segments.length&&n.endList===e.endList&&n.mediaSequence===e.mediaSequence&&n.preloadSegment===e.preloadSegment,Qx=(n,e,i=A4)=>{const s=tn(n,{}),o=s.playlists[e.id];if(!o||i(o,e))return null;e.segments=D4(e);const l=tn(o,e);if(l.preloadSegment&&!e.preloadSegment&&delete l.preloadSegment,o.segments){if(e.skip){e.segments=e.segments||[];for(let c=0;c<e.skip.skippedSegments;c++)e.segments.unshift({skipped:!0})}l.segments=nB(o.segments,e.segments,e.mediaSequence-o.mediaSequence)}l.segments.forEach(c=>{C4(c,l.resolvedUri)});for(let c=0;c<s.playlists.length;c++)s.playlists[c].id===e.id&&(s.playlists[c]=l);return s.playlists[e.id]=l,s.playlists[e.uri]=l,lf(n,(c,d,m,p)=>{if(c.playlists)for(let v=0;v<c.playlists.length;v++)e.id===c.playlists[v].id&&(c.playlists[v]=l)}),s},Zx=(n,e)=>{const i=n.segments||[],s=i[i.length-1],o=s&&s.parts&&s.parts[s.parts.length-1],l=o&&o.duration||s&&s.duration;return e&&l?l*1e3:(n.partTargetDuration||n.targetDuration||10)*500},fA=(n,e,i)=>{if(!n)return;const s=[];return n.forEach(o=>{if(!o.attributes)return;const{BANDWIDTH:l,RESOLUTION:c,CODECS:d}=o.attributes;s.push({id:o.id,bandwidth:l,resolution:c,codecs:d})}),{type:e,isLive:i,renditions:s}};class Ah extends J6{constructor(e,i,s={}){if(super(),!e)throw new Error("A non-empty playlist URL or object is required");this.logger_=Js("PlaylistLoader");const{withCredentials:o=!1}=s;this.src=e,this.vhs_=i,this.withCredentials=o,this.addDateRangesToTextTrack_=s.addDateRangesToTextTrack;const l=i.options_;this.customTagParsers=l&&l.customTagParsers||[],this.customTagMappers=l&&l.customTagMappers||[],this.llhls=l&&l.llhls,this.dateRangesStorage_=new dA,this.state="HAVE_NOTHING",this.handleMediaupdatetimeout_=this.handleMediaupdatetimeout_.bind(this),this.on("mediaupdatetimeout",this.handleMediaupdatetimeout_),this.on("loadedplaylist",this.handleLoadedPlaylist_.bind(this))}handleLoadedPlaylist_(){const e=this.media();if(!e)return;this.dateRangesStorage_.setOffset(e.segments),this.dateRangesStorage_.setPendingDateRanges(e.dateRanges);const i=this.dateRangesStorage_.getDateRangesToProcess();!i.length||!this.addDateRangesToTextTrack_||this.addDateRangesToTextTrack_(i)}handleMediaupdatetimeout_(){if(this.state!=="HAVE_METADATA")return;const e=this.media();let i=Fr(this.main.uri,e.uri);this.llhls&&(i=eB(i,e)),this.state="HAVE_CURRENT_METADATA",this.request=this.vhs_.xhr({uri:i,withCredentials:this.withCredentials,requestType:"hls-playlist"},(s,o)=>{if(this.request){if(s)return this.playlistRequestError(this.request,this.media(),"HAVE_METADATA");this.haveMetadata({playlistString:this.request.responseText,url:this.media().uri,id:this.media().id})}})}playlistRequestError(e,i,s){const{uri:o,id:l}=i;this.request=null,s&&(this.state=s),this.error={playlist:this.main.playlists[l],status:e.status,message:`HLS playlist request error at URL: ${o}.`,responseText:e.responseText,code:e.status>=500?4:2,metadata:Zc({requestType:e.requestType,request:e,error:e.error})},this.trigger("error")}parseManifest_({url:e,manifestString:i}){try{const s=X6({onwarn:({message:o})=>this.logger_(`m3u8-parser warn for ${e}: ${o}`),oninfo:({message:o})=>this.logger_(`m3u8-parser info for ${e}: ${o}`),manifestString:i,customTagParsers:this.customTagParsers,customTagMappers:this.customTagMappers,llhls:this.llhls});return!s.playlists||!s.playlists.length||this.excludeAudioOnlyVariants(s.playlists),s}catch(s){this.error=s,this.error.metadata={errorType:_e.Error.StreamingHlsPlaylistParserError,error:s}}}excludeAudioOnlyVariants(e){const i=s=>{const o=s.attributes||{},{width:l,height:c}=o.RESOLUTION||{};if(l&&c)return!0;const d=E4(s)||[];return!!ap(d).video};e.some(i)&&e.forEach(s=>{i(s)||(s.excludeUntil=1/0)})}haveMetadata({playlistString:e,playlistObject:i,url:s,id:o}){this.request=null,this.state="HAVE_METADATA";const l={playlistInfo:{type:"media",uri:s}};this.trigger({type:"playlistparsestart",metadata:l});const c=i||this.parseManifest_({url:s,manifestString:e});c.lastRequest=Date.now(),x4({playlist:c,uri:s,id:o});const d=Qx(this.main,c);this.targetDuration=c.partTargetDuration||c.targetDuration,this.pendingMedia_=null,d?(this.main=d,this.media_=this.main.playlists[o]):this.trigger("playlistunchanged"),this.updateMediaUpdateTimeout_(Zx(this.media(),!!d)),l.parsedPlaylist=fA(this.main.playlists,l.playlistInfo.type,!this.media_.endList),this.trigger({type:"playlistparsecomplete",metadata:l}),this.trigger("loadedplaylist")}dispose(){this.trigger("dispose"),this.stopRequest(),W.clearTimeout(this.mediaUpdateTimeout),W.clearTimeout(this.finalRenditionTimeout),this.dateRangesStorage_=new dA,this.off()}stopRequest(){if(this.request){const e=this.request;this.request=null,e.onreadystatechange=null,e.abort()}}media(e,i){if(!e)return this.media_;if(this.state==="HAVE_NOTHING")throw new Error("Cannot switch media playlist from "+this.state);if(typeof e=="string"){if(!this.main.playlists[e])throw new Error("Unknown playlist URI: "+e);e=this.main.playlists[e]}if(W.clearTimeout(this.finalRenditionTimeout),i){const d=(e.partTargetDuration||e.targetDuration)/2*1e3||5e3;this.finalRenditionTimeout=W.setTimeout(this.media.bind(this,e,!1),d);return}const s=this.state,o=!this.media_||e.id!==this.media_.id,l=this.main.playlists[e.id];if(l&&l.endList||e.endList&&e.segments.length){this.request&&(this.request.onreadystatechange=null,this.request.abort(),this.request=null),this.state="HAVE_METADATA",this.media_=e,o&&(this.trigger("mediachanging"),s==="HAVE_MAIN_MANIFEST"?this.trigger("loadedmetadata"):this.trigger("mediachange"));return}if(this.updateMediaUpdateTimeout_(Zx(e,!0)),!o)return;if(this.state="SWITCHING_MEDIA",this.request){if(e.resolvedUri===this.request.url)return;this.request.onreadystatechange=null,this.request.abort(),this.request=null}this.media_&&this.trigger("mediachanging"),this.pendingMedia_=e;const c={playlistInfo:{type:"media",uri:e.uri}};this.trigger({type:"playlistrequeststart",metadata:c}),this.request=this.vhs_.xhr({uri:e.resolvedUri,withCredentials:this.withCredentials,requestType:"hls-playlist"},(d,m)=>{if(this.request){if(e.lastRequest=Date.now(),e.resolvedUri=r0(e.resolvedUri,m),d)return this.playlistRequestError(this.request,e,s);this.trigger({type:"playlistrequestcomplete",metadata:c}),this.haveMetadata({playlistString:m.responseText,url:e.uri,id:e.id}),s==="HAVE_MAIN_MANIFEST"?this.trigger("loadedmetadata"):this.trigger("mediachange")}})}pause(){this.mediaUpdateTimeout&&(W.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),this.stopRequest(),this.state==="HAVE_NOTHING"&&(this.started=!1),this.state==="SWITCHING_MEDIA"?this.media_?this.state="HAVE_METADATA":this.state="HAVE_MAIN_MANIFEST":this.state==="HAVE_CURRENT_METADATA"&&(this.state="HAVE_METADATA")}load(e){this.mediaUpdateTimeout&&(W.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null);const i=this.media();if(e){const s=i?(i.partTargetDuration||i.targetDuration)/2*1e3:5e3;this.mediaUpdateTimeout=W.setTimeout(()=>{this.mediaUpdateTimeout=null,this.load()},s);return}if(!this.started){this.start();return}i&&!i.endList?this.trigger("mediaupdatetimeout"):this.trigger("loadedplaylist")}updateMediaUpdateTimeout_(e){this.mediaUpdateTimeout&&(W.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),!(!this.media()||this.media().endList)&&(this.mediaUpdateTimeout=W.setTimeout(()=>{this.mediaUpdateTimeout=null,this.trigger("mediaupdatetimeout"),this.updateMediaUpdateTimeout_(e)},e))}start(){if(this.started=!0,typeof this.src=="object"){this.src.uri||(this.src.uri=W.location.href),this.src.resolvedUri=this.src.uri,setTimeout(()=>{this.setupInitialPlaylist(this.src)},0);return}const e={playlistInfo:{type:"multivariant",uri:this.src}};this.trigger({type:"playlistrequeststart",metadata:e}),this.request=this.vhs_.xhr({uri:this.src,withCredentials:this.withCredentials,requestType:"hls-playlist"},(i,s)=>{if(!this.request)return;if(this.request=null,i)return this.error={status:s.status,message:`HLS playlist request error at URL: ${this.src}.`,responseText:s.responseText,code:2,metadata:Zc({requestType:s.requestType,request:s,error:i})},this.state==="HAVE_NOTHING"&&(this.started=!1),this.trigger("error");this.trigger({type:"playlistrequestcomplete",metadata:e}),this.src=r0(this.src,s),this.trigger({type:"playlistparsestart",metadata:e});const o=this.parseManifest_({manifestString:s.responseText,url:this.src});e.parsedPlaylist=fA(o.playlists,e.playlistInfo.type,!1),this.trigger({type:"playlistparsecomplete",metadata:e}),this.setupInitialPlaylist(o)})}srcUri(){return typeof this.src=="string"?this.src:this.src.uri}setupInitialPlaylist(e){if(this.state="HAVE_MAIN_MANIFEST",e.playlists){this.main=e,T4(this.main,this.srcUri()),e.playlists.forEach(s=>{s.segments=D4(s),s.segments.forEach(o=>{C4(o,s.resolvedUri)})}),this.trigger("loadedplaylist"),this.request||this.media(this.main.playlists[0]);return}const i=this.srcUri()||W.location.href;this.main=Z6(e,i),this.haveMetadata({playlistObject:e,url:i,id:this.main.playlists[0].id}),this.trigger("loadedmetadata")}updateOrDeleteClone(e,i){const s=this.main,o=e.ID;let l=s.playlists.length;for(;l--;){const c=s.playlists[l];if(c.attributes["PATHWAY-ID"]===o){const d=c.resolvedUri,m=c.id;if(i){const p=this.createCloneURI_(c.resolvedUri,e),v=Ih(o,p),E=this.createCloneAttributes_(o,c.attributes),C=this.createClonePlaylist_(c,v,e,E);s.playlists[l]=C,s.playlists[v]=C,s.playlists[p]=C}else s.playlists.splice(l,1);delete s.playlists[m],delete s.playlists[d]}}this.updateOrDeleteCloneMedia(e,i)}updateOrDeleteCloneMedia(e,i){const s=this.main,o=e.ID;["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(l=>{if(!(!s.mediaGroups[l]||!s.mediaGroups[l][o])){for(const c in s.mediaGroups[l])if(c===o){for(const d in s.mediaGroups[l][c])s.mediaGroups[l][c][d].playlists.forEach((p,v)=>{const E=s.playlists[p.id],C=E.id,D=E.resolvedUri;delete s.playlists[C],delete s.playlists[D]});delete s.mediaGroups[l][c]}}}),i&&this.createClonedMediaGroups_(e)}addClonePathway(e,i={}){const s=this.main,o=s.playlists.length,l=this.createCloneURI_(i.resolvedUri,e),c=Ih(e.ID,l),d=this.createCloneAttributes_(e.ID,i.attributes),m=this.createClonePlaylist_(i,c,e,d);s.playlists[o]=m,s.playlists[c]=m,s.playlists[l]=m,this.createClonedMediaGroups_(e)}createClonedMediaGroups_(e){const i=e.ID,s=e["BASE-ID"],o=this.main;["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(l=>{if(!(!o.mediaGroups[l]||o.mediaGroups[l][i]))for(const c in o.mediaGroups[l]){if(c===s)o.mediaGroups[l][i]={};else continue;for(const d in o.mediaGroups[l][c]){const m=o.mediaGroups[l][c][d];o.mediaGroups[l][i][d]=ai({},m);const p=o.mediaGroups[l][i][d],v=this.createCloneURI_(m.resolvedUri,e);p.resolvedUri=v,p.uri=v,p.playlists=[],m.playlists.forEach((E,C)=>{const D=o.playlists[E.id],P=_4(l,i,d),A=Ih(i,P);if(D&&!o.playlists[A]){const U=this.createClonePlaylist_(D,A,e),M=U.resolvedUri;o.playlists[A]=U,o.playlists[M]=U}p.playlists[C]=this.createClonePlaylist_(E,A,e)})}}})}createClonePlaylist_(e,i,s,o){const l=this.createCloneURI_(e.resolvedUri,s),c={resolvedUri:l,uri:l,id:i};return e.segments&&(c.segments=[]),o&&(c.attributes=o),tn(e,c)}createCloneURI_(e,i){const s=new URL(e);s.hostname=i["URI-REPLACEMENT"].HOST;const o=i["URI-REPLACEMENT"].PARAMS;for(const l of Object.keys(o))s.searchParams.set(l,o[l]);return s.href}createCloneAttributes_(e,i){const s={"PATHWAY-ID":e};return["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(o=>{i[o]&&(s[o]=e)}),s}getKeyIdSet(e){const i=new Set;if(!e||!e.contentProtection)return i;for(const s in e.contentProtection)if(e.contentProtection[s]&&e.contentProtection[s].attributes&&e.contentProtection[s].attributes.keyId){const o=e.contentProtection[s].attributes.keyId;i.add(o.toLowerCase())}return i}}const Wx=function(n,e,i,s){const o=n.responseType==="arraybuffer"?n.response:n.responseText;!e&&o&&(n.responseTime=Date.now(),n.roundTripTime=n.responseTime-n.requestTime,n.bytesReceived=o.byteLength||o.length,n.bandwidth||(n.bandwidth=Math.floor(n.bytesReceived/n.roundTripTime*8*1e3))),i.headers&&(n.responseHeaders=i.headers),e&&e.code==="ETIMEDOUT"&&(n.timedout=!0),!e&&!n.aborted&&i.statusCode!==200&&i.statusCode!==206&&i.statusCode!==0&&(e=new Error("XHR Failed with a response of: "+(n&&(o||n.responseText)))),s(e,n)},iB=(n,e)=>{if(!n||!n.size)return;let i=e;return n.forEach(s=>{i=s(i)}),i},rB=(n,e,i,s)=>{!n||!n.size||n.forEach(o=>{o(e,i,s)})},w4=function(){const n=function e(i,s){i=tn({timeout:45e3},i);const o=e.beforeRequest||_e.Vhs.xhr.beforeRequest,l=e._requestCallbackSet||_e.Vhs.xhr._requestCallbackSet||new Set,c=e._responseCallbackSet||_e.Vhs.xhr._responseCallbackSet;o&&typeof o=="function"&&(_e.log.warn("beforeRequest is deprecated, use onRequest instead."),l.add(o));const d=_e.Vhs.xhr.original===!0?_e.xhr:_e.Vhs.xhr,m=iB(l,i);l.delete(o);const p=d(m||i,function(E,C){return rB(c,p,E,C),Wx(p,E,C,s)}),v=p.abort;return p.abort=function(){return p.aborted=!0,v.apply(p,arguments)},p.uri=i.uri,p.requestType=i.requestType,p.requestTime=Date.now(),p};return n.original=!0,n},sB=function(n){let e;const i=n.offset;return typeof n.offset=="bigint"||typeof n.length=="bigint"?e=W.BigInt(n.offset)+W.BigInt(n.length)-W.BigInt(1):e=n.offset+n.length-1,"bytes="+i+"-"+e},Kx=function(n){const e={};return n.byterange&&(e.Range=sB(n.byterange)),e},aB=function(n,e){return n.start(e)+"-"+n.end(e)},oB=function(n,e){const i=n.toString(16);return"00".substring(0,2-i.length)+i+(e%2?" ":"")},lB=function(n){return n>=32&&n<126?String.fromCharCode(n):"."},R4=function(n){const e={};return Object.keys(n).forEach(i=>{const s=n[i];Ow(s)?e[i]={bytes:s.buffer,byteOffset:s.byteOffset,byteLength:s.byteLength}:e[i]=s}),e},s0=function(n){const e=n.byterange||{length:1/0,offset:0};return[e.length,e.offset,n.resolvedUri].join(",")},k4=function(n){return n.resolvedUri},O4=n=>{const e=Array.prototype.slice.call(n),i=16;let s="",o,l;for(let c=0;c<e.length/i;c++)o=e.slice(c*i,c*i+i).map(oB).join(""),l=e.slice(c*i,c*i+i).map(lB).join(""),s+=o+" "+l+`
`;return s},uB=({bytes:n})=>O4(n),cB=n=>{let e="",i;for(i=0;i<n.length;i++)e+=aB(n,i)+" ";return e};var dB=Object.freeze({__proto__:null,createTransferableMessage:R4,initSegmentId:s0,segmentKeyId:k4,hexDump:O4,tagDump:uB,textRanges:cB});const M4=.25,hB=(n,e)=>{if(!e.dateTimeObject)return null;const i=e.videoTimingInfo.transmuxerPrependedSeconds,o=e.videoTimingInfo.transmuxedPresentationStart+i,l=n-o;return new Date(e.dateTimeObject.getTime()+l*1e3)},fB=n=>n.transmuxedPresentationEnd-n.transmuxedPresentationStart-n.transmuxerPrependedSeconds,mB=(n,e)=>{let i;try{i=new Date(n)}catch{return null}if(!e||!e.segments||e.segments.length===0)return null;let s=e.segments[0];if(i<new Date(s.dateTimeObject))return null;for(let m=0;m<e.segments.length-1;m++){s=e.segments[m];const p=new Date(e.segments[m+1].dateTimeObject);if(i<p)break}const o=e.segments[e.segments.length-1],l=o.dateTimeObject,c=o.videoTimingInfo?fB(o.videoTimingInfo):o.duration+o.duration*M4,d=new Date(l.getTime()+c*1e3);return i>d?null:(i>new Date(l)&&(s=o),{segment:s,estimatedStart:s.videoTimingInfo?s.videoTimingInfo.transmuxedPresentationStart:Hr.duration(e,e.mediaSequence+e.segments.indexOf(s)),type:s.videoTimingInfo?"accurate":"estimate"})},pB=(n,e)=>{if(!e||!e.segments||e.segments.length===0)return null;let i=0,s;for(let l=0;l<e.segments.length&&(s=e.segments[l],i=s.videoTimingInfo?s.videoTimingInfo.transmuxedPresentationEnd:i+s.duration,!(n<=i));l++);const o=e.segments[e.segments.length-1];if(o.videoTimingInfo&&o.videoTimingInfo.transmuxedPresentationEnd<n)return null;if(n>i){if(n>i+o.duration*M4)return null;s=o}return{segment:s,estimatedStart:s.videoTimingInfo?s.videoTimingInfo.transmuxedPresentationStart:i-s.duration,type:s.videoTimingInfo?"accurate":"estimate"}},gB=(n,e)=>{let i,s;try{i=new Date(n),s=new Date(e)}catch{}const o=i.getTime();return(s.getTime()-o)/1e3},bB=n=>{if(!n.segments||n.segments.length===0)return!1;for(let e=0;e<n.segments.length;e++)if(!n.segments[e].dateTimeObject)return!1;return!0},yB=({playlist:n,time:e=void 0,callback:i})=>{if(!i)throw new Error("getProgramTime: callback must be provided");if(!n||e===void 0)return i({message:"getProgramTime: playlist and time must be provided"});const s=pB(e,n);if(!s)return i({message:"valid programTime was not found"});if(s.type==="estimate")return i({message:"Accurate programTime could not be determined. Please seek to e.seekTime and try again",seekTime:s.estimatedStart});const o={mediaSeconds:e},l=hB(e,s.segment);return l&&(o.programDateTime=l.toISOString()),i(null,o)},I4=({programTime:n,playlist:e,retryCount:i=2,seekTo:s,pauseAfterSeek:o=!0,tech:l,callback:c})=>{if(!c)throw new Error("seekToProgramTime: callback must be provided");if(typeof n>"u"||!e||!s)return c({message:"seekToProgramTime: programTime, seekTo and playlist must be provided"});if(!e.endList&&!l.hasStarted_)return c({message:"player must be playing a live stream to start buffering"});if(!bB(e))return c({message:"programDateTime tags must be provided in the manifest "+e.resolvedUri});const d=mB(n,e);if(!d)return c({message:`${n} was not found in the stream`});const m=d.segment,p=gB(m.dateTimeObject,n);if(d.type==="estimate"){if(i===0)return c({message:`${n} is not buffered yet. Try again`});s(d.estimatedStart+p),l.one("seeked",()=>{I4({programTime:n,playlist:e,retryCount:i-1,seekTo:s,pauseAfterSeek:o,tech:l,callback:c})});return}const v=m.start+p,E=()=>c(null,l.currentTime());l.one("seeked",E),o&&l.pause(),s(v)},Tx=(n,e)=>{if(n.readyState===4)return e()},vB=(n,e,i,s)=>{let o=[],l,c=!1;const d=function(E,C,D,P){return C.abort(),c=!0,i(E,C,D,P)},m=function(E,C){if(c)return;if(E)return E.metadata=Zc({requestType:s,request:C,error:E}),d(E,C,"",o);const D=C.responseText.substring(o&&o.byteLength||0,C.responseText.length);if(o=GL(o,Mw(D,!0)),l=l||Hm(o),o.length<10||l&&o.length<l+2)return Tx(C,()=>d(E,C,"",o));const P=w1(o);return P==="ts"&&o.length<188?Tx(C,()=>d(E,C,"",o)):!P&&o.length<376?Tx(C,()=>d(E,C,"",o)):d(null,C,P,o)},v=e({uri:n,beforeSend(E){E.overrideMimeType("text/plain; charset=x-user-defined"),E.addEventListener("progress",function({total:C,loaded:D}){return Wx(E,null,{statusCode:E.status},m)})}},function(E,C){return Wx(v,E,C,m)});return v},{EventTarget:_B}=_e,mA=function(n,e){if(!A4(n,e)||n.sidx&&e.sidx&&(n.sidx.offset!==e.sidx.offset||n.sidx.length!==e.sidx.length))return!1;if(!n.sidx&&e.sidx||n.sidx&&!e.sidx||n.segments&&!e.segments||!n.segments&&e.segments)return!1;if(!n.segments&&!e.segments)return!0;for(let i=0;i<n.segments.length;i++){const s=n.segments[i],o=e.segments[i];if(s.uri!==o.uri)return!1;if(!s.byterange&&!o.byterange)continue;const l=s.byterange,c=o.byterange;if(l&&!c||!l&&c||l.offset!==c.offset||l.length!==c.length)return!1}return!0},xB=(n,e,i,s)=>{const o=s.attributes.NAME||i;return`placeholder-uri-${n}-${e}-${o}`},TB=({mainXml:n,srcUrl:e,clientOffset:i,sidxMapping:s,previousManifest:o})=>{const l=$8(n,{manifestUri:e,clientOffset:i,sidxMapping:s,previousManifest:o});return T4(l,e,xB),l},SB=(n,e)=>{lf(n,(i,s,o,l)=>{(!e.mediaGroups[s][o]||!(l in e.mediaGroups[s][o]))&&delete n.mediaGroups[s][o][l]})},EB=(n,e,i)=>{let s=!0,o=tn(n,{duration:e.duration,minimumUpdatePeriod:e.minimumUpdatePeriod,timelineStarts:e.timelineStarts});for(let l=0;l<e.playlists.length;l++){const c=e.playlists[l];if(c.sidx){const m=y0(c.sidx);i&&i[m]&&i[m].sidx&&C1(c,i[m].sidx,c.sidx.resolvedUri)}const d=Qx(o,c,mA);d&&(o=d,s=!1)}return lf(e,(l,c,d,m)=>{if(l.playlists&&l.playlists.length){const p=l.playlists[0].id,v=Qx(o,l.playlists[0],mA);v&&(o=v,m in o.mediaGroups[c][d]||(o.mediaGroups[c][d][m]=l),o.mediaGroups[c][d][m].playlists[0]=o.playlists[p],s=!1)}}),SB(o,e),e.minimumUpdatePeriod!==n.minimumUpdatePeriod&&(s=!1),s?null:o},NB=(n,e)=>(!n.map&&!e.map||!!(n.map&&e.map&&n.map.byterange.offset===e.map.byterange.offset&&n.map.byterange.length===e.map.byterange.length))&&n.uri===e.uri&&n.byterange.offset===e.byterange.offset&&n.byterange.length===e.byterange.length,pA=(n,e)=>{const i={};for(const s in n){const l=n[s].sidx;if(l){const c=y0(l);if(!e[c])break;const d=e[c].sidxInfo;NB(d,l)&&(i[c]=e[c])}}return i},CB=(n,e)=>{let s=pA(n.playlists,e);return lf(n,(o,l,c,d)=>{if(o.playlists&&o.playlists.length){const m=o.playlists;s=tn(s,pA(m,e))}}),s};class Jx extends _B{constructor(e,i,s={},o){super(),this.isPaused_=!0,this.mainPlaylistLoader_=o||this,o||(this.isMain_=!0);const{withCredentials:l=!1}=s;if(this.vhs_=i,this.withCredentials=l,this.addMetadataToTextTrack=s.addMetadataToTextTrack,!e)throw new Error("A non-empty playlist URL or object is required");this.on("minimumUpdatePeriod",()=>{this.refreshXml_()}),this.on("mediaupdatetimeout",()=>{this.refreshMedia_(this.media().id)}),this.state="HAVE_NOTHING",this.loadedPlaylists_={},this.logger_=Js("DashPlaylistLoader"),this.isMain_?(this.mainPlaylistLoader_.srcUrl=e,this.mainPlaylistLoader_.sidxMapping_={}):this.childPlaylist_=e}get isPaused(){return this.isPaused_}requestErrored_(e,i,s){if(!this.request)return!0;if(this.request=null,e)return this.error=typeof e=="object"&&!(e instanceof Error)?e:{status:i.status,message:"DASH request error at URL: "+i.uri,response:i.response,code:2,metadata:e.metadata},s&&(this.state=s),this.trigger("error"),!0}addSidxSegments_(e,i,s){const o=e.sidx&&y0(e.sidx);if(!e.sidx||!o||this.mainPlaylistLoader_.sidxMapping_[o]){W.clearTimeout(this.mediaRequest_),this.mediaRequest_=W.setTimeout(()=>s(!1),0);return}const l=r0(e.sidx.resolvedUri),c=(m,p)=>{if(this.requestErrored_(m,p,i))return;const v=this.mainPlaylistLoader_.sidxMapping_,{requestType:E}=p;let C;try{C=Q8(ot(p.response).subarray(8))}catch(D){D.metadata=Zc({requestType:E,request:p,parseFailure:!0}),this.requestErrored_(D,p,i);return}return v[o]={sidxInfo:e.sidx,sidx:C},C1(e,C,e.sidx.resolvedUri),s(!0)},d="dash-sidx";this.request=vB(l,this.vhs_.xhr,(m,p,v,E)=>{if(m)return c(m,p);if(!v||v!=="mp4"){const P=v||"unknown";return c({status:p.status,message:`Unsupported ${P} container type for sidx segment at URL: ${l}`,response:"",playlist:e,internal:!0,playlistExclusionDuration:1/0,code:2},p)}const{offset:C,length:D}=e.sidx.byterange;if(E.length>=D+C)return c(m,{response:E.subarray(C,C+D),status:p.status,uri:p.uri});this.request=this.vhs_.xhr({uri:l,responseType:"arraybuffer",requestType:"dash-sidx",headers:Kx({byterange:e.sidx.byterange})},c)},d)}dispose(){this.isPaused_=!0,this.trigger("dispose"),this.stopRequest(),this.loadedPlaylists_={},W.clearTimeout(this.minimumUpdatePeriodTimeout_),W.clearTimeout(this.mediaRequest_),W.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.mediaRequest_=null,this.minimumUpdatePeriodTimeout_=null,this.mainPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.mainPlaylistLoader_.createMupOnMedia_),this.mainPlaylistLoader_.createMupOnMedia_=null),this.off()}hasPendingRequest(){return this.request||this.mediaRequest_}stopRequest(){if(this.request){const e=this.request;this.request=null,e.onreadystatechange=null,e.abort()}}media(e){if(!e)return this.media_;if(this.state==="HAVE_NOTHING")throw new Error("Cannot switch media playlist from "+this.state);const i=this.state;if(typeof e=="string"){if(!this.mainPlaylistLoader_.main.playlists[e])throw new Error("Unknown playlist URI: "+e);e=this.mainPlaylistLoader_.main.playlists[e]}const s=!this.media_||e.id!==this.media_.id;if(s&&this.loadedPlaylists_[e.id]&&this.loadedPlaylists_[e.id].endList){this.state="HAVE_METADATA",this.media_=e,s&&(this.trigger("mediachanging"),this.trigger("mediachange"));return}s&&(this.media_&&this.trigger("mediachanging"),this.addSidxSegments_(e,i,o=>{this.haveMetadata({startingState:i,playlist:e})}))}haveMetadata({startingState:e,playlist:i}){this.state="HAVE_METADATA",this.loadedPlaylists_[i.id]=i,W.clearTimeout(this.mediaRequest_),this.mediaRequest_=null,this.refreshMedia_(i.id),e==="HAVE_MAIN_MANIFEST"?this.trigger("loadedmetadata"):this.trigger("mediachange")}pause(){this.isPaused_=!0,this.mainPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.mainPlaylistLoader_.createMupOnMedia_),this.mainPlaylistLoader_.createMupOnMedia_=null),this.stopRequest(),W.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.isMain_&&(W.clearTimeout(this.mainPlaylistLoader_.minimumUpdatePeriodTimeout_),this.mainPlaylistLoader_.minimumUpdatePeriodTimeout_=null),this.state==="HAVE_NOTHING"&&(this.started=!1)}load(e){this.isPaused_=!1,W.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null;const i=this.media();if(e){const s=i?i.targetDuration/2*1e3:5e3;this.mediaUpdateTimeout=W.setTimeout(()=>this.load(),s);return}if(!this.started){this.start();return}i&&!i.endList?(this.isMain_&&!this.minimumUpdatePeriodTimeout_&&(this.trigger("minimumUpdatePeriod"),this.updateMinimumUpdatePeriodTimeout_()),this.trigger("mediaupdatetimeout")):this.trigger("loadedplaylist")}start(){if(this.started=!0,!this.isMain_){W.clearTimeout(this.mediaRequest_),this.mediaRequest_=W.setTimeout(()=>this.haveMain_(),0);return}this.requestMain_((e,i)=>{this.haveMain_(),!this.hasPendingRequest()&&!this.media_&&this.media(this.mainPlaylistLoader_.main.playlists[0])})}requestMain_(e){const i={manifestInfo:{uri:this.mainPlaylistLoader_.srcUrl}};this.trigger({type:"manifestrequeststart",metadata:i}),this.request=this.vhs_.xhr({uri:this.mainPlaylistLoader_.srcUrl,withCredentials:this.withCredentials,requestType:"dash-manifest"},(s,o)=>{if(s){const{requestType:c}=o;s.metadata=Zc({requestType:c,request:o,error:s})}if(this.requestErrored_(s,o)){this.state==="HAVE_NOTHING"&&(this.started=!1);return}this.trigger({type:"manifestrequestcomplete",metadata:i});const l=o.responseText!==this.mainPlaylistLoader_.mainXml_;if(this.mainPlaylistLoader_.mainXml_=o.responseText,o.responseHeaders&&o.responseHeaders.date?this.mainLoaded_=Date.parse(o.responseHeaders.date):this.mainLoaded_=Date.now(),this.mainPlaylistLoader_.srcUrl=r0(this.mainPlaylistLoader_.srcUrl,o),l){this.handleMain_(),this.syncClientServerClock_(()=>e(o,l));return}return e(o,l)})}syncClientServerClock_(e){const i=q8(this.mainPlaylistLoader_.mainXml_);if(i===null)return this.mainPlaylistLoader_.clientOffset_=this.mainLoaded_-Date.now(),e();if(i.method==="DIRECT")return this.mainPlaylistLoader_.clientOffset_=i.value-Date.now(),e();this.request=this.vhs_.xhr({uri:Fr(this.mainPlaylistLoader_.srcUrl,i.value),method:i.method,withCredentials:this.withCredentials,requestType:"dash-clock-sync"},(s,o)=>{if(!this.request)return;if(s){const{requestType:c}=o;return this.error.metadata=Zc({requestType:c,request:o,error:s}),this.mainPlaylistLoader_.clientOffset_=this.mainLoaded_-Date.now(),e()}let l;i.method==="HEAD"?!o.responseHeaders||!o.responseHeaders.date?l=this.mainLoaded_:l=Date.parse(o.responseHeaders.date):l=Date.parse(o.responseText),this.mainPlaylistLoader_.clientOffset_=l-Date.now(),e()})}haveMain_(){this.state="HAVE_MAIN_MANIFEST",this.isMain_?this.trigger("loadedplaylist"):this.media_||this.media(this.childPlaylist_)}handleMain_(){W.clearTimeout(this.mediaRequest_),this.mediaRequest_=null;const e=this.mainPlaylistLoader_.main,i={manifestInfo:{uri:this.mainPlaylistLoader_.srcUrl}};this.trigger({type:"manifestparsestart",metadata:i});let s;try{s=TB({mainXml:this.mainPlaylistLoader_.mainXml_,srcUrl:this.mainPlaylistLoader_.srcUrl,clientOffset:this.mainPlaylistLoader_.clientOffset_,sidxMapping:this.mainPlaylistLoader_.sidxMapping_,previousManifest:e})}catch(l){this.error=l,this.error.metadata={errorType:_e.Error.StreamingDashManifestParserError,error:l},this.trigger("error")}e&&(s=EB(e,s,this.mainPlaylistLoader_.sidxMapping_)),this.mainPlaylistLoader_.main=s||e;const o=this.mainPlaylistLoader_.main.locations&&this.mainPlaylistLoader_.main.locations[0];if(o&&o!==this.mainPlaylistLoader_.srcUrl&&(this.mainPlaylistLoader_.srcUrl=o),(!e||s&&s.minimumUpdatePeriod!==e.minimumUpdatePeriod)&&this.updateMinimumUpdatePeriodTimeout_(),this.addEventStreamToMetadataTrack_(s),s){const{duration:l,endList:c}=s,d=[];s.playlists.forEach(p=>{d.push({id:p.id,bandwidth:p.attributes.BANDWIDTH,resolution:p.attributes.RESOLUTION,codecs:p.attributes.CODECS})});const m={duration:l,isLive:!c,renditions:d};i.parsedManifest=m,this.trigger({type:"manifestparsecomplete",metadata:i})}return!!s}updateMinimumUpdatePeriodTimeout_(){const e=this.mainPlaylistLoader_;e.createMupOnMedia_&&(e.off("loadedmetadata",e.createMupOnMedia_),e.createMupOnMedia_=null),e.minimumUpdatePeriodTimeout_&&(W.clearTimeout(e.minimumUpdatePeriodTimeout_),e.minimumUpdatePeriodTimeout_=null);let i=e.main&&e.main.minimumUpdatePeriod;if(i===0&&(e.media()?i=e.media().targetDuration*1e3:(e.createMupOnMedia_=e.updateMinimumUpdatePeriodTimeout_,e.one("loadedmetadata",e.createMupOnMedia_))),typeof i!="number"||i<=0){i<0&&this.logger_(`found invalid minimumUpdatePeriod of ${i}, not setting a timeout`);return}this.createMUPTimeout_(i)}createMUPTimeout_(e){const i=this.mainPlaylistLoader_;i.minimumUpdatePeriodTimeout_=W.setTimeout(()=>{i.minimumUpdatePeriodTimeout_=null,i.trigger("minimumUpdatePeriod"),i.createMUPTimeout_(e)},e)}refreshXml_(){this.requestMain_((e,i)=>{i&&(this.media_&&(this.media_=this.mainPlaylistLoader_.main.playlists[this.media_.id]),this.mainPlaylistLoader_.sidxMapping_=CB(this.mainPlaylistLoader_.main,this.mainPlaylistLoader_.sidxMapping_),this.addSidxSegments_(this.media(),this.state,s=>{this.refreshMedia_(this.media().id)}))})}refreshMedia_(e){if(!e)throw new Error("refreshMedia_ must take a media id");this.media_&&this.isMain_&&this.handleMain_();const i=this.mainPlaylistLoader_.main.playlists,s=!this.media_||this.media_!==i[e];if(s?this.media_=i[e]:this.trigger("playlistunchanged"),!this.mediaUpdateTimeout){const o=()=>{this.media().endList||(this.mediaUpdateTimeout=W.setTimeout(()=>{this.trigger("mediaupdatetimeout"),o()},Zx(this.media(),!!s)))};o()}this.trigger("loadedplaylist")}addEventStreamToMetadataTrack_(e){if(e&&this.mainPlaylistLoader_.main.eventStream){const i=this.mainPlaylistLoader_.main.eventStream.map(s=>({cueTime:s.start,frames:[{data:s.messageData}]}));this.addMetadataToTextTrack("EventStream",i,this.mainPlaylistLoader_.main.duration)}}getKeyIdSet(e){if(e.contentProtection){const i=new Set;for(const s in e.contentProtection){const o=e.contentProtection[s].attributes["cenc:default_KID"];o&&i.add(o.replace(/-/g,"").toLowerCase())}return i}}}var ji={GOAL_BUFFER_LENGTH:30,MAX_GOAL_BUFFER_LENGTH:60,BACK_BUFFER_LENGTH:30,GOAL_BUFFER_LENGTH_RATE:1,INITIAL_BANDWIDTH:4194304,BANDWIDTH_VARIANCE:1.2,BUFFER_LOW_WATER_LINE:0,MAX_BUFFER_LOW_WATER_LINE:30,EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:16,BUFFER_LOW_WATER_LINE_RATE:1,BUFFER_HIGH_WATER_LINE:30};const DB=n=>{const e=new Uint8Array(new ArrayBuffer(n.length));for(let i=0;i<n.length;i++)e[i]=n.charCodeAt(i);return e.buffer},L4=function(n){return n.on=n.addEventListener,n.off=n.removeEventListener,n},AB=function(n){try{return URL.createObjectURL(new Blob([n],{type:"application/javascript"}))}catch{const i=new BlobBuilder;return i.append(n),URL.createObjectURL(i.getBlob())}},P4=function(n){return function(){const e=AB(n),i=L4(new Worker(e));i.objURL=e;const s=i.terminate;return i.on=i.addEventListener,i.off=i.removeEventListener,i.terminate=function(){return URL.revokeObjectURL(e),s.call(this)},i}},B4=function(n){return`var browserWorkerPolyFill = ${L4.toString()};
browserWorkerPolyFill(self);
`+n},j4=function(n){return n.toString().replace(/^function.+?{/,"").slice(0,-1)},wB=B4(j4(function(){var n=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},e=function(){this.init=function(){var g={};this.on=function(_,T){g[_]||(g[_]=[]),g[_]=g[_].concat(T)},this.off=function(_,T){var x;return g[_]?(x=g[_].indexOf(T),g[_]=g[_].slice(),g[_].splice(x,1),x>-1):!1},this.trigger=function(_){var T,x,N,w;if(T=g[_],!!T)if(arguments.length===2)for(N=T.length,x=0;x<N;++x)T[x].call(this,arguments[1]);else{for(w=[],x=arguments.length,x=1;x<arguments.length;++x)w.push(arguments[x]);for(N=T.length,x=0;x<N;++x)T[x].apply(this,w)}},this.dispose=function(){g={}}}};e.prototype.pipe=function(g){return this.on("data",function(_){g.push(_)}),this.on("done",function(_){g.flush(_)}),this.on("partialdone",function(_){g.partialFlush(_)}),this.on("endedtimeline",function(_){g.endTimeline(_)}),this.on("reset",function(_){g.reset(_)}),g},e.prototype.push=function(g){this.trigger("data",g)},e.prototype.flush=function(g){this.trigger("done",g)},e.prototype.partialFlush=function(g){this.trigger("partialdone",g)},e.prototype.endTimeline=function(g){this.trigger("endedtimeline",g)},e.prototype.reset=function(g){this.trigger("reset",g)};var i=e,s=Math.pow(2,32),o=function(g){var _=new DataView(g.buffer,g.byteOffset,g.byteLength),T;return _.getBigUint64?(T=_.getBigUint64(0),T<Number.MAX_SAFE_INTEGER?Number(T):T):_.getUint32(0)*s+_.getUint32(4)},l={getUint64:o,MAX_UINT32:s},c=l.MAX_UINT32,d,m,p,v,E,C,D,P,A,U,M,B,L,H,Q,se,q,te,I,j,ge,de,ie,fe,Re,be,ve,Te,De,ke,le,Be,Ge,Pe,Qe,Zt;(function(){var g;if(ie={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],pasp:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},!(typeof Uint8Array>"u")){for(g in ie)ie.hasOwnProperty(g)&&(ie[g]=[g.charCodeAt(0),g.charCodeAt(1),g.charCodeAt(2),g.charCodeAt(3)]);fe=new Uint8Array([105,115,111,109]),be=new Uint8Array([97,118,99,49]),Re=new Uint8Array([0,0,0,1]),ve=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),Te=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),De={video:ve,audio:Te},Be=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),le=new Uint8Array([0,0,0,0,0,0,0,0]),Ge=new Uint8Array([0,0,0,0,0,0,0,0]),Pe=Ge,Qe=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),Zt=Ge,ke=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}})(),d=function(g){var _=[],T=0,x,N,w;for(x=1;x<arguments.length;x++)_.push(arguments[x]);for(x=_.length;x--;)T+=_[x].byteLength;for(N=new Uint8Array(T+8),w=new DataView(N.buffer,N.byteOffset,N.byteLength),w.setUint32(0,N.byteLength),N.set(g,4),x=0,T=8;x<_.length;x++)N.set(_[x],T),T+=_[x].byteLength;return N},m=function(){return d(ie.dinf,d(ie.dref,Be))},p=function(g){return d(ie.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,g.audioobjecttype<<3|g.samplingfrequencyindex>>>1,g.samplingfrequencyindex<<7|g.channelcount<<3,6,1,2]))},v=function(){return d(ie.ftyp,fe,Re,fe,be)},se=function(g){return d(ie.hdlr,De[g])},E=function(g){return d(ie.mdat,g)},Q=function(g){var _=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,g.duration>>>24&255,g.duration>>>16&255,g.duration>>>8&255,g.duration&255,85,196,0,0]);return g.samplerate&&(_[12]=g.samplerate>>>24&255,_[13]=g.samplerate>>>16&255,_[14]=g.samplerate>>>8&255,_[15]=g.samplerate&255),d(ie.mdhd,_)},H=function(g){return d(ie.mdia,Q(g),se(g.type),D(g))},C=function(g){return d(ie.mfhd,new Uint8Array([0,0,0,0,(g&4278190080)>>24,(g&16711680)>>16,(g&65280)>>8,g&255]))},D=function(g){return d(ie.minf,g.type==="video"?d(ie.vmhd,ke):d(ie.smhd,le),m(),te(g))},P=function(g,_){for(var T=[],x=_.length;x--;)T[x]=j(_[x]);return d.apply(null,[ie.moof,C(g)].concat(T))},A=function(g){for(var _=g.length,T=[];_--;)T[_]=B(g[_]);return d.apply(null,[ie.moov,M(4294967295)].concat(T).concat(U(g)))},U=function(g){for(var _=g.length,T=[];_--;)T[_]=ge(g[_]);return d.apply(null,[ie.mvex].concat(T))},M=function(g){var _=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(g&4278190080)>>24,(g&16711680)>>16,(g&65280)>>8,g&255,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return d(ie.mvhd,_)},q=function(g){var _=g.samples||[],T=new Uint8Array(4+_.length),x,N;for(N=0;N<_.length;N++)x=_[N].flags,T[N+4]=x.dependsOn<<4|x.isDependedOn<<2|x.hasRedundancy;return d(ie.sdtp,T)},te=function(g){return d(ie.stbl,I(g),d(ie.stts,Zt),d(ie.stsc,Pe),d(ie.stsz,Qe),d(ie.stco,Ge))},(function(){var g,_;I=function(T){return d(ie.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),T.type==="video"?g(T):_(T))},g=function(T){var x=T.sps||[],N=T.pps||[],w=[],G=[],X,Z;for(X=0;X<x.length;X++)w.push((x[X].byteLength&65280)>>>8),w.push(x[X].byteLength&255),w=w.concat(Array.prototype.slice.call(x[X]));for(X=0;X<N.length;X++)G.push((N[X].byteLength&65280)>>>8),G.push(N[X].byteLength&255),G=G.concat(Array.prototype.slice.call(N[X]));if(Z=[ie.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(T.width&65280)>>8,T.width&255,(T.height&65280)>>8,T.height&255,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),d(ie.avcC,new Uint8Array([1,T.profileIdc,T.profileCompatibility,T.levelIdc,255].concat([x.length],w,[N.length],G))),d(ie.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192]))],T.sarRatio){var J=T.sarRatio[0],pe=T.sarRatio[1];Z.push(d(ie.pasp,new Uint8Array([(J&4278190080)>>24,(J&16711680)>>16,(J&65280)>>8,J&255,(pe&4278190080)>>24,(pe&16711680)>>16,(pe&65280)>>8,pe&255])))}return d.apply(null,Z)},_=function(T){return d(ie.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(T.channelcount&65280)>>8,T.channelcount&255,(T.samplesize&65280)>>8,T.samplesize&255,0,0,0,0,(T.samplerate&65280)>>8,T.samplerate&255,0,0]),p(T))}})(),L=function(g){var _=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(g.id&4278190080)>>24,(g.id&16711680)>>16,(g.id&65280)>>8,g.id&255,0,0,0,0,(g.duration&4278190080)>>24,(g.duration&16711680)>>16,(g.duration&65280)>>8,g.duration&255,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(g.width&65280)>>8,g.width&255,0,0,(g.height&65280)>>8,g.height&255,0,0]);return d(ie.tkhd,_)},j=function(g){var _,T,x,N,w,G,X;return _=d(ie.tfhd,new Uint8Array([0,0,0,58,(g.id&4278190080)>>24,(g.id&16711680)>>16,(g.id&65280)>>8,g.id&255,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),G=Math.floor(g.baseMediaDecodeTime/c),X=Math.floor(g.baseMediaDecodeTime%c),T=d(ie.tfdt,new Uint8Array([1,0,0,0,G>>>24&255,G>>>16&255,G>>>8&255,G&255,X>>>24&255,X>>>16&255,X>>>8&255,X&255])),w=92,g.type==="audio"?(x=de(g,w),d(ie.traf,_,T,x)):(N=q(g),x=de(g,N.length+w),d(ie.traf,_,T,x,N))},B=function(g){return g.duration=g.duration||4294967295,d(ie.trak,L(g),H(g))},ge=function(g){var _=new Uint8Array([0,0,0,0,(g.id&4278190080)>>24,(g.id&16711680)>>16,(g.id&65280)>>8,g.id&255,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return g.type!=="video"&&(_[_.length-1]=0),d(ie.trex,_)},(function(){var g,_,T;T=function(x,N){var w=0,G=0,X=0,Z=0;return x.length&&(x[0].duration!==void 0&&(w=1),x[0].size!==void 0&&(G=2),x[0].flags!==void 0&&(X=4),x[0].compositionTimeOffset!==void 0&&(Z=8)),[0,0,w|G|X|Z,1,(x.length&4278190080)>>>24,(x.length&16711680)>>>16,(x.length&65280)>>>8,x.length&255,(N&4278190080)>>>24,(N&16711680)>>>16,(N&65280)>>>8,N&255]},_=function(x,N){var w,G,X,Z,J,pe;for(Z=x.samples||[],N+=20+16*Z.length,X=T(Z,N),G=new Uint8Array(X.length+Z.length*16),G.set(X),w=X.length,pe=0;pe<Z.length;pe++)J=Z[pe],G[w++]=(J.duration&4278190080)>>>24,G[w++]=(J.duration&16711680)>>>16,G[w++]=(J.duration&65280)>>>8,G[w++]=J.duration&255,G[w++]=(J.size&4278190080)>>>24,G[w++]=(J.size&16711680)>>>16,G[w++]=(J.size&65280)>>>8,G[w++]=J.size&255,G[w++]=J.flags.isLeading<<2|J.flags.dependsOn,G[w++]=J.flags.isDependedOn<<6|J.flags.hasRedundancy<<4|J.flags.paddingValue<<1|J.flags.isNonSyncSample,G[w++]=J.flags.degradationPriority&61440,G[w++]=J.flags.degradationPriority&15,G[w++]=(J.compositionTimeOffset&4278190080)>>>24,G[w++]=(J.compositionTimeOffset&16711680)>>>16,G[w++]=(J.compositionTimeOffset&65280)>>>8,G[w++]=J.compositionTimeOffset&255;return d(ie.trun,G)},g=function(x,N){var w,G,X,Z,J,pe;for(Z=x.samples||[],N+=20+8*Z.length,X=T(Z,N),w=new Uint8Array(X.length+Z.length*8),w.set(X),G=X.length,pe=0;pe<Z.length;pe++)J=Z[pe],w[G++]=(J.duration&4278190080)>>>24,w[G++]=(J.duration&16711680)>>>16,w[G++]=(J.duration&65280)>>>8,w[G++]=J.duration&255,w[G++]=(J.size&4278190080)>>>24,w[G++]=(J.size&16711680)>>>16,w[G++]=(J.size&65280)>>>8,w[G++]=J.size&255;return d(ie.trun,w)},de=function(x,N){return x.type==="audio"?g(x,N):_(x,N)}})();var gt={ftyp:v,mdat:E,moof:P,moov:A,initSegment:function(g){var _=v(),T=A(g),x;return x=new Uint8Array(_.byteLength+T.byteLength),x.set(_),x.set(T,_.byteLength),x}},It=function(g){var _,T,x=[],N=[];for(N.byteLength=0,N.nalCount=0,N.duration=0,x.byteLength=0,_=0;_<g.length;_++)T=g[_],T.nalUnitType==="access_unit_delimiter_rbsp"?(x.length&&(x.duration=T.dts-x.dts,N.byteLength+=x.byteLength,N.nalCount+=x.length,N.duration+=x.duration,N.push(x)),x=[T],x.byteLength=T.data.byteLength,x.pts=T.pts,x.dts=T.dts):(T.nalUnitType==="slice_layer_without_partitioning_rbsp_idr"&&(x.keyFrame=!0),x.duration=T.dts-x.dts,x.byteLength+=T.data.byteLength,x.push(T));return N.length&&(!x.duration||x.duration<=0)&&(x.duration=N[N.length-1].duration),N.byteLength+=x.byteLength,N.nalCount+=x.length,N.duration+=x.duration,N.push(x),N},Gt=function(g){var _,T,x=[],N=[];for(x.byteLength=0,x.nalCount=0,x.duration=0,x.pts=g[0].pts,x.dts=g[0].dts,N.byteLength=0,N.nalCount=0,N.duration=0,N.pts=g[0].pts,N.dts=g[0].dts,_=0;_<g.length;_++)T=g[_],T.keyFrame?(x.length&&(N.push(x),N.byteLength+=x.byteLength,N.nalCount+=x.nalCount,N.duration+=x.duration),x=[T],x.nalCount=T.length,x.byteLength=T.byteLength,x.pts=T.pts,x.dts=T.dts,x.duration=T.duration):(x.duration+=T.duration,x.nalCount+=T.length,x.byteLength+=T.byteLength,x.push(T));return N.length&&x.duration<=0&&(x.duration=N[N.length-1].duration),N.byteLength+=x.byteLength,N.nalCount+=x.nalCount,N.duration+=x.duration,N.push(x),N},an=function(g){var _;return!g[0][0].keyFrame&&g.length>1&&(_=g.shift(),g.byteLength-=_.byteLength,g.nalCount-=_.nalCount,g[0][0].dts=_.dts,g[0][0].pts=_.pts,g[0][0].duration+=_.duration),g},je=function(){return{size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0,isNonSyncSample:1}}},Xe=function(g,_){var T=je();return T.dataOffset=_,T.compositionTimeOffset=g.pts-g.dts,T.duration=g.duration,T.size=4*g.length,T.size+=g.byteLength,g.keyFrame&&(T.flags.dependsOn=2,T.flags.isNonSyncSample=0),T},tt=function(g,_){var T,x,N,w,G,X=_||0,Z=[];for(T=0;T<g.length;T++)for(w=g[T],x=0;x<w.length;x++)G=w[x],N=Xe(G,X),X+=N.size,Z.push(N);return Z},st=function(g){var _,T,x,N,w,G,X=0,Z=g.byteLength,J=g.nalCount,pe=Z+4*J,Ce=new Uint8Array(pe),ze=new DataView(Ce.buffer);for(_=0;_<g.length;_++)for(N=g[_],T=0;T<N.length;T++)for(w=N[T],x=0;x<w.length;x++)G=w[x],ze.setUint32(X,G.data.byteLength),X+=4,Ce.set(G.data,X),X+=G.data.byteLength;return Ce},Wt=function(g,_){var T,x=_||0,N=[];return T=Xe(g,x),N.push(T),N},Ke=function(g){var _,T,x=0,N=g.byteLength,w=g.length,G=N+4*w,X=new Uint8Array(G),Z=new DataView(X.buffer);for(_=0;_<g.length;_++)T=g[_],Z.setUint32(x,T.data.byteLength),x+=4,X.set(T.data,x),x+=T.data.byteLength;return X},Kn={groupNalsIntoFrames:It,groupFramesIntoGops:Gt,extendFirstKeyFrame:an,generateSampleTable:tt,concatenateNalData:st,generateSampleTableForFrame:Wt,concatenateNalDataForFrame:Ke},yn=[33,16,5,32,164,27],Vn=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],Ze=function(g){for(var _=[];g--;)_.push(0);return _},Xt=function(g){return Object.keys(g).reduce(function(_,T){return _[T]=new Uint8Array(g[T].reduce(function(x,N){return x.concat(N)},[])),_},{})},Lt,Jn=function(){if(!Lt){var g={96e3:[yn,[227,64],Ze(154),[56]],88200:[yn,[231],Ze(170),[56]],64e3:[yn,[248,192],Ze(240),[56]],48e3:[yn,[255,192],Ze(268),[55,148,128],Ze(54),[112]],44100:[yn,[255,192],Ze(268),[55,163,128],Ze(84),[112]],32e3:[yn,[255,192],Ze(268),[55,234],Ze(226),[112]],24e3:[yn,[255,192],Ze(268),[55,255,128],Ze(268),[111,112],Ze(126),[224]],16e3:[yn,[255,192],Ze(268),[55,255,128],Ze(268),[111,255],Ze(269),[223,108],Ze(195),[1,192]],12e3:[Vn,Ze(268),[3,127,248],Ze(268),[6,255,240],Ze(268),[13,255,224],Ze(268),[27,253,128],Ze(259),[56]],11025:[Vn,Ze(268),[3,127,248],Ze(268),[6,255,240],Ze(268),[13,255,224],Ze(268),[27,255,192],Ze(268),[55,175,128],Ze(108),[112]],8e3:[Vn,Ze(268),[3,121,16],Ze(47),[7]]};Lt=Xt(g)}return Lt},Ri=9e4,kn,Gr,nr,Ht,Eo,ta,Ct;kn=function(g){return g*Ri},Gr=function(g,_){return g*_},nr=function(g){return g/Ri},Ht=function(g,_){return g/_},Eo=function(g,_){return kn(Ht(g,_))},ta=function(g,_){return Gr(nr(g),_)},Ct=function(g,_,T){return nr(T?g:g-_)};var Pt={ONE_SECOND_IN_TS:Ri,secondsToVideoTs:kn,secondsToAudioTs:Gr,videoTsToSeconds:nr,audioTsToSeconds:Ht,audioTsToVideoTs:Eo,videoTsToAudioTs:ta,metadataTsToSeconds:Ct},bs=Jn,Dr=Pt,Ca=function(g){var _,T,x=0;for(_=0;_<g.length;_++)T=g[_],x+=T.data.byteLength;return x},Da=function(g,_,T,x){var N,w=0,G=0,X=0,Z=0,J,pe,Ce;if(_.length&&(N=Dr.audioTsToVideoTs(g.baseMediaDecodeTime,g.samplerate),w=Math.ceil(Dr.ONE_SECOND_IN_TS/(g.samplerate/1024)),T&&x&&(G=N-Math.max(T,x),X=Math.floor(G/w),Z=X*w),!(X<1||Z>Dr.ONE_SECOND_IN_TS/2))){for(J=bs()[g.samplerate],J||(J=_[0].data),pe=0;pe<X;pe++)Ce=_[0],_.splice(0,0,{data:J,dts:Ce.dts-w,pts:Ce.pts-w});return g.baseMediaDecodeTime-=Math.floor(Dr.videoTsToAudioTs(Z,g.samplerate)),Z}},Ar=function(g,_,T){return _.minSegmentDts>=T?g:(_.minSegmentDts=1/0,g.filter(function(x){return x.dts>=T?(_.minSegmentDts=Math.min(_.minSegmentDts,x.dts),_.minSegmentPts=_.minSegmentDts,!0):!1}))},ir=function(g){var _,T,x=[];for(_=0;_<g.length;_++)T=g[_],x.push({size:T.data.byteLength,duration:1024});return x},ys=function(g){var _,T,x=0,N=new Uint8Array(Ca(g));for(_=0;_<g.length;_++)T=g[_],N.set(T.data,x),x+=T.data.byteLength;return N},rr={prefixWithSilence:Da,trimAdtsFramesByEarliestDts:Ar,generateSampleTable:ir,concatenateFrameData:ys},Fi=Pt.ONE_SECOND_IN_TS,V=function(g,_){typeof _.pts=="number"&&(g.timelineStartInfo.pts===void 0&&(g.timelineStartInfo.pts=_.pts),g.minSegmentPts===void 0?g.minSegmentPts=_.pts:g.minSegmentPts=Math.min(g.minSegmentPts,_.pts),g.maxSegmentPts===void 0?g.maxSegmentPts=_.pts:g.maxSegmentPts=Math.max(g.maxSegmentPts,_.pts)),typeof _.dts=="number"&&(g.timelineStartInfo.dts===void 0&&(g.timelineStartInfo.dts=_.dts),g.minSegmentDts===void 0?g.minSegmentDts=_.dts:g.minSegmentDts=Math.min(g.minSegmentDts,_.dts),g.maxSegmentDts===void 0?g.maxSegmentDts=_.dts:g.maxSegmentDts=Math.max(g.maxSegmentDts,_.dts))},$=function(g){delete g.minSegmentDts,delete g.maxSegmentDts,delete g.minSegmentPts,delete g.maxSegmentPts},K=function(g,_){var T,x,N=g.minSegmentDts;return _||(N-=g.timelineStartInfo.dts),T=g.timelineStartInfo.baseMediaDecodeTime,T+=N,T=Math.max(0,T),g.type==="audio"&&(x=g.samplerate/Fi,T*=x,T=Math.floor(T)),T},Se={clearDtsInfo:$,calculateTrackBaseMediaDecodeTime:K,collectDtsInfo:V},Ue=4,et=128,$t=function(g){for(var _=0,T={payloadType:-1,payloadSize:0},x=0,N=0;_<g.byteLength&&g[_]!==et;){for(;g[_]===255;)x+=255,_++;for(x+=g[_++];g[_]===255;)N+=255,_++;if(N+=g[_++],!T.payload&&x===Ue){var w=String.fromCharCode(g[_+3],g[_+4],g[_+5],g[_+6]);if(w==="GA94"){T.payloadType=x,T.payloadSize=N,T.payload=g.subarray(_,_+N);break}else T.payload=void 0}_+=N,x=0,N=0}return T},ei=function(g){return g.payload[0]!==181||(g.payload[1]<<8|g.payload[2])!==49||String.fromCharCode(g.payload[3],g.payload[4],g.payload[5],g.payload[6])!=="GA94"||g.payload[7]!==3?null:g.payload.subarray(8,g.payload.length-1)},vn=function(g,_){var T=[],x,N,w,G;if(!(_[0]&64))return T;for(N=_[0]&31,x=0;x<N;x++)w=x*3,G={type:_[w+2]&3,pts:g},_[w+2]&4&&(G.ccData=_[w+3]<<8|_[w+4],T.push(G));return T},zi=function(g){for(var _=g.byteLength,T=[],x=1,N,w;x<_-2;)g[x]===0&&g[x+1]===0&&g[x+2]===3?(T.push(x+2),x+=2):x++;if(T.length===0)return g;N=_-T.length,w=new Uint8Array(N);var G=0;for(x=0;x<N;G++,x++)G===T[0]&&(G++,T.shift()),w[x]=g[G];return w},Cn={parseSei:$t,parseUserData:ei,parseCaptionPackets:vn,discardEmulationPreventionBytes:zi,USER_DATA_REGISTERED_ITU_T_T35:Ue},on=i,Ti=Cn,hn=function(g){g=g||{},hn.prototype.init.call(this),this.parse708captions_=typeof g.parse708captions=="boolean"?g.parse708captions:!0,this.captionPackets_=[],this.ccStreams_=[new nn(0,0),new nn(0,1),new nn(1,0),new nn(1,1)],this.parse708captions_&&(this.cc708Stream_=new Et({captionServices:g.captionServices})),this.reset(),this.ccStreams_.forEach(function(_){_.on("data",this.trigger.bind(this,"data")),_.on("partialdone",this.trigger.bind(this,"partialdone")),_.on("done",this.trigger.bind(this,"done"))},this),this.parse708captions_&&(this.cc708Stream_.on("data",this.trigger.bind(this,"data")),this.cc708Stream_.on("partialdone",this.trigger.bind(this,"partialdone")),this.cc708Stream_.on("done",this.trigger.bind(this,"done")))};hn.prototype=new on,hn.prototype.push=function(g){var _,T,x;if(g.nalUnitType==="sei_rbsp"&&(_=Ti.parseSei(g.escapedRBSP),!!_.payload&&_.payloadType===Ti.USER_DATA_REGISTERED_ITU_T_T35&&(T=Ti.parseUserData(_),!!T))){if(g.dts<this.latestDts_){this.ignoreNextEqualDts_=!0;return}else if(g.dts===this.latestDts_&&this.ignoreNextEqualDts_){this.numSameDts_--,this.numSameDts_||(this.ignoreNextEqualDts_=!1);return}x=Ti.parseCaptionPackets(g.pts,T),this.captionPackets_=this.captionPackets_.concat(x),this.latestDts_!==g.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=g.dts}},hn.prototype.flushCCStreams=function(g){this.ccStreams_.forEach(function(_){return g==="flush"?_.flush():_.partialFlush()},this)},hn.prototype.flushStream=function(g){if(!this.captionPackets_.length){this.flushCCStreams(g);return}this.captionPackets_.forEach(function(_,T){_.presortIndex=T}),this.captionPackets_.sort(function(_,T){return _.pts===T.pts?_.presortIndex-T.presortIndex:_.pts-T.pts}),this.captionPackets_.forEach(function(_){_.type<2?this.dispatchCea608Packet(_):this.dispatchCea708Packet(_)},this),this.captionPackets_.length=0,this.flushCCStreams(g)},hn.prototype.flush=function(){return this.flushStream("flush")},hn.prototype.partialFlush=function(){return this.flushStream("partialFlush")},hn.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.numSameDts_=0,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach(function(g){g.reset()})},hn.prototype.dispatchCea608Packet=function(g){this.setsTextOrXDSActive(g)?this.activeCea608Channel_[g.type]=null:this.setsChannel1Active(g)?this.activeCea608Channel_[g.type]=0:this.setsChannel2Active(g)&&(this.activeCea608Channel_[g.type]=1),this.activeCea608Channel_[g.type]!==null&&this.ccStreams_[(g.type<<1)+this.activeCea608Channel_[g.type]].push(g)},hn.prototype.setsChannel1Active=function(g){return(g.ccData&30720)===4096},hn.prototype.setsChannel2Active=function(g){return(g.ccData&30720)===6144},hn.prototype.setsTextOrXDSActive=function(g){return(g.ccData&28928)===256||(g.ccData&30974)===4138||(g.ccData&30974)===6186},hn.prototype.dispatchCea708Packet=function(g){this.parse708captions_&&this.cc708Stream_.push(g)};var ti={127:9834,4128:32,4129:160,4133:8230,4138:352,4140:338,4144:9608,4145:8216,4146:8217,4147:8220,4148:8221,4149:8226,4153:8482,4154:353,4156:339,4157:8480,4159:376,4214:8539,4215:8540,4216:8541,4217:8542,4218:9168,4219:9124,4220:9123,4221:9135,4222:9126,4223:9121,4256:12600},sr=function(g){var _=ti[g]||g;return g&4096&&g===_?"":String.fromCharCode(_)},Hi=function(g){return 32<=g&&g<=127||160<=g&&g<=255},_t=function(g){this.windowNum=g,this.reset()};_t.prototype.reset=function(){this.clearText(),this.pendingNewLine=!1,this.winAttr={},this.penAttr={},this.penLoc={},this.penColor={},this.visible=0,this.rowLock=0,this.columnLock=0,this.priority=0,this.relativePositioning=0,this.anchorVertical=0,this.anchorHorizontal=0,this.anchorPoint=0,this.rowCount=1,this.virtualRowCount=this.rowCount+1,this.columnCount=41,this.windowStyle=0,this.penStyle=0},_t.prototype.getText=function(){return this.rows.join(`
`)},_t.prototype.clearText=function(){this.rows=[""],this.rowIdx=0},_t.prototype.newLine=function(g){for(this.rows.length>=this.virtualRowCount&&typeof this.beforeRowOverflow=="function"&&this.beforeRowOverflow(g),this.rows.length>0&&(this.rows.push(""),this.rowIdx++);this.rows.length>this.virtualRowCount;)this.rows.shift(),this.rowIdx--},_t.prototype.isEmpty=function(){return this.rows.length===0?!0:this.rows.length===1?this.rows[0]==="":!1},_t.prototype.addText=function(g){this.rows[this.rowIdx]+=g},_t.prototype.backspace=function(){if(!this.isEmpty()){var g=this.rows[this.rowIdx];this.rows[this.rowIdx]=g.substr(0,g.length-1)}};var vs=function(g,_,T){this.serviceNum=g,this.text="",this.currentWindow=new _t(-1),this.windows=[],this.stream=T,typeof _=="string"&&this.createTextDecoder(_)};vs.prototype.init=function(g,_){this.startPts=g;for(var T=0;T<8;T++)this.windows[T]=new _t(T),typeof _=="function"&&(this.windows[T].beforeRowOverflow=_)},vs.prototype.setCurrentWindow=function(g){this.currentWindow=this.windows[g]},vs.prototype.createTextDecoder=function(g){if(typeof TextDecoder>"u")this.stream.trigger("log",{level:"warn",message:"The `encoding` option is unsupported without TextDecoder support"});else try{this.textDecoder_=new TextDecoder(g)}catch(_){this.stream.trigger("log",{level:"warn",message:"TextDecoder could not be created with "+g+" encoding. "+_})}};var Et=function(g){g=g||{},Et.prototype.init.call(this);var _=this,T=g.captionServices||{},x={},N;Object.keys(T).forEach(w=>{N=T[w],/^SERVICE/.test(w)&&(x[w]=N.encoding)}),this.serviceEncodings=x,this.current708Packet=null,this.services={},this.push=function(w){w.type===3?(_.new708Packet(),_.add708Bytes(w)):(_.current708Packet===null&&_.new708Packet(),_.add708Bytes(w))}};Et.prototype=new on,Et.prototype.new708Packet=function(){this.current708Packet!==null&&this.push708Packet(),this.current708Packet={data:[],ptsVals:[]}},Et.prototype.add708Bytes=function(g){var _=g.ccData,T=_>>>8,x=_&255;this.current708Packet.ptsVals.push(g.pts),this.current708Packet.data.push(T),this.current708Packet.data.push(x)},Et.prototype.push708Packet=function(){var g=this.current708Packet,_=g.data,T=null,x=null,N=0,w=_[N++];for(g.seq=w>>6,g.sizeCode=w&63;N<_.length;N++)w=_[N++],T=w>>5,x=w&31,T===7&&x>0&&(w=_[N++],T=w),this.pushServiceBlock(T,N,x),x>0&&(N+=x-1)},Et.prototype.pushServiceBlock=function(g,_,T){var x,N=_,w=this.current708Packet.data,G=this.services[g];for(G||(G=this.initService(g,N));N<_+T&&N<w.length;N++)x=w[N],Hi(x)?N=this.handleText(N,G):x===24?N=this.multiByteCharacter(N,G):x===16?N=this.extendedCommands(N,G):128<=x&&x<=135?N=this.setCurrentWindow(N,G):152<=x&&x<=159?N=this.defineWindow(N,G):x===136?N=this.clearWindows(N,G):x===140?N=this.deleteWindows(N,G):x===137?N=this.displayWindows(N,G):x===138?N=this.hideWindows(N,G):x===139?N=this.toggleWindows(N,G):x===151?N=this.setWindowAttributes(N,G):x===144?N=this.setPenAttributes(N,G):x===145?N=this.setPenColor(N,G):x===146?N=this.setPenLocation(N,G):x===143?G=this.reset(N,G):x===8?G.currentWindow.backspace():x===12?G.currentWindow.clearText():x===13?G.currentWindow.pendingNewLine=!0:x===14?G.currentWindow.clearText():x===141&&N++},Et.prototype.extendedCommands=function(g,_){var T=this.current708Packet.data,x=T[++g];return Hi(x)&&(g=this.handleText(g,_,{isExtended:!0})),g},Et.prototype.getPts=function(g){return this.current708Packet.ptsVals[Math.floor(g/2)]},Et.prototype.initService=function(g,_){var x="SERVICE"+g,T=this,x,N;return x in this.serviceEncodings&&(N=this.serviceEncodings[x]),this.services[g]=new vs(g,N,T),this.services[g].init(this.getPts(_),function(w){T.flushDisplayed(w,T.services[g])}),this.services[g]},Et.prototype.handleText=function(g,_,T){var x=T&&T.isExtended,N=T&&T.isMultiByte,w=this.current708Packet.data,G=x?4096:0,X=w[g],Z=w[g+1],J=_.currentWindow,pe,Ce;function ze(xe){return xe.map(Ee=>("0"+(Ee&255).toString(16)).slice(-2)).join("")}if(N?(Ce=[X,Z],g++):Ce=[X],_.textDecoder_&&!x)pe=_.textDecoder_.decode(new Uint8Array(Ce));else if(N){const xe=ze(Ce);pe=String.fromCharCode(parseInt(xe,16))}else pe=sr(G|X);return J.pendingNewLine&&!J.isEmpty()&&J.newLine(this.getPts(g)),J.pendingNewLine=!1,J.addText(pe),g},Et.prototype.multiByteCharacter=function(g,_){var T=this.current708Packet.data,x=T[g+1],N=T[g+2];return Hi(x)&&Hi(N)&&(g=this.handleText(++g,_,{isMultiByte:!0})),g},Et.prototype.setCurrentWindow=function(g,_){var T=this.current708Packet.data,x=T[g],N=x&7;return _.setCurrentWindow(N),g},Et.prototype.defineWindow=function(g,_){var T=this.current708Packet.data,x=T[g],N=x&7;_.setCurrentWindow(N);var w=_.currentWindow;return x=T[++g],w.visible=(x&32)>>5,w.rowLock=(x&16)>>4,w.columnLock=(x&8)>>3,w.priority=x&7,x=T[++g],w.relativePositioning=(x&128)>>7,w.anchorVertical=x&127,x=T[++g],w.anchorHorizontal=x,x=T[++g],w.anchorPoint=(x&240)>>4,w.rowCount=x&15,x=T[++g],w.columnCount=x&63,x=T[++g],w.windowStyle=(x&56)>>3,w.penStyle=x&7,w.virtualRowCount=w.rowCount+1,g},Et.prototype.setWindowAttributes=function(g,_){var T=this.current708Packet.data,x=T[g],N=_.currentWindow.winAttr;return x=T[++g],N.fillOpacity=(x&192)>>6,N.fillRed=(x&48)>>4,N.fillGreen=(x&12)>>2,N.fillBlue=x&3,x=T[++g],N.borderType=(x&192)>>6,N.borderRed=(x&48)>>4,N.borderGreen=(x&12)>>2,N.borderBlue=x&3,x=T[++g],N.borderType+=(x&128)>>5,N.wordWrap=(x&64)>>6,N.printDirection=(x&48)>>4,N.scrollDirection=(x&12)>>2,N.justify=x&3,x=T[++g],N.effectSpeed=(x&240)>>4,N.effectDirection=(x&12)>>2,N.displayEffect=x&3,g},Et.prototype.flushDisplayed=function(g,_){for(var T=[],x=0;x<8;x++)_.windows[x].visible&&!_.windows[x].isEmpty()&&T.push(_.windows[x].getText());_.endPts=g,_.text=T.join(`

`),this.pushCaption(_),_.startPts=g},Et.prototype.pushCaption=function(g){g.text!==""&&(this.trigger("data",{startPts:g.startPts,endPts:g.endPts,text:g.text,stream:"cc708_"+g.serviceNum}),g.text="",g.startPts=g.endPts)},Et.prototype.displayWindows=function(g,_){var T=this.current708Packet.data,x=T[++g],N=this.getPts(g);this.flushDisplayed(N,_);for(var w=0;w<8;w++)x&1<<w&&(_.windows[w].visible=1);return g},Et.prototype.hideWindows=function(g,_){var T=this.current708Packet.data,x=T[++g],N=this.getPts(g);this.flushDisplayed(N,_);for(var w=0;w<8;w++)x&1<<w&&(_.windows[w].visible=0);return g},Et.prototype.toggleWindows=function(g,_){var T=this.current708Packet.data,x=T[++g],N=this.getPts(g);this.flushDisplayed(N,_);for(var w=0;w<8;w++)x&1<<w&&(_.windows[w].visible^=1);return g},Et.prototype.clearWindows=function(g,_){var T=this.current708Packet.data,x=T[++g],N=this.getPts(g);this.flushDisplayed(N,_);for(var w=0;w<8;w++)x&1<<w&&_.windows[w].clearText();return g},Et.prototype.deleteWindows=function(g,_){var T=this.current708Packet.data,x=T[++g],N=this.getPts(g);this.flushDisplayed(N,_);for(var w=0;w<8;w++)x&1<<w&&_.windows[w].reset();return g},Et.prototype.setPenAttributes=function(g,_){var T=this.current708Packet.data,x=T[g],N=_.currentWindow.penAttr;return x=T[++g],N.textTag=(x&240)>>4,N.offset=(x&12)>>2,N.penSize=x&3,x=T[++g],N.italics=(x&128)>>7,N.underline=(x&64)>>6,N.edgeType=(x&56)>>3,N.fontStyle=x&7,g},Et.prototype.setPenColor=function(g,_){var T=this.current708Packet.data,x=T[g],N=_.currentWindow.penColor;return x=T[++g],N.fgOpacity=(x&192)>>6,N.fgRed=(x&48)>>4,N.fgGreen=(x&12)>>2,N.fgBlue=x&3,x=T[++g],N.bgOpacity=(x&192)>>6,N.bgRed=(x&48)>>4,N.bgGreen=(x&12)>>2,N.bgBlue=x&3,x=T[++g],N.edgeRed=(x&48)>>4,N.edgeGreen=(x&12)>>2,N.edgeBlue=x&3,g},Et.prototype.setPenLocation=function(g,_){var T=this.current708Packet.data,x=T[g],N=_.currentWindow.penLoc;return _.currentWindow.pendingNewLine=!0,x=T[++g],N.row=x&15,x=T[++g],N.column=x&63,g},Et.prototype.reset=function(g,_){var T=this.getPts(g);return this.flushDisplayed(T,_),this.initService(_.serviceNum,g)};var No={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},na=function(g){return g===null?"":(g=No[g]||g,String.fromCharCode(g))},Xr=14,_l=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],$i=function(){for(var g=[],_=Xr+1;_--;)g.push({text:"",indent:0,offset:0});return g},nn=function(g,_){nn.prototype.init.call(this),this.field_=g||0,this.dataChannel_=_||0,this.name_="CC"+((this.field_<<1|this.dataChannel_)+1),this.setConstants(),this.reset(),this.push=function(T){var x,N,w,G,X;if(x=T.ccData&32639,x===this.lastControlCode_){this.lastControlCode_=null;return}if((x&61440)===4096?this.lastControlCode_=x:x!==this.PADDING_&&(this.lastControlCode_=null),w=x>>>8,G=x&255,x!==this.PADDING_)if(x===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(x===this.END_OF_CAPTION_)this.mode_="popOn",this.clearFormatting(T.pts),this.flushDisplayed(T.pts),N=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=N,this.startPts_=T.pts;else if(x===this.ROLL_UP_2_ROWS_)this.rollUpRows_=2,this.setRollUp(T.pts);else if(x===this.ROLL_UP_3_ROWS_)this.rollUpRows_=3,this.setRollUp(T.pts);else if(x===this.ROLL_UP_4_ROWS_)this.rollUpRows_=4,this.setRollUp(T.pts);else if(x===this.CARRIAGE_RETURN_)this.clearFormatting(T.pts),this.flushDisplayed(T.pts),this.shiftRowsUp_(),this.startPts_=T.pts;else if(x===this.BACKSPACE_)this.mode_==="popOn"?this.nonDisplayed_[this.row_].text=this.nonDisplayed_[this.row_].text.slice(0,-1):this.displayed_[this.row_].text=this.displayed_[this.row_].text.slice(0,-1);else if(x===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(T.pts),this.displayed_=$i();else if(x===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=$i();else if(x===this.RESUME_DIRECT_CAPTIONING_)this.mode_!=="paintOn"&&(this.flushDisplayed(T.pts),this.displayed_=$i()),this.mode_="paintOn",this.startPts_=T.pts;else if(this.isSpecialCharacter(w,G))w=(w&3)<<8,X=na(w|G),this[this.mode_](T.pts,X),this.column_++;else if(this.isExtCharacter(w,G))this.mode_==="popOn"?this.nonDisplayed_[this.row_].text=this.nonDisplayed_[this.row_].text.slice(0,-1):this.displayed_[this.row_].text=this.displayed_[this.row_].text.slice(0,-1),w=(w&3)<<8,X=na(w|G),this[this.mode_](T.pts,X),this.column_++;else if(this.isMidRowCode(w,G))this.clearFormatting(T.pts),this[this.mode_](T.pts," "),this.column_++,(G&14)===14&&this.addFormatting(T.pts,["i"]),(G&1)===1&&this.addFormatting(T.pts,["u"]);else if(this.isOffsetControlCode(w,G)){const J=G&3;this.nonDisplayed_[this.row_].offset=J,this.column_+=J}else if(this.isPAC(w,G)){var Z=_l.indexOf(x&7968);if(this.mode_==="rollUp"&&(Z-this.rollUpRows_+1<0&&(Z=this.rollUpRows_-1),this.setRollUp(T.pts,Z)),Z!==this.row_&&Z>=0&&Z<=14&&(this.clearFormatting(T.pts),this.row_=Z),G&1&&this.formatting_.indexOf("u")===-1&&this.addFormatting(T.pts,["u"]),(x&16)===16){const J=(x&14)>>1;this.column_=J*4,this.nonDisplayed_[this.row_].indent+=J}this.isColorPAC(G)&&(G&14)===14&&this.addFormatting(T.pts,["i"])}else this.isNormalChar(w)&&(G===0&&(G=null),X=na(w),X+=na(G),this[this.mode_](T.pts,X),this.column_+=X.length)}};nn.prototype=new on,nn.prototype.flushDisplayed=function(g){const _=x=>{this.trigger("log",{level:"warn",message:"Skipping a malformed 608 caption at index "+x+"."})},T=[];this.displayed_.forEach((x,N)=>{if(x&&x.text&&x.text.length){try{x.text=x.text.trim()}catch{_(N)}x.text.length&&T.push({text:x.text,line:N+1,position:10+Math.min(70,x.indent*10)+x.offset*2.5})}else x==null&&_(N)}),T.length&&this.trigger("data",{startPts:this.startPts_,endPts:g,content:T,stream:this.name_})},nn.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=$i(),this.nonDisplayed_=$i(),this.lastControlCode_=null,this.column_=0,this.row_=Xr,this.rollUpRows_=2,this.formatting_=[]},nn.prototype.setConstants=function(){this.dataChannel_===0?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):this.dataChannel_===1&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=this.CONTROL_|32,this.END_OF_CAPTION_=this.CONTROL_|47,this.ROLL_UP_2_ROWS_=this.CONTROL_|37,this.ROLL_UP_3_ROWS_=this.CONTROL_|38,this.ROLL_UP_4_ROWS_=this.CONTROL_|39,this.CARRIAGE_RETURN_=this.CONTROL_|45,this.RESUME_DIRECT_CAPTIONING_=this.CONTROL_|41,this.BACKSPACE_=this.CONTROL_|33,this.ERASE_DISPLAYED_MEMORY_=this.CONTROL_|44,this.ERASE_NON_DISPLAYED_MEMORY_=this.CONTROL_|46},nn.prototype.isSpecialCharacter=function(g,_){return g===this.EXT_&&_>=48&&_<=63},nn.prototype.isExtCharacter=function(g,_){return(g===this.EXT_+1||g===this.EXT_+2)&&_>=32&&_<=63},nn.prototype.isMidRowCode=function(g,_){return g===this.EXT_&&_>=32&&_<=47},nn.prototype.isOffsetControlCode=function(g,_){return g===this.OFFSET_&&_>=33&&_<=35},nn.prototype.isPAC=function(g,_){return g>=this.BASE_&&g<this.BASE_+8&&_>=64&&_<=127},nn.prototype.isColorPAC=function(g){return g>=64&&g<=79||g>=96&&g<=127},nn.prototype.isNormalChar=function(g){return g>=32&&g<=127},nn.prototype.setRollUp=function(g,_){if(this.mode_!=="rollUp"&&(this.row_=Xr,this.mode_="rollUp",this.flushDisplayed(g),this.nonDisplayed_=$i(),this.displayed_=$i()),_!==void 0&&_!==this.row_)for(var T=0;T<this.rollUpRows_;T++)this.displayed_[_-T]=this.displayed_[this.row_-T],this.displayed_[this.row_-T]={text:"",indent:0,offset:0};_===void 0&&(_=this.row_),this.topRow_=_-this.rollUpRows_+1},nn.prototype.addFormatting=function(g,_){this.formatting_=this.formatting_.concat(_);var T=_.reduce(function(x,N){return x+"<"+N+">"},"");this[this.mode_](g,T)},nn.prototype.clearFormatting=function(g){if(this.formatting_.length){var _=this.formatting_.reverse().reduce(function(T,x){return T+"</"+x+">"},"");this.formatting_=[],this[this.mode_](g,_)}},nn.prototype.popOn=function(g,_){var T=this.nonDisplayed_[this.row_].text;T+=_,this.nonDisplayed_[this.row_].text=T},nn.prototype.rollUp=function(g,_){var T=this.displayed_[this.row_].text;T+=_,this.displayed_[this.row_].text=T},nn.prototype.shiftRowsUp_=function(){var g;for(g=0;g<this.topRow_;g++)this.displayed_[g]={text:"",indent:0,offset:0};for(g=this.row_+1;g<Xr+1;g++)this.displayed_[g]={text:"",indent:0,offset:0};for(g=this.topRow_;g<this.row_;g++)this.displayed_[g]=this.displayed_[g+1];this.displayed_[this.row_]={text:"",indent:0,offset:0}},nn.prototype.paintOn=function(g,_){var T=this.displayed_[this.row_].text;T+=_,this.displayed_[this.row_].text=T};var Co={CaptionStream:hn,Cea608Stream:nn,Cea708Stream:Et},Yr={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21},xl=i,Aa=8589934592,ki=4294967296,Qr="shared",_n=function(g,_){var T=1;for(g>_&&(T=-1);Math.abs(_-g)>ki;)g+=T*Aa;return g},Tl=function(g){var _,T;Tl.prototype.init.call(this),this.type_=g||Qr,this.push=function(x){if(x.type==="metadata"){this.trigger("data",x);return}this.type_!==Qr&&x.type!==this.type_||(T===void 0&&(T=x.dts),x.dts=_n(x.dts,T),x.pts=_n(x.pts,T),_=x.dts,this.trigger("data",x))},this.flush=function(){T=_,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.discontinuity=function(){T=void 0,_=void 0},this.reset=function(){this.discontinuity(),this.trigger("reset")}};Tl.prototype=new xl;var ia={TimestampRolloverStream:Tl,handleRollover:_n},Sl=(g,_,T)=>{if(!g)return-1;for(var x=T;x<g.length;x++)if(g[x]===_)return x;return-1},ju={typedArrayIndexOf:Sl},wr=ju.typedArrayIndexOf,qi={Utf8:3},Do=function(g,_,T){var x,N="";for(x=_;x<T;x++)N+="%"+("00"+g[x].toString(16)).slice(-2);return N},wa=function(g,_,T){return decodeURIComponent(Do(g,_,T))},Ao=function(g,_,T){return unescape(Do(g,_,T))},Ra=function(g){return g[0]<<21|g[1]<<14|g[2]<<7|g[3]},ra={APIC:function(g){var _=1,T,x,N="-->";g.data[0]===qi.Utf8&&(T=wr(g.data,0,_),!(T<0)&&(g.mimeType=Ao(g.data,_,T),_=T+1,g.pictureType=g.data[_],_++,x=wr(g.data,0,_),!(x<0)&&(g.description=wa(g.data,_,x),_=x+1,g.mimeType===N?g.url=Ao(g.data,_,g.data.length):g.pictureData=g.data.subarray(_,g.data.length))))},"T*":function(g){g.data[0]===qi.Utf8&&(g.value=wa(g.data,1,g.data.length).replace(/\0*$/,""),g.values=g.value.split("\0"))},TXXX:function(g){var _;g.data[0]===qi.Utf8&&(_=wr(g.data,0,1),_!==-1&&(g.description=wa(g.data,1,_),g.value=wa(g.data,_+1,g.data.length).replace(/\0*$/,""),g.data=g.value))},"W*":function(g){g.url=Ao(g.data,0,g.data.length).replace(/\0.*$/,"")},WXXX:function(g){var _;g.data[0]===qi.Utf8&&(_=wr(g.data,0,1),_!==-1&&(g.description=wa(g.data,1,_),g.url=Ao(g.data,_+1,g.data.length).replace(/\0.*$/,"")))},PRIV:function(g){var _;for(_=0;_<g.data.length;_++)if(g.data[_]===0){g.owner=Ao(g.data,0,_);break}g.privateData=g.data.subarray(_+1),g.data=g.privateData}},Uu=function(g){var _,T,x=10,N=0,w=[];if(!(g.length<10||g[0]!==73||g[1]!==68||g[2]!==51)){N=Ra(g.subarray(6,10)),N+=10;var G=g[5]&64;G&&(x+=4,x+=Ra(g.subarray(10,14)),N-=Ra(g.subarray(16,20)));do{if(_=Ra(g.subarray(x+4,x+8)),_<1)break;T=String.fromCharCode(g[x],g[x+1],g[x+2],g[x+3]);var X={id:T,data:g.subarray(x+10,x+_+10)};X.key=X.id,ra[X.id]?ra[X.id](X):X.id[0]==="T"?ra["T*"](X):X.id[0]==="W"&&ra["W*"](X),w.push(X),x+=10,x+=_}while(x<N);return w}},wo={parseId3Frames:Uu,parseSyncSafeInteger:Ra,frameParsers:ra},rd=i,sd=Yr,_s=wo,Ro;Ro=function(g){var _={descriptor:g&&g.descriptor},T=0,x=[],N=0,w;if(Ro.prototype.init.call(this),this.dispatchType=sd.METADATA_STREAM_TYPE.toString(16),_.descriptor)for(w=0;w<_.descriptor.length;w++)this.dispatchType+=("00"+_.descriptor[w].toString(16)).slice(-2);this.push=function(G){var X,Z,J,pe,Ce,ze;if(G.type==="timed-metadata"){if(G.dataAlignmentIndicator&&(N=0,x.length=0),x.length===0&&(G.data.length<10||G.data[0]!==73||G.data[1]!==68||G.data[2]!==51)){this.trigger("log",{level:"warn",message:"Skipping unrecognized metadata packet"});return}if(x.push(G),N+=G.data.byteLength,x.length===1&&(T=_s.parseSyncSafeInteger(G.data.subarray(6,10)),T+=10),!(N<T)){for(X={data:new Uint8Array(T),frames:[],pts:x[0].pts,dts:x[0].dts},Ce=0;Ce<T;)X.data.set(x[0].data.subarray(0,T-Ce),Ce),Ce+=x[0].data.byteLength,N-=x[0].data.byteLength,x.shift();Z=10,X.data[5]&64&&(Z+=4,Z+=_s.parseSyncSafeInteger(X.data.subarray(10,14)),T-=_s.parseSyncSafeInteger(X.data.subarray(16,20)));do{if(J=_s.parseSyncSafeInteger(X.data.subarray(Z+4,Z+8)),J<1){this.trigger("log",{level:"warn",message:"Malformed ID3 frame encountered. Skipping remaining metadata parsing."});break}if(ze=String.fromCharCode(X.data[Z],X.data[Z+1],X.data[Z+2],X.data[Z+3]),pe={id:ze,data:X.data.subarray(Z+10,Z+J+10)},pe.key=pe.id,_s.frameParsers[pe.id]?_s.frameParsers[pe.id](pe):pe.id[0]==="T"?_s.frameParsers["T*"](pe):pe.id[0]==="W"&&_s.frameParsers["W*"](pe),pe.owner==="com.apple.streaming.transportStreamTimestamp"){var xe=pe.data,Ee=(xe[3]&1)<<30|xe[4]<<22|xe[5]<<14|xe[6]<<6|xe[7]>>>2;Ee*=4,Ee+=xe[7]&3,pe.timeStamp=Ee,X.pts===void 0&&X.dts===void 0&&(X.pts=pe.timeStamp,X.dts=pe.timeStamp),this.trigger("timestamp",pe)}X.frames.push(pe),Z+=10,Z+=J}while(Z<T);this.trigger("data",X)}}}},Ro.prototype=new rd;var Vu=Ro,ka=i,sa=Co,ar=Yr,ad=ia.TimestampRolloverStream,Oa,Oi,Ma,Fn=188,Zr=71;Oa=function(){var g=new Uint8Array(Fn),_=0;Oa.prototype.init.call(this),this.push=function(T){var x=0,N=Fn,w;for(_?(w=new Uint8Array(T.byteLength+_),w.set(g.subarray(0,_)),w.set(T,_),_=0):w=T;N<w.byteLength;){if(w[x]===Zr&&w[N]===Zr){this.trigger("data",w.subarray(x,N)),x+=Fn,N+=Fn;continue}x++,N++}x<w.byteLength&&(g.set(w.subarray(x),0),_=w.byteLength-x)},this.flush=function(){_===Fn&&g[0]===Zr&&(this.trigger("data",g),_=0),this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.reset=function(){_=0,this.trigger("reset")}},Oa.prototype=new ka,Oi=function(){var g,_,T,x;Oi.prototype.init.call(this),x=this,this.packetsWaitingForPmt=[],this.programMapTable=void 0,g=function(N,w){var G=0;w.payloadUnitStartIndicator&&(G+=N[G]+1),w.type==="pat"?_(N.subarray(G),w):T(N.subarray(G),w)},_=function(N,w){w.section_number=N[7],w.last_section_number=N[8],x.pmtPid=(N[10]&31)<<8|N[11],w.pmtPid=x.pmtPid},T=function(N,w){var G,X,Z,J;if(N[5]&1){for(x.programMapTable={video:null,audio:null,"timed-metadata":{}},G=(N[1]&15)<<8|N[2],X=3+G-4,Z=(N[10]&15)<<8|N[11],J=12+Z;J<X;){var pe=N[J],Ce=(N[J+1]&31)<<8|N[J+2];pe===ar.H264_STREAM_TYPE&&x.programMapTable.video===null?x.programMapTable.video=Ce:pe===ar.ADTS_STREAM_TYPE&&x.programMapTable.audio===null?x.programMapTable.audio=Ce:pe===ar.METADATA_STREAM_TYPE&&(x.programMapTable["timed-metadata"][Ce]=pe),J+=((N[J+3]&15)<<8|N[J+4])+5}w.programMapTable=x.programMapTable}},this.push=function(N){var w={},G=4;if(w.payloadUnitStartIndicator=!!(N[1]&64),w.pid=N[1]&31,w.pid<<=8,w.pid|=N[2],(N[3]&48)>>>4>1&&(G+=N[G]+1),w.pid===0)w.type="pat",g(N.subarray(G),w),this.trigger("data",w);else if(w.pid===this.pmtPid)for(w.type="pmt",g(N.subarray(G),w),this.trigger("data",w);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,this.packetsWaitingForPmt.shift());else this.programMapTable===void 0?this.packetsWaitingForPmt.push([N,G,w]):this.processPes_(N,G,w)},this.processPes_=function(N,w,G){G.pid===this.programMapTable.video?G.streamType=ar.H264_STREAM_TYPE:G.pid===this.programMapTable.audio?G.streamType=ar.ADTS_STREAM_TYPE:G.streamType=this.programMapTable["timed-metadata"][G.pid],G.type="pes",G.data=N.subarray(w),this.trigger("data",G)}},Oi.prototype=new ka,Oi.STREAM_TYPES={h264:27,adts:15},Ma=function(){var g=this,_=!1,T={data:[],size:0},x={data:[],size:0},N={data:[],size:0},w,G=function(Z,J){var pe;const Ce=Z[0]<<16|Z[1]<<8|Z[2];J.data=new Uint8Array,Ce===1&&(J.packetLength=6+(Z[4]<<8|Z[5]),J.dataAlignmentIndicator=(Z[6]&4)!==0,pe=Z[7],pe&192&&(J.pts=(Z[9]&14)<<27|(Z[10]&255)<<20|(Z[11]&254)<<12|(Z[12]&255)<<5|(Z[13]&254)>>>3,J.pts*=4,J.pts+=(Z[13]&6)>>>1,J.dts=J.pts,pe&64&&(J.dts=(Z[14]&14)<<27|(Z[15]&255)<<20|(Z[16]&254)<<12|(Z[17]&255)<<5|(Z[18]&254)>>>3,J.dts*=4,J.dts+=(Z[18]&6)>>>1)),J.data=Z.subarray(9+Z[8]))},X=function(Z,J,pe){var Ce=new Uint8Array(Z.size),ze={type:J},xe=0,Ee=0,ht=!1,Hn;if(!(!Z.data.length||Z.size<9)){for(ze.trackId=Z.data[0].pid,xe=0;xe<Z.data.length;xe++)Hn=Z.data[xe],Ce.set(Hn.data,Ee),Ee+=Hn.data.byteLength;G(Ce,ze),ht=J==="video"||ze.packetLength<=Z.size,(pe||ht)&&(Z.size=0,Z.data.length=0),ht&&g.trigger("data",ze)}};Ma.prototype.init.call(this),this.push=function(Z){({pat:function(){},pes:function(){var J,pe;switch(Z.streamType){case ar.H264_STREAM_TYPE:J=T,pe="video";break;case ar.ADTS_STREAM_TYPE:J=x,pe="audio";break;case ar.METADATA_STREAM_TYPE:J=N,pe="timed-metadata";break;default:return}Z.payloadUnitStartIndicator&&X(J,pe,!0),J.data.push(Z),J.size+=Z.data.byteLength},pmt:function(){var J={type:"metadata",tracks:[]};w=Z.programMapTable,w.video!==null&&J.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+w.video,codec:"avc",type:"video"}),w.audio!==null&&J.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+w.audio,codec:"adts",type:"audio"}),_=!0,g.trigger("data",J)}})[Z.type]()},this.reset=function(){T.size=0,T.data.length=0,x.size=0,x.data.length=0,this.trigger("reset")},this.flushStreams_=function(){X(T,"video"),X(x,"audio"),X(N,"timed-metadata")},this.flush=function(){if(!_&&w){var Z={type:"metadata",tracks:[]};w.video!==null&&Z.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+w.video,codec:"avc",type:"video"}),w.audio!==null&&Z.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+w.audio,codec:"adts",type:"audio"}),g.trigger("data",Z)}_=!1,this.flushStreams_(),this.trigger("done")}},Ma.prototype=new ka;var od={PAT_PID:0,MP2T_PACKET_LENGTH:Fn,TransportPacketStream:Oa,TransportParseStream:Oi,ElementaryStream:Ma,TimestampRolloverStream:ad,CaptionStream:sa.CaptionStream,Cea608Stream:sa.Cea608Stream,Cea708Stream:sa.Cea708Stream,MetadataStream:Vu};for(var Fu in ar)ar.hasOwnProperty(Fu)&&(od[Fu]=ar[Fu]);var Ia=od,Wr=i,zu=Pt.ONE_SECOND_IN_TS,ko,Hu=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];ko=function(g){var _,T=0;ko.prototype.init.call(this),this.skipWarn_=function(x,N){this.trigger("log",{level:"warn",message:`adts skiping bytes ${x} to ${N} in frame ${T} outside syncword`})},this.push=function(x){var N=0,w,G,X,Z,J;if(g||(T=0),x.type==="audio"){_&&_.length?(X=_,_=new Uint8Array(X.byteLength+x.data.byteLength),_.set(X),_.set(x.data,X.byteLength)):_=x.data;for(var pe;N+7<_.length;){if(_[N]!==255||(_[N+1]&246)!==240){typeof pe!="number"&&(pe=N),N++;continue}if(typeof pe=="number"&&(this.skipWarn_(pe,N),pe=null),G=(~_[N+1]&1)*2,w=(_[N+3]&3)<<11|_[N+4]<<3|(_[N+5]&224)>>5,Z=((_[N+6]&3)+1)*1024,J=Z*zu/Hu[(_[N+2]&60)>>>2],_.byteLength-N<w)break;this.trigger("data",{pts:x.pts+T*J,dts:x.dts+T*J,sampleCount:Z,audioobjecttype:(_[N+2]>>>6&3)+1,channelcount:(_[N+2]&1)<<2|(_[N+3]&192)>>>6,samplerate:Hu[(_[N+2]&60)>>>2],samplingfrequencyindex:(_[N+2]&60)>>>2,samplesize:16,data:_.subarray(N+7+G,N+w)}),T++,N+=w}typeof pe=="number"&&(this.skipWarn_(pe,N),pe=null),_=_.subarray(N)}},this.flush=function(){T=0,this.trigger("done")},this.reset=function(){_=void 0,this.trigger("reset")},this.endTimeline=function(){_=void 0,this.trigger("endedtimeline")}},ko.prototype=new Wr;var aa=ko,$u;$u=function(g){var _=g.byteLength,T=0,x=0;this.length=function(){return 8*_},this.bitsAvailable=function(){return 8*_+x},this.loadWord=function(){var N=g.byteLength-_,w=new Uint8Array(4),G=Math.min(4,_);if(G===0)throw new Error("no bytes available");w.set(g.subarray(N,N+G)),T=new DataView(w.buffer).getUint32(0),x=G*8,_-=G},this.skipBits=function(N){var w;x>N?(T<<=N,x-=N):(N-=x,w=Math.floor(N/8),N-=w*8,_-=w,this.loadWord(),T<<=N,x-=N)},this.readBits=function(N){var w=Math.min(x,N),G=T>>>32-w;return x-=w,x>0?T<<=w:_>0&&this.loadWord(),w=N-w,w>0?G<<w|this.readBits(w):G},this.skipLeadingZeros=function(){var N;for(N=0;N<x;++N)if((T&2147483648>>>N)!==0)return T<<=N,x-=N,N;return this.loadWord(),N+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var N=this.skipLeadingZeros();return this.readBits(N+1)-1},this.readExpGolomb=function(){var N=this.readUnsignedExpGolomb();return 1&N?1+N>>>1:-1*(N>>>1)},this.readBoolean=function(){return this.readBits(1)===1},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()};var El=$u,La=i,ld=El,Qn,Oo,Pa;Oo=function(){var g=0,_,T;Oo.prototype.init.call(this),this.push=function(x){var N;T?(N=new Uint8Array(T.byteLength+x.data.byteLength),N.set(T),N.set(x.data,T.byteLength),T=N):T=x.data;for(var w=T.byteLength;g<w-3;g++)if(T[g+2]===1){_=g+5;break}for(;_<w;)switch(T[_]){case 0:if(T[_-1]!==0){_+=2;break}else if(T[_-2]!==0){_++;break}g+3!==_-2&&this.trigger("data",T.subarray(g+3,_-2));do _++;while(T[_]!==1&&_<w);g=_-2,_+=3;break;case 1:if(T[_-1]!==0||T[_-2]!==0){_+=3;break}this.trigger("data",T.subarray(g+3,_-2)),g=_-2,_+=3;break;default:_+=3;break}T=T.subarray(g),_-=g,g=0},this.reset=function(){T=null,g=0,this.trigger("reset")},this.flush=function(){T&&T.byteLength>3&&this.trigger("data",T.subarray(g+3)),T=null,g=0,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")}},Oo.prototype=new La,Pa={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},Qn=function(){var g=new Oo,_,T,x,N,w,G,X;Qn.prototype.init.call(this),_=this,this.push=function(Z){Z.type==="video"&&(T=Z.trackId,x=Z.pts,N=Z.dts,g.push(Z))},g.on("data",function(Z){var J={trackId:T,pts:x,dts:N,data:Z,nalUnitTypeCode:Z[0]&31};switch(J.nalUnitTypeCode){case 5:J.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:J.nalUnitType="sei_rbsp",J.escapedRBSP=w(Z.subarray(1));break;case 7:J.nalUnitType="seq_parameter_set_rbsp",J.escapedRBSP=w(Z.subarray(1)),J.config=G(J.escapedRBSP);break;case 8:J.nalUnitType="pic_parameter_set_rbsp";break;case 9:J.nalUnitType="access_unit_delimiter_rbsp";break}_.trigger("data",J)}),g.on("done",function(){_.trigger("done")}),g.on("partialdone",function(){_.trigger("partialdone")}),g.on("reset",function(){_.trigger("reset")}),g.on("endedtimeline",function(){_.trigger("endedtimeline")}),this.flush=function(){g.flush()},this.partialFlush=function(){g.partialFlush()},this.reset=function(){g.reset()},this.endTimeline=function(){g.endTimeline()},X=function(Z,J){var pe=8,Ce=8,ze,xe;for(ze=0;ze<Z;ze++)Ce!==0&&(xe=J.readExpGolomb(),Ce=(pe+xe+256)%256),pe=Ce===0?pe:Ce},w=function(Z){for(var J=Z.byteLength,pe=[],Ce=1,ze,xe;Ce<J-2;)Z[Ce]===0&&Z[Ce+1]===0&&Z[Ce+2]===3?(pe.push(Ce+2),Ce+=2):Ce++;if(pe.length===0)return Z;ze=J-pe.length,xe=new Uint8Array(ze);var Ee=0;for(Ce=0;Ce<ze;Ee++,Ce++)Ee===pe[0]&&(Ee++,pe.shift()),xe[Ce]=Z[Ee];return xe},G=function(Z){var J=0,pe=0,Ce=0,ze=0,xe,Ee,ht,Hn,Bt,Os,zo,$l,Ho,uc,ql,sn=[1,1],$o,mn;if(xe=new ld(Z),Ee=xe.readUnsignedByte(),Hn=xe.readUnsignedByte(),ht=xe.readUnsignedByte(),xe.skipUnsignedExpGolomb(),Pa[Ee]&&(Bt=xe.readUnsignedExpGolomb(),Bt===3&&xe.skipBits(1),xe.skipUnsignedExpGolomb(),xe.skipUnsignedExpGolomb(),xe.skipBits(1),xe.readBoolean()))for(ql=Bt!==3?8:12,mn=0;mn<ql;mn++)xe.readBoolean()&&(mn<6?X(16,xe):X(64,xe));if(xe.skipUnsignedExpGolomb(),Os=xe.readUnsignedExpGolomb(),Os===0)xe.readUnsignedExpGolomb();else if(Os===1)for(xe.skipBits(1),xe.skipExpGolomb(),xe.skipExpGolomb(),zo=xe.readUnsignedExpGolomb(),mn=0;mn<zo;mn++)xe.skipExpGolomb();if(xe.skipUnsignedExpGolomb(),xe.skipBits(1),$l=xe.readUnsignedExpGolomb(),Ho=xe.readUnsignedExpGolomb(),uc=xe.readBits(1),uc===0&&xe.skipBits(1),xe.skipBits(1),xe.readBoolean()&&(J=xe.readUnsignedExpGolomb(),pe=xe.readUnsignedExpGolomb(),Ce=xe.readUnsignedExpGolomb(),ze=xe.readUnsignedExpGolomb()),xe.readBoolean()&&xe.readBoolean()){switch($o=xe.readUnsignedByte(),$o){case 1:sn=[1,1];break;case 2:sn=[12,11];break;case 3:sn=[10,11];break;case 4:sn=[16,11];break;case 5:sn=[40,33];break;case 6:sn=[24,11];break;case 7:sn=[20,11];break;case 8:sn=[32,11];break;case 9:sn=[80,33];break;case 10:sn=[18,11];break;case 11:sn=[15,11];break;case 12:sn=[64,33];break;case 13:sn=[160,99];break;case 14:sn=[4,3];break;case 15:sn=[3,2];break;case 16:sn=[2,1];break;case 255:{sn=[xe.readUnsignedByte()<<8|xe.readUnsignedByte(),xe.readUnsignedByte()<<8|xe.readUnsignedByte()];break}}sn&&sn[0]/sn[1]}return{profileIdc:Ee,levelIdc:ht,profileCompatibility:Hn,width:($l+1)*16-J*2-pe*2,height:(2-uc)*(Ho+1)*16-Ce*2-ze*2,sarRatio:sn}}},Qn.prototype=new La;var qu={H264Stream:Qn},Gu=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],Xu=function(g,_){var T=g[_+6]<<21|g[_+7]<<14|g[_+8]<<7|g[_+9],x=g[_+5],N=(x&16)>>4;return T=T>=0?T:0,N?T+20:T+10},Yu=function(g,_){return g.length-_<10||g[_]!==73||g[_+1]!==68||g[_+2]!==51?_:(_+=Xu(g,_),Yu(g,_))},ud=function(g){var _=Yu(g,0);return g.length>=_+2&&(g[_]&255)===255&&(g[_+1]&240)===240&&(g[_+1]&22)===16},Nl=function(g){return g[0]<<21|g[1]<<14|g[2]<<7|g[3]},cd=function(g,_,T){var x,N="";for(x=_;x<T;x++)N+="%"+("00"+g[x].toString(16)).slice(-2);return N},Kr=function(g,_,T){return unescape(cd(g,_,T))},Rr=function(g,_){var T=(g[_+5]&224)>>5,x=g[_+4]<<3,N=g[_+3]&6144;return N|x|T},Qu=function(g,_){return g[_]===73&&g[_+1]===68&&g[_+2]===51?"timed-metadata":g[_]&!0&&(g[_+1]&240)===240?"audio":null},Cl=function(g){for(var _=0;_+5<g.length;){if(g[_]!==255||(g[_+1]&246)!==240){_++;continue}return Gu[(g[_+2]&60)>>>2]}return null},Zu=function(g){var _,T,x,N;_=10,g[5]&64&&(_+=4,_+=Nl(g.subarray(10,14)));do{if(T=Nl(g.subarray(_+4,_+8)),T<1)return null;if(N=String.fromCharCode(g[_],g[_+1],g[_+2],g[_+3]),N==="PRIV"){x=g.subarray(_+10,_+T+10);for(var w=0;w<x.byteLength;w++)if(x[w]===0){var G=Kr(x,0,w);if(G==="com.apple.streaming.transportStreamTimestamp"){var X=x.subarray(w+1),Z=(X[3]&1)<<30|X[4]<<22|X[5]<<14|X[6]<<6|X[7]>>>2;return Z*=4,Z+=X[7]&3,Z}break}}_+=10,_+=T}while(_<g.byteLength);return null},xs={isLikelyAacData:ud,parseId3TagSize:Xu,parseAdtsSize:Rr,parseType:Qu,parseSampleRate:Cl,parseAacTimestamp:Zu},uf=i,Wu=xs,Mo;Mo=function(){var g=new Uint8Array,_=0;Mo.prototype.init.call(this),this.setTimestamp=function(T){_=T},this.push=function(T){var x=0,N=0,w,G,X,Z;for(g.length?(Z=g.length,g=new Uint8Array(T.byteLength+Z),g.set(g.subarray(0,Z)),g.set(T,Z)):g=T;g.length-N>=3;){if(g[N]===73&&g[N+1]===68&&g[N+2]===51){if(g.length-N<10||(x=Wu.parseId3TagSize(g,N),N+x>g.length))break;G={type:"timed-metadata",data:g.subarray(N,N+x)},this.trigger("data",G),N+=x;continue}else if((g[N]&255)===255&&(g[N+1]&240)===240){if(g.length-N<7||(x=Wu.parseAdtsSize(g,N),N+x>g.length))break;X={type:"audio",data:g.subarray(N,N+x),pts:_,dts:_},this.trigger("data",X),N+=x;continue}N++}w=g.length-N,w>0?g=g.subarray(N):g=new Uint8Array},this.reset=function(){g=new Uint8Array,this.trigger("reset")},this.endTimeline=function(){g=new Uint8Array,this.trigger("endedtimeline")}},Mo.prototype=new uf;var Jr=Mo,Io=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],Dl=Io,dd=["width","height","profileIdc","levelIdc","profileCompatibility","sarRatio"],Ku=dd,Lo=i,Ts=gt,Ba=Kn,kr=rr,On=Se,zn=Ia,Al=Pt,wl=aa,Or=qu.H264Stream,hd=Jr,or=xs.isLikelyAacData,Mr=Pt.ONE_SECOND_IN_TS,Po=Dl,ja=Ku,Ua,Si,Va,lr,fd=function(g,_){_.stream=g,this.trigger("log",_)},md=function(g,_){for(var T=Object.keys(_),x=0;x<T.length;x++){var N=T[x];N==="headOfPipeline"||!_[N].on||_[N].on("log",fd.bind(g,N))}},Rl=function(g,_){var T;if(g.length!==_.length)return!1;for(T=0;T<g.length;T++)if(g[T]!==_[T])return!1;return!0},Ju=function(g,_,T,x,N,w){var G=T-_,X=x-_,Z=N-T;return{start:{dts:g,pts:g+G},end:{dts:g+X,pts:g+Z},prependedContentDuration:w,baseMediaDecodeTime:g}};Si=function(g,_){var T=[],x,N=0,w=0,G=1/0;_=_||{},x=_.firstSequenceNumber||0,Si.prototype.init.call(this),this.push=function(X){On.collectDtsInfo(g,X),g&&Po.forEach(function(Z){g[Z]=X[Z]}),T.push(X)},this.setEarliestDts=function(X){N=X},this.setVideoBaseMediaDecodeTime=function(X){G=X},this.setAudioAppendStart=function(X){w=X},this.flush=function(){var X,Z,J,pe,Ce,ze,xe;if(T.length===0){this.trigger("done","AudioSegmentStream");return}X=kr.trimAdtsFramesByEarliestDts(T,g,N),g.baseMediaDecodeTime=On.calculateTrackBaseMediaDecodeTime(g,_.keepOriginalTimestamps),xe=kr.prefixWithSilence(g,X,w,G),g.samples=kr.generateSampleTable(X),J=Ts.mdat(kr.concatenateFrameData(X)),T=[],Z=Ts.moof(x,[g]),pe=new Uint8Array(Z.byteLength+J.byteLength),x++,pe.set(Z),pe.set(J,Z.byteLength),On.clearDtsInfo(g),Ce=Math.ceil(Mr*1024/g.samplerate),X.length&&(ze=X.length*Ce,this.trigger("segmentTimingInfo",Ju(Al.audioTsToVideoTs(g.baseMediaDecodeTime,g.samplerate),X[0].dts,X[0].pts,X[0].dts+ze,X[0].pts+ze,xe||0)),this.trigger("timingInfo",{start:X[0].pts,end:X[0].pts+ze})),this.trigger("data",{track:g,boxes:pe}),this.trigger("done","AudioSegmentStream")},this.reset=function(){On.clearDtsInfo(g),T=[],this.trigger("reset")}},Si.prototype=new Lo,Ua=function(g,_){var T,x=[],N=[],w,G;_=_||{},T=_.firstSequenceNumber||0,Ua.prototype.init.call(this),delete g.minPTS,this.gopCache_=[],this.push=function(X){On.collectDtsInfo(g,X),X.nalUnitType==="seq_parameter_set_rbsp"&&!w&&(w=X.config,g.sps=[X.data],ja.forEach(function(Z){g[Z]=w[Z]},this)),X.nalUnitType==="pic_parameter_set_rbsp"&&!G&&(G=X.data,g.pps=[X.data]),x.push(X)},this.flush=function(){for(var X,Z,J,pe,Ce,ze,xe=0,Ee,ht;x.length&&x[0].nalUnitType!=="access_unit_delimiter_rbsp";)x.shift();if(x.length===0){this.resetStream_(),this.trigger("done","VideoSegmentStream");return}if(X=Ba.groupNalsIntoFrames(x),J=Ba.groupFramesIntoGops(X),J[0][0].keyFrame||(Z=this.getGopForFusion_(x[0],g),Z?(xe=Z.duration,J.unshift(Z),J.byteLength+=Z.byteLength,J.nalCount+=Z.nalCount,J.pts=Z.pts,J.dts=Z.dts,J.duration+=Z.duration):J=Ba.extendFirstKeyFrame(J)),N.length){var Hn;if(_.alignGopsAtEnd?Hn=this.alignGopsAtEnd_(J):Hn=this.alignGopsAtStart_(J),!Hn){this.gopCache_.unshift({gop:J.pop(),pps:g.pps,sps:g.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),x=[],this.resetStream_(),this.trigger("done","VideoSegmentStream");return}On.clearDtsInfo(g),J=Hn}On.collectDtsInfo(g,J),g.samples=Ba.generateSampleTable(J),Ce=Ts.mdat(Ba.concatenateNalData(J)),g.baseMediaDecodeTime=On.calculateTrackBaseMediaDecodeTime(g,_.keepOriginalTimestamps),this.trigger("processedGopsInfo",J.map(function(Bt){return{pts:Bt.pts,dts:Bt.dts,byteLength:Bt.byteLength}})),Ee=J[0],ht=J[J.length-1],this.trigger("segmentTimingInfo",Ju(g.baseMediaDecodeTime,Ee.dts,Ee.pts,ht.dts+ht.duration,ht.pts+ht.duration,xe)),this.trigger("timingInfo",{start:J[0].pts,end:J[J.length-1].pts+J[J.length-1].duration}),this.gopCache_.unshift({gop:J.pop(),pps:g.pps,sps:g.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),x=[],this.trigger("baseMediaDecodeTime",g.baseMediaDecodeTime),this.trigger("timelineStartInfo",g.timelineStartInfo),pe=Ts.moof(T,[g]),ze=new Uint8Array(pe.byteLength+Ce.byteLength),T++,ze.set(pe),ze.set(Ce,pe.byteLength),this.trigger("data",{track:g,boxes:ze}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.reset=function(){this.resetStream_(),x=[],this.gopCache_.length=0,N.length=0,this.trigger("reset")},this.resetStream_=function(){On.clearDtsInfo(g),w=void 0,G=void 0},this.getGopForFusion_=function(X){var Z=45e3,J=1/0,pe,Ce,ze,xe,Ee;for(Ee=0;Ee<this.gopCache_.length;Ee++)xe=this.gopCache_[Ee],ze=xe.gop,!(!(g.pps&&Rl(g.pps[0],xe.pps[0]))||!(g.sps&&Rl(g.sps[0],xe.sps[0])))&&(ze.dts<g.timelineStartInfo.dts||(pe=X.dts-ze.dts-ze.duration,pe>=-1e4&&pe<=Z&&(!Ce||J>pe)&&(Ce=xe,J=pe)));return Ce?Ce.gop:null},this.alignGopsAtStart_=function(X){var Z,J,pe,Ce,ze,xe,Ee,ht;for(ze=X.byteLength,xe=X.nalCount,Ee=X.duration,Z=J=0;Z<N.length&&J<X.length&&(pe=N[Z],Ce=X[J],pe.pts!==Ce.pts);){if(Ce.pts>pe.pts){Z++;continue}J++,ze-=Ce.byteLength,xe-=Ce.nalCount,Ee-=Ce.duration}return J===0?X:J===X.length?null:(ht=X.slice(J),ht.byteLength=ze,ht.duration=Ee,ht.nalCount=xe,ht.pts=ht[0].pts,ht.dts=ht[0].dts,ht)},this.alignGopsAtEnd_=function(X){var Z,J,pe,Ce,ze,xe;for(Z=N.length-1,J=X.length-1,ze=null,xe=!1;Z>=0&&J>=0;){if(pe=N[Z],Ce=X[J],pe.pts===Ce.pts){xe=!0;break}if(pe.pts>Ce.pts){Z--;continue}Z===N.length-1&&(ze=J),J--}if(!xe&&ze===null)return null;var Ee;if(xe?Ee=J:Ee=ze,Ee===0)return X;var ht=X.slice(Ee),Hn=ht.reduce(function(Bt,Os){return Bt.byteLength+=Os.byteLength,Bt.duration+=Os.duration,Bt.nalCount+=Os.nalCount,Bt},{byteLength:0,duration:0,nalCount:0});return ht.byteLength=Hn.byteLength,ht.duration=Hn.duration,ht.nalCount=Hn.nalCount,ht.pts=ht[0].pts,ht.dts=ht[0].dts,ht},this.alignGopsWith=function(X){N=X}},Ua.prototype=new Lo,lr=function(g,_){this.numberOfTracks=0,this.metadataStream=_,g=g||{},typeof g.remux<"u"?this.remuxTracks=!!g.remux:this.remuxTracks=!0,typeof g.keepOriginalTimestamps=="boolean"?this.keepOriginalTimestamps=g.keepOriginalTimestamps:this.keepOriginalTimestamps=!1,this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,lr.prototype.init.call(this),this.push=function(T){if(T.content||T.text)return this.pendingCaptions.push(T);if(T.frames)return this.pendingMetadata.push(T);this.pendingTracks.push(T.track),this.pendingBytes+=T.boxes.byteLength,T.track.type==="video"&&(this.videoTrack=T.track,this.pendingBoxes.push(T.boxes)),T.track.type==="audio"&&(this.audioTrack=T.track,this.pendingBoxes.unshift(T.boxes))}},lr.prototype=new Lo,lr.prototype.flush=function(g){var _=0,T={captions:[],captionStreams:{},metadata:[],info:{}},x,N,w,G=0,X;if(this.pendingTracks.length<this.numberOfTracks){if(g!=="VideoSegmentStream"&&g!=="AudioSegmentStream")return;if(this.remuxTracks)return;if(this.pendingTracks.length===0){this.emittedTracks++,this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0);return}}if(this.videoTrack?(G=this.videoTrack.timelineStartInfo.pts,ja.forEach(function(Z){T.info[Z]=this.videoTrack[Z]},this)):this.audioTrack&&(G=this.audioTrack.timelineStartInfo.pts,Po.forEach(function(Z){T.info[Z]=this.audioTrack[Z]},this)),this.videoTrack||this.audioTrack){for(this.pendingTracks.length===1?T.type=this.pendingTracks[0].type:T.type="combined",this.emittedTracks+=this.pendingTracks.length,w=Ts.initSegment(this.pendingTracks),T.initSegment=new Uint8Array(w.byteLength),T.initSegment.set(w),T.data=new Uint8Array(this.pendingBytes),X=0;X<this.pendingBoxes.length;X++)T.data.set(this.pendingBoxes[X],_),_+=this.pendingBoxes[X].byteLength;for(X=0;X<this.pendingCaptions.length;X++)x=this.pendingCaptions[X],x.startTime=Al.metadataTsToSeconds(x.startPts,G,this.keepOriginalTimestamps),x.endTime=Al.metadataTsToSeconds(x.endPts,G,this.keepOriginalTimestamps),T.captionStreams[x.stream]=!0,T.captions.push(x);for(X=0;X<this.pendingMetadata.length;X++)N=this.pendingMetadata[X],N.cueTime=Al.metadataTsToSeconds(N.pts,G,this.keepOriginalTimestamps),T.metadata.push(N);for(T.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",T),X=0;X<T.captions.length;X++)x=T.captions[X],this.trigger("caption",x);for(X=0;X<T.metadata.length;X++)N=T.metadata[X],this.trigger("id3Frame",N)}this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},lr.prototype.setRemux=function(g){this.remuxTracks=g},Va=function(g){var _=this,T=!0,x,N;Va.prototype.init.call(this),g=g||{},this.baseMediaDecodeTime=g.baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var w={};this.transmuxPipeline_=w,w.type="aac",w.metadataStream=new zn.MetadataStream,w.aacStream=new hd,w.audioTimestampRolloverStream=new zn.TimestampRolloverStream("audio"),w.timedMetadataTimestampRolloverStream=new zn.TimestampRolloverStream("timed-metadata"),w.adtsStream=new wl,w.coalesceStream=new lr(g,w.metadataStream),w.headOfPipeline=w.aacStream,w.aacStream.pipe(w.audioTimestampRolloverStream).pipe(w.adtsStream),w.aacStream.pipe(w.timedMetadataTimestampRolloverStream).pipe(w.metadataStream).pipe(w.coalesceStream),w.metadataStream.on("timestamp",function(G){w.aacStream.setTimestamp(G.timeStamp)}),w.aacStream.on("data",function(G){G.type!=="timed-metadata"&&G.type!=="audio"||w.audioSegmentStream||(N=N||{timelineStartInfo:{baseMediaDecodeTime:_.baseMediaDecodeTime},codec:"adts",type:"audio"},w.coalesceStream.numberOfTracks++,w.audioSegmentStream=new Si(N,g),w.audioSegmentStream.on("log",_.getLogTrigger_("audioSegmentStream")),w.audioSegmentStream.on("timingInfo",_.trigger.bind(_,"audioTimingInfo")),w.adtsStream.pipe(w.audioSegmentStream).pipe(w.coalesceStream),_.trigger("trackinfo",{hasAudio:!!N,hasVideo:!!x}))}),w.coalesceStream.on("data",this.trigger.bind(this,"data")),w.coalesceStream.on("done",this.trigger.bind(this,"done")),md(this,w)},this.setupTsPipeline=function(){var w={};this.transmuxPipeline_=w,w.type="ts",w.metadataStream=new zn.MetadataStream,w.packetStream=new zn.TransportPacketStream,w.parseStream=new zn.TransportParseStream,w.elementaryStream=new zn.ElementaryStream,w.timestampRolloverStream=new zn.TimestampRolloverStream,w.adtsStream=new wl,w.h264Stream=new Or,w.captionStream=new zn.CaptionStream(g),w.coalesceStream=new lr(g,w.metadataStream),w.headOfPipeline=w.packetStream,w.packetStream.pipe(w.parseStream).pipe(w.elementaryStream).pipe(w.timestampRolloverStream),w.timestampRolloverStream.pipe(w.h264Stream),w.timestampRolloverStream.pipe(w.adtsStream),w.timestampRolloverStream.pipe(w.metadataStream).pipe(w.coalesceStream),w.h264Stream.pipe(w.captionStream).pipe(w.coalesceStream),w.elementaryStream.on("data",function(G){var X;if(G.type==="metadata"){for(X=G.tracks.length;X--;)!x&&G.tracks[X].type==="video"?(x=G.tracks[X],x.timelineStartInfo.baseMediaDecodeTime=_.baseMediaDecodeTime):!N&&G.tracks[X].type==="audio"&&(N=G.tracks[X],N.timelineStartInfo.baseMediaDecodeTime=_.baseMediaDecodeTime);x&&!w.videoSegmentStream&&(w.coalesceStream.numberOfTracks++,w.videoSegmentStream=new Ua(x,g),w.videoSegmentStream.on("log",_.getLogTrigger_("videoSegmentStream")),w.videoSegmentStream.on("timelineStartInfo",function(Z){N&&!g.keepOriginalTimestamps&&(N.timelineStartInfo=Z,w.audioSegmentStream.setEarliestDts(Z.dts-_.baseMediaDecodeTime))}),w.videoSegmentStream.on("processedGopsInfo",_.trigger.bind(_,"gopInfo")),w.videoSegmentStream.on("segmentTimingInfo",_.trigger.bind(_,"videoSegmentTimingInfo")),w.videoSegmentStream.on("baseMediaDecodeTime",function(Z){N&&w.audioSegmentStream.setVideoBaseMediaDecodeTime(Z)}),w.videoSegmentStream.on("timingInfo",_.trigger.bind(_,"videoTimingInfo")),w.h264Stream.pipe(w.videoSegmentStream).pipe(w.coalesceStream)),N&&!w.audioSegmentStream&&(w.coalesceStream.numberOfTracks++,w.audioSegmentStream=new Si(N,g),w.audioSegmentStream.on("log",_.getLogTrigger_("audioSegmentStream")),w.audioSegmentStream.on("timingInfo",_.trigger.bind(_,"audioTimingInfo")),w.audioSegmentStream.on("segmentTimingInfo",_.trigger.bind(_,"audioSegmentTimingInfo")),w.adtsStream.pipe(w.audioSegmentStream).pipe(w.coalesceStream)),_.trigger("trackinfo",{hasAudio:!!N,hasVideo:!!x})}}),w.coalesceStream.on("data",this.trigger.bind(this,"data")),w.coalesceStream.on("id3Frame",function(G){G.dispatchType=w.metadataStream.dispatchType,_.trigger("id3Frame",G)}),w.coalesceStream.on("caption",this.trigger.bind(this,"caption")),w.coalesceStream.on("done",this.trigger.bind(this,"done")),md(this,w)},this.setBaseMediaDecodeTime=function(w){var G=this.transmuxPipeline_;g.keepOriginalTimestamps||(this.baseMediaDecodeTime=w),N&&(N.timelineStartInfo.dts=void 0,N.timelineStartInfo.pts=void 0,On.clearDtsInfo(N),G.audioTimestampRolloverStream&&G.audioTimestampRolloverStream.discontinuity()),x&&(G.videoSegmentStream&&(G.videoSegmentStream.gopCache_=[]),x.timelineStartInfo.dts=void 0,x.timelineStartInfo.pts=void 0,On.clearDtsInfo(x),G.captionStream.reset()),G.timestampRolloverStream&&G.timestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(w){N&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(w)},this.setRemux=function(w){var G=this.transmuxPipeline_;g.remux=w,G&&G.coalesceStream&&G.coalesceStream.setRemux(w)},this.alignGopsWith=function(w){x&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(w)},this.getLogTrigger_=function(w){var G=this;return function(X){X.stream=w,G.trigger("log",X)}},this.push=function(w){if(T){var G=or(w);G&&this.transmuxPipeline_.type!=="aac"?this.setupAacPipeline():!G&&this.transmuxPipeline_.type!=="ts"&&this.setupTsPipeline(),T=!1}this.transmuxPipeline_.headOfPipeline.push(w)},this.flush=function(){T=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.endTimeline=function(){this.transmuxPipeline_.headOfPipeline.endTimeline()},this.reset=function(){this.transmuxPipeline_.headOfPipeline&&this.transmuxPipeline_.headOfPipeline.reset()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}},Va.prototype=new Lo;var pd={Transmuxer:Va},Bo=function(g){return g>>>0},kl=function(g){return("00"+g.toString(16)).slice(-2)},oa={toUnsigned:Bo,toHexString:kl},jo=function(g){var _="";return _+=String.fromCharCode(g[0]),_+=String.fromCharCode(g[1]),_+=String.fromCharCode(g[2]),_+=String.fromCharCode(g[3]),_},ni=jo,gd=oa.toUnsigned,Ol=ni,Ss=function(g,_){var T=[],x,N,w,G,X;if(!_.length)return null;for(x=0;x<g.byteLength;)N=gd(g[x]<<24|g[x+1]<<16|g[x+2]<<8|g[x+3]),w=Ol(g.subarray(x+4,x+8)),G=N>1?x+N:g.byteLength,w===_[0]&&(_.length===1?T.push(g.subarray(x+8,G)):(X=Ss(g.subarray(x+8,G),_.slice(1)),X.length&&(T=T.concat(X)))),x=G;return T},la=Ss,ec=oa.toUnsigned,bd=l.getUint64,Ml=function(g){var _={version:g[0],flags:new Uint8Array(g.subarray(1,4))};return _.version===1?_.baseMediaDecodeTime=bd(g.subarray(4)):_.baseMediaDecodeTime=ec(g[4]<<24|g[5]<<16|g[6]<<8|g[7]),_},R=Ml,z=function(g){var _=new DataView(g.buffer,g.byteOffset,g.byteLength),T={version:g[0],flags:new Uint8Array(g.subarray(1,4)),trackId:_.getUint32(4)},x=T.flags[2]&1,N=T.flags[2]&2,w=T.flags[2]&8,G=T.flags[2]&16,X=T.flags[2]&32,Z=T.flags[0]&65536,J=T.flags[0]&131072,pe;return pe=8,x&&(pe+=4,T.baseDataOffset=_.getUint32(12),pe+=4),N&&(T.sampleDescriptionIndex=_.getUint32(pe),pe+=4),w&&(T.defaultSampleDuration=_.getUint32(pe),pe+=4),G&&(T.defaultSampleSize=_.getUint32(pe),pe+=4),X&&(T.defaultSampleFlags=_.getUint32(pe)),Z&&(T.durationIsEmpty=!0),!x&&J&&(T.baseDataOffsetIsMoof=!0),T},Y=z,ne=function(g){return{isLeading:(g[0]&12)>>>2,dependsOn:g[0]&3,isDependedOn:(g[1]&192)>>>6,hasRedundancy:(g[1]&48)>>>4,paddingValue:(g[1]&14)>>>1,isNonSyncSample:g[1]&1,degradationPriority:g[2]<<8|g[3]}},ye=ne,me=ye,Me=function(g){var _={version:g[0],flags:new Uint8Array(g.subarray(1,4)),samples:[]},T=new DataView(g.buffer,g.byteOffset,g.byteLength),x=_.flags[2]&1,N=_.flags[2]&4,w=_.flags[1]&1,G=_.flags[1]&2,X=_.flags[1]&4,Z=_.flags[1]&8,J=T.getUint32(4),pe=8,Ce;for(x&&(_.dataOffset=T.getInt32(pe),pe+=4),N&&J&&(Ce={flags:me(g.subarray(pe,pe+4))},pe+=4,w&&(Ce.duration=T.getUint32(pe),pe+=4),G&&(Ce.size=T.getUint32(pe),pe+=4),Z&&(_.version===1?Ce.compositionTimeOffset=T.getInt32(pe):Ce.compositionTimeOffset=T.getUint32(pe),pe+=4),_.samples.push(Ce),J--);J--;)Ce={},w&&(Ce.duration=T.getUint32(pe),pe+=4),G&&(Ce.size=T.getUint32(pe),pe+=4),X&&(Ce.flags=me(g.subarray(pe,pe+4)),pe+=4),Z&&(_.version===1?Ce.compositionTimeOffset=T.getInt32(pe):Ce.compositionTimeOffset=T.getUint32(pe),pe+=4),_.samples.push(Ce);return _},Fe=Me,dt={tfdt:R,trun:Fe},at={parseTfdt:dt.tfdt,parseTrun:dt.trun},Vt=function(g){for(var _=0,T=String.fromCharCode(g[_]),x="";T!=="\0";)x+=T,_++,T=String.fromCharCode(g[_]);return x+=T,x},fn={uint8ToCString:Vt},Fa=fn.uint8ToCString,Il=l.getUint64,cf=function(g){var _=4,T=g[0],x,N,w,G,X,Z,J,pe;if(T===0){x=Fa(g.subarray(_)),_+=x.length,N=Fa(g.subarray(_)),_+=N.length;var Ce=new DataView(g.buffer);w=Ce.getUint32(_),_+=4,X=Ce.getUint32(_),_+=4,Z=Ce.getUint32(_),_+=4,J=Ce.getUint32(_),_+=4}else if(T===1){var Ce=new DataView(g.buffer);w=Ce.getUint32(_),_+=4,G=Il(g.subarray(_)),_+=8,Z=Ce.getUint32(_),_+=4,J=Ce.getUint32(_),_+=4,x=Fa(g.subarray(_)),_+=x.length,N=Fa(g.subarray(_)),_+=N.length}pe=new Uint8Array(g.subarray(_,g.byteLength));var ze={scheme_id_uri:x,value:N,timescale:w||1,presentation_time:G,presentation_time_delta:X,event_duration:Z,id:J,message_data:pe};return xp(T,ze)?ze:void 0},_p=function(g,_,T,x){return g||g===0?g/_:x+T/_},xp=function(g,_){var T=_.scheme_id_uri!=="\0",x=g===0&&ua(_.presentation_time_delta)&&T,N=g===1&&ua(_.presentation_time)&&T;return!(g>1)&&x||N},ua=function(g){return g!==void 0||g!==null},Uo={parseEmsgBox:cf,scaleTime:_p},Ll;typeof window<"u"?Ll=window:typeof n<"u"?Ll=n:typeof self<"u"?Ll=self:Ll={};var tc=Ll,es=oa.toUnsigned,Pl=oa.toHexString,Mn=la,ts=ni,ca=Uo,df=Y,nc=Fe,hf=R,yd=l.getUint64,da,Es,vd,_d,Vo,Bl,za,rn=tc,xd=wo.parseId3Frames;da=function(g){var _={},T=Mn(g,["moov","trak"]);return T.reduce(function(x,N){var w,G,X,Z,J;return w=Mn(N,["tkhd"])[0],!w||(G=w[0],X=G===0?12:20,Z=es(w[X]<<24|w[X+1]<<16|w[X+2]<<8|w[X+3]),J=Mn(N,["mdia","mdhd"])[0],!J)?null:(G=J[0],X=G===0?12:20,x[Z]=es(J[X]<<24|J[X+1]<<16|J[X+2]<<8|J[X+3]),x)},_)},Es=function(g,_){var T;T=Mn(_,["moof","traf"]);var x=T.reduce(function(N,w){var G=Mn(w,["tfhd"])[0],X=es(G[4]<<24|G[5]<<16|G[6]<<8|G[7]),Z=g[X]||9e4,J=Mn(w,["tfdt"])[0],pe=new DataView(J.buffer,J.byteOffset,J.byteLength),Ce;J[0]===1?Ce=yd(J.subarray(4,12)):Ce=pe.getUint32(4);let ze;return typeof Ce=="bigint"?ze=Ce/rn.BigInt(Z):typeof Ce=="number"&&!isNaN(Ce)&&(ze=Ce/Z),ze<Number.MAX_SAFE_INTEGER&&(ze=Number(ze)),ze<N&&(N=ze),N},1/0);return typeof x=="bigint"||isFinite(x)?x:0},vd=function(g,_){var T=Mn(_,["moof","traf"]),x=0,N=0,w;if(T&&T.length){var G=Mn(T[0],["tfhd"])[0],X=Mn(T[0],["trun"])[0],Z=Mn(T[0],["tfdt"])[0];if(G){var J=df(G);w=J.trackId}if(Z){var pe=hf(Z);x=pe.baseMediaDecodeTime}if(X){var Ce=nc(X);Ce.samples&&Ce.samples.length&&(N=Ce.samples[0].compositionTimeOffset||0)}}var ze=g[w]||9e4;typeof x=="bigint"&&(N=rn.BigInt(N),ze=rn.BigInt(ze));var xe=(x+N)/ze;return typeof xe=="bigint"&&xe<Number.MAX_SAFE_INTEGER&&(xe=Number(xe)),xe},_d=function(g){var _=Mn(g,["moov","trak"]),T=[];return _.forEach(function(x){var N=Mn(x,["mdia","hdlr"]),w=Mn(x,["tkhd"]);N.forEach(function(G,X){var Z=ts(G.subarray(8,12)),J=w[X],pe,Ce,ze;Z==="vide"&&(pe=new DataView(J.buffer,J.byteOffset,J.byteLength),Ce=pe.getUint8(0),ze=Ce===0?pe.getUint32(12):pe.getUint32(20),T.push(ze))})}),T},Bl=function(g){var _=g[0],T=_===0?12:20;return es(g[T]<<24|g[T+1]<<16|g[T+2]<<8|g[T+3])},Vo=function(g){var _=Mn(g,["moov","trak"]),T=[];return _.forEach(function(x){var N={},w=Mn(x,["tkhd"])[0],G,X;w&&(G=new DataView(w.buffer,w.byteOffset,w.byteLength),X=G.getUint8(0),N.id=X===0?G.getUint32(12):G.getUint32(20));var Z=Mn(x,["mdia","hdlr"])[0];if(Z){var J=ts(Z.subarray(8,12));J==="vide"?N.type="video":J==="soun"?N.type="audio":N.type=J}var pe=Mn(x,["mdia","minf","stbl","stsd"])[0];if(pe){var Ce=pe.subarray(8);N.codec=ts(Ce.subarray(4,8));var ze=Mn(Ce,[N.codec])[0],xe,Ee;ze&&(/^[asm]vc[1-9]$/i.test(N.codec)?(xe=ze.subarray(78),Ee=ts(xe.subarray(4,8)),Ee==="avcC"&&xe.length>11?(N.codec+=".",N.codec+=Pl(xe[9]),N.codec+=Pl(xe[10]),N.codec+=Pl(xe[11])):N.codec="avc1.4d400d"):/^mp4[a,v]$/i.test(N.codec)?(xe=ze.subarray(28),Ee=ts(xe.subarray(4,8)),Ee==="esds"&&xe.length>20&&xe[19]!==0?(N.codec+="."+Pl(xe[19]),N.codec+="."+Pl(xe[20]>>>2&63).replace(/^0/,"")):N.codec="mp4a.40.2"):N.codec=N.codec.toLowerCase())}var ht=Mn(x,["mdia","mdhd"])[0];ht&&(N.timescale=Bl(ht)),T.push(N)}),T},za=function(g,_=0){var T=Mn(g,["emsg"]);return T.map(x=>{var N=ca.parseEmsgBox(new Uint8Array(x)),w=xd(N.message_data);return{cueTime:ca.scaleTime(N.presentation_time,N.timescale,N.presentation_time_delta,_),duration:ca.scaleTime(N.event_duration,N.timescale),frames:w}})};var jl={findBox:Mn,parseType:ts,timescale:da,startTime:Es,compositionStartTime:vd,videoTrackIds:_d,tracks:Vo,getTimescaleFromMediaHeader:Bl,getEmsgID3:za};const{parseTrun:ff}=at,{findBox:Ha}=jl;var Ul=tc,Ns=function(g){var _=Ha(g,["moof","traf"]),T=Ha(g,["mdat"]),x=[];return T.forEach(function(N,w){var G=_[w];x.push({mdat:N,traf:G})}),x},z0=function(g,_,T){var x=_,N=T.defaultSampleDuration||0,w=T.defaultSampleSize||0,G=T.trackId,X=[];return g.forEach(function(Z){var J=ff(Z),pe=J.samples;pe.forEach(function(Ce){Ce.duration===void 0&&(Ce.duration=N),Ce.size===void 0&&(Ce.size=w),Ce.trackId=G,Ce.dts=x,Ce.compositionTimeOffset===void 0&&(Ce.compositionTimeOffset=0),typeof x=="bigint"?(Ce.pts=x+Ul.BigInt(Ce.compositionTimeOffset),x+=Ul.BigInt(Ce.duration)):(Ce.pts=x+Ce.compositionTimeOffset,x+=Ce.duration)}),X=X.concat(pe)}),X},Cs={getMdatTrafPairs:Ns,parseSamples:z0},Td=Cn.discardEmulationPreventionBytes,ic=Co.CaptionStream,Vl=la,ur=R,cr=Y,{getMdatTrafPairs:Ds,parseSamples:As}=Cs,ws=function(g,_){for(var T=g,x=0;x<_.length;x++){var N=_[x];if(T<N.size)return N;T-=N.size}return null},Rs=function(g,_,T){var x=new DataView(g.buffer,g.byteOffset,g.byteLength),N={logs:[],seiNals:[]},w,G,X,Z;for(G=0;G+4<g.length;G+=X)if(X=x.getUint32(G),G+=4,!(X<=0))switch(g[G]&31){case 6:var J=g.subarray(G+1,G+1+X),pe=ws(G,_);if(w={nalUnitType:"sei_rbsp",size:X,data:J,escapedRBSP:Td(J),trackId:T},pe)w.pts=pe.pts,w.dts=pe.dts,Z=pe;else if(Z)w.pts=Z.pts,w.dts=Z.dts;else{N.logs.push({level:"warn",message:"We've encountered a nal unit without data at "+G+" for trackId "+T+". See mux.js#223."});break}N.seiNals.push(w);break}return N},mf=function(g,_){var T={},x=Ds(g);return x.forEach(function(N){var w=N.mdat,G=N.traf,X=Vl(G,["tfhd"]),Z=cr(X[0]),J=Z.trackId,pe=Vl(G,["tfdt"]),Ce=pe.length>0?ur(pe[0]).baseMediaDecodeTime:0,ze=Vl(G,["trun"]),xe,Ee;_===J&&ze.length>0&&(xe=As(ze,Ce,Z),Ee=Rs(w,xe,J),T[J]||(T[J]={seiNals:[],logs:[]}),T[J].seiNals=T[J].seiNals.concat(Ee.seiNals),T[J].logs=T[J].logs.concat(Ee.logs))}),T},pf=function(g,_,T){var x;if(_===null)return null;x=mf(g,_);var N=x[_]||{};return{seiNals:N.seiNals,logs:N.logs,timescale:T}},Tp=function(){var g=!1,_,T,x,N,w,G;this.isInitialized=function(){return g},this.init=function(X){_=new ic,g=!0,G=X?X.isPartial:!1,_.on("data",function(Z){Z.startTime=Z.startPts/N,Z.endTime=Z.endPts/N,w.captions.push(Z),w.captionStreams[Z.stream]=!0}),_.on("log",function(Z){w.logs.push(Z)})},this.isNewInit=function(X,Z){return X&&X.length===0||Z&&typeof Z=="object"&&Object.keys(Z).length===0?!1:x!==X[0]||N!==Z[x]},this.parse=function(X,Z,J){var pe;if(this.isInitialized()){if(!Z||!J)return null;if(this.isNewInit(Z,J))x=Z[0],N=J[x];else if(x===null||!N)return T.push(X),null}else return null;for(;T.length>0;){var Ce=T.shift();this.parse(Ce,Z,J)}return pe=pf(X,x,N),pe&&pe.logs&&(w.logs=w.logs.concat(pe.logs)),pe===null||!pe.seiNals?w.logs.length?{logs:w.logs,captions:[],captionStreams:[]}:null:(this.pushNals(pe.seiNals),this.flushStream(),w)},this.pushNals=function(X){if(!this.isInitialized()||!X||X.length===0)return null;X.forEach(function(Z){_.push(Z)})},this.flushStream=function(){if(!this.isInitialized())return null;G?_.partialFlush():_.flush()},this.clearParsedCaptions=function(){w.captions=[],w.captionStreams={},w.logs=[]},this.resetCaptionStream=function(){if(!this.isInitialized())return null;_.reset()},this.clearAllCaptions=function(){this.clearParsedCaptions(),this.resetCaptionStream()},this.reset=function(){T=[],x=null,N=null,w?this.clearParsedCaptions():w={captions:[],captionStreams:{},logs:[]},this.resetCaptionStream()},this.reset()},ks=Tp;const{parseTfdt:Sp}=at,Ei=la,{getTimescaleFromMediaHeader:rc}=jl,{parseSamples:H0,getMdatTrafPairs:Ep}=Cs;var Sd=function(){let g=9e4;this.init=function(_){const T=Ei(_,["moov","trak","mdia","mdhd"])[0];T&&(g=rc(T))},this.parseSegment=function(_){const T=[],x=Ep(_);let N=0;return x.forEach(function(w){const G=w.mdat,X=w.traf,Z=Ei(X,["tfdt"])[0],J=Ei(X,["tfhd"])[0],pe=Ei(X,["trun"]);if(Z&&(N=Sp(Z).baseMediaDecodeTime),pe.length&&J){const Ce=H0(pe,N,J);let ze=0;Ce.forEach(function(xe){const Ee="utf-8",ht=new TextDecoder(Ee),Hn=G.slice(ze,ze+xe.size);if(Ei(Hn,["vtte"])[0]){ze+=xe.size;return}Ei(Hn,["vttc"]).forEach(function(zo){const $l=Ei(zo,["payl"])[0],Ho=Ei(zo,["sttg"])[0],uc=xe.pts/g,ql=(xe.pts+xe.duration)/g;let sn,$o;if($l)try{sn=ht.decode($l)}catch(mn){console.error(mn)}if(Ho)try{$o=ht.decode(Ho)}catch(mn){console.error(mn)}xe.duration&&sn&&T.push({cueText:sn,start:uc,end:ql,settings:$o})}),ze+=xe.size})}}),T}},Fl=Yr,gf=function(g){var _=g[1]&31;return _<<=8,_|=g[2],_},sc=function(g){return!!(g[1]&64)},ac=function(g){var _=0;return(g[3]&48)>>>4>1&&(_+=g[4]+1),_},Np=function(g,_){var T=gf(g);return T===0?"pat":T===_?"pmt":_?"pes":null},$a=function(g){var _=sc(g),T=4+ac(g);return _&&(T+=g[T]+1),(g[T+10]&31)<<8|g[T+11]},Cp=function(g){var _={},T=sc(g),x=4+ac(g);if(T&&(x+=g[x]+1),!!(g[x+5]&1)){var N,w,G;N=(g[x+1]&15)<<8|g[x+2],w=3+N-4,G=(g[x+10]&15)<<8|g[x+11];for(var X=12+G;X<w;){var Z=x+X;_[(g[Z+1]&31)<<8|g[Z+2]]=g[Z],X+=((g[Z+3]&15)<<8|g[Z+4])+5}return _}},Dp=function(g,_){var T=gf(g),x=_[T];switch(x){case Fl.H264_STREAM_TYPE:return"video";case Fl.ADTS_STREAM_TYPE:return"audio";case Fl.METADATA_STREAM_TYPE:return"timed-metadata";default:return null}},Ni=function(g){var _=sc(g);if(!_)return null;var T=4+ac(g);if(T>=g.byteLength)return null;var x=null,N;return N=g[T+7],N&192&&(x={},x.pts=(g[T+9]&14)<<27|(g[T+10]&255)<<20|(g[T+11]&254)<<12|(g[T+12]&255)<<5|(g[T+13]&254)>>>3,x.pts*=4,x.pts+=(g[T+13]&6)>>>1,x.dts=x.pts,N&64&&(x.dts=(g[T+14]&14)<<27|(g[T+15]&255)<<20|(g[T+16]&254)<<12|(g[T+17]&255)<<5|(g[T+18]&254)>>>3,x.dts*=4,x.dts+=(g[T+18]&6)>>>1)),x},oc=function(g){switch(g){case 5:return"slice_layer_without_partitioning_rbsp_idr";case 6:return"sei_rbsp";case 7:return"seq_parameter_set_rbsp";case 8:return"pic_parameter_set_rbsp";case 9:return"access_unit_delimiter_rbsp";default:return null}},Ed=function(g){for(var _=4+ac(g),T=g.subarray(_),x=0,N=0,w=!1,G;N<T.byteLength-3;N++)if(T[N+2]===1){x=N+5;break}for(;x<T.byteLength;)switch(T[x]){case 0:if(T[x-1]!==0){x+=2;break}else if(T[x-2]!==0){x++;break}N+3!==x-2&&(G=oc(T[N+3]&31),G==="slice_layer_without_partitioning_rbsp_idr"&&(w=!0));do x++;while(T[x]!==1&&x<T.length);N=x-2,x+=3;break;case 1:if(T[x-1]!==0||T[x-2]!==0){x+=3;break}G=oc(T[N+3]&31),G==="slice_layer_without_partitioning_rbsp_idr"&&(w=!0),N=x-2,x+=3;break;default:x+=3;break}return T=T.subarray(N),x-=N,N=0,T&&T.byteLength>3&&(G=oc(T[N+3]&31),G==="slice_layer_without_partitioning_rbsp_idr"&&(w=!0)),w},Nd={parseType:Np,parsePat:$a,parsePmt:Cp,parsePayloadUnitStartIndicator:sc,parsePesType:Dp,parsePesTime:Ni,videoPacketContainsKeyFrame:Ed},zl=Yr,Fo=ia.handleRollover,Ft={};Ft.ts=Nd,Ft.aac=xs;var qa=Pt.ONE_SECOND_IN_TS,li=188,ns=71,Cd=function(g,_){for(var T=0,x=li,N,w;x<g.byteLength;){if(g[T]===ns&&g[x]===ns){switch(N=g.subarray(T,x),w=Ft.ts.parseType(N,_.pid),w){case"pat":_.pid=Ft.ts.parsePat(N);break;case"pmt":var G=Ft.ts.parsePmt(N);_.table=_.table||{},Object.keys(G).forEach(function(X){_.table[X]=G[X]});break}T+=li,x+=li;continue}T++,x++}},bf=function(g,_,T){for(var x=0,N=li,w,G,X,Z,J,pe=!1;N<=g.byteLength;){if(g[x]===ns&&(g[N]===ns||N===g.byteLength)){switch(w=g.subarray(x,N),G=Ft.ts.parseType(w,_.pid),G){case"pes":X=Ft.ts.parsePesType(w,_.table),Z=Ft.ts.parsePayloadUnitStartIndicator(w),X==="audio"&&Z&&(J=Ft.ts.parsePesTime(w),J&&(J.type="audio",T.audio.push(J),pe=!0));break}if(pe)break;x+=li,N+=li;continue}x++,N++}for(N=g.byteLength,x=N-li,pe=!1;x>=0;){if(g[x]===ns&&(g[N]===ns||N===g.byteLength)){switch(w=g.subarray(x,N),G=Ft.ts.parseType(w,_.pid),G){case"pes":X=Ft.ts.parsePesType(w,_.table),Z=Ft.ts.parsePayloadUnitStartIndicator(w),X==="audio"&&Z&&(J=Ft.ts.parsePesTime(w),J&&(J.type="audio",T.audio.push(J),pe=!0));break}if(pe)break;x-=li,N-=li;continue}x--,N--}},Ap=function(g,_,T){for(var x=0,N=li,w,G,X,Z,J,pe,Ce,ze,xe=!1,Ee={data:[],size:0};N<g.byteLength;){if(g[x]===ns&&g[N]===ns){switch(w=g.subarray(x,N),G=Ft.ts.parseType(w,_.pid),G){case"pes":if(X=Ft.ts.parsePesType(w,_.table),Z=Ft.ts.parsePayloadUnitStartIndicator(w),X==="video"&&(Z&&!xe&&(J=Ft.ts.parsePesTime(w),J&&(J.type="video",T.video.push(J),xe=!0)),!T.firstKeyFrame)){if(Z&&Ee.size!==0){for(pe=new Uint8Array(Ee.size),Ce=0;Ee.data.length;)ze=Ee.data.shift(),pe.set(ze,Ce),Ce+=ze.byteLength;if(Ft.ts.videoPacketContainsKeyFrame(pe)){var ht=Ft.ts.parsePesTime(pe);ht?(T.firstKeyFrame=ht,T.firstKeyFrame.type="video"):console.warn("Failed to extract PTS/DTS from PES at first keyframe. This could be an unusual TS segment, or else mux.js did not parse your TS segment correctly. If you know your TS segments do contain PTS/DTS on keyframes please file a bug report! You can try ffprobe to double check for yourself.")}Ee.size=0}Ee.data.push(w),Ee.size+=w.byteLength}break}if(xe&&T.firstKeyFrame)break;x+=li,N+=li;continue}x++,N++}for(N=g.byteLength,x=N-li,xe=!1;x>=0;){if(g[x]===ns&&g[N]===ns){switch(w=g.subarray(x,N),G=Ft.ts.parseType(w,_.pid),G){case"pes":X=Ft.ts.parsePesType(w,_.table),Z=Ft.ts.parsePayloadUnitStartIndicator(w),X==="video"&&Z&&(J=Ft.ts.parsePesTime(w),J&&(J.type="video",T.video.push(J),xe=!0));break}if(xe)break;x-=li,N-=li;continue}x--,N--}},yf=function(g,_){if(g.audio&&g.audio.length){var T=_;(typeof T>"u"||isNaN(T))&&(T=g.audio[0].dts),g.audio.forEach(function(w){w.dts=Fo(w.dts,T),w.pts=Fo(w.pts,T),w.dtsTime=w.dts/qa,w.ptsTime=w.pts/qa})}if(g.video&&g.video.length){var x=_;if((typeof x>"u"||isNaN(x))&&(x=g.video[0].dts),g.video.forEach(function(w){w.dts=Fo(w.dts,x),w.pts=Fo(w.pts,x),w.dtsTime=w.dts/qa,w.ptsTime=w.pts/qa}),g.firstKeyFrame){var N=g.firstKeyFrame;N.dts=Fo(N.dts,x),N.pts=Fo(N.pts,x),N.dtsTime=N.dts/qa,N.ptsTime=N.pts/qa}}},vf=function(g){for(var _=!1,T=0,x=null,N=null,w=0,G=0,X;g.length-G>=3;){var Z=Ft.aac.parseType(g,G);switch(Z){case"timed-metadata":if(g.length-G<10){_=!0;break}if(w=Ft.aac.parseId3TagSize(g,G),w>g.length){_=!0;break}N===null&&(X=g.subarray(G,G+w),N=Ft.aac.parseAacTimestamp(X)),G+=w;break;case"audio":if(g.length-G<7){_=!0;break}if(w=Ft.aac.parseAdtsSize(g,G),w>g.length){_=!0;break}x===null&&(X=g.subarray(G,G+w),x=Ft.aac.parseSampleRate(X)),T++,G+=w;break;default:G++;break}if(_)return null}if(x===null||N===null)return null;var J=qa/x,pe={audio:[{type:"audio",dts:N,pts:N},{type:"audio",dts:N+T*1024*J,pts:N+T*1024*J}]};return pe},Ga=function(g){var _={pid:null,table:null},T={};Cd(g,_);for(var x in _.table)if(_.table.hasOwnProperty(x)){var N=_.table[x];switch(N){case zl.H264_STREAM_TYPE:T.video=[],Ap(g,_,T),T.video.length===0&&delete T.video;break;case zl.ADTS_STREAM_TYPE:T.audio=[],bf(g,_,T),T.audio.length===0&&delete T.audio;break}}return T},Xa=function(g,_){var T=Ft.aac.isLikelyAacData(g),x;return T?x=vf(g):x=Ga(g),!x||!x.audio&&!x.video?null:(yf(x,_),x)},lc={inspect:Xa,parseAudioPes_:bf};const Dd=function(g,_){_.on("data",function(T){const x=T.initSegment;T.initSegment={data:x.buffer,byteOffset:x.byteOffset,byteLength:x.byteLength};const N=T.data;T.data=N.buffer,g.postMessage({action:"data",segment:T,byteOffset:N.byteOffset,byteLength:N.byteLength},[T.data])}),_.on("done",function(T){g.postMessage({action:"done"})}),_.on("gopInfo",function(T){g.postMessage({action:"gopInfo",gopInfo:T})}),_.on("videoSegmentTimingInfo",function(T){const x={start:{decode:Pt.videoTsToSeconds(T.start.dts),presentation:Pt.videoTsToSeconds(T.start.pts)},end:{decode:Pt.videoTsToSeconds(T.end.dts),presentation:Pt.videoTsToSeconds(T.end.pts)},baseMediaDecodeTime:Pt.videoTsToSeconds(T.baseMediaDecodeTime)};T.prependedContentDuration&&(x.prependedContentDuration=Pt.videoTsToSeconds(T.prependedContentDuration)),g.postMessage({action:"videoSegmentTimingInfo",videoSegmentTimingInfo:x})}),_.on("audioSegmentTimingInfo",function(T){const x={start:{decode:Pt.videoTsToSeconds(T.start.dts),presentation:Pt.videoTsToSeconds(T.start.pts)},end:{decode:Pt.videoTsToSeconds(T.end.dts),presentation:Pt.videoTsToSeconds(T.end.pts)},baseMediaDecodeTime:Pt.videoTsToSeconds(T.baseMediaDecodeTime)};T.prependedContentDuration&&(x.prependedContentDuration=Pt.videoTsToSeconds(T.prependedContentDuration)),g.postMessage({action:"audioSegmentTimingInfo",audioSegmentTimingInfo:x})}),_.on("id3Frame",function(T){g.postMessage({action:"id3Frame",id3Frame:T})}),_.on("caption",function(T){g.postMessage({action:"caption",caption:T})}),_.on("trackinfo",function(T){g.postMessage({action:"trackinfo",trackInfo:T})}),_.on("audioTimingInfo",function(T){g.postMessage({action:"audioTimingInfo",audioTimingInfo:{start:Pt.videoTsToSeconds(T.start),end:Pt.videoTsToSeconds(T.end)}})}),_.on("videoTimingInfo",function(T){g.postMessage({action:"videoTimingInfo",videoTimingInfo:{start:Pt.videoTsToSeconds(T.start),end:Pt.videoTsToSeconds(T.end)}})}),_.on("log",function(T){g.postMessage({action:"log",log:T})})};class Hl{constructor(_,T){this.options=T||{},this.self=_,this.init()}init(){this.transmuxer&&this.transmuxer.dispose(),this.transmuxer=new pd.Transmuxer(this.options),Dd(this.self,this.transmuxer)}pushMp4Captions(_){this.captionParser||(this.captionParser=new ks,this.captionParser.init());const T=new Uint8Array(_.data,_.byteOffset,_.byteLength),x=this.captionParser.parse(T,_.trackIds,_.timescales);this.self.postMessage({action:"mp4Captions",captions:x&&x.captions||[],logs:x&&x.logs||[],data:T.buffer},[T.buffer])}initMp4WebVttParser(_){this.webVttParser||(this.webVttParser=new Sd);const T=new Uint8Array(_.data,_.byteOffset,_.byteLength);this.webVttParser.init(T)}getMp4WebVttText(_){this.webVttParser||(this.webVttParser=new Sd);const T=new Uint8Array(_.data,_.byteOffset,_.byteLength),x=this.webVttParser.parseSegment(T);this.self.postMessage({action:"getMp4WebVttText",mp4VttCues:x||[],data:T.buffer},[T.buffer])}probeMp4StartTime({timescales:_,data:T}){const x=jl.startTime(_,T);this.self.postMessage({action:"probeMp4StartTime",startTime:x,data:T},[T.buffer])}probeMp4Tracks({data:_}){const T=jl.tracks(_);this.self.postMessage({action:"probeMp4Tracks",tracks:T,data:_},[_.buffer])}probeEmsgID3({data:_,offset:T}){const x=jl.getEmsgID3(_,T);this.self.postMessage({action:"probeEmsgID3",id3Frames:x,emsgData:_},[_.buffer])}probeTs({data:_,baseStartTime:T}){const x=typeof T=="number"&&!isNaN(T)?T*Pt.ONE_SECOND_IN_TS:void 0,N=lc.inspect(_,x);let w=null;N&&(w={hasVideo:N.video&&N.video.length===2||!1,hasAudio:N.audio&&N.audio.length===2||!1},w.hasVideo&&(w.videoStart=N.video[0].ptsTime),w.hasAudio&&(w.audioStart=N.audio[0].ptsTime)),this.self.postMessage({action:"probeTs",result:w,data:_},[_.buffer])}clearAllMp4Captions(){this.captionParser&&this.captionParser.clearAllCaptions()}clearParsedMp4Captions(){this.captionParser&&this.captionParser.clearParsedCaptions()}push(_){const T=new Uint8Array(_.data,_.byteOffset,_.byteLength);this.transmuxer.push(T)}reset(){this.transmuxer.reset()}setTimestampOffset(_){const T=_.timestampOffset||0;this.transmuxer.setBaseMediaDecodeTime(Math.round(Pt.secondsToVideoTs(T)))}setAudioAppendStart(_){this.transmuxer.setAudioAppendStart(Math.ceil(Pt.secondsToVideoTs(_.appendStart)))}setRemux(_){this.transmuxer.setRemux(_.remux)}flush(_){this.transmuxer.flush(),self.postMessage({action:"done",type:"transmuxed"})}endTimeline(){this.transmuxer.endTimeline(),self.postMessage({action:"endedtimeline",type:"transmuxed"})}alignGopsWith(_){this.transmuxer.alignGopsWith(_.gopsToAlignWith.slice())}}self.onmessage=function(g){if(g.data.action==="init"&&g.data.options){this.messageHandlers=new Hl(self,g.data.options);return}this.messageHandlers||(this.messageHandlers=new Hl(self)),g.data&&g.data.action&&g.data.action!=="init"&&this.messageHandlers[g.data.action]&&this.messageHandlers[g.data.action](g.data)}}));var RB=P4(wB);const kB=(n,e,i)=>{const{type:s,initSegment:o,captions:l,captionStreams:c,metadata:d,videoFrameDtsTime:m,videoFramePtsTime:p}=n.data.segment;e.buffer.push({captions:l,captionStreams:c,metadata:d});const v=n.data.segment.boxes||{data:n.data.segment.data},E={type:s,data:new Uint8Array(v.data,v.data.byteOffset,v.data.byteLength),initSegment:new Uint8Array(o.data,o.byteOffset,o.byteLength)};typeof m<"u"&&(E.videoFrameDtsTime=m),typeof p<"u"&&(E.videoFramePtsTime=p),i(E)},OB=({transmuxedData:n,callback:e})=>{n.buffer=[],e(n)},MB=(n,e)=>{e.gopInfo=n.data.gopInfo},U4=n=>{const{transmuxer:e,bytes:i,audioAppendStart:s,gopsToAlignWith:o,remux:l,onData:c,onTrackInfo:d,onAudioTimingInfo:m,onVideoTimingInfo:p,onVideoSegmentTimingInfo:v,onAudioSegmentTimingInfo:E,onId3:C,onCaptions:D,onDone:P,onEndedTimeline:A,onTransmuxerLog:U,isEndOfTimeline:M,segment:B,triggerSegmentEventFn:L}=n,H={buffer:[]};let Q=M;const se=te=>{e.currentTransmux===n&&(te.data.action==="data"&&kB(te,H,c),te.data.action==="trackinfo"&&d(te.data.trackInfo),te.data.action==="gopInfo"&&MB(te,H),te.data.action==="audioTimingInfo"&&m(te.data.audioTimingInfo),te.data.action==="videoTimingInfo"&&p(te.data.videoTimingInfo),te.data.action==="videoSegmentTimingInfo"&&v(te.data.videoSegmentTimingInfo),te.data.action==="audioSegmentTimingInfo"&&E(te.data.audioSegmentTimingInfo),te.data.action==="id3Frame"&&C([te.data.id3Frame],te.data.id3Frame.dispatchType),te.data.action==="caption"&&D(te.data.caption),te.data.action==="endedtimeline"&&(Q=!1,A()),te.data.action==="log"&&U(te.data.log),te.data.type==="transmuxed"&&(Q||(e.onmessage=null,OB({transmuxedData:H,callback:P}),V4(e))))},q=()=>{const te={message:"Received an error message from the transmuxer worker",metadata:{errorType:_e.Error.StreamingFailedToTransmuxSegment,segmentInfo:Hc({segment:B})}};P(null,te)};if(e.onmessage=se,e.onerror=q,s&&e.postMessage({action:"setAudioAppendStart",appendStart:s}),Array.isArray(o)&&e.postMessage({action:"alignGopsWith",gopsToAlignWith:o}),typeof l<"u"&&e.postMessage({action:"setRemux",remux:l}),i.byteLength){const te=i instanceof ArrayBuffer?i:i.buffer,I=i instanceof ArrayBuffer?0:i.byteOffset;L({type:"segmenttransmuxingstart",segment:B}),e.postMessage({action:"push",data:te,byteOffset:I,byteLength:i.byteLength},[te])}M&&e.postMessage({action:"endTimeline"}),e.postMessage({action:"flush"})},V4=n=>{n.currentTransmux=null,n.transmuxQueue.length&&(n.currentTransmux=n.transmuxQueue.shift(),typeof n.currentTransmux=="function"?n.currentTransmux():U4(n.currentTransmux))},gA=(n,e)=>{n.postMessage({action:e}),V4(n)},F4=(n,e)=>{if(!e.currentTransmux){e.currentTransmux=n,gA(e,n);return}e.transmuxQueue.push(gA.bind(null,e,n))},IB=n=>{F4("reset",n)},LB=n=>{F4("endTimeline",n)},z4=n=>{if(!n.transmuxer.currentTransmux){n.transmuxer.currentTransmux=n,U4(n);return}n.transmuxer.transmuxQueue.push(n)},PB=n=>{const e=new RB;e.currentTransmux=null,e.transmuxQueue=[];const i=e.terminate;return e.terminate=()=>(e.currentTransmux=null,e.transmuxQueue.length=0,i.call(e)),e.postMessage({action:"init",options:n}),e};var Sx={reset:IB,endTimeline:LB,transmux:z4,createTransmuxer:PB};const Lh=function(n){const e=n.transmuxer,i=n.endAction||n.action,s=n.callback,o=ai({},n,{endAction:null,transmuxer:null,callback:null}),l=c=>{c.data.action===i&&(e.removeEventListener("message",l),c.data.data&&(c.data.data=new Uint8Array(c.data.data,n.byteOffset||0,n.byteLength||c.data.data.byteLength),n.data&&(n.data=c.data.data)),s(c.data))};if(e.addEventListener("message",l),n.data){const c=n.data instanceof ArrayBuffer;o.byteOffset=c?0:n.data.byteOffset,o.byteLength=n.data.byteLength;const d=[c?n.data:n.data.buffer];e.postMessage(o,d)}else e.postMessage(o)},yo={FAILURE:2,TIMEOUT:-101,ABORTED:-102},H4="wvtt",e1=n=>{n.forEach(e=>{e.abort()})},BB=n=>({bandwidth:n.bandwidth,bytesReceived:n.bytesReceived||0,roundTripTime:n.roundTripTime||0}),jB=n=>{const e=n.target,s={bandwidth:1/0,bytesReceived:0,roundTripTime:Date.now()-e.requestTime||0};return s.bytesReceived=n.loaded,s.bandwidth=Math.floor(s.bytesReceived/s.roundTripTime*8*1e3),s},aT=(n,e)=>{const{requestType:i}=e,s=Zc({requestType:i,request:e,error:n});return e.timedout?{status:e.status,message:"HLS request timed-out at URL: "+e.uri,code:yo.TIMEOUT,xhr:e,metadata:s}:e.aborted?{status:e.status,message:"HLS request aborted at URL: "+e.uri,code:yo.ABORTED,xhr:e,metadata:s}:n?{status:e.status,message:"HLS request errored at URL: "+e.uri,code:yo.FAILURE,xhr:e,metadata:s}:e.responseType==="arraybuffer"&&e.response.byteLength===0?{status:e.status,message:"Empty HLS response at URL: "+e.uri,code:yo.FAILURE,xhr:e,metadata:s}:null},bA=(n,e,i,s)=>(o,l)=>{const c=l.response,d=aT(o,l);if(d)return i(d,n);if(c.byteLength!==16)return i({status:l.status,message:"Invalid HLS key at URL: "+l.uri,code:yo.FAILURE,xhr:l},n);const m=new DataView(c),p=new Uint32Array([m.getUint32(0),m.getUint32(4),m.getUint32(8),m.getUint32(12)]);for(let E=0;E<e.length;E++)e[E].bytes=p;const v={uri:l.uri};return s({type:"segmentkeyloadcomplete",segment:n,keyInfo:v}),i(null,n)},UB=(n,e)=>{e===H4&&n.transmuxer.postMessage({action:"initMp4WebVttParser",data:n.map.bytes})},VB=(n,e,i)=>{e===H4&&Lh({action:"getMp4WebVttText",data:n.bytes,transmuxer:n.transmuxer,callback:({data:s,mp4VttCues:o})=>{n.bytes=s,i(null,n,{mp4VttCues:o})}})},$4=(n,e)=>{const i=w1(n.map.bytes);if(i!=="mp4"){const s=n.map.resolvedUri||n.map.uri,o=i||"unknown";return e({internal:!0,message:`Found unsupported ${o} container for initialization segment at URL: ${s}`,code:yo.FAILURE,metadata:{mediaType:o}})}Lh({action:"probeMp4Tracks",data:n.map.bytes,transmuxer:n.transmuxer,callback:({tracks:s,data:o})=>(n.map.bytes=o,s.forEach(function(l){n.map.tracks=n.map.tracks||{},!n.map.tracks[l.type]&&(n.map.tracks[l.type]=l,typeof l.id=="number"&&l.timescale&&(n.map.timescales=n.map.timescales||{},n.map.timescales[l.id]=l.timescale),l.type==="text"&&UB(n,l.codec))}),e(null))})},FB=({segment:n,finishProcessingFn:e,triggerSegmentEventFn:i})=>(s,o)=>{const l=aT(s,o);if(l)return e(l,n);const c=new Uint8Array(o.response);if(i({type:"segmentloaded",segment:n}),n.map.key)return n.map.encryptedBytes=c,e(null,n);n.map.bytes=c,$4(n,function(d){if(d)return d.xhr=o,d.status=o.status,e(d,n);e(null,n)})},zB=({segment:n,finishProcessingFn:e,responseType:i,triggerSegmentEventFn:s})=>(o,l)=>{const c=aT(o,l);if(c)return e(c,n);s({type:"segmentloaded",segment:n});const d=i==="arraybuffer"||!l.responseText?l.response:DB(l.responseText.substring(n.lastReachedChar||0));return n.stats=BB(l),n.key?n.encryptedBytes=new Uint8Array(d):n.bytes=new Uint8Array(d),e(null,n)},HB=({segment:n,bytes:e,trackInfoFn:i,timingInfoFn:s,videoSegmentTimingInfoFn:o,audioSegmentTimingInfoFn:l,id3Fn:c,captionsFn:d,isEndOfTimeline:m,endedTimelineFn:p,dataFn:v,doneFn:E,onTransmuxerLog:C,triggerSegmentEventFn:D})=>{const P=n.map&&n.map.tracks||{},A=!!(P.audio&&P.video);let U=s.bind(null,n,"audio","start");const M=s.bind(null,n,"audio","end");let B=s.bind(null,n,"video","start");const L=s.bind(null,n,"video","end"),H=()=>z4({bytes:e,transmuxer:n.transmuxer,audioAppendStart:n.audioAppendStart,gopsToAlignWith:n.gopsToAlignWith,remux:A,onData:Q=>{Q.type=Q.type==="combined"?"video":Q.type,v(n,Q)},onTrackInfo:Q=>{i&&(A&&(Q.isMuxed=!0),i(n,Q))},onAudioTimingInfo:Q=>{U&&typeof Q.start<"u"&&(U(Q.start),U=null),M&&typeof Q.end<"u"&&M(Q.end)},onVideoTimingInfo:Q=>{B&&typeof Q.start<"u"&&(B(Q.start),B=null),L&&typeof Q.end<"u"&&L(Q.end)},onVideoSegmentTimingInfo:Q=>{const se={pts:{start:Q.start.presentation,end:Q.end.presentation},dts:{start:Q.start.decode,end:Q.end.decode}};D({type:"segmenttransmuxingtiminginfoavailable",segment:n,timingInfo:se}),o(Q)},onAudioSegmentTimingInfo:Q=>{const se={pts:{start:Q.start.pts,end:Q.end.pts},dts:{start:Q.start.dts,end:Q.end.dts}};D({type:"segmenttransmuxingtiminginfoavailable",segment:n,timingInfo:se}),l(Q)},onId3:(Q,se)=>{c(n,Q,se)},onCaptions:Q=>{d(n,[Q])},isEndOfTimeline:m,onEndedTimeline:()=>{p()},onTransmuxerLog:C,onDone:(Q,se)=>{E&&(Q.type=Q.type==="combined"?"video":Q.type,D({type:"segmenttransmuxingcomplete",segment:n}),E(se,n,Q))},segment:n,triggerSegmentEventFn:D});Lh({action:"probeTs",transmuxer:n.transmuxer,data:e,baseStartTime:n.baseStartTime,callback:Q=>{n.bytes=e=Q.data;const se=Q.result;se&&(i(n,{hasAudio:se.hasAudio,hasVideo:se.hasVideo,isMuxed:A}),i=null),H()}})},q4=({segment:n,bytes:e,trackInfoFn:i,timingInfoFn:s,videoSegmentTimingInfoFn:o,audioSegmentTimingInfoFn:l,id3Fn:c,captionsFn:d,isEndOfTimeline:m,endedTimelineFn:p,dataFn:v,doneFn:E,onTransmuxerLog:C,triggerSegmentEventFn:D})=>{let P=new Uint8Array(e);if(cP(P)){n.isFmp4=!0;const{tracks:A}=n.map;if(A.text&&(!A.audio||!A.video)){v(n,{data:P,type:"text"}),VB(n,A.text.codec,E);return}const M={isFmp4:!0,hasVideo:!!A.video,hasAudio:!!A.audio};A.audio&&A.audio.codec&&A.audio.codec!=="enca"&&(M.audioCodec=A.audio.codec),A.video&&A.video.codec&&A.video.codec!=="encv"&&(M.videoCodec=A.video.codec),A.video&&A.audio&&(M.isMuxed=!0),i(n,M);const B=(L,H)=>{v(n,{data:P,type:M.hasAudio&&!M.isMuxed?"audio":"video"}),H&&H.length&&c(n,H),L&&L.length&&d(n,L),E(null,n,{})};Lh({action:"probeMp4StartTime",timescales:n.map.timescales,data:P,transmuxer:n.transmuxer,callback:({data:L,startTime:H})=>{e=L.buffer,n.bytes=P=L,M.hasAudio&&!M.isMuxed&&s(n,"audio","start",H),M.hasVideo&&s(n,"video","start",H),Lh({action:"probeEmsgID3",data:P,transmuxer:n.transmuxer,offset:H,callback:({emsgData:Q,id3Frames:se})=>{if(e=Q.buffer,n.bytes=P=Q,!A.video||!Q.byteLength||!n.transmuxer){B(void 0,se);return}Lh({action:"pushMp4Captions",endAction:"mp4Captions",transmuxer:n.transmuxer,data:P,timescales:n.map.timescales,trackIds:[A.video.id],callback:q=>{e=q.data.buffer,n.bytes=P=q.data,q.logs.forEach(function(te){C(tn(te,{stream:"mp4CaptionParser"}))}),B(q.captions,se)}})}})}});return}if(!n.transmuxer){E(null,n,{});return}if(typeof n.container>"u"&&(n.container=w1(P)),n.container!=="ts"&&n.container!=="aac"){i(n,{hasAudio:!1,hasVideo:!1}),E(null,n,{});return}HB({segment:n,bytes:e,trackInfoFn:i,timingInfoFn:s,videoSegmentTimingInfoFn:o,audioSegmentTimingInfoFn:l,id3Fn:c,captionsFn:d,isEndOfTimeline:m,endedTimelineFn:p,dataFn:v,doneFn:E,onTransmuxerLog:C,triggerSegmentEventFn:D})},G4=function({id:n,key:e,encryptedBytes:i,decryptionWorker:s,segment:o,doneFn:l},c){const d=p=>{if(p.data.source===n){s.removeEventListener("message",d);const v=p.data.decrypted;c(new Uint8Array(v.bytes,v.byteOffset,v.byteLength))}};s.onerror=()=>{const p="An error occurred in the decryption worker",v=Hc({segment:o}),E={message:p,metadata:{error:new Error(p),errorType:_e.Error.StreamingFailedToDecryptSegment,segmentInfo:v,keyInfo:{uri:o.key.resolvedUri||o.map.key.resolvedUri}}};l(E,o)},s.addEventListener("message",d);let m;e.bytes.slice?m=e.bytes.slice():m=new Uint32Array(Array.prototype.slice.call(e.bytes)),s.postMessage(R4({source:n,encrypted:i,key:m,iv:e.iv}),[i.buffer,m.buffer])},$B=({decryptionWorker:n,segment:e,trackInfoFn:i,timingInfoFn:s,videoSegmentTimingInfoFn:o,audioSegmentTimingInfoFn:l,id3Fn:c,captionsFn:d,isEndOfTimeline:m,endedTimelineFn:p,dataFn:v,doneFn:E,onTransmuxerLog:C,triggerSegmentEventFn:D})=>{D({type:"segmentdecryptionstart"}),G4({id:e.requestId,key:e.key,encryptedBytes:e.encryptedBytes,decryptionWorker:n,segment:e,doneFn:E},P=>{e.bytes=P,D({type:"segmentdecryptioncomplete",segment:e}),q4({segment:e,bytes:e.bytes,trackInfoFn:i,timingInfoFn:s,videoSegmentTimingInfoFn:o,audioSegmentTimingInfoFn:l,id3Fn:c,captionsFn:d,isEndOfTimeline:m,endedTimelineFn:p,dataFn:v,doneFn:E,onTransmuxerLog:C,triggerSegmentEventFn:D})})},qB=({activeXhrs:n,decryptionWorker:e,trackInfoFn:i,timingInfoFn:s,videoSegmentTimingInfoFn:o,audioSegmentTimingInfoFn:l,id3Fn:c,captionsFn:d,isEndOfTimeline:m,endedTimelineFn:p,dataFn:v,doneFn:E,onTransmuxerLog:C,triggerSegmentEventFn:D})=>{let P=0,A=!1;return(U,M)=>{if(!A){if(U)return A=!0,e1(n),E(U,M);if(P+=1,P===n.length){const B=function(){if(M.encryptedBytes)return $B({decryptionWorker:e,segment:M,trackInfoFn:i,timingInfoFn:s,videoSegmentTimingInfoFn:o,audioSegmentTimingInfoFn:l,id3Fn:c,captionsFn:d,isEndOfTimeline:m,endedTimelineFn:p,dataFn:v,doneFn:E,onTransmuxerLog:C,triggerSegmentEventFn:D});q4({segment:M,bytes:M.bytes,trackInfoFn:i,timingInfoFn:s,videoSegmentTimingInfoFn:o,audioSegmentTimingInfoFn:l,id3Fn:c,captionsFn:d,isEndOfTimeline:m,endedTimelineFn:p,dataFn:v,doneFn:E,onTransmuxerLog:C,triggerSegmentEventFn:D})};if(M.endOfAllRequests=Date.now(),M.map&&M.map.encryptedBytes&&!M.map.bytes)return D({type:"segmentdecryptionstart",segment:M}),G4({decryptionWorker:e,id:M.requestId+"-init",encryptedBytes:M.map.encryptedBytes,key:M.map.key,segment:M,doneFn:E},L=>{M.map.bytes=L,D({type:"segmentdecryptioncomplete",segment:M}),$4(M,H=>{if(H)return e1(n),E(H,M);B()})});B()}}}},GB=({loadendState:n,abortFn:e})=>i=>{i.target.aborted&&e&&!n.calledAbortFn&&(e(),n.calledAbortFn=!0)},XB=({segment:n,progressFn:e,trackInfoFn:i,timingInfoFn:s,videoSegmentTimingInfoFn:o,audioSegmentTimingInfoFn:l,id3Fn:c,captionsFn:d,isEndOfTimeline:m,endedTimelineFn:p,dataFn:v})=>E=>{if(!E.target.aborted)return n.stats=tn(n.stats,jB(E)),!n.stats.firstBytesReceivedAt&&n.stats.bytesReceived&&(n.stats.firstBytesReceivedAt=Date.now()),e(E,n)},YB=({xhr:n,xhrOptions:e,decryptionWorker:i,segment:s,abortFn:o,progressFn:l,trackInfoFn:c,timingInfoFn:d,videoSegmentTimingInfoFn:m,audioSegmentTimingInfoFn:p,id3Fn:v,captionsFn:E,isEndOfTimeline:C,endedTimelineFn:D,dataFn:P,doneFn:A,onTransmuxerLog:U,triggerSegmentEventFn:M})=>{const B=[],L=qB({activeXhrs:B,decryptionWorker:i,trackInfoFn:c,timingInfoFn:d,videoSegmentTimingInfoFn:m,audioSegmentTimingInfoFn:p,id3Fn:v,captionsFn:E,isEndOfTimeline:C,endedTimelineFn:D,dataFn:P,doneFn:A,onTransmuxerLog:U,triggerSegmentEventFn:M});if(s.key&&!s.key.bytes){const te=[s.key];s.map&&!s.map.bytes&&s.map.key&&s.map.key.resolvedUri===s.key.resolvedUri&&te.push(s.map.key);const I=tn(e,{uri:s.key.resolvedUri,responseType:"arraybuffer",requestType:"segment-key"}),j=bA(s,te,L,M),ge={uri:s.key.resolvedUri};M({type:"segmentkeyloadstart",segment:s,keyInfo:ge});const de=n(I,j);B.push(de)}if(s.map&&!s.map.bytes){if(s.map.key&&(!s.key||s.key.resolvedUri!==s.map.key.resolvedUri)){const de=tn(e,{uri:s.map.key.resolvedUri,responseType:"arraybuffer",requestType:"segment-key"}),ie=bA(s,[s.map.key],L,M),fe={uri:s.map.key.resolvedUri};M({type:"segmentkeyloadstart",segment:s,keyInfo:fe});const Re=n(de,ie);B.push(Re)}const I=tn(e,{uri:s.map.resolvedUri,responseType:"arraybuffer",headers:Kx(s.map),requestType:"segment-media-initialization"}),j=FB({segment:s,finishProcessingFn:L,triggerSegmentEventFn:M});M({type:"segmentloadstart",segment:s});const ge=n(I,j);B.push(ge)}const H=tn(e,{uri:s.part&&s.part.resolvedUri||s.resolvedUri,responseType:"arraybuffer",headers:Kx(s),requestType:"segment"}),Q=zB({segment:s,finishProcessingFn:L,responseType:H.responseType,triggerSegmentEventFn:M});M({type:"segmentloadstart",segment:s});const se=n(H,Q);se.addEventListener("progress",XB({segment:s,progressFn:l,trackInfoFn:c,timingInfoFn:d,videoSegmentTimingInfoFn:m,audioSegmentTimingInfoFn:p,id3Fn:v,captionsFn:E,isEndOfTimeline:C,endedTimelineFn:D,dataFn:P})),B.push(se);const q={};return B.forEach(te=>{te.addEventListener("loadend",GB({loadendState:q,abortFn:o}))}),()=>e1(B)},xb=Js("PlaylistSelector"),yA=function(n){if(!n||!n.playlist)return;const e=n.playlist;return JSON.stringify({id:e.id,bandwidth:n.bandwidth,width:n.width,height:n.height,codecs:e.attributes&&e.attributes.CODECS||""})},Ph=function(n,e){if(!n)return"";const i=W.getComputedStyle(n);return i?i[e]:""},Bh=function(n,e){const i=n.slice();n.sort(function(s,o){const l=e(s,o);return l===0?i.indexOf(s)-i.indexOf(o):l})},oT=function(n,e){let i,s;return n.attributes.BANDWIDTH&&(i=n.attributes.BANDWIDTH),i=i||W.Number.MAX_VALUE,e.attributes.BANDWIDTH&&(s=e.attributes.BANDWIDTH),s=s||W.Number.MAX_VALUE,i-s},QB=function(n,e){let i,s;return n.attributes.RESOLUTION&&n.attributes.RESOLUTION.width&&(i=n.attributes.RESOLUTION.width),i=i||W.Number.MAX_VALUE,e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width&&(s=e.attributes.RESOLUTION.width),s=s||W.Number.MAX_VALUE,i===s&&n.attributes.BANDWIDTH&&e.attributes.BANDWIDTH?n.attributes.BANDWIDTH-e.attributes.BANDWIDTH:i-s};let X4=function(n){const{main:e,bandwidth:i,playerWidth:s,playerHeight:o,playerObjectFit:l,limitRenditionByPlayerDimensions:c,playlistController:d}=n;if(!e)return;const m={bandwidth:i,width:s,height:o,limitRenditionByPlayerDimensions:c};let p=e.playlists;Hr.isAudioOnly(e)&&(p=d.getAudioTrackPlaylists_(),m.audioOnly=!0);let v=p.map(q=>{let te;const I=q.attributes&&q.attributes.RESOLUTION&&q.attributes.RESOLUTION.width,j=q.attributes&&q.attributes.RESOLUTION&&q.attributes.RESOLUTION.height;return te=q.attributes&&q.attributes.BANDWIDTH,te=te||W.Number.MAX_VALUE,{bandwidth:te,width:I,height:j,playlist:q}});Bh(v,(q,te)=>q.bandwidth-te.bandwidth),v=v.filter(q=>!Hr.isIncompatible(q.playlist));let E=v.filter(q=>Hr.isEnabled(q.playlist));E.length||(E=v.filter(q=>!Hr.isDisabled(q.playlist)));const C=E.filter(q=>q.bandwidth*ji.BANDWIDTH_VARIANCE<i);let D=C[C.length-1];const P=C.filter(q=>q.bandwidth===D.bandwidth)[0];if(c===!1){const q=P||E[0]||v[0];if(q&&q.playlist){let te="sortedPlaylistReps";return P&&(te="bandwidthBestRep"),E[0]&&(te="enabledPlaylistReps"),xb(`choosing ${yA(q)} using ${te} with options`,m),q.playlist}return xb("could not choose a playlist with options",m),null}const A=C.filter(q=>q.width&&q.height);Bh(A,(q,te)=>q.width-te.width);const U=A.filter(q=>q.width===s&&q.height===o);D=U[U.length-1];const M=U.filter(q=>q.bandwidth===D.bandwidth)[0];let B,L,H;M||(B=A.filter(q=>l==="cover"?q.width>s&&q.height>o:q.width>s||q.height>o),L=B.filter(q=>q.width===B[0].width&&q.height===B[0].height),D=L[L.length-1],H=L.filter(q=>q.bandwidth===D.bandwidth)[0]);let Q;if(d.leastPixelDiffSelector){const q=A.map(te=>(te.pixelDiff=Math.abs(te.width-s)+Math.abs(te.height-o),te));Bh(q,(te,I)=>te.pixelDiff===I.pixelDiff?I.bandwidth-te.bandwidth:te.pixelDiff-I.pixelDiff),Q=q[0]}const se=Q||H||M||P||E[0]||v[0];if(se&&se.playlist){let q="sortedPlaylistReps";return Q?q="leastPixelDiffRep":H?q="resolutionPlusOneRep":M?q="resolutionBestRep":P?q="bandwidthBestRep":E[0]&&(q="enabledPlaylistReps"),xb(`choosing ${yA(se)} using ${q} with options`,m),se.playlist}return xb("could not choose a playlist with options",m),null};const vA=function(){let n=this.useDevicePixelRatio&&W.devicePixelRatio||1;return isNaN(this.customPixelRatio)||(n=this.customPixelRatio),X4({main:this.playlists.main,bandwidth:this.systemBandwidth,playerWidth:parseInt(Ph(this.tech_.el(),"width"),10)*n,playerHeight:parseInt(Ph(this.tech_.el(),"height"),10)*n,playerObjectFit:this.usePlayerObjectFit?Ph(this.tech_.el(),"objectFit"):"",limitRenditionByPlayerDimensions:this.limitRenditionByPlayerDimensions,playlistController:this.playlistController_})},ZB=function(n){let e=-1,i=-1;if(n<0||n>1)throw new Error("Moving average bandwidth decay must be between 0 and 1.");return function(){let s=this.useDevicePixelRatio&&W.devicePixelRatio||1;return isNaN(this.customPixelRatio)||(s=this.customPixelRatio),e<0&&(e=this.systemBandwidth,i=this.systemBandwidth),this.systemBandwidth>0&&this.systemBandwidth!==i&&(e=n*this.systemBandwidth+(1-n)*e,i=this.systemBandwidth),X4({main:this.playlists.main,bandwidth:e,playerWidth:parseInt(Ph(this.tech_.el(),"width"),10)*s,playerHeight:parseInt(Ph(this.tech_.el(),"height"),10)*s,playerObjectFit:this.usePlayerObjectFit?Ph(this.tech_.el(),"objectFit"):"",limitRenditionByPlayerDimensions:this.limitRenditionByPlayerDimensions,playlistController:this.playlistController_})}},WB=function(n){const{main:e,currentTime:i,bandwidth:s,duration:o,segmentDuration:l,timeUntilRebuffer:c,currentTimeline:d,syncController:m}=n,p=e.playlists.filter(P=>!Hr.isIncompatible(P));let v=p.filter(Hr.isEnabled);v.length||(v=p.filter(P=>!Hr.isDisabled(P)));const C=v.filter(Hr.hasAttribute.bind(null,"BANDWIDTH")).map(P=>{const U=m.getSyncPoint(P,o,d,i)?1:2,B=Hr.estimateSegmentRequestTime(l,s,P)*U-c;return{playlist:P,rebufferingImpact:B}}),D=C.filter(P=>P.rebufferingImpact<=0);return Bh(D,(P,A)=>oT(A.playlist,P.playlist)),D.length?D[0]:(Bh(C,(P,A)=>P.rebufferingImpact-A.rebufferingImpact),C[0]||null)},KB=function(){const n=this.playlists.main.playlists.filter(Hr.isEnabled);return Bh(n,(i,s)=>oT(i,s)),n.filter(i=>!!Wm(this.playlists.main,i).video)[0]||null},JB=n=>{let e=0,i;return n.bytes&&(i=new Uint8Array(n.bytes),n.segments.forEach(s=>{i.set(s,e),e+=s.byteLength})),i};function Y4(n){try{return new URL(n).pathname.split("/").slice(-2).join("/")}catch{return""}}const ej=function(n,e,i){if(!n[i]){e.trigger({type:"usage",name:"vhs-608"});let s=i;/^cc708_/.test(i)&&(s="SERVICE"+i.split("_")[1]);const o=e.textTracks().getTrackById(s);if(o)n[i]=o;else{const l=e.options_.vhs&&e.options_.vhs.captionServices||{};let c=i,d=i,m=!1;const p=l[s];p&&(c=p.label,d=p.language,m=p.default),n[i]=e.addRemoteTextTrack({kind:"captions",id:s,default:m,label:c,language:d},!1).track}}},tj=function({inbandTextTracks:n,captionArray:e,timestampOffset:i}){if(!e)return;const s=W.WebKitDataCue||W.VTTCue;e.forEach(o=>{const l=o.stream;o.content?o.content.forEach(c=>{const d=new s(o.startTime+i,o.endTime+i,c.text);d.line=c.line,d.align="left",d.position=c.position,d.positionAlign="line-left",n[l].addCue(d)}):n[l].addCue(new s(o.startTime+i,o.endTime+i,o.text))})},nj=function(n){Object.defineProperties(n.frame,{id:{get(){return _e.log.warn("cue.frame.id is deprecated. Use cue.value.key instead."),n.value.key}},value:{get(){return _e.log.warn("cue.frame.value is deprecated. Use cue.value.data instead."),n.value.data}},privateData:{get(){return _e.log.warn("cue.frame.privateData is deprecated. Use cue.value.data instead."),n.value.data}}})},ij=({inbandTextTracks:n,metadataArray:e,timestampOffset:i,videoDuration:s})=>{if(!e)return;const o=W.WebKitDataCue||W.VTTCue,l=n.metadataTrack_;if(!l||(e.forEach(v=>{const E=v.cueTime+i;typeof E!="number"||W.isNaN(E)||E<0||!(E<1/0)||!v.frames||!v.frames.length||v.frames.forEach(C=>{const D=new o(E,E,C.value||C.url||C.data||"");D.frame=C,D.value=C,nj(D),l.addCue(D)})}),!l.cues||!l.cues.length))return;const c=l.cues,d=[];for(let v=0;v<c.length;v++)c[v]&&d.push(c[v]);const m=d.reduce((v,E)=>{const C=v[E.startTime]||[];return C.push(E),v[E.startTime]=C,v},{}),p=Object.keys(m).sort((v,E)=>Number(v)-Number(E));p.forEach((v,E)=>{const C=m[v],D=isFinite(s)?s:v,P=Number(p[E+1])||D;C.forEach(A=>{A.endTime=P})})},rj={id:"ID",class:"CLASS",startDate:"START-DATE",duration:"DURATION",endDate:"END-DATE",endOnNext:"END-ON-NEXT",plannedDuration:"PLANNED-DURATION",scte35Out:"SCTE35-OUT",scte35In:"SCTE35-IN"},sj=new Set(["id","class","startDate","duration","endDate","endOnNext","startTime","endTime","processDateRange"]),aj=({inbandTextTracks:n,dateRanges:e})=>{const i=n.metadataTrack_;if(!i)return;const s=W.WebKitDataCue||W.VTTCue;e.forEach(o=>{for(const l of Object.keys(o)){if(sj.has(l))continue;const c=new s(o.startTime,o.endTime,"");c.id=o.id,c.type="com.apple.quicktime.HLS",c.value={key:rj[l],data:o[l]},(l==="scte35Out"||l==="scte35In")&&(c.value.data=new Uint8Array(c.value.data.match(/[\da-f]{2}/gi)).buffer),i.addCue(c)}o.processDateRange()})},_A=(n,e,i)=>{n.metadataTrack_||(n.metadataTrack_=i.addRemoteTextTrack({kind:"metadata",label:"Timed Metadata"},!1).track,_e.browser.IS_ANY_SAFARI||(n.metadataTrack_.inBandMetadataTrackDispatchType=e))},qm=function(n,e,i){let s,o;if(i&&i.cues)for(s=i.cues.length;s--;)o=i.cues[s],o.startTime>=n&&o.endTime<=e&&i.removeCue(o)},oj=function(n){const e=n.cues;if(!e)return;const i={};for(let s=e.length-1;s>=0;s--){const o=e[s],l=`${o.startTime}-${o.endTime}-${o.text}`;i[l]?n.removeCue(o):i[l]=o}},lj=(n,e,i)=>{if(typeof e>"u"||e===null||!n.length)return[];const s=Math.ceil((e-i+3)*$c.ONE_SECOND_IN_TS);let o;for(o=0;o<n.length&&!(n[o].pts>s);o++);return n.slice(o)},uj=(n,e,i)=>{if(!e.length)return n;if(i)return e.slice();const s=e[0].pts;let o=0;for(o;o<n.length&&!(n[o].pts>=s);o++);return n.slice(0,o).concat(e)},cj=(n,e,i,s)=>{const o=Math.ceil((e-s)*$c.ONE_SECOND_IN_TS),l=Math.ceil((i-s)*$c.ONE_SECOND_IN_TS),c=n.slice();let d=n.length;for(;d--&&!(n[d].pts<=l););if(d===-1)return c;let m=d+1;for(;m--&&!(n[m].pts<=o););return m=Math.max(m,0),c.splice(m,d-m+1),c},dj=function(n,e){if(!n&&!e||!n&&e||n&&!e)return!1;if(n===e)return!0;const i=Object.keys(n).sort(),s=Object.keys(e).sort();if(i.length!==s.length)return!1;for(let o=0;o<i.length;o++){const l=i[o];if(l!==s[o]||n[l]!==e[l])return!1}return!0},hj=function(n,e,i){e=e||[];const s=[];let o=0;for(let l=0;l<e.length;l++){const c=e[l];if(n===c.timeline&&(s.push(l),o+=c.duration,o>i))return l}return s.length===0?0:s[s.length-1]},Vm=1,fj=500,xA=n=>typeof n=="number"&&isFinite(n),Tb=1/60,mj=(n,e,i)=>n!=="main"||!e||!i?null:!i.hasAudio&&!i.hasVideo?"Neither audio nor video found in segment.":e.hasVideo&&!i.hasVideo?"Only audio found in segment when we expected video. We can't switch to audio only from a stream that had video. To get rid of this message, please add codec information to the manifest.":!e.hasVideo&&i.hasVideo?"Video found in segment when we expected only audio. We can't switch to a stream with video from an audio only stream. To get rid of this message, please add codec information to the manifest.":null,pj=(n,e,i)=>{let s=e-ji.BACK_BUFFER_LENGTH;n.length&&(s=Math.max(s,n.start(0)));const o=e-i;return Math.min(o,s)},Nh=n=>{const{startOfSegment:e,duration:i,segment:s,part:o,playlist:{mediaSequence:l,id:c,segments:d=[]},mediaIndex:m,partIndex:p,timeline:v}=n,E=d.length-1;let C="mediaIndex/partIndex increment";n.getMediaInfoForTime?C=`getMediaInfoForTime (${n.getMediaInfoForTime})`:n.isSyncRequest&&(C="getSyncSegmentCandidate (isSyncRequest)"),n.independent&&(C+=` with independent ${n.independent}`);const D=typeof p=="number",P=n.segment.uri?"segment":"pre-segment",A=D?h4({preloadSegment:s})-1:0;return`${P} [${l+m}/${l+E}]`+(D?` part [${p}/${A}]`:"")+` segment start/end [${s.start} => ${s.end}]`+(D?` part start/end [${o.start} => ${o.end}]`:"")+` startOfSegment [${e}] duration [${i}] timeline [${v}] selected by [${C}] playlist [${c}]`},TA=n=>`${n}TimingInfo`,gj=({segmentTimeline:n,currentTimeline:e,startOfSegment:i,buffered:s,overrideCheck:o})=>!o&&n===e?null:n<e?i:s.length?s.end(s.length-1):i,t1=({timelineChangeController:n,currentTimeline:e,segmentTimeline:i,loaderType:s,audioDisabled:o})=>{if(e===i)return!1;if(s==="audio"){const l=n.lastTimelineChange({type:"main"});return!l||l.to!==i}if(s==="main"&&o){const l=n.pendingTimelineChange({type:"audio"});return!(l&&l.to===i)}return!1},bj=n=>{if(!n)return!1;const e=n.pendingTimelineChange({type:"audio"}),i=n.pendingTimelineChange({type:"main"}),s=e&&i,o=s&&e.to!==i.to;return!!(s&&e.from!==-1&&i.from!==-1&&o)},yj=n=>{const e=n.timelineChangeController_.pendingTimelineChange({type:"audio"}),i=n.timelineChangeController_.pendingTimelineChange({type:"main"});return e&&i&&e.to<i.to},Nu=n=>{const e=n.pendingSegment_;if(!e)return;if(t1({timelineChangeController:n.timelineChangeController_,currentTimeline:n.currentTimeline_,segmentTimeline:e.timeline,loaderType:n.loaderType_,audioDisabled:n.audioDisabled_})&&bj(n.timelineChangeController_)){if(yj(n)){n.timelineChangeController_.trigger("audioTimelineBehind");return}n.timelineChangeController_.trigger("fixBadTimelineChange")}},vj=n=>{let e=0;return["video","audio"].forEach(function(i){const s=n[`${i}TimingInfo`];if(!s)return;const{start:o,end:l}=s;let c;typeof o=="bigint"||typeof l=="bigint"?c=W.BigInt(l)-W.BigInt(o):typeof o=="number"&&typeof l=="number"&&(c=l-o),typeof c<"u"&&c>e&&(e=c)}),typeof e=="bigint"&&e<Number.MAX_SAFE_INTEGER&&(e=Number(e)),e},SA=({segmentDuration:n,maxDuration:e})=>n?Math.round(n)>e+go:!1,_j=(n,e)=>{if(e!=="hls")return null;const i=vj({audioTimingInfo:n.audioTimingInfo,videoTimingInfo:n.videoTimingInfo});if(!i)return null;const s=n.playlist.targetDuration,o=SA({segmentDuration:i,maxDuration:s*2}),l=SA({segmentDuration:i,maxDuration:s}),c=`Segment with index ${n.mediaIndex} from playlist ${n.playlist.id} has a duration of ${i} when the reported duration is ${n.duration} and the target duration is ${s}. For HLS content, a duration in excess of the target duration may result in playback issues. See the HLS specification section on EXT-X-TARGETDURATION for more details: https://tools.ietf.org/html/draft-pantos-http-live-streaming-23#section-4.3.3.1`;return o||l?{severity:o?"warn":"info",message:c}:null},Hc=({type:n,segment:e})=>{if(!e)return;const i=!!(e.key||e.map&&e.map.ke),s=!!(e.map&&!e.map.bytes),o=e.startOfSegment===void 0?e.start:e.startOfSegment;return{type:n||e.type,uri:e.resolvedUri||e.uri,start:o,duration:e.duration,isEncrypted:i,isMediaInitialization:s}};class n1 extends _e.EventTarget{constructor(e,i={}){if(super(),!e)throw new TypeError("Initialization settings are required");if(typeof e.currentTime!="function")throw new TypeError("No currentTime getter specified");if(!e.mediaSource)throw new TypeError("No MediaSource specified");this.bandwidth=e.bandwidth,this.throughput={rate:0,count:0},this.roundTrip=NaN,this.resetStats_(),this.mediaIndex=null,this.partIndex=null,this.hasPlayed_=e.hasPlayed,this.currentTime_=e.currentTime,this.seekable_=e.seekable,this.seeking_=e.seeking,this.duration_=e.duration,this.mediaSource_=e.mediaSource,this.vhs_=e.vhs,this.loaderType_=e.loaderType,this.currentMediaInfo_=void 0,this.startingMediaInfo_=void 0,this.segmentMetadataTrack_=e.segmentMetadataTrack,this.goalBufferLength_=e.goalBufferLength,this.sourceType_=e.sourceType,this.sourceUpdater_=e.sourceUpdater,this.inbandTextTracks_=e.inbandTextTracks,this.state_="INIT",this.timelineChangeController_=e.timelineChangeController,this.shouldSaveSegmentTimingInfo_=!0,this.parse708captions_=e.parse708captions,this.useDtsForTimestampOffset_=e.useDtsForTimestampOffset,this.captionServices_=e.captionServices,this.exactManifestTimings=e.exactManifestTimings,this.addMetadataToTextTrack=e.addMetadataToTextTrack,this.checkBufferTimeout_=null,this.error_=void 0,this.currentTimeline_=-1,this.shouldForceTimestampOffsetAfterResync_=!1,this.pendingSegment_=null,this.xhrOptions_=null,this.pendingSegments_=[],this.audioDisabled_=!1,this.isPendingTimestampOffset_=!1,this.gopBuffer_=[],this.timeMapping_=0,this.safeAppend_=!1,this.appendInitSegment_={audio:!0,video:!0},this.playlistOfLastInitSegment_={audio:null,video:null},this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_={id3:[],caption:[]},this.waitingOnRemove_=!1,this.quotaExceededErrorRetryTimeout_=null,this.activeInitSegmentId_=null,this.initSegments_={},this.cacheEncryptionKeys_=e.cacheEncryptionKeys,this.keyCache_={},this.decrypter_=e.decrypter,this.syncController_=e.syncController,this.syncPoint_={segmentIndex:0,time:0},this.transmuxer_=this.createTransmuxer_(),this.triggerSyncInfoUpdate_=()=>this.trigger("syncinfoupdate"),this.syncController_.on("syncinfoupdate",this.triggerSyncInfoUpdate_),this.mediaSource_.addEventListener("sourceopen",()=>{this.isEndOfStream_()||(this.ended_=!1)}),this.fetchAtBuffer_=!1,this.logger_=Js(`SegmentLoader[${this.loaderType_}]`),Object.defineProperty(this,"state",{get(){return this.state_},set(s){s!==this.state_&&(this.logger_(`${this.state_} -> ${s}`),this.state_=s,this.trigger("statechange"))}}),this.sourceUpdater_.on("ready",()=>{this.hasEnoughInfoToAppend_()?this.processCallQueue_():Nu(this)}),this.sourceUpdater_.on("codecschange",s=>{this.trigger(ai({type:"codecschange"},s))}),this.loaderType_==="main"&&this.timelineChangeController_.on("pendingtimelinechange",()=>{this.hasEnoughInfoToAppend_()?this.processCallQueue_():Nu(this)}),this.loaderType_==="audio"&&this.timelineChangeController_.on("timelinechange",s=>{this.trigger(ai({type:"timelinechange"},s)),this.hasEnoughInfoToLoad_()?this.processLoadQueue_():Nu(this),this.hasEnoughInfoToAppend_()?this.processCallQueue_():Nu(this)})}get mediaSequenceSync_(){return this.syncController_.getMediaSequenceSync(this.loaderType_)}createTransmuxer_(){return Sx.createTransmuxer({remux:!1,alignGopsAtEnd:this.safeAppend_,keepOriginalTimestamps:!0,parse708captions:this.parse708captions_,captionServices:this.captionServices_})}resetStats_(){this.mediaBytesTransferred=0,this.mediaRequests=0,this.mediaRequestsAborted=0,this.mediaRequestsTimedout=0,this.mediaRequestsErrored=0,this.mediaTransferDuration=0,this.mediaSecondsLoaded=0,this.mediaAppends=0}dispose(){this.trigger("dispose"),this.state="DISPOSED",this.pause(),this.abort_(),this.transmuxer_&&this.transmuxer_.terminate(),this.resetStats_(),this.checkBufferTimeout_&&W.clearTimeout(this.checkBufferTimeout_),this.syncController_&&this.triggerSyncInfoUpdate_&&this.syncController_.off("syncinfoupdate",this.triggerSyncInfoUpdate_),this.off()}setAudio(e){this.audioDisabled_=!e,e?this.appendInitSegment_.audio=!0:this.sourceUpdater_.removeAudio(0,this.duration_())}abort(){if(this.state!=="WAITING"){this.pendingSegment_&&(this.pendingSegment_=null),this.timelineChangeController_.clearPendingTimelineChange(this.loaderType_);return}this.abort_(),this.state="READY",this.paused()||this.monitorBuffer_()}abort_(){this.pendingSegment_&&this.pendingSegment_.abortRequests&&this.pendingSegment_.abortRequests(),this.pendingSegment_=null,this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.timelineChangeController_.clearPendingTimelineChange(this.loaderType_),this.waitingOnRemove_=!1,W.clearTimeout(this.quotaExceededErrorRetryTimeout_),this.quotaExceededErrorRetryTimeout_=null}checkForAbort_(e){return this.state==="APPENDING"&&!this.pendingSegment_?(this.state="READY",!0):!this.pendingSegment_||this.pendingSegment_.requestId!==e}error(e){return typeof e<"u"&&(this.logger_("error occurred:",e),this.error_=e),this.pendingSegment_=null,this.error_}endOfStream(){this.ended_=!0,this.transmuxer_&&Sx.reset(this.transmuxer_),this.gopBuffer_.length=0,this.pause(),this.trigger("ended")}buffered_(){const e=this.getMediaInfo_();if(!this.sourceUpdater_||!e)return Vi();if(this.loaderType_==="main"){const{hasAudio:i,hasVideo:s,isMuxed:o}=e;if(s&&i&&!this.audioDisabled_&&!o)return this.sourceUpdater_.buffered();if(s)return this.sourceUpdater_.videoBuffered()}return this.sourceUpdater_.audioBuffered()}initSegmentForMap(e,i=!1){if(!e)return null;const s=s0(e);let o=this.initSegments_[s];return i&&!o&&e.bytes&&(this.initSegments_[s]=o={resolvedUri:e.resolvedUri,byterange:e.byterange,bytes:e.bytes,tracks:e.tracks,timescales:e.timescales}),o||e}segmentKey(e,i=!1){if(!e)return null;const s=k4(e);let o=this.keyCache_[s];this.cacheEncryptionKeys_&&i&&!o&&e.bytes&&(this.keyCache_[s]=o={resolvedUri:e.resolvedUri,bytes:e.bytes});const l={resolvedUri:(o||e).resolvedUri};return o&&(l.bytes=o.bytes),l}couldBeginLoading_(){return this.playlist_&&!this.paused()}load(){if(this.monitorBuffer_(),!!this.playlist_){if(this.state==="INIT"&&this.couldBeginLoading_())return this.init_();!this.couldBeginLoading_()||this.state!=="READY"&&this.state!=="INIT"||(this.state="READY")}}init_(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()}playlist(e,i={}){if(!e||this.playlist_&&this.playlist_.endList&&e.endList&&this.playlist_.uri===e.uri)return;const s=this.playlist_,o=this.pendingSegment_;this.playlist_=e,this.xhrOptions_=i,this.state==="INIT"&&(e.syncInfo={mediaSequence:e.mediaSequence,time:0},this.loaderType_==="main"&&this.syncController_.setDateTimeMappingForStart(e));let l=null;if(s&&(s.id?l=s.id:s.uri&&(l=s.uri)),this.logger_(`playlist update [${l} => ${e.id||e.uri}]`),this.mediaSequenceSync_&&(this.mediaSequenceSync_.update(e,this.currentTime_()),this.logger_(`Playlist update:
currentTime: ${this.currentTime_()}
bufferedEnd: ${xx(this.buffered_())}
`,this.mediaSequenceSync_.diagnostics)),this.trigger("syncinfoupdate"),this.state==="INIT"&&this.couldBeginLoading_())return this.init_();if(!s||s.uri!==e.uri){this.mediaIndex!==null&&(!e.endList&&typeof e.partTargetDuration=="number"?this.resetLoader():this.resyncLoader()),this.currentMediaInfo_=void 0,this.trigger("playlistupdate");return}const c=e.mediaSequence-s.mediaSequence;if(this.logger_(`live window shift [${c}]`),this.mediaIndex!==null)if(this.mediaIndex-=c,this.mediaIndex<0)this.mediaIndex=null,this.partIndex=null;else{const d=this.playlist_.segments[this.mediaIndex];if(this.partIndex&&(!d.parts||!d.parts.length||!d.parts[this.partIndex])){const m=this.mediaIndex;this.logger_(`currently processing part (index ${this.partIndex}) no longer exists.`),this.resetLoader(),this.mediaIndex=m}}o&&(o.mediaIndex-=c,o.mediaIndex<0?(o.mediaIndex=null,o.partIndex=null):(o.mediaIndex>=0&&(o.segment=e.segments[o.mediaIndex]),o.partIndex>=0&&o.segment.parts&&(o.part=o.segment.parts[o.partIndex]))),this.syncController_.saveExpiredSegmentInfo(s,e)}pause(){this.checkBufferTimeout_&&(W.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=null)}paused(){return this.checkBufferTimeout_===null}resetEverything(e){this.ended_=!1,this.activeInitSegmentId_=null,this.appendInitSegment_={audio:!0,video:!0},this.resetLoader(),this.remove(0,1/0,e),this.transmuxer_&&(this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),this.transmuxer_.postMessage({action:"reset"}))}resetLoader(){this.fetchAtBuffer_=!1,this.mediaSequenceSync_&&this.mediaSequenceSync_.resetAppendedStatus(),this.resyncLoader()}resyncLoader(){this.transmuxer_&&Sx.reset(this.transmuxer_),this.mediaIndex=null,this.partIndex=null,this.syncPoint_=null,this.isPendingTimestampOffset_=!1;const e=this.currentMediaInfo_&&this.currentMediaInfo_.isFmp4;this.sourceType_==="hls"&&!e&&(this.shouldForceTimestampOffsetAfterResync_=!0),this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.abort(),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})}remove(e,i,s=()=>{},o=!1){if(i===1/0&&(i=this.duration_()),i<=e){this.logger_("skipping remove because end ${end} is <= start ${start}");return}if(!this.sourceUpdater_||!this.getMediaInfo_()){this.logger_("skipping remove because no source updater or starting media info");return}let l=1;const c=()=>{l--,l===0&&s()};(o||!this.audioDisabled_)&&(l++,this.sourceUpdater_.removeAudio(e,i,c)),(o||this.loaderType_==="main")&&(this.gopBuffer_=cj(this.gopBuffer_,e,i,this.timeMapping_),l++,this.sourceUpdater_.removeVideo(e,i,c));for(const d in this.inbandTextTracks_)qm(e,i,this.inbandTextTracks_[d]);qm(e,i,this.segmentMetadataTrack_),c()}monitorBuffer_(){this.checkBufferTimeout_&&W.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=W.setTimeout(this.monitorBufferTick_.bind(this),1)}monitorBufferTick_(){this.state==="READY"&&this.fillBuffer_(),this.checkBufferTimeout_&&W.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=W.setTimeout(this.monitorBufferTick_.bind(this),fj)}fillBuffer_(){if(this.sourceUpdater_.updating())return;const e=this.chooseNextRequest_();if(!e)return;const i={segmentInfo:Hc({type:this.loaderType_,segment:e})};this.trigger({type:"segmentselected",metadata:i}),typeof e.timestampOffset=="number"&&(this.isPendingTimestampOffset_=!1,this.timelineChangeController_.pendingTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:e.timeline})),this.loadSegment_(e)}isEndOfStream_(e=this.mediaIndex,i=this.playlist_,s=this.partIndex){if(!i||!this.mediaSource_)return!1;const o=typeof e=="number"&&i.segments[e],l=e+1===i.segments.length,c=!o||!o.parts||s+1===o.parts.length;return i.endList&&this.mediaSource_.readyState==="open"&&l&&c}chooseNextRequest_(){const e=this.buffered_(),i=xx(e)||0,s=nT(e,this.currentTime_()),o=!this.hasPlayed_()&&s>=1,l=s>=this.goalBufferLength_(),c=this.playlist_.segments;if(!c.length||o||l)return null;this.syncPoint_=this.syncPoint_||this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_(),this.loaderType_);const d={partIndex:null,mediaIndex:null,startOfSegment:null,playlist:this.playlist_,isSyncRequest:!this.syncPoint_};if(d.isSyncRequest)d.mediaIndex=hj(this.currentTimeline_,c,i),this.logger_(`choose next request. Can not find sync point. Fallback to media Index: ${d.mediaIndex}`);else if(this.mediaIndex!==null){const C=c[this.mediaIndex],D=typeof this.partIndex=="number"?this.partIndex:-1;d.startOfSegment=C.end?C.end:i,C.parts&&C.parts[D+1]?(d.mediaIndex=this.mediaIndex,d.partIndex=D+1):d.mediaIndex=this.mediaIndex+1}else{let C,D,P;const A=this.fetchAtBuffer_?i:this.currentTime_();if(this.mediaSequenceSync_&&this.logger_(`chooseNextRequest_ request after Quality Switch:
For TargetTime: ${A}.
CurrentTime: ${this.currentTime_()}
BufferedEnd: ${i}
Fetch At Buffer: ${this.fetchAtBuffer_}
`,this.mediaSequenceSync_.diagnostics),this.mediaSequenceSync_&&this.mediaSequenceSync_.isReliable){const U=this.getSyncInfoFromMediaSequenceSync_(A);if(!U){const M="No sync info found while using media sequence sync";return this.error({message:M,metadata:{errorType:_e.Error.StreamingFailedToSelectNextSegment,error:new Error(M)}}),this.logger_("chooseNextRequest_ - no sync info found using media sequence sync"),null}this.logger_(`chooseNextRequest_ mediaSequence syncInfo (${U.start} --> ${U.end})`),C=U.segmentIndex,D=U.partIndex,P=U.start}else{this.logger_("chooseNextRequest_ - fallback to a regular segment selection algorithm, based on a syncPoint.");const U=Hr.getMediaInfoForTime({exactManifestTimings:this.exactManifestTimings,playlist:this.playlist_,currentTime:A,startingPartIndex:this.syncPoint_.partIndex,startingSegmentIndex:this.syncPoint_.segmentIndex,startTime:this.syncPoint_.time});C=U.segmentIndex,D=U.partIndex,P=U.startTime}d.getMediaInfoForTime=this.fetchAtBuffer_?`bufferedEnd ${A}`:`currentTime ${A}`,d.mediaIndex=C,d.startOfSegment=P,d.partIndex=D,this.logger_(`choose next request. Playlist switched and we have a sync point. Media Index: ${d.mediaIndex} `)}const m=c[d.mediaIndex];let p=m&&typeof d.partIndex=="number"&&m.parts&&m.parts[d.partIndex];if(!m||typeof d.partIndex=="number"&&!p)return null;typeof d.partIndex!="number"&&m.parts&&(d.partIndex=0,p=m.parts[0]);const v=this.vhs_.playlists&&this.vhs_.playlists.main&&this.vhs_.playlists.main.independentSegments||this.playlist_.independentSegments;if(!s&&p&&!v&&!p.independent)if(d.partIndex===0){const C=c[d.mediaIndex-1],D=C.parts&&C.parts.length&&C.parts[C.parts.length-1];D&&D.independent&&(d.mediaIndex-=1,d.partIndex=C.parts.length-1,d.independent="previous segment")}else m.parts[d.partIndex-1].independent&&(d.partIndex-=1,d.independent="previous part");const E=this.mediaSource_&&this.mediaSource_.readyState==="ended";return d.mediaIndex>=c.length-1&&E&&!this.seeking_()?null:(this.shouldForceTimestampOffsetAfterResync_&&(this.shouldForceTimestampOffsetAfterResync_=!1,d.forceTimestampOffset=!0,this.logger_("choose next request. Force timestamp offset after loader resync")),this.generateSegmentInfo_(d))}getSyncInfoFromMediaSequenceSync_(e){if(!this.mediaSequenceSync_)return null;const i=Math.max(e,this.mediaSequenceSync_.start);e!==i&&this.logger_(`getSyncInfoFromMediaSequenceSync_. Pulled target time from ${e} to ${i}`);const s=this.mediaSequenceSync_.getSyncInfoForTime(i);if(!s)return null;if(!s.isAppended)return s;const o=this.mediaSequenceSync_.getSyncInfoForTime(s.end);return o?(o.isAppended&&this.logger_("getSyncInfoFromMediaSequenceSync_: We encounter unexpected scenario where next media sequence sync info is also appended!"),o):null}generateSegmentInfo_(e){const{independent:i,playlist:s,mediaIndex:o,startOfSegment:l,isSyncRequest:c,partIndex:d,forceTimestampOffset:m,getMediaInfoForTime:p}=e,v=s.segments[o],E=typeof d=="number"&&v.parts[d],C={requestId:"segment-loader-"+Math.random(),uri:E&&E.resolvedUri||v.resolvedUri,mediaIndex:o,partIndex:E?d:null,isSyncRequest:c,startOfSegment:l,playlist:s,bytes:null,encryptedBytes:null,timestampOffset:null,timeline:v.timeline,duration:E&&E.duration||v.duration,segment:v,part:E,byteLength:0,transmuxer:this.transmuxer_,getMediaInfoForTime:p,independent:i},D=typeof m<"u"?m:this.isPendingTimestampOffset_;C.timestampOffset=this.timestampOffsetForSegment_({segmentTimeline:v.timeline,currentTimeline:this.currentTimeline_,startOfSegment:l,buffered:this.buffered_(),overrideCheck:D});const P=xx(this.sourceUpdater_.audioBuffered());return typeof P=="number"&&(C.audioAppendStart=P-this.sourceUpdater_.audioTimestampOffset()),this.sourceUpdater_.videoBuffered().length&&(C.gopsToAlignWith=lj(this.gopBuffer_,this.currentTime_()-this.sourceUpdater_.videoTimestampOffset(),this.timeMapping_)),C}timestampOffsetForSegment_(e){return gj(e)}earlyAbortWhenNeeded_(e){if(this.vhs_.tech_.paused()||!this.xhrOptions_.timeout||!this.playlist_.attributes.BANDWIDTH||Date.now()-(e.firstBytesReceivedAt||Date.now())<1e3)return;const i=this.currentTime_(),s=e.bandwidth,o=this.pendingSegment_.duration,l=Hr.estimateSegmentRequestTime(o,s,this.playlist_,e.bytesReceived),c=j6(this.buffered_(),i,this.vhs_.tech_.playbackRate())-1;if(l<=c)return;const d=WB({main:this.vhs_.playlists.main,currentTime:i,bandwidth:s,duration:this.duration_(),segmentDuration:o,timeUntilRebuffer:c,currentTimeline:this.currentTimeline_,syncController:this.syncController_});if(!d)return;const p=l-c-d.rebufferingImpact;let v=.5;c<=go&&(v=1),!(!d.playlist||d.playlist.uri===this.playlist_.uri||p<v)&&(this.bandwidth=d.playlist.attributes.BANDWIDTH*ji.BANDWIDTH_VARIANCE+1,this.trigger("earlyabort"))}handleAbort_(e){this.logger_(`Aborting ${Nh(e)}`),this.mediaRequestsAborted+=1}handleProgress_(e,i){this.earlyAbortWhenNeeded_(i.stats),!this.checkForAbort_(i.requestId)&&this.trigger("progress")}handleTrackInfo_(e,i){const{hasAudio:s,hasVideo:o}=i,l={segmentInfo:Hc({type:this.loaderType_,segment:e}),trackInfo:{hasAudio:s,hasVideo:o}};this.trigger({type:"segmenttransmuxingtrackinfoavailable",metadata:l}),this.earlyAbortWhenNeeded_(e.stats),!this.checkForAbort_(e.requestId)&&(this.checkForIllegalMediaSwitch(i)||(i=i||{},dj(this.currentMediaInfo_,i)||(this.appendInitSegment_={audio:!0,video:!0},this.startingMediaInfo_=i,this.currentMediaInfo_=i,this.logger_("trackinfo update",i),this.trigger("trackinfo")),!this.checkForAbort_(e.requestId)&&(this.pendingSegment_.trackInfo=i,this.hasEnoughInfoToAppend_()?this.processCallQueue_():Nu(this))))}handleTimingInfo_(e,i,s,o){if(this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId))return;const l=this.pendingSegment_,c=TA(i);l[c]=l[c]||{},l[c][s]=o,this.logger_(`timinginfo: ${i} - ${s} - ${o}`),this.hasEnoughInfoToAppend_()?this.processCallQueue_():Nu(this)}handleCaptions_(e,i){if(this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId))return;if(i.length===0){this.logger_("SegmentLoader received no captions from a caption event");return}if(!this.pendingSegment_.hasAppendedData_){this.metadataQueue_.caption.push(this.handleCaptions_.bind(this,e,i));return}const o=this.sourceUpdater_.videoTimestampOffset()===null?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset(),l={};i.forEach(c=>{l[c.stream]=l[c.stream]||{startTime:1/0,captions:[],endTime:0};const d=l[c.stream];d.startTime=Math.min(d.startTime,c.startTime+o),d.endTime=Math.max(d.endTime,c.endTime+o),d.captions.push(c)}),Object.keys(l).forEach(c=>{const{startTime:d,endTime:m,captions:p}=l[c],v=this.inbandTextTracks_;this.logger_(`adding cues from ${d} -> ${m} for ${c}`),ej(v,this.vhs_.tech_,c),qm(d,m,v[c]),tj({captionArray:p,inbandTextTracks:v,timestampOffset:o})}),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})}handleId3_(e,i,s){if(this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId))return;if(!this.pendingSegment_.hasAppendedData_){this.metadataQueue_.id3.push(this.handleId3_.bind(this,e,i,s));return}this.addMetadataToTextTrack(s,i,this.duration_())}processMetadataQueue_(){this.metadataQueue_.id3.forEach(e=>e()),this.metadataQueue_.caption.forEach(e=>e()),this.metadataQueue_.id3=[],this.metadataQueue_.caption=[]}processCallQueue_(){const e=this.callQueue_;this.callQueue_=[],e.forEach(i=>i())}processLoadQueue_(){const e=this.loadQueue_;this.loadQueue_=[],e.forEach(i=>i())}hasEnoughInfoToLoad_(){if(this.loaderType_!=="audio")return!0;const e=this.pendingSegment_;return e?this.getCurrentMediaInfo_()?!t1({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:e.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}):!0:!1}getCurrentMediaInfo_(e=this.pendingSegment_){return e&&e.trackInfo||this.currentMediaInfo_}getMediaInfo_(e=this.pendingSegment_){return this.getCurrentMediaInfo_(e)||this.startingMediaInfo_}getPendingSegmentPlaylist(){return this.pendingSegment_?this.pendingSegment_.playlist:null}hasEnoughInfoToAppend_(){if(!this.sourceUpdater_.ready()||this.waitingOnRemove_||this.quotaExceededErrorRetryTimeout_)return!1;const e=this.pendingSegment_,i=this.getCurrentMediaInfo_();if(!e||!i)return!1;const{hasAudio:s,hasVideo:o,isMuxed:l}=i;return!(o&&!e.videoTimingInfo||s&&!this.audioDisabled_&&!l&&!e.audioTimingInfo||t1({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:e.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}))}handleData_(e,i){if(this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId))return;if(this.callQueue_.length||!this.hasEnoughInfoToAppend_()){Nu(this),this.callQueue_.push(this.handleData_.bind(this,e,i));return}const s=this.pendingSegment_;if(this.setTimeMapping_(s.timeline),this.updateMediaSecondsLoaded_(s.part||s.segment),this.mediaSource_.readyState!=="closed"){if(e.map&&(e.map=this.initSegmentForMap(e.map,!0),s.segment.map=e.map),e.key&&this.segmentKey(e.key,!0),s.isFmp4=e.isFmp4,s.timingInfo=s.timingInfo||{},s.isFmp4)this.trigger("fmp4"),s.timingInfo.start=s[TA(i.type)].start;else{const o=this.getCurrentMediaInfo_(),l=this.loaderType_==="main"&&o&&o.hasVideo;let c;l&&(c=s.videoTimingInfo.start),s.timingInfo.start=this.trueSegmentStart_({currentStart:s.timingInfo.start,playlist:s.playlist,mediaIndex:s.mediaIndex,currentVideoTimestampOffset:this.sourceUpdater_.videoTimestampOffset(),useVideoTimingInfo:l,firstVideoFrameTimeForData:c,videoTimingInfo:s.videoTimingInfo,audioTimingInfo:s.audioTimingInfo})}if(this.updateAppendInitSegmentStatus(s,i.type),this.updateSourceBufferTimestampOffset_(s),s.isSyncRequest){this.updateTimingInfoEnd_(s),this.syncController_.saveSegmentTimingInfo({segmentInfo:s,shouldSaveTimelineMapping:this.loaderType_==="main"});const o=this.chooseNextRequest_();if(o.mediaIndex!==s.mediaIndex||o.partIndex!==s.partIndex){this.logger_("sync segment was incorrect, not appending");return}this.logger_("sync segment was correct, appending")}s.hasAppendedData_=!0,this.processMetadataQueue_(),this.appendData_(s,i)}}updateAppendInitSegmentStatus(e,i){this.loaderType_==="main"&&typeof e.timestampOffset=="number"&&!e.changedTimestampOffset&&(this.appendInitSegment_={audio:!0,video:!0}),this.playlistOfLastInitSegment_[i]!==e.playlist&&(this.appendInitSegment_[i]=!0)}getInitSegmentAndUpdateState_({type:e,initSegment:i,map:s,playlist:o}){if(s){const l=s0(s);if(this.activeInitSegmentId_===l)return null;i=this.initSegmentForMap(s,!0).bytes,this.activeInitSegmentId_=l}return i&&this.appendInitSegment_[e]?(this.playlistOfLastInitSegment_[e]=o,this.appendInitSegment_[e]=!1,this.activeInitSegmentId_=null,i):null}handleQuotaExceededError_({segmentInfo:e,type:i,bytes:s},o){const l=this.sourceUpdater_.audioBuffered(),c=this.sourceUpdater_.videoBuffered();l.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the audio buffer: "+qc(l).join(", ")),c.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the video buffer: "+qc(c).join(", "));const d=l.length?l.start(0):0,m=l.length?l.end(l.length-1):0,p=c.length?c.start(0):0,v=c.length?c.end(c.length-1):0;if(m-d<=Vm&&v-p<=Vm){this.logger_(`On QUOTA_EXCEEDED_ERR, single segment too large to append to buffer, triggering an error. Appended byte length: ${s.byteLength}, audio buffer: ${qc(l).join(", ")}, video buffer: ${qc(c).join(", ")}, `),this.error({message:"Quota exceeded error with append of a single segment of content",excludeUntil:1/0}),this.trigger("error");return}this.waitingOnRemove_=!0,this.callQueue_.push(this.appendToSourceBuffer_.bind(this,{segmentInfo:e,type:i,bytes:s}));const C=this.currentTime_()-Vm;this.logger_(`On QUOTA_EXCEEDED_ERR, removing audio/video from 0 to ${C}`),this.remove(0,C,()=>{this.logger_(`On QUOTA_EXCEEDED_ERR, retrying append in ${Vm}s`),this.waitingOnRemove_=!1,this.quotaExceededErrorRetryTimeout_=W.setTimeout(()=>{this.logger_("On QUOTA_EXCEEDED_ERR, re-processing call queue"),this.quotaExceededErrorRetryTimeout_=null,this.processCallQueue_()},Vm*1e3)},!0)}handleAppendError_({segmentInfo:e,type:i,bytes:s},o){if(o){if(o.code===S4){this.handleQuotaExceededError_({segmentInfo:e,type:i,bytes:s});return}this.logger_("Received non QUOTA_EXCEEDED_ERR on append",o),this.error({message:`${i} append of ${s.length}b failed for segment #${e.mediaIndex} in playlist ${e.playlist.id}`,metadata:{errorType:_e.Error.StreamingFailedToAppendSegment}}),this.trigger("appenderror")}}appendToSourceBuffer_({segmentInfo:e,type:i,initSegment:s,data:o,bytes:l}){if(!l){const d=[o];let m=o.byteLength;s&&(d.unshift(s),m+=s.byteLength),l=JB({bytes:m,segments:d})}const c={segmentInfo:Hc({type:this.loaderType_,segment:e})};this.trigger({type:"segmentappendstart",metadata:c}),this.sourceUpdater_.appendBuffer({segmentInfo:e,type:i,bytes:l},this.handleAppendError_.bind(this,{segmentInfo:e,type:i,bytes:l}))}handleSegmentTimingInfo_(e,i,s){if(!this.pendingSegment_||i!==this.pendingSegment_.requestId)return;const o=this.pendingSegment_.segment,l=`${e}TimingInfo`;o[l]||(o[l]={}),o[l].transmuxerPrependedSeconds=s.prependedContentDuration||0,o[l].transmuxedPresentationStart=s.start.presentation,o[l].transmuxedDecodeStart=s.start.decode,o[l].transmuxedPresentationEnd=s.end.presentation,o[l].transmuxedDecodeEnd=s.end.decode,o[l].baseMediaDecodeTime=s.baseMediaDecodeTime}appendData_(e,i){const{type:s,data:o}=i;if(!o||!o.byteLength||s==="audio"&&this.audioDisabled_)return;const l=this.getInitSegmentAndUpdateState_({type:s,initSegment:i.initSegment,playlist:e.playlist,map:e.isFmp4?e.segment.map:null});this.appendToSourceBuffer_({segmentInfo:e,type:s,initSegment:l,data:o})}loadSegment_(e){if(this.state="WAITING",this.pendingSegment_=e,this.trimBackBuffer_(e),typeof e.timestampOffset=="number"&&this.transmuxer_&&this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),!this.hasEnoughInfoToLoad_()){Nu(this),this.loadQueue_.push(()=>{const i=ai({},e,{forceTimestampOffset:!0});ai(e,this.generateSegmentInfo_(i)),this.isPendingTimestampOffset_=!1,this.updateTransmuxerAndRequestSegment_(e)});return}this.updateTransmuxerAndRequestSegment_(e)}updateTransmuxerAndRequestSegment_(e){this.shouldUpdateTransmuxerTimestampOffset_(e.timestampOffset)&&(this.gopBuffer_.length=0,e.gopsToAlignWith=[],this.timeMapping_=0,this.transmuxer_.postMessage({action:"reset"}),this.transmuxer_.postMessage({action:"setTimestampOffset",timestampOffset:e.timestampOffset}));const i=this.createSimplifiedSegmentObj_(e),s=this.isEndOfStream_(e.mediaIndex,e.playlist,e.partIndex),o=this.mediaIndex!==null,l=e.timeline!==this.currentTimeline_&&e.timeline>0,c=s||o&&l;this.logger_(`Requesting
${Y4(e.uri)}
${Nh(e)}`),i.map&&!i.map.bytes&&(this.logger_("going to request init segment."),this.appendInitSegment_={video:!0,audio:!0}),e.abortRequests=YB({xhr:this.vhs_.xhr,xhrOptions:this.xhrOptions_,decryptionWorker:this.decrypter_,segment:i,abortFn:this.handleAbort_.bind(this,e),progressFn:this.handleProgress_.bind(this),trackInfoFn:this.handleTrackInfo_.bind(this),timingInfoFn:this.handleTimingInfo_.bind(this),videoSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"video",e.requestId),audioSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"audio",e.requestId),captionsFn:this.handleCaptions_.bind(this),isEndOfTimeline:c,endedTimelineFn:()=>{this.logger_("received endedtimeline callback")},id3Fn:this.handleId3_.bind(this),dataFn:this.handleData_.bind(this),doneFn:this.segmentRequestFinished_.bind(this),onTransmuxerLog:({message:d,level:m,stream:p})=>{this.logger_(`${Nh(e)} logged from transmuxer stream ${p} as a ${m}: ${d}`)},triggerSegmentEventFn:({type:d,segment:m,keyInfo:p,trackInfo:v,timingInfo:E})=>{const D={segmentInfo:Hc({segment:m})};p&&(D.keyInfo=p),v&&(D.trackInfo=v),E&&(D.timingInfo=E),this.trigger({type:d,metadata:D})}})}trimBackBuffer_(e){const i=pj(this.seekable_(),this.currentTime_(),this.playlist_.targetDuration||10);i>0&&this.remove(0,i)}createSimplifiedSegmentObj_(e){const i=e.segment,s=e.part,o=e.segment.key||e.segment.map&&e.segment.map.key,l=e.segment.map&&!e.segment.map.bytes,c={resolvedUri:s?s.resolvedUri:i.resolvedUri,byterange:s?s.byterange:i.byterange,requestId:e.requestId,transmuxer:e.transmuxer,audioAppendStart:e.audioAppendStart,gopsToAlignWith:e.gopsToAlignWith,part:e.part,type:this.loaderType_,start:e.startOfSegment,duration:e.duration,isEncrypted:o,isMediaInitialization:l},d=e.playlist.segments[e.mediaIndex-1];if(d&&d.timeline===i.timeline&&(d.videoTimingInfo?c.baseStartTime=d.videoTimingInfo.transmuxedDecodeEnd:d.audioTimingInfo&&(c.baseStartTime=d.audioTimingInfo.transmuxedDecodeEnd)),i.key){const m=i.key.iv||new Uint32Array([0,0,0,e.mediaIndex+e.playlist.mediaSequence]);c.key=this.segmentKey(i.key),c.key.iv=m}return i.map&&(c.map=this.initSegmentForMap(i.map)),c}saveTransferStats_(e){this.mediaRequests+=1,e&&(this.mediaBytesTransferred+=e.bytesReceived,this.mediaTransferDuration+=e.roundTripTime)}saveBandwidthRelatedStats_(e,i){if(this.pendingSegment_.byteLength=i.bytesReceived,e<Tb){this.logger_(`Ignoring segment's bandwidth because its duration of ${e} is less than the min to record ${Tb}`);return}const s={bandwidthInfo:{from:this.bandwidth,to:i.bandwidth}};this.trigger({type:"bandwidthupdated",metadata:s}),this.bandwidth=i.bandwidth,this.roundTrip=i.roundTripTime}handleTimeout_(){this.mediaRequestsTimedout+=1,this.bandwidth=1,this.roundTrip=NaN,this.trigger("bandwidthupdate"),this.trigger("timeout")}segmentRequestFinished_(e,i,s){if(this.callQueue_.length){this.callQueue_.push(this.segmentRequestFinished_.bind(this,e,i,s));return}if(this.saveTransferStats_(i.stats),!this.pendingSegment_||i.requestId!==this.pendingSegment_.requestId)return;if(e){if(this.pendingSegment_=null,this.state="READY",e.code===yo.ABORTED)return;if(this.pause(),e.code===yo.TIMEOUT){this.handleTimeout_();return}this.mediaRequestsErrored+=1,this.error(e),this.trigger("error");return}const o=this.pendingSegment_;this.saveBandwidthRelatedStats_(o.duration,i.stats),o.endOfAllRequests=i.endOfAllRequests,s.gopInfo&&(this.gopBuffer_=uj(this.gopBuffer_,s.gopInfo,this.safeAppend_)),this.state="APPENDING",this.trigger("appending"),this.waitForAppendsToComplete_(o)}setTimeMapping_(e){const i=this.syncController_.mappingForTimeline(e);i!==null&&(this.timeMapping_=i)}updateMediaSecondsLoaded_(e){typeof e.start=="number"&&typeof e.end=="number"?this.mediaSecondsLoaded+=e.end-e.start:this.mediaSecondsLoaded+=e.duration}shouldUpdateTransmuxerTimestampOffset_(e){return e===null?!1:this.loaderType_==="main"&&e!==this.sourceUpdater_.videoTimestampOffset()||!this.audioDisabled_&&e!==this.sourceUpdater_.audioTimestampOffset()}trueSegmentStart_({currentStart:e,playlist:i,mediaIndex:s,firstVideoFrameTimeForData:o,currentVideoTimestampOffset:l,useVideoTimingInfo:c,videoTimingInfo:d,audioTimingInfo:m}){if(typeof e<"u")return e;if(!c)return m.start;const p=i.segments[s-1];return s===0||!p||typeof p.start>"u"||p.end!==o+l?o:d.start}waitForAppendsToComplete_(e){const i=this.getCurrentMediaInfo_(e);if(!i){this.error({message:"No starting media returned, likely due to an unsupported media format.",playlistExclusionDuration:1/0}),this.trigger("error");return}const{hasAudio:s,hasVideo:o,isMuxed:l}=i,c=this.loaderType_==="main"&&o,d=!this.audioDisabled_&&s&&!l;if(e.waitingOnAppends=0,!e.hasAppendedData_){!e.timingInfo&&typeof e.timestampOffset=="number"&&(this.isPendingTimestampOffset_=!0),e.timingInfo={start:0},e.waitingOnAppends++,this.isPendingTimestampOffset_||(this.updateSourceBufferTimestampOffset_(e),this.processMetadataQueue_()),this.checkAppendsDone_(e);return}c&&e.waitingOnAppends++,d&&e.waitingOnAppends++,c&&this.sourceUpdater_.videoQueueCallback(this.checkAppendsDone_.bind(this,e)),d&&this.sourceUpdater_.audioQueueCallback(this.checkAppendsDone_.bind(this,e))}checkAppendsDone_(e){this.checkForAbort_(e.requestId)||(e.waitingOnAppends--,e.waitingOnAppends===0&&this.handleAppendsDone_())}checkForIllegalMediaSwitch(e){const i=mj(this.loaderType_,this.getCurrentMediaInfo_(),e);return i?(this.error({message:i,playlistExclusionDuration:1/0}),this.trigger("error"),!0):!1}updateSourceBufferTimestampOffset_(e){if(e.timestampOffset===null||typeof e.timingInfo.start!="number"||e.changedTimestampOffset||this.loaderType_!=="main")return;let i=!1;e.timestampOffset-=this.getSegmentStartTimeForTimestampOffsetCalculation_({videoTimingInfo:e.segment.videoTimingInfo,audioTimingInfo:e.segment.audioTimingInfo,timingInfo:e.timingInfo}),e.changedTimestampOffset=!0,e.timestampOffset!==this.sourceUpdater_.videoTimestampOffset()&&(this.sourceUpdater_.videoTimestampOffset(e.timestampOffset),i=!0),e.timestampOffset!==this.sourceUpdater_.audioTimestampOffset()&&(this.sourceUpdater_.audioTimestampOffset(e.timestampOffset),i=!0),i&&this.trigger("timestampoffset")}getSegmentStartTimeForTimestampOffsetCalculation_({videoTimingInfo:e,audioTimingInfo:i,timingInfo:s}){return this.useDtsForTimestampOffset_?e&&typeof e.transmuxedDecodeStart=="number"?e.transmuxedDecodeStart:i&&typeof i.transmuxedDecodeStart=="number"?i.transmuxedDecodeStart:s.start:s.start}updateTimingInfoEnd_(e){e.timingInfo=e.timingInfo||{};const i=this.getMediaInfo_(),o=this.loaderType_==="main"&&i&&i.hasVideo&&e.videoTimingInfo?e.videoTimingInfo:e.audioTimingInfo;o&&(e.timingInfo.end=typeof o.end=="number"?o.end:o.start+e.duration)}handleAppendsDone_(){if(this.pendingSegment_){const m={segmentInfo:Hc({type:this.loaderType_,segment:this.pendingSegment_})};this.trigger({type:"appendsdone",metadata:m})}if(!this.pendingSegment_){this.state="READY",this.paused()||this.monitorBuffer_();return}const e=this.pendingSegment_;e.part&&e.part.syncInfo?e.part.syncInfo.markAppended():e.segment.syncInfo&&e.segment.syncInfo.markAppended(),this.updateTimingInfoEnd_(e),this.shouldSaveSegmentTimingInfo_&&this.syncController_.saveSegmentTimingInfo({segmentInfo:e,shouldSaveTimelineMapping:this.loaderType_==="main"});const i=_j(e,this.sourceType_);if(i&&(i.severity==="warn"?_e.log.warn(i.message):this.logger_(i.message)),this.recordThroughput_(e),this.pendingSegment_=null,this.state="READY",e.isSyncRequest&&(this.trigger("syncinfoupdate"),!e.hasAppendedData_)){this.logger_(`Throwing away un-appended sync request ${Nh(e)}`);return}this.logger_(`Appended ${Nh(e)}`),this.addSegmentMetadataCue_(e),this.fetchAtBuffer_=!0,this.currentTimeline_!==e.timeline&&(this.timelineChangeController_.lastTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:e.timeline}),this.loaderType_==="main"&&!this.audioDisabled_&&this.timelineChangeController_.lastTimelineChange({type:"audio",from:this.currentTimeline_,to:e.timeline})),this.currentTimeline_=e.timeline,this.trigger("syncinfoupdate");const s=e.segment,o=e.part,l=s.end&&this.currentTime_()-s.end>e.playlist.targetDuration*3,c=o&&o.end&&this.currentTime_()-o.end>e.playlist.partTargetDuration*3;if(l||c){this.logger_(`bad ${l?"segment":"part"} ${Nh(e)}`),this.resetEverything();return}this.mediaIndex!==null&&this.trigger("bandwidthupdate"),this.trigger("progress"),this.mediaIndex=e.mediaIndex,this.partIndex=e.partIndex,this.isEndOfStream_(e.mediaIndex,e.playlist,e.partIndex)&&this.endOfStream(),this.trigger("appended"),e.hasAppendedData_&&this.mediaAppends++,this.paused()||this.monitorBuffer_()}recordThroughput_(e){if(e.duration<Tb){this.logger_(`Ignoring segment's throughput because its duration of ${e.duration} is less than the min to record ${Tb}`);return}const i=this.throughput.rate,s=Date.now()-e.endOfAllRequests+1,o=Math.floor(e.byteLength/s*8*1e3);this.throughput.rate+=(o-i)/++this.throughput.count}addSegmentMetadataCue_(e){if(!this.segmentMetadataTrack_)return;const i=e.segment,s=i.start,o=i.end;if(!xA(s)||!xA(o))return;qm(s,o,this.segmentMetadataTrack_);const l=W.WebKitDataCue||W.VTTCue,c={custom:i.custom,dateTimeObject:i.dateTimeObject,dateTimeString:i.dateTimeString,programDateTime:i.programDateTime,bandwidth:e.playlist.attributes.BANDWIDTH,resolution:e.playlist.attributes.RESOLUTION,codecs:e.playlist.attributes.CODECS,byteLength:e.byteLength,uri:e.uri,timeline:e.timeline,playlist:e.playlist.id,start:s,end:o},d=JSON.stringify(c),m=new l(s,o,d);m.value=c,this.segmentMetadataTrack_.addCue(m)}}function ml(){}const Q4=function(n){return typeof n!="string"?n:n.replace(/./,e=>e.toUpperCase())},xj=["video","audio"],i1=(n,e)=>{const i=e[`${n}Buffer`];return i&&i.updating||e.queuePending[n]},Tj=(n,e)=>{for(let i=0;i<e.length;i++){const s=e[i];if(s.type==="mediaSource")return null;if(s.type===n)return i}return null},jh=(n,e)=>{if(e.queue.length===0)return;let i=0,s=e.queue[i];if(s.type==="mediaSource"){!e.updating()&&e.mediaSource.readyState!=="closed"&&(e.queue.shift(),s.action(e),s.doneFn&&s.doneFn(),jh("audio",e),jh("video",e));return}if(n!=="mediaSource"&&!(!e.ready()||e.mediaSource.readyState==="closed"||i1(n,e))){if(s.type!==n){if(i=Tj(n,e.queue),i===null)return;s=e.queue[i]}if(e.queue.splice(i,1),e.queuePending[n]=s,s.action(n,e),!s.doneFn){e.queuePending[n]=null,jh(n,e);return}}},Z4=(n,e)=>{const i=e[`${n}Buffer`],s=Q4(n);i&&(i.removeEventListener("updateend",e[`on${s}UpdateEnd_`]),i.removeEventListener("error",e[`on${s}Error_`]),e.codecs[n]=null,e[`${n}Buffer`]=null)},mo=(n,e)=>n&&e&&Array.prototype.indexOf.call(n.sourceBuffers,e)!==-1,hs={appendBuffer:(n,e,i)=>(s,o)=>{const l=o[`${s}Buffer`];if(mo(o.mediaSource,l)){o.logger_(`Appending segment ${e.mediaIndex}'s ${n.length} bytes to ${s}Buffer`);try{l.appendBuffer(n)}catch(c){o.logger_(`Error with code ${c.code} `+(c.code===S4?"(QUOTA_EXCEEDED_ERR) ":"")+`when appending segment ${e.mediaIndex} to ${s}Buffer`),o.queuePending[s]=null,i(c)}}},remove:(n,e)=>(i,s)=>{const o=s[`${i}Buffer`];if(mo(s.mediaSource,o)){s.logger_(`Removing ${n} to ${e} from ${i}Buffer`);try{o.remove(n,e)}catch{s.logger_(`Remove ${n} to ${e} from ${i}Buffer failed`)}}},timestampOffset:n=>(e,i)=>{const s=i[`${e}Buffer`];mo(i.mediaSource,s)&&(i.logger_(`Setting ${e}timestampOffset to ${n}`),s.timestampOffset=n)},callback:n=>(e,i)=>{n()},endOfStream:n=>e=>{if(e.mediaSource.readyState==="open"){e.logger_(`Calling mediaSource endOfStream(${n||""})`);try{e.mediaSource.endOfStream(n)}catch(i){_e.log.warn("Failed to call media source endOfStream",i)}}},duration:n=>e=>{e.logger_(`Setting mediaSource duration to ${n}`);try{e.mediaSource.duration=n}catch(i){_e.log.warn("Failed to set media source duration",i)}},abort:()=>(n,e)=>{if(e.mediaSource.readyState!=="open")return;const i=e[`${n}Buffer`];if(mo(e.mediaSource,i)){e.logger_(`calling abort on ${n}Buffer`);try{i.abort()}catch(s){_e.log.warn(`Failed to abort on ${n}Buffer`,s)}}},addSourceBuffer:(n,e)=>i=>{const s=Q4(n),o=Fh(e);i.logger_(`Adding ${n}Buffer with codec ${e} to mediaSource`);const l=i.mediaSource.addSourceBuffer(o);l.addEventListener("updateend",i[`on${s}UpdateEnd_`]),l.addEventListener("error",i[`on${s}Error_`]),i.codecs[n]=e,i[`${n}Buffer`]=l},removeSourceBuffer:n=>e=>{const i=e[`${n}Buffer`];if(Z4(n,e),!!mo(e.mediaSource,i)){e.logger_(`Removing ${n}Buffer with codec ${e.codecs[n]} from mediaSource`);try{e.mediaSource.removeSourceBuffer(i)}catch(s){_e.log.warn(`Failed to removeSourceBuffer ${n}Buffer`,s)}}},changeType:n=>(e,i)=>{const s=i[`${e}Buffer`],o=Fh(n);if(!mo(i.mediaSource,s))return;const l=n.substring(0,n.indexOf(".")),c=i.codecs[e];if(c.substring(0,c.indexOf("."))===l)return;const m={codecsChangeInfo:{from:c,to:n}};i.trigger({type:"codecschange",metadata:m}),i.logger_(`changing ${e}Buffer codec from ${c} to ${n}`);try{s.changeType(o),i.codecs[e]=n}catch(p){m.errorType=_e.Error.StreamingCodecsChangeError,m.error=p,p.metadata=m,i.error_=p,i.trigger("error"),_e.log.warn(`Failed to changeType on ${e}Buffer`,p)}}},fs=({type:n,sourceUpdater:e,action:i,doneFn:s,name:o})=>{e.queue.push({type:n,action:i,doneFn:s,name:o}),jh(n,e)},EA=(n,e)=>i=>{const s=e[`${n}Buffered`](),o=L6(s);if(e.logger_(`received "updateend" event for ${n} Source Buffer: `,o),e.queuePending[n]){const l=e.queuePending[n].doneFn;e.queuePending[n]=null,l&&l(e[`${n}Error_`])}jh(n,e)};class W4 extends _e.EventTarget{constructor(e){super(),this.mediaSource=e,this.sourceopenListener_=()=>jh("mediaSource",this),this.mediaSource.addEventListener("sourceopen",this.sourceopenListener_),this.logger_=Js("SourceUpdater"),this.audioTimestampOffset_=0,this.videoTimestampOffset_=0,this.queue=[],this.queuePending={audio:null,video:null},this.delayedAudioAppendQueue_=[],this.videoAppendQueued_=!1,this.codecs={},this.onVideoUpdateEnd_=EA("video",this),this.onAudioUpdateEnd_=EA("audio",this),this.onVideoError_=i=>{this.videoError_=i},this.onAudioError_=i=>{this.audioError_=i},this.createdSourceBuffers_=!1,this.initializedEme_=!1,this.triggeredReady_=!1}initializedEme(){this.initializedEme_=!0,this.triggerReady()}hasCreatedSourceBuffers(){return this.createdSourceBuffers_}hasInitializedAnyEme(){return this.initializedEme_}ready(){return this.hasCreatedSourceBuffers()&&this.hasInitializedAnyEme()}createSourceBuffers(e){this.hasCreatedSourceBuffers()||(this.addOrChangeSourceBuffers(e),this.createdSourceBuffers_=!0,this.trigger("createdsourcebuffers"),this.triggerReady())}triggerReady(){this.ready()&&!this.triggeredReady_&&(this.triggeredReady_=!0,this.trigger("ready"))}addSourceBuffer(e,i){fs({type:"mediaSource",sourceUpdater:this,action:hs.addSourceBuffer(e,i),name:"addSourceBuffer"})}abort(e){fs({type:e,sourceUpdater:this,action:hs.abort(e),name:"abort"})}removeSourceBuffer(e){if(!this.canRemoveSourceBuffer()){_e.log.error("removeSourceBuffer is not supported!");return}fs({type:"mediaSource",sourceUpdater:this,action:hs.removeSourceBuffer(e),name:"removeSourceBuffer"})}canRemoveSourceBuffer(){return!_e.browser.IS_FIREFOX&&W.MediaSource&&W.MediaSource.prototype&&typeof W.MediaSource.prototype.removeSourceBuffer=="function"}static canChangeType(){return W.SourceBuffer&&W.SourceBuffer.prototype&&typeof W.SourceBuffer.prototype.changeType=="function"}canChangeType(){return this.constructor.canChangeType()}changeType(e,i){if(!this.canChangeType()){_e.log.error("changeType is not supported!");return}fs({type:e,sourceUpdater:this,action:hs.changeType(i),name:"changeType"})}addOrChangeSourceBuffers(e){if(!e||typeof e!="object"||Object.keys(e).length===0)throw new Error("Cannot addOrChangeSourceBuffers to undefined codecs");Object.keys(e).forEach(i=>{const s=e[i];if(!this.hasCreatedSourceBuffers())return this.addSourceBuffer(i,s);this.canChangeType()&&this.changeType(i,s)})}appendBuffer(e,i){const{segmentInfo:s,type:o,bytes:l}=e;if(this.processedAppend_=!0,o==="audio"&&this.videoBuffer&&!this.videoAppendQueued_){this.delayedAudioAppendQueue_.push([e,i]),this.logger_(`delayed audio append of ${l.length} until video append`);return}const c=i;if(fs({type:o,sourceUpdater:this,action:hs.appendBuffer(l,s||{mediaIndex:-1},c),doneFn:i,name:"appendBuffer"}),o==="video"){if(this.videoAppendQueued_=!0,!this.delayedAudioAppendQueue_.length)return;const d=this.delayedAudioAppendQueue_.slice();this.logger_(`queuing delayed audio ${d.length} appendBuffers`),this.delayedAudioAppendQueue_.length=0,d.forEach(m=>{this.appendBuffer.apply(this,m)})}}audioBuffered(){return mo(this.mediaSource,this.audioBuffer)&&this.audioBuffer.buffered?this.audioBuffer.buffered:Vi()}videoBuffered(){return mo(this.mediaSource,this.videoBuffer)&&this.videoBuffer.buffered?this.videoBuffer.buffered:Vi()}buffered(){const e=mo(this.mediaSource,this.videoBuffer)?this.videoBuffer:null,i=mo(this.mediaSource,this.audioBuffer)?this.audioBuffer:null;return i&&!e?this.audioBuffered():e&&!i?this.videoBuffered():B6(this.audioBuffered(),this.videoBuffered())}setDuration(e,i=ml){fs({type:"mediaSource",sourceUpdater:this,action:hs.duration(e),name:"duration",doneFn:i})}endOfStream(e=null,i=ml){typeof e!="string"&&(e=void 0),fs({type:"mediaSource",sourceUpdater:this,action:hs.endOfStream(e),name:"endOfStream",doneFn:i})}removeAudio(e,i,s=ml){if(!this.audioBuffered().length||this.audioBuffered().end(0)===0){s();return}fs({type:"audio",sourceUpdater:this,action:hs.remove(e,i),doneFn:s,name:"remove"})}removeVideo(e,i,s=ml){if(!this.videoBuffered().length||this.videoBuffered().end(0)===0){s();return}fs({type:"video",sourceUpdater:this,action:hs.remove(e,i),doneFn:s,name:"remove"})}updating(){return!!(i1("audio",this)||i1("video",this))}audioTimestampOffset(e){return typeof e<"u"&&this.audioBuffer&&this.audioTimestampOffset_!==e&&(fs({type:"audio",sourceUpdater:this,action:hs.timestampOffset(e),name:"timestampOffset"}),this.audioTimestampOffset_=e),this.audioTimestampOffset_}videoTimestampOffset(e){return typeof e<"u"&&this.videoBuffer&&this.videoTimestampOffset_!==e&&(fs({type:"video",sourceUpdater:this,action:hs.timestampOffset(e),name:"timestampOffset"}),this.videoTimestampOffset_=e),this.videoTimestampOffset_}audioQueueCallback(e){this.audioBuffer&&fs({type:"audio",sourceUpdater:this,action:hs.callback(e),name:"callback"})}videoQueueCallback(e){this.videoBuffer&&fs({type:"video",sourceUpdater:this,action:hs.callback(e),name:"callback"})}dispose(){this.trigger("dispose"),xj.forEach(e=>{this.abort(e),this.canRemoveSourceBuffer()?this.removeSourceBuffer(e):this[`${e}QueueCallback`](()=>Z4(e,this))}),this.videoAppendQueued_=!1,this.delayedAudioAppendQueue_.length=0,this.sourceopenListener_&&this.mediaSource.removeEventListener("sourceopen",this.sourceopenListener_),this.off()}}const NA=n=>decodeURIComponent(escape(String.fromCharCode.apply(null,n))),Sj=n=>{const e=new Uint8Array(n);return Array.from(e).map(i=>i.toString(16).padStart(2,"0")).join("")},CA=new Uint8Array(`

`.split("").map(n=>n.charCodeAt(0)));class Ej extends Error{constructor(){super("Trying to parse received VTT cues, but there is no WebVTT. Make sure vtt.js is loaded.")}}class Nj extends n1{constructor(e,i={}){super(e,i),this.mediaSource_=null,this.subtitlesTrack_=null,this.featuresNativeTextTracks_=e.featuresNativeTextTracks,this.loadVttJs=e.loadVttJs,this.shouldSaveSegmentTimingInfo_=!1}buffered_(){if(!this.subtitlesTrack_||!this.subtitlesTrack_.cues||!this.subtitlesTrack_.cues.length)return Vi();const e=this.subtitlesTrack_.cues,i=e[0].startTime,s=e[e.length-1].startTime;return Vi([[i,s]])}initSegmentForMap(e,i=!1){if(!e)return null;const s=s0(e);let o=this.initSegments_[s];if(i&&!o&&e.bytes){const l=CA.byteLength+e.bytes.byteLength,c=new Uint8Array(l);c.set(e.bytes),c.set(CA,e.bytes.byteLength),this.initSegments_[s]=o={resolvedUri:e.resolvedUri,byterange:e.byterange,bytes:c}}return o||e}couldBeginLoading_(){return this.playlist_&&this.subtitlesTrack_&&!this.paused()}init_(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()}track(e){return typeof e>"u"?this.subtitlesTrack_:(this.subtitlesTrack_=e,this.state==="INIT"&&this.couldBeginLoading_()&&this.init_(),this.subtitlesTrack_)}remove(e,i){qm(e,i,this.subtitlesTrack_)}fillBuffer_(){const e=this.chooseNextRequest_();if(e){if(this.syncController_.timestampOffsetForTimeline(e.timeline)===null){const i=()=>{this.state="READY",this.paused()||this.monitorBuffer_()};this.syncController_.one("timestampoffset",i),this.state="WAITING_ON_TIMELINE";return}this.loadSegment_(e)}}timestampOffsetForSegment_(){return null}chooseNextRequest_(){return this.skipEmptySegments_(super.chooseNextRequest_())}skipEmptySegments_(e){for(;e&&e.segment.empty;){if(e.mediaIndex+1>=e.playlist.segments.length){e=null;break}e=this.generateSegmentInfo_({playlist:e.playlist,mediaIndex:e.mediaIndex+1,startOfSegment:e.startOfSegment+e.duration,isSyncRequest:e.isSyncRequest})}return e}stopForError(e){this.error(e),this.state="READY",this.pause(),this.trigger("error")}segmentRequestFinished_(e,i,s){if(!this.subtitlesTrack_){this.state="READY";return}if(this.saveTransferStats_(i.stats),!this.pendingSegment_){this.state="READY",this.mediaRequestsAborted+=1;return}if(e){e.code===yo.TIMEOUT&&this.handleTimeout_(),e.code===yo.ABORTED?this.mediaRequestsAborted+=1:this.mediaRequestsErrored+=1,this.stopForError(e);return}const o=this.pendingSegment_,l=s.mp4VttCues&&s.mp4VttCues.length;l&&(o.mp4VttCues=s.mp4VttCues),this.saveBandwidthRelatedStats_(o.duration,i.stats),i.key&&this.segmentKey(i.key,!0),this.state="APPENDING",this.trigger("appending");const c=o.segment;if(c.map&&(c.map.bytes=i.map.bytes),o.bytes=i.bytes,typeof W.WebVTT!="function"&&typeof this.loadVttJs=="function"){this.state="WAITING_ON_VTTJS",this.loadVttJs().then(()=>this.segmentRequestFinished_(e,i,s),()=>this.stopForError({message:"Error loading vtt.js"}));return}c.requested=!0;try{this.parseVTTCues_(o)}catch(d){this.stopForError({message:d.message,metadata:{errorType:_e.Error.StreamingVttParserError,error:d}});return}if(l||this.updateTimeMapping_(o,this.syncController_.timelines[o.timeline],this.playlist_),o.cues.length?o.timingInfo={start:o.cues[0].startTime,end:o.cues[o.cues.length-1].endTime}:o.timingInfo={start:o.startOfSegment,end:o.startOfSegment+o.duration},o.isSyncRequest){this.trigger("syncinfoupdate"),this.pendingSegment_=null,this.state="READY";return}o.byteLength=o.bytes.byteLength,this.mediaSecondsLoaded+=c.duration,o.cues.forEach(d=>{this.subtitlesTrack_.addCue(this.featuresNativeTextTracks_?new W.VTTCue(d.startTime,d.endTime,d.text):d)}),oj(this.subtitlesTrack_),this.handleAppendsDone_()}handleData_(e,i){const s=e&&e.type==="vtt",o=i&&i.type==="text";s&&o&&super.handleData_(e,i)}updateTimingInfoEnd_(){}parseMp4VttCues_(e){const i=this.sourceUpdater_.videoTimestampOffset()===null?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset();e.mp4VttCues.forEach(s=>{const o=s.start+i,l=s.end+i,c=new W.VTTCue(o,l,s.cueText);s.settings&&s.settings.split(" ").forEach(d=>{const m=d.split(":"),p=m[0],v=m[1];c[p]=isNaN(v)?v:Number(v)}),e.cues.push(c)})}parseVTTCues_(e){let i,s=!1;if(typeof W.WebVTT!="function")throw new Ej;if(e.cues=[],e.timestampmap={MPEGTS:0,LOCAL:0},e.mp4VttCues){this.parseMp4VttCues_(e);return}typeof W.TextDecoder=="function"?i=new W.TextDecoder("utf8"):(i=W.WebVTT.StringDecoder(),s=!0);const o=new W.WebVTT.Parser(W,W.vttjs,i);if(o.oncue=e.cues.push.bind(e.cues),o.ontimestampmap=c=>{e.timestampmap=c},o.onparsingerror=c=>{_e.log.warn("Error encountered when parsing cues: "+c.message)},e.segment.map){let c=e.segment.map.bytes;s&&(c=NA(c)),o.parse(c)}let l=e.bytes;s&&(l=NA(l)),o.parse(l),o.flush()}updateTimeMapping_(e,i,s){const o=e.segment;if(!i)return;if(!e.cues.length){o.empty=!0;return}const{MPEGTS:l,LOCAL:c}=e.timestampmap,m=l/$c.ONE_SECOND_IN_TS-c+i.mapping;if(e.cues.forEach(p=>{const v=p.endTime-p.startTime,E=this.handleRollover_(p.startTime+m,i.time);p.startTime=Math.max(E,0),p.endTime=Math.max(E+v,0)}),!s.syncInfo){const p=e.cues[0].startTime,v=e.cues[e.cues.length-1].startTime;s.syncInfo={mediaSequence:s.mediaSequence+e.mediaIndex,time:Math.min(p,v-o.duration)}}}handleRollover_(e,i){if(i===null)return e;let s=e*$c.ONE_SECOND_IN_TS;const o=i*$c.ONE_SECOND_IN_TS;let l;for(o<s?l=-8589934592:l=8589934592;Math.abs(s-o)>4294967296;)s+=l;return s/$c.ONE_SECOND_IN_TS}}const Cj=function(n,e){const i=n.cues;for(let s=0;s<i.length;s++){const o=i[s];if(e>=o.adStartTime&&e<=o.adEndTime)return o}return null},Dj=function(n,e,i=0){if(!n.segments)return;let s=i,o;for(let l=0;l<n.segments.length;l++){const c=n.segments[l];if(o||(o=Cj(e,s+c.duration/2)),o){if("cueIn"in c){o.endTime=s,o.adEndTime=s,s+=c.duration,o=null;continue}if(s<o.endTime){s+=c.duration;continue}o.endTime+=c.duration}else if("cueOut"in c&&(o=new W.VTTCue(s,s+c.duration,c.cueOut),o.adStartTime=s,o.adEndTime=s+parseFloat(c.cueOut),e.addCue(o)),"cueOutCont"in c){const[d,m]=c.cueOutCont.split("/").map(parseFloat);o=new W.VTTCue(s,s+c.duration,""),o.adStartTime=s-d,o.adEndTime=o.adStartTime+m,e.addCue(o)}s+=c.duration}};class DA{constructor({start:e,end:i,segmentIndex:s,partIndex:o=null,appended:l=!1}){this.start_=e,this.end_=i,this.segmentIndex_=s,this.partIndex_=o,this.appended_=l}isInRange(e){return e>=this.start&&e<this.end}markAppended(){this.appended_=!0}resetAppendedStatus(){this.appended_=!1}get isAppended(){return this.appended_}get start(){return this.start_}get end(){return this.end_}get segmentIndex(){return this.segmentIndex_}get partIndex(){return this.partIndex_}}class Aj{constructor(e,i=[]){this.segmentSyncInfo_=e,this.partsSyncInfo_=i}get segmentSyncInfo(){return this.segmentSyncInfo_}get partsSyncInfo(){return this.partsSyncInfo_}get hasPartsSyncInfo(){return this.partsSyncInfo_.length>0}resetAppendStatus(){this.segmentSyncInfo_.resetAppendedStatus(),this.partsSyncInfo_.forEach(e=>e.resetAppendedStatus())}}class K4{constructor(){this.storage_=new Map,this.diagnostics_="",this.isReliable_=!1,this.start_=-1/0,this.end_=1/0}get start(){return this.start_}get end(){return this.end_}get diagnostics(){return this.diagnostics_}get isReliable(){return this.isReliable_}resetAppendedStatus(){this.storage_.forEach(e=>e.resetAppendStatus())}update(e,i){const{mediaSequence:s,segments:o}=e;if(this.isReliable_=this.isReliablePlaylist_(s,o),!!this.isReliable_)return this.updateStorage_(o,s,this.calculateBaseTime_(s,o,i))}getSyncInfoForTime(e){for(const{segmentSyncInfo:i,partsSyncInfo:s}of this.storage_.values())if(s.length){for(const o of s)if(o.isInRange(e))return o}else if(i.isInRange(e))return i;return null}getSyncInfoForMediaSequence(e){return this.storage_.get(e)}updateStorage_(e,i,s){const o=new Map;let l=`
`,c=s,d=i;this.start_=c,e.forEach((m,p)=>{const v=this.storage_.get(d),E=c,C=E+m.duration,D=!!(v&&v.segmentSyncInfo&&v.segmentSyncInfo.isAppended),P=new DA({start:E,end:C,appended:D,segmentIndex:p});m.syncInfo=P;let A=c;const U=(m.parts||[]).map((M,B)=>{const L=A,H=A+M.duration,Q=!!(v&&v.partsSyncInfo&&v.partsSyncInfo[B]&&v.partsSyncInfo[B].isAppended),se=new DA({start:L,end:H,appended:Q,segmentIndex:p,partIndex:B});return A=H,l+=`Media Sequence: ${d}.${B} | Range: ${L} --> ${H} | Appended: ${Q}
`,M.syncInfo=se,se});o.set(d,new Aj(P,U)),l+=`${Y4(m.resolvedUri)} | Media Sequence: ${d} | Range: ${E} --> ${C} | Appended: ${D}
`,d++,c=C}),this.end_=c,this.storage_=o,this.diagnostics_=l}calculateBaseTime_(e,i,s){if(!this.storage_.size)return 0;if(this.storage_.has(e))return this.storage_.get(e).segmentSyncInfo.start;const o=Math.min(...this.storage_.keys());if(e<o){const l=o-e;let c=this.storage_.get(o).segmentSyncInfo.start;for(let d=0;d<l;d++){const m=i[d];c-=m.duration}return c}return s}isReliablePlaylist_(e,i){return e!=null&&Array.isArray(i)&&i.length}}class AA extends K4{constructor(e){super(),this.parent_=e}calculateBaseTime_(e,i,s){if(!this.storage_.size){const o=this.parent_.getSyncInfoForMediaSequence(e);return o?o.segmentSyncInfo.start:0}return super.calculateBaseTime_(e,i,s)}}const wj=86400,Ex=[{name:"VOD",run:(n,e,i,s,o)=>i!==1/0?{time:0,segmentIndex:0,partIndex:null}:null},{name:"MediaSequence",run:(n,e,i,s,o,l)=>{const c=n.getMediaSequenceSync(l);if(!c||!c.isReliable)return null;const d=c.getSyncInfoForTime(o);return d?{time:d.start,partIndex:d.partIndex,segmentIndex:d.segmentIndex}:null}},{name:"ProgramDateTime",run:(n,e,i,s,o)=>{if(!Object.keys(n.timelineToDatetimeMappings).length)return null;let l=null,c=null;const d=Xx(e);o=o||0;for(let m=0;m<d.length;m++){const p=e.endList||o===0?m:d.length-(m+1),v=d[p],E=v.segment,C=n.timelineToDatetimeMappings[E.timeline];if(!C||!E.dateTimeObject)continue;let P=E.dateTimeObject.getTime()/1e3+C;if(E.parts&&typeof v.partIndex=="number")for(let U=0;U<v.partIndex;U++)P+=E.parts[U].duration;const A=Math.abs(o-P);if(c!==null&&(A===0||c<A))break;c=A,l={time:P,segmentIndex:v.segmentIndex,partIndex:v.partIndex}}return l}},{name:"Segment",run:(n,e,i,s,o)=>{let l=null,c=null;o=o||0;const d=Xx(e);for(let m=0;m<d.length;m++){const p=e.endList||o===0?m:d.length-(m+1),v=d[p],E=v.segment,C=v.part&&v.part.start||E&&E.start;if(E.timeline===s&&typeof C<"u"){const D=Math.abs(o-C);if(c!==null&&c<D)break;(!l||c===null||c>=D)&&(c=D,l={time:C,segmentIndex:v.segmentIndex,partIndex:v.partIndex})}}return l}},{name:"Discontinuity",run:(n,e,i,s,o)=>{let l=null;if(o=o||0,e.discontinuityStarts&&e.discontinuityStarts.length){let c=null;for(let d=0;d<e.discontinuityStarts.length;d++){const m=e.discontinuityStarts[d],p=e.discontinuitySequence+d+1,v=n.discontinuities[p];if(v){const E=Math.abs(o-v.time);if(c!==null&&c<E)break;(!l||c===null||c>=E)&&(c=E,l={time:v.time,segmentIndex:m,partIndex:null})}}}return l}},{name:"Playlist",run:(n,e,i,s,o)=>e.syncInfo?{time:e.syncInfo.time,segmentIndex:e.syncInfo.mediaSequence-e.mediaSequence,partIndex:null}:null}];class Rj extends _e.EventTarget{constructor(e={}){super(),this.timelines=[],this.discontinuities=[],this.timelineToDatetimeMappings={};const i=new K4,s=new AA(i),o=new AA(i);this.mediaSequenceStorage_={main:i,audio:s,vtt:o},this.logger_=Js("SyncController")}getMediaSequenceSync(e){return this.mediaSequenceStorage_[e]||null}getSyncPoint(e,i,s,o,l){if(i!==1/0)return Ex.find(({name:m})=>m==="VOD").run(this,e,i);const c=this.runStrategies_(e,i,s,o,l);if(!c.length)return null;for(const d of c){const{syncPoint:m,strategy:p}=d,{segmentIndex:v,time:E}=m;if(v<0)continue;const C=e.segments[v],D=E,P=D+C.duration;if(this.logger_(`Strategy: ${p}. Current time: ${o}. selected segment: ${v}. Time: [${D} -> ${P}]}`),o>=D&&o<P)return this.logger_("Found sync point with exact match: ",m),m}return this.selectSyncPoint_(c,{key:"time",value:o})}getExpiredTime(e,i){if(!e||!e.segments)return null;const s=this.runStrategies_(e,i,e.discontinuitySequence,0);if(!s.length)return null;const o=this.selectSyncPoint_(s,{key:"segmentIndex",value:0});return o.segmentIndex>0&&(o.time*=-1),Math.abs(o.time+Zm({defaultDuration:e.targetDuration,durationList:e.segments,startIndex:o.segmentIndex,endIndex:0}))}runStrategies_(e,i,s,o,l){const c=[];for(let d=0;d<Ex.length;d++){const m=Ex[d],p=m.run(this,e,i,s,o,l);p&&(p.strategy=m.name,c.push({strategy:m.name,syncPoint:p}))}return c}selectSyncPoint_(e,i){let s=e[0].syncPoint,o=Math.abs(e[0].syncPoint[i.key]-i.value),l=e[0].strategy;for(let c=1;c<e.length;c++){const d=Math.abs(e[c].syncPoint[i.key]-i.value);d<o&&(o=d,s=e[c].syncPoint,l=e[c].strategy)}return this.logger_(`syncPoint for [${i.key}: ${i.value}] chosen with strategy [${l}]: [time:${s.time}, segmentIndex:${s.segmentIndex}`+(typeof s.partIndex=="number"?`,partIndex:${s.partIndex}`:"")+"]"),s}saveExpiredSegmentInfo(e,i){const s=i.mediaSequence-e.mediaSequence;if(s>wj){_e.log.warn(`Not saving expired segment info. Media sequence gap ${s} is too large.`);return}for(let o=s-1;o>=0;o--){const l=e.segments[o];if(l&&typeof l.start<"u"){i.syncInfo={mediaSequence:e.mediaSequence+o,time:l.start},this.logger_(`playlist refresh sync: [time:${i.syncInfo.time}, mediaSequence: ${i.syncInfo.mediaSequence}]`),this.trigger("syncinfoupdate");break}}}setDateTimeMappingForStart(e){if(this.timelineToDatetimeMappings={},e.segments&&e.segments.length&&e.segments[0].dateTimeObject){const i=e.segments[0],s=i.dateTimeObject.getTime()/1e3;this.timelineToDatetimeMappings[i.timeline]=-s}}saveSegmentTimingInfo({segmentInfo:e,shouldSaveTimelineMapping:i}){const s=this.calculateSegmentTimeMapping_(e,e.timingInfo,i),o=e.segment;s&&(this.saveDiscontinuitySyncInfo_(e),e.playlist.syncInfo||(e.playlist.syncInfo={mediaSequence:e.playlist.mediaSequence+e.mediaIndex,time:o.start}));const l=o.dateTimeObject;o.discontinuity&&i&&l&&(this.timelineToDatetimeMappings[o.timeline]=-(l.getTime()/1e3))}timestampOffsetForTimeline(e){return typeof this.timelines[e]>"u"?null:this.timelines[e].time}mappingForTimeline(e){return typeof this.timelines[e]>"u"?null:this.timelines[e].mapping}calculateSegmentTimeMapping_(e,i,s){const o=e.segment,l=e.part;let c=this.timelines[e.timeline],d,m;if(typeof e.timestampOffset=="number")c={time:e.startOfSegment,mapping:e.startOfSegment-i.start},s&&(this.timelines[e.timeline]=c,this.trigger("timestampoffset"),this.logger_(`time mapping for timeline ${e.timeline}: [time: ${c.time}] [mapping: ${c.mapping}]`)),d=e.startOfSegment,m=i.end+c.mapping;else if(c)d=i.start+c.mapping,m=i.end+c.mapping;else return!1;return l&&(l.start=d,l.end=m),(!o.start||d<o.start)&&(o.start=d),o.end=m,!0}saveDiscontinuitySyncInfo_(e){const i=e.playlist,s=e.segment;if(s.discontinuity)this.discontinuities[s.timeline]={time:s.start,accuracy:0};else if(i.discontinuityStarts&&i.discontinuityStarts.length)for(let o=0;o<i.discontinuityStarts.length;o++){const l=i.discontinuityStarts[o],c=i.discontinuitySequence+o+1,d=l-e.mediaIndex,m=Math.abs(d);if(!this.discontinuities[c]||this.discontinuities[c].accuracy>m){let p;d<0?p=s.start-Zm({defaultDuration:i.targetDuration,durationList:i.segments,startIndex:e.mediaIndex,endIndex:l}):p=s.end+Zm({defaultDuration:i.targetDuration,durationList:i.segments,startIndex:e.mediaIndex+1,endIndex:l}),this.discontinuities[c]={time:p,accuracy:m}}}}dispose(){this.trigger("dispose"),this.off()}}class kj extends _e.EventTarget{constructor(){super(),this.pendingTimelineChanges_={},this.lastTimelineChanges_={}}clearPendingTimelineChange(e){this.pendingTimelineChanges_[e]=null,this.trigger("pendingtimelinechange")}pendingTimelineChange({type:e,from:i,to:s}){return typeof i=="number"&&typeof s=="number"&&(this.pendingTimelineChanges_[e]={type:e,from:i,to:s},this.trigger("pendingtimelinechange")),this.pendingTimelineChanges_[e]}lastTimelineChange({type:e,from:i,to:s}){if(typeof i=="number"&&typeof s=="number"){this.lastTimelineChanges_[e]={type:e,from:i,to:s},delete this.pendingTimelineChanges_[e];const o={timelineChangeInfo:{from:i,to:s}};this.trigger({type:"timelinechange",metadata:o})}return this.lastTimelineChanges_[e]}dispose(){this.trigger("dispose"),this.pendingTimelineChanges_={},this.lastTimelineChanges_={},this.off()}}const Oj=B4(j4(function(){var n=(function(){function A(){this.listeners={}}var U=A.prototype;return U.on=function(B,L){this.listeners[B]||(this.listeners[B]=[]),this.listeners[B].push(L)},U.off=function(B,L){if(!this.listeners[B])return!1;var H=this.listeners[B].indexOf(L);return this.listeners[B]=this.listeners[B].slice(0),this.listeners[B].splice(H,1),H>-1},U.trigger=function(B){var L=this.listeners[B];if(L)if(arguments.length===2)for(var H=L.length,Q=0;Q<H;++Q)L[Q].call(this,arguments[1]);else for(var se=Array.prototype.slice.call(arguments,1),q=L.length,te=0;te<q;++te)L[te].apply(this,se)},U.dispose=function(){this.listeners={}},U.pipe=function(B){this.on("data",function(L){B.push(L)})},A})();/*! @name pkcs7 @version 1.0.4 @license Apache-2.0 */function e(A){return A.subarray(0,A.byteLength-A[A.byteLength-1])}/*! @name aes-decrypter @version 4.0.2 @license Apache-2.0 */const i=function(){const A=[[[],[],[],[],[]],[[],[],[],[],[]]],U=A[0],M=A[1],B=U[4],L=M[4];let H,Q,se;const q=[],te=[];let I,j,ge,de,ie,fe;for(H=0;H<256;H++)te[(q[H]=H<<1^(H>>7)*283)^H]=H;for(Q=se=0;!B[Q];Q^=I||1,se=te[se]||1)for(de=se^se<<1^se<<2^se<<3^se<<4,de=de>>8^de&255^99,B[Q]=de,L[de]=Q,ge=q[j=q[I=q[Q]]],fe=ge*16843009^j*65537^I*257^Q*16843008,ie=q[de]*257^de*16843008,H=0;H<4;H++)U[H][Q]=ie=ie<<24^ie>>>8,M[H][de]=fe=fe<<24^fe>>>8;for(H=0;H<5;H++)U[H]=U[H].slice(0),M[H]=M[H].slice(0);return A};let s=null;class o{constructor(U){s||(s=i()),this._tables=[[s[0][0].slice(),s[0][1].slice(),s[0][2].slice(),s[0][3].slice(),s[0][4].slice()],[s[1][0].slice(),s[1][1].slice(),s[1][2].slice(),s[1][3].slice(),s[1][4].slice()]];let M,B,L;const H=this._tables[0][4],Q=this._tables[1],se=U.length;let q=1;if(se!==4&&se!==6&&se!==8)throw new Error("Invalid aes key size");const te=U.slice(0),I=[];for(this._key=[te,I],M=se;M<4*se+28;M++)L=te[M-1],(M%se===0||se===8&&M%se===4)&&(L=H[L>>>24]<<24^H[L>>16&255]<<16^H[L>>8&255]<<8^H[L&255],M%se===0&&(L=L<<8^L>>>24^q<<24,q=q<<1^(q>>7)*283)),te[M]=te[M-se]^L;for(B=0;M;B++,M--)L=te[B&3?M:M-4],M<=4||B<4?I[B]=L:I[B]=Q[0][H[L>>>24]]^Q[1][H[L>>16&255]]^Q[2][H[L>>8&255]]^Q[3][H[L&255]]}decrypt(U,M,B,L,H,Q){const se=this._key[1];let q=U^se[0],te=L^se[1],I=B^se[2],j=M^se[3],ge,de,ie;const fe=se.length/4-2;let Re,be=4;const ve=this._tables[1],Te=ve[0],De=ve[1],ke=ve[2],le=ve[3],Be=ve[4];for(Re=0;Re<fe;Re++)ge=Te[q>>>24]^De[te>>16&255]^ke[I>>8&255]^le[j&255]^se[be],de=Te[te>>>24]^De[I>>16&255]^ke[j>>8&255]^le[q&255]^se[be+1],ie=Te[I>>>24]^De[j>>16&255]^ke[q>>8&255]^le[te&255]^se[be+2],j=Te[j>>>24]^De[q>>16&255]^ke[te>>8&255]^le[I&255]^se[be+3],be+=4,q=ge,te=de,I=ie;for(Re=0;Re<4;Re++)H[(3&-Re)+Q]=Be[q>>>24]<<24^Be[te>>16&255]<<16^Be[I>>8&255]<<8^Be[j&255]^se[be++],ge=q,q=te,te=I,I=j,j=ge}}class l extends n{constructor(){super(n),this.jobs=[],this.delay=1,this.timeout_=null}processJob_(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(this.processJob_.bind(this),this.delay):this.timeout_=null}push(U){this.jobs.push(U),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))}}const c=function(A){return A<<24|(A&65280)<<8|(A&16711680)>>8|A>>>24},d=function(A,U,M){const B=new Int32Array(A.buffer,A.byteOffset,A.byteLength>>2),L=new o(Array.prototype.slice.call(U)),H=new Uint8Array(A.byteLength),Q=new Int32Array(H.buffer);let se,q,te,I,j,ge,de,ie,fe;for(se=M[0],q=M[1],te=M[2],I=M[3],fe=0;fe<B.length;fe+=4)j=c(B[fe]),ge=c(B[fe+1]),de=c(B[fe+2]),ie=c(B[fe+3]),L.decrypt(j,ge,de,ie,Q,fe),Q[fe]=c(Q[fe]^se),Q[fe+1]=c(Q[fe+1]^q),Q[fe+2]=c(Q[fe+2]^te),Q[fe+3]=c(Q[fe+3]^I),se=j,q=ge,te=de,I=ie;return H};class m{constructor(U,M,B,L){const H=m.STEP,Q=new Int32Array(U.buffer),se=new Uint8Array(U.byteLength);let q=0;for(this.asyncStream_=new l,this.asyncStream_.push(this.decryptChunk_(Q.subarray(q,q+H),M,B,se)),q=H;q<Q.length;q+=H)B=new Uint32Array([c(Q[q-4]),c(Q[q-3]),c(Q[q-2]),c(Q[q-1])]),this.asyncStream_.push(this.decryptChunk_(Q.subarray(q,q+H),M,B,se));this.asyncStream_.push(function(){L(null,e(se))})}static get STEP(){return 32e3}decryptChunk_(U,M,B,L){return function(){const H=d(U,M,B);L.set(H,U.byteOffset)}}}var p=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},v;typeof window<"u"?v=window:typeof p<"u"?v=p:typeof self<"u"?v=self:v={};var E=v,C=function(U){return ArrayBuffer.isView==="function"?ArrayBuffer.isView(U):U&&U.buffer instanceof ArrayBuffer},D=E.BigInt||Number;D("0x1"),D("0x100"),D("0x10000"),D("0x1000000"),D("0x100000000"),D("0x10000000000"),D("0x1000000000000"),D("0x100000000000000"),D("0x10000000000000000"),(function(){var A=new Uint16Array([65484]),U=new Uint8Array(A.buffer,A.byteOffset,A.byteLength);return U[0]===255?"big":U[0]===204?"little":"unknown"})();const P=function(A){const U={};return Object.keys(A).forEach(M=>{const B=A[M];C(B)?U[M]={bytes:B.buffer,byteOffset:B.byteOffset,byteLength:B.byteLength}:U[M]=B}),U};self.onmessage=function(A){const U=A.data,M=new Uint8Array(U.encrypted.bytes,U.encrypted.byteOffset,U.encrypted.byteLength),B=new Uint32Array(U.key.bytes,U.key.byteOffset,U.key.byteLength/4),L=new Uint32Array(U.iv.bytes,U.iv.byteOffset,U.iv.byteLength/4);new m(M,B,L,function(H,Q){self.postMessage(P({source:U.source,decrypted:Q}),[Q.buffer])})}}));var Mj=P4(Oj);const Ij=n=>{let e=n.default?"main":"alternative";return n.characteristics&&n.characteristics.indexOf("public.accessibility.describes-video")>=0&&(e="main-desc"),e},J4=(n,e)=>{n.abort(),n.pause(),e&&e.activePlaylistLoader&&(e.activePlaylistLoader.pause(),e.activePlaylistLoader=null)},r1=(n,e)=>{e.activePlaylistLoader=n,n.load()},Lj=(n,e)=>()=>{const{segmentLoaders:{[n]:i,main:s},mediaTypes:{[n]:o}}=e,l=o.activeTrack(),c=o.getActiveGroup(),d=o.activePlaylistLoader,m=o.lastGroup_;if(!(c&&m&&c.id===m.id)&&(o.lastGroup_=c,o.lastTrack_=l,J4(i,o),!(!c||c.isMainPlaylist))){if(!c.playlistLoader){d&&s.resetEverything();return}i.resyncLoader(),r1(c.playlistLoader,o)}},Pj=(n,e)=>()=>{const{segmentLoaders:{[n]:i},mediaTypes:{[n]:s}}=e;s.lastGroup_=null,i.abort(),i.pause()},Bj=(n,e)=>()=>{const{mainPlaylistLoader:i,segmentLoaders:{[n]:s,main:o},mediaTypes:{[n]:l}}=e,c=l.activeTrack(),d=l.getActiveGroup(),m=l.activePlaylistLoader,p=l.lastTrack_;if(!(p&&c&&p.id===c.id)&&(l.lastGroup_=d,l.lastTrack_=c,J4(s,l),!!d)){if(d.isMainPlaylist){if(!c||!p||c.id===p.id)return;const v=e.vhs.playlistController_,E=v.selectPlaylist();if(v.media()===E)return;l.logger_(`track change. Switching main audio from ${p.id} to ${c.id}`),i.pause(),o.resetEverything(),v.fastQualityChange_(E);return}if(n==="AUDIO"){if(!d.playlistLoader){o.setAudio(!0),o.resetEverything();return}s.setAudio(!0),o.setAudio(!1)}if(m===d.playlistLoader){r1(d.playlistLoader,l);return}s.track&&s.track(c),s.resetEverything(),r1(d.playlistLoader,l)}},a0={AUDIO:(n,e)=>()=>{const{mediaTypes:{[n]:i},excludePlaylist:s}=e,o=i.activeTrack(),l=i.activeGroup(),c=(l.filter(m=>m.default)[0]||l[0]).id,d=i.tracks[c];if(o===d){s({error:{message:"Problem encountered loading the default audio track."}});return}_e.log.warn("Problem encountered loading the alternate audio track.Switching back to default.");for(const m in i.tracks)i.tracks[m].enabled=i.tracks[m]===d;i.onTrackChanged()},SUBTITLES:(n,e)=>()=>{const{mediaTypes:{[n]:i}}=e;_e.log.warn("Problem encountered loading the subtitle track.Disabling subtitle track.");const s=i.activeTrack();s&&(s.mode="disabled"),i.onTrackChanged()}},wA={AUDIO:(n,e,i)=>{if(!e)return;const{tech:s,requestOptions:o,segmentLoaders:{[n]:l}}=i;e.on("loadedmetadata",()=>{const c=e.media();l.playlist(c,o),(!s.paused()||c.endList&&s.preload()!=="none")&&l.load()}),e.on("loadedplaylist",()=>{l.playlist(e.media(),o),s.paused()||l.load()}),e.on("error",a0[n](n,i))},SUBTITLES:(n,e,i)=>{const{tech:s,requestOptions:o,segmentLoaders:{[n]:l},mediaTypes:{[n]:c}}=i;e.on("loadedmetadata",()=>{const d=e.media();l.playlist(d,o),l.track(c.activeTrack()),(!s.paused()||d.endList&&s.preload()!=="none")&&l.load()}),e.on("loadedplaylist",()=>{l.playlist(e.media(),o),s.paused()||l.load()}),e.on("error",a0[n](n,i))}},jj={AUDIO:(n,e)=>{const{vhs:i,sourceType:s,segmentLoaders:{[n]:o},requestOptions:l,main:{mediaGroups:c},mediaTypes:{[n]:{groups:d,tracks:m,logger_:p}},mainPlaylistLoader:v}=e,E=yp(v.main);(!c[n]||Object.keys(c[n]).length===0)&&(c[n]={main:{default:{default:!0}}},E&&(c[n].main.default.playlists=v.main.playlists));for(const C in c[n]){d[C]||(d[C]=[]);for(const D in c[n][C]){let P=c[n][C][D],A;if(E?(p(`AUDIO group '${C}' label '${D}' is a main playlist`),P.isMainPlaylist=!0,A=null):s==="vhs-json"&&P.playlists?A=new Ah(P.playlists[0],i,l):P.resolvedUri?A=new Ah(P.resolvedUri,i,l):P.playlists&&s==="dash"?A=new Jx(P.playlists[0],i,l,v):A=null,P=tn({id:D,playlistLoader:A},P),wA[n](n,P.playlistLoader,e),d[C].push(P),typeof m[D]>"u"){const U=new _e.AudioTrack({id:D,kind:Ij(P),enabled:!1,language:P.language,default:P.default,label:D});m[D]=U}}}o.on("error",a0[n](n,e))},SUBTITLES:(n,e)=>{const{tech:i,vhs:s,sourceType:o,segmentLoaders:{[n]:l},requestOptions:c,main:{mediaGroups:d},mediaTypes:{[n]:{groups:m,tracks:p}},mainPlaylistLoader:v}=e;for(const E in d[n]){m[E]||(m[E]=[]);for(const C in d[n][E]){if(!s.options_.useForcedSubtitles&&d[n][E][C].forced)continue;let D=d[n][E][C],P;if(o==="hls")P=new Ah(D.resolvedUri,s,c);else if(o==="dash"){if(!D.playlists.filter(U=>U.excludeUntil!==1/0).length)return;P=new Jx(D.playlists[0],s,c,v)}else o==="vhs-json"&&(P=new Ah(D.playlists?D.playlists[0]:D.resolvedUri,s,c));if(D=tn({id:C,playlistLoader:P},D),wA[n](n,D.playlistLoader,e),m[E].push(D),typeof p[C]>"u"){const A=i.addRemoteTextTrack({id:C,kind:"subtitles",default:D.default&&D.autoselect,language:D.language,label:C},!1).track;p[C]=A}}}l.on("error",a0[n](n,e))},"CLOSED-CAPTIONS":(n,e)=>{const{tech:i,main:{mediaGroups:s},mediaTypes:{[n]:{groups:o,tracks:l}}}=e;for(const c in s[n]){o[c]||(o[c]=[]);for(const d in s[n][c]){const m=s[n][c][d];if(!/^(?:CC|SERVICE)/.test(m.instreamId))continue;const p=i.options_.vhs&&i.options_.vhs.captionServices||{};let v={label:d,language:m.language,instreamId:m.instreamId,default:m.default&&m.autoselect};if(p[v.instreamId]&&(v=tn(v,p[v.instreamId])),v.default===void 0&&delete v.default,o[c].push(tn({id:d},m)),typeof l[d]>"u"){const E=i.addRemoteTextTrack({id:v.instreamId,kind:"captions",default:v.default,language:v.language,label:v.label},!1).track;l[d]=E}}}}},eR=(n,e)=>{for(let i=0;i<n.length;i++)if(sT(e,n[i])||n[i].playlists&&eR(n[i].playlists,e))return!0;return!1},Uj=(n,e)=>i=>{const{mainPlaylistLoader:s,mediaTypes:{[n]:{groups:o}}}=e,l=s.media();if(!l)return null;let c=null;l.attributes[n]&&(c=o[l.attributes[n]]);const d=Object.keys(o);if(!c)if(n==="AUDIO"&&d.length>1&&yp(e.main))for(let m=0;m<d.length;m++){const p=o[d[m]];if(eR(p,l)){c=p;break}}else o.main?c=o.main:d.length===1&&(c=o[d[0]]);return typeof i>"u"?c:i===null||!c?null:c.filter(m=>m.id===i.id)[0]||null},Vj={AUDIO:(n,e)=>()=>{const{mediaTypes:{[n]:{tracks:i}}}=e;for(const s in i)if(i[s].enabled)return i[s];return null},SUBTITLES:(n,e)=>()=>{const{mediaTypes:{[n]:{tracks:i}}}=e;for(const s in i)if(i[s].mode==="showing"||i[s].mode==="hidden")return i[s];return null}},Fj=(n,{mediaTypes:e})=>()=>{const i=e[n].activeTrack();return i?e[n].activeGroup(i):null},zj=n=>{["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(p=>{jj[p](p,n)});const{mediaTypes:e,mainPlaylistLoader:i,tech:s,vhs:o,segmentLoaders:{["AUDIO"]:l,main:c}}=n;["AUDIO","SUBTITLES"].forEach(p=>{e[p].activeGroup=Uj(p,n),e[p].activeTrack=Vj[p](p,n),e[p].onGroupChanged=Lj(p,n),e[p].onGroupChanging=Pj(p,n),e[p].onTrackChanged=Bj(p,n),e[p].getActiveGroup=Fj(p,n)});const d=e.AUDIO.activeGroup();if(d){const p=(d.filter(E=>E.default)[0]||d[0]).id;e.AUDIO.tracks[p].enabled=!0,e.AUDIO.onGroupChanged(),e.AUDIO.onTrackChanged(),e.AUDIO.getActiveGroup().playlistLoader?(c.setAudio(!1),l.setAudio(!0)):c.setAudio(!0)}i.on("mediachange",()=>{["AUDIO","SUBTITLES"].forEach(p=>e[p].onGroupChanged())}),i.on("mediachanging",()=>{["AUDIO","SUBTITLES"].forEach(p=>e[p].onGroupChanging())});const m=()=>{e.AUDIO.onTrackChanged(),s.trigger({type:"usage",name:"vhs-audio-change"})};s.audioTracks().addEventListener("change",m),s.remoteTextTracks().addEventListener("change",e.SUBTITLES.onTrackChanged),o.on("dispose",()=>{s.audioTracks().removeEventListener("change",m),s.remoteTextTracks().removeEventListener("change",e.SUBTITLES.onTrackChanged)}),s.clearTracks("audio");for(const p in e.AUDIO.tracks)s.audioTracks().addTrack(e.AUDIO.tracks[p])},Hj=()=>{const n={};return["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(e=>{n[e]={groups:{},tracks:{},activePlaylistLoader:null,activeGroup:ml,activeTrack:ml,getActiveGroup:ml,onGroupChanged:ml,onTrackChanged:ml,lastTrack_:null,logger_:Js(`MediaGroups[${e}]`)}}),n};class RA{constructor(){this.priority_=[],this.pathwayClones_=new Map}set version(e){e===1&&(this.version_=e)}set ttl(e){this.ttl_=e||300}set reloadUri(e){e&&(this.reloadUri_=Fr(this.reloadUri_,e))}set priority(e){e&&e.length&&(this.priority_=e)}set pathwayClones(e){e&&e.length&&(this.pathwayClones_=new Map(e.map(i=>[i.ID,i])))}get version(){return this.version_}get ttl(){return this.ttl_}get reloadUri(){return this.reloadUri_}get priority(){return this.priority_}get pathwayClones(){return this.pathwayClones_}}class $j extends _e.EventTarget{constructor(e,i){super(),this.currentPathway=null,this.defaultPathway=null,this.queryBeforeStart=!1,this.availablePathways_=new Set,this.steeringManifest=new RA,this.proxyServerUrl_=null,this.manifestType_=null,this.ttlTimeout_=null,this.request_=null,this.currentPathwayClones=new Map,this.nextPathwayClones=new Map,this.excludedSteeringManifestURLs=new Set,this.logger_=Js("Content Steering"),this.xhr_=e,this.getBandwidth_=i}assignTagProperties(e,i){this.manifestType_=i.serverUri?"HLS":"DASH";const s=i.serverUri||i.serverURL;if(!s){this.logger_(`steering manifest URL is ${s}, cannot request steering manifest.`),this.trigger("error");return}if(s.startsWith("data:")){this.decodeDataUriManifest_(s.substring(s.indexOf(",")+1));return}this.steeringManifest.reloadUri=Fr(e,s),this.defaultPathway=i.pathwayId||i.defaultServiceLocation,this.queryBeforeStart=i.queryBeforeStart,this.proxyServerUrl_=i.proxyServerURL,this.defaultPathway&&!this.queryBeforeStart&&this.trigger("content-steering")}requestSteeringManifest(e){const i=this.steeringManifest.reloadUri;if(!i)return;const s=e?i:this.getRequestURI(i);if(!s){this.logger_("No valid content steering manifest URIs. Stopping content steering."),this.trigger("error"),this.dispose();return}const o={contentSteeringInfo:{uri:s}};this.trigger({type:"contentsteeringloadstart",metadata:o}),this.request_=this.xhr_({uri:s,requestType:"content-steering-manifest"},(l,c)=>{if(l){if(c.status===410){this.logger_(`manifest request 410 ${l}.`),this.logger_(`There will be no more content steering requests to ${s} this session.`),this.excludedSteeringManifestURLs.add(s);return}if(c.status===429){const p=c.responseHeaders["retry-after"];this.logger_(`manifest request 429 ${l}.`),this.logger_(`content steering will retry in ${p} seconds.`),this.startTTLTimeout_(parseInt(p,10));return}this.logger_(`manifest failed to load ${l}.`),this.startTTLTimeout_();return}this.trigger({type:"contentsteeringloadcomplete",metadata:o});let d;try{d=JSON.parse(this.request_.responseText)}catch(p){const v={errorType:_e.Error.StreamingContentSteeringParserError,error:p};this.trigger({type:"error",metadata:v})}this.assignSteeringProperties_(d);const m={contentSteeringInfo:o.contentSteeringInfo,contentSteeringManifest:{version:this.steeringManifest.version,reloadUri:this.steeringManifest.reloadUri,priority:this.steeringManifest.priority}};this.trigger({type:"contentsteeringparsed",metadata:m}),this.startTTLTimeout_()})}setProxyServerUrl_(e){const i=new W.URL(e),s=new W.URL(this.proxyServerUrl_);return s.searchParams.set("url",encodeURI(i.toString())),this.setSteeringParams_(s.toString())}decodeDataUriManifest_(e){const i=JSON.parse(W.atob(e));this.assignSteeringProperties_(i)}setSteeringParams_(e){const i=new W.URL(e),s=this.getPathway(),o=this.getBandwidth_();if(s){const l=`_${this.manifestType_}_pathway`;i.searchParams.set(l,s)}if(o){const l=`_${this.manifestType_}_throughput`;i.searchParams.set(l,o)}return i.toString()}assignSteeringProperties_(e){if(this.steeringManifest.version=e.VERSION,!this.steeringManifest.version){this.logger_(`manifest version is ${e.VERSION}, which is not supported.`),this.trigger("error");return}this.steeringManifest.ttl=e.TTL,this.steeringManifest.reloadUri=e["RELOAD-URI"],this.steeringManifest.priority=e["PATHWAY-PRIORITY"]||e["SERVICE-LOCATION-PRIORITY"],this.steeringManifest.pathwayClones=e["PATHWAY-CLONES"],this.nextPathwayClones=this.steeringManifest.pathwayClones,this.availablePathways_.size||(this.logger_("There are no available pathways for content steering. Ending content steering."),this.trigger("error"),this.dispose());const s=(o=>{for(const l of o)if(this.availablePathways_.has(l))return l;return[...this.availablePathways_][0]})(this.steeringManifest.priority);this.currentPathway!==s&&(this.currentPathway=s,this.trigger("content-steering"))}getPathway(){return this.currentPathway||this.defaultPathway}getRequestURI(e){if(!e)return null;const i=o=>this.excludedSteeringManifestURLs.has(o);if(this.proxyServerUrl_){const o=this.setProxyServerUrl_(e);if(!i(o))return o}const s=this.setSteeringParams_(e);return i(s)?null:s}startTTLTimeout_(e=this.steeringManifest.ttl){const i=e*1e3;this.ttlTimeout_=W.setTimeout(()=>{this.requestSteeringManifest()},i)}clearTTLTimeout_(){W.clearTimeout(this.ttlTimeout_),this.ttlTimeout_=null}abort(){this.request_&&this.request_.abort(),this.request_=null}dispose(){this.off("content-steering"),this.off("error"),this.abort(),this.clearTTLTimeout_(),this.currentPathway=null,this.defaultPathway=null,this.queryBeforeStart=null,this.proxyServerUrl_=null,this.manifestType_=null,this.ttlTimeout_=null,this.request_=null,this.excludedSteeringManifestURLs=new Set,this.availablePathways_=new Set,this.steeringManifest=new RA}addAvailablePathway(e){e&&this.availablePathways_.add(e)}clearAvailablePathways(){this.availablePathways_.clear()}excludePathway(e){return this.availablePathways_.delete(e)}didDASHTagChange(e,i){return!i&&this.steeringManifest.reloadUri||i&&(Fr(e,i.serverURL)!==this.steeringManifest.reloadUri||i.defaultServiceLocation!==this.defaultPathway||i.queryBeforeStart!==this.queryBeforeStart||i.proxyServerURL!==this.proxyServerUrl_)}getAvailablePathways(){return this.availablePathways_}}const qj=(n,e)=>{let i=null;return(...s)=>{clearTimeout(i),i=setTimeout(()=>{n.apply(null,s)},e)}},Gj=10;let Cu;const Xj=["mediaRequests","mediaRequestsAborted","mediaRequestsTimedout","mediaRequestsErrored","mediaTransferDuration","mediaBytesTransferred","mediaAppends"],Yj=function(n){return this.audioSegmentLoader_[n]+this.mainSegmentLoader_[n]},Qj=function({currentPlaylist:n,buffered:e,currentTime:i,nextPlaylist:s,bufferLowWaterLine:o,bufferHighWaterLine:l,duration:c,bufferBasedABR:d,log:m}){if(!s)return _e.log.warn("We received no playlist to switch to. Please check your stream."),!1;const p=`allowing switch ${n&&n.id||"null"} -> ${s.id}`;if(!n)return m(`${p} as current playlist is not set`),!0;if(s.id===n.id)return!1;const v=!!Dh(e,i).length;if(!n.endList)return!v&&typeof n.partTargetDuration=="number"?(m(`not ${p} as current playlist is live llhls, but currentTime isn't in buffered.`),!1):(m(`${p} as current playlist is live`),!0);const E=nT(e,i),C=d?ji.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:ji.MAX_BUFFER_LOW_WATER_LINE;if(c<C)return m(`${p} as duration < max low water line (${c} < ${C})`),!0;const D=s.attributes.BANDWIDTH,P=n.attributes.BANDWIDTH;if(D<P&&(!d||E<l)){let A=`${p} as next bandwidth < current bandwidth (${D} < ${P})`;return d&&(A+=` and forwardBuffer < bufferHighWaterLine (${E} < ${l})`),m(A),!0}if((!d||D>P)&&E>=o){let A=`${p} as forwardBuffer >= bufferLowWaterLine (${E} >= ${o})`;return d&&(A+=` and next bandwidth > current bandwidth (${D} > ${P})`),m(A),!0}return m(`not ${p} as no switching criteria met`),!1};class Zj extends _e.EventTarget{constructor(e){super(),this.fastQualityChange_=qj(this.fastQualityChange_.bind(this),100);const{src:i,withCredentials:s,tech:o,bandwidth:l,externVhs:c,useCueTags:d,playlistExclusionDuration:m,enableLowInitialPlaylist:p,sourceType:v,cacheEncryptionKeys:E,bufferBasedABR:C,leastPixelDiffSelector:D,captionServices:P,experimentalUseMMS:A}=e;if(!i)throw new Error("A non-empty playlist URL or JSON manifest string is required");let{maxPlaylistRetries:U}=e;(U===null||typeof U>"u")&&(U=1/0),Cu=c,this.bufferBasedABR=!!C,this.leastPixelDiffSelector=!!D,this.withCredentials=s,this.tech_=o,this.vhs_=o.vhs,this.player_=e.player_,this.sourceType_=v,this.useCueTags_=d,this.playlistExclusionDuration=m,this.maxPlaylistRetries=U,this.enableLowInitialPlaylist=p,this.usingManagedMediaSource_=!1,this.useCueTags_&&(this.cueTagsTrack_=this.tech_.addTextTrack("metadata","ad-cues"),this.cueTagsTrack_.inBandMetadataTrackDispatchType=""),this.requestOptions_={withCredentials:s,maxPlaylistRetries:U,timeout:null},this.on("error",this.pauseLoading),this.mediaTypes_=Hj(),A&&W.ManagedMediaSource?(this.tech_.el_.disableRemotePlayback=!0,this.mediaSource=new W.ManagedMediaSource,this.usingManagedMediaSource_=!0,_e.log("Using ManagedMediaSource")):W.MediaSource&&(this.mediaSource=new W.MediaSource),this.handleDurationChange_=this.handleDurationChange_.bind(this),this.handleSourceOpen_=this.handleSourceOpen_.bind(this),this.handleSourceEnded_=this.handleSourceEnded_.bind(this),this.load=this.load.bind(this),this.pause=this.pause.bind(this),this.mediaSource.addEventListener("durationchange",this.handleDurationChange_),this.mediaSource.addEventListener("sourceopen",this.handleSourceOpen_),this.mediaSource.addEventListener("sourceended",this.handleSourceEnded_),this.mediaSource.addEventListener("startstreaming",this.load),this.mediaSource.addEventListener("endstreaming",this.pause),this.seekable_=Vi(),this.hasPlayed_=!1,this.syncController_=new Rj(e),this.segmentMetadataTrack_=o.addRemoteTextTrack({kind:"metadata",label:"segment-metadata"},!1).track,this.segmentMetadataTrack_.mode="hidden",this.decrypter_=new Mj,this.sourceUpdater_=new W4(this.mediaSource),this.inbandTextTracks_={},this.timelineChangeController_=new kj,this.keyStatusMap_=new Map;const M={vhs:this.vhs_,parse708captions:e.parse708captions,useDtsForTimestampOffset:e.useDtsForTimestampOffset,captionServices:P,mediaSource:this.mediaSource,currentTime:this.tech_.currentTime.bind(this.tech_),seekable:()=>this.seekable(),seeking:()=>this.tech_.seeking(),duration:()=>this.duration(),hasPlayed:()=>this.hasPlayed_,goalBufferLength:()=>this.goalBufferLength(),bandwidth:l,syncController:this.syncController_,decrypter:this.decrypter_,sourceType:this.sourceType_,inbandTextTracks:this.inbandTextTracks_,cacheEncryptionKeys:E,sourceUpdater:this.sourceUpdater_,timelineChangeController:this.timelineChangeController_,exactManifestTimings:e.exactManifestTimings,addMetadataToTextTrack:this.addMetadataToTextTrack.bind(this)};this.mainPlaylistLoader_=this.sourceType_==="dash"?new Jx(i,this.vhs_,tn(this.requestOptions_,{addMetadataToTextTrack:this.addMetadataToTextTrack.bind(this)})):new Ah(i,this.vhs_,tn(this.requestOptions_,{addDateRangesToTextTrack:this.addDateRangesToTextTrack_.bind(this)})),this.setupMainPlaylistLoaderListeners_(),this.mainSegmentLoader_=new n1(tn(M,{segmentMetadataTrack:this.segmentMetadataTrack_,loaderType:"main"}),e),this.audioSegmentLoader_=new n1(tn(M,{loaderType:"audio"}),e),this.subtitleSegmentLoader_=new Nj(tn(M,{loaderType:"vtt",featuresNativeTextTracks:this.tech_.featuresNativeTextTracks,loadVttJs:()=>new Promise((H,Q)=>{function se(){o.off("vttjserror",q),H()}function q(){o.off("vttjsloaded",se),Q()}o.one("vttjsloaded",se),o.one("vttjserror",q),o.addWebVttScript_()})}),e);const B=()=>this.mainSegmentLoader_.bandwidth;this.contentSteeringController_=new $j(this.vhs_.xhr,B),this.setupSegmentLoaderListeners_(),this.bufferBasedABR&&(this.mainPlaylistLoader_.one("loadedplaylist",()=>this.startABRTimer_()),this.tech_.on("pause",()=>this.stopABRTimer_()),this.tech_.on("play",()=>this.startABRTimer_())),Xj.forEach(H=>{this[H+"_"]=Yj.bind(this,H)}),this.logger_=Js("pc"),this.triggeredFmp4Usage=!1,this.tech_.preload()==="none"?(this.loadOnPlay_=()=>{this.loadOnPlay_=null,this.mainPlaylistLoader_.load()},this.tech_.one("play",this.loadOnPlay_)):this.mainPlaylistLoader_.load(),this.timeToLoadedData__=-1,this.mainAppendsToLoadedData__=-1,this.audioAppendsToLoadedData__=-1;const L=this.tech_.preload()==="none"?"play":"loadstart";this.tech_.one(L,()=>{const H=Date.now();this.tech_.one("loadeddata",()=>{this.timeToLoadedData__=Date.now()-H,this.mainAppendsToLoadedData__=this.mainSegmentLoader_.mediaAppends,this.audioAppendsToLoadedData__=this.audioSegmentLoader_.mediaAppends})})}mainAppendsToLoadedData_(){return this.mainAppendsToLoadedData__}audioAppendsToLoadedData_(){return this.audioAppendsToLoadedData__}appendsToLoadedData_(){const e=this.mainAppendsToLoadedData_(),i=this.audioAppendsToLoadedData_();return e===-1||i===-1?-1:e+i}timeToLoadedData_(){return this.timeToLoadedData__}checkABR_(e="abr"){const i=this.selectPlaylist();i&&this.shouldSwitchToMedia_(i)&&this.switchMedia_(i,e)}switchMedia_(e,i,s){const o=this.media(),l=o&&(o.id||o.uri),c=e&&(e.id||e.uri);if(l&&l!==c){this.logger_(`switch media ${l} -> ${c} from ${i}`);const d={renditionInfo:{id:c,bandwidth:e.attributes.BANDWIDTH,resolution:e.attributes.RESOLUTION,codecs:e.attributes.CODECS},cause:i};this.trigger({type:"renditionselected",metadata:d}),this.tech_.trigger({type:"usage",name:`vhs-rendition-change-${i}`})}this.mainPlaylistLoader_.media(e,s)}switchMediaForDASHContentSteering_(){["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(e=>{const i=this.mediaTypes_[e],s=i?i.activeGroup():null,o=this.contentSteeringController_.getPathway();if(s&&o){const c=(s.length?s[0].playlists:s.playlists).filter(d=>d.attributes.serviceLocation===o);c.length&&this.mediaTypes_[e].activePlaylistLoader.media(c[0])}})}startABRTimer_(){this.stopABRTimer_(),this.abrTimer_=W.setInterval(()=>this.checkABR_(),250)}stopABRTimer_(){this.tech_.scrubbing&&this.tech_.scrubbing()||(W.clearInterval(this.abrTimer_),this.abrTimer_=null)}getAudioTrackPlaylists_(){const e=this.main(),i=e&&e.playlists||[];if(!e||!e.mediaGroups||!e.mediaGroups.AUDIO)return i;const s=e.mediaGroups.AUDIO,o=Object.keys(s);let l;if(Object.keys(this.mediaTypes_.AUDIO.groups).length)l=this.mediaTypes_.AUDIO.activeTrack();else{const d=s.main||o.length&&s[o[0]];for(const m in d)if(d[m].default){l={label:m};break}}if(!l)return i;const c=[];for(const d in s)if(s[d][l.label]){const m=s[d][l.label];if(m.playlists&&m.playlists.length)c.push.apply(c,m.playlists);else if(m.uri)c.push(m);else if(e.playlists.length)for(let p=0;p<e.playlists.length;p++){const v=e.playlists[p];v.attributes&&v.attributes.AUDIO&&v.attributes.AUDIO===d&&c.push(v)}}return c.length?c:i}setupMainPlaylistLoaderListeners_(){this.mainPlaylistLoader_.on("loadedmetadata",()=>{const i=this.mainPlaylistLoader_.media(),s=i.targetDuration*1.5*1e3;Yx(this.mainPlaylistLoader_.main,this.mainPlaylistLoader_.media())?this.requestOptions_.timeout=0:this.requestOptions_.timeout=s,i.endList&&this.tech_.preload()!=="none"&&(this.mainSegmentLoader_.playlist(i,this.requestOptions_),this.mainSegmentLoader_.load()),zj({sourceType:this.sourceType_,segmentLoaders:{AUDIO:this.audioSegmentLoader_,SUBTITLES:this.subtitleSegmentLoader_,main:this.mainSegmentLoader_},tech:this.tech_,requestOptions:this.requestOptions_,mainPlaylistLoader:this.mainPlaylistLoader_,vhs:this.vhs_,main:this.main(),mediaTypes:this.mediaTypes_,excludePlaylist:this.excludePlaylist.bind(this)}),this.triggerPresenceUsage_(this.main(),i),this.setupFirstPlay(),!this.mediaTypes_.AUDIO.activePlaylistLoader||this.mediaTypes_.AUDIO.activePlaylistLoader.media()?this.trigger("selectedinitialmedia"):this.mediaTypes_.AUDIO.activePlaylistLoader.one("loadedmetadata",()=>{this.trigger("selectedinitialmedia")})}),this.mainPlaylistLoader_.on("loadedplaylist",()=>{this.loadOnPlay_&&this.tech_.off("play",this.loadOnPlay_);let i=this.mainPlaylistLoader_.media();if(!i){this.attachContentSteeringListeners_(),this.initContentSteeringController_(),this.excludeUnsupportedVariants_();let s;if(this.enableLowInitialPlaylist&&(s=this.selectInitialPlaylist()),s||(s=this.selectPlaylist()),!s||!this.shouldSwitchToMedia_(s)||(this.initialMedia_=s,this.switchMedia_(this.initialMedia_,"initial"),!(this.sourceType_==="vhs-json"&&this.initialMedia_.segments)))return;i=this.initialMedia_}this.handleUpdatedMediaPlaylist(i)}),this.mainPlaylistLoader_.on("error",()=>{const i=this.mainPlaylistLoader_.error;this.excludePlaylist({playlistToExclude:i.playlist,error:i})}),this.mainPlaylistLoader_.on("mediachanging",()=>{this.mainSegmentLoader_.abort(),this.mainSegmentLoader_.pause()}),this.mainPlaylistLoader_.on("mediachange",()=>{const i=this.mainPlaylistLoader_.media(),s=i.targetDuration*1.5*1e3;Yx(this.mainPlaylistLoader_.main,this.mainPlaylistLoader_.media())?this.requestOptions_.timeout=0:this.requestOptions_.timeout=s,this.sourceType_==="dash"&&this.mainPlaylistLoader_.isPaused&&this.mainPlaylistLoader_.load(),this.mainSegmentLoader_.pause(),this.mainSegmentLoader_.playlist(i,this.requestOptions_),this.waitingForFastQualityPlaylistReceived_?this.runFastQualitySwitch_():this.mainSegmentLoader_.load(),this.tech_.trigger({type:"mediachange",bubbles:!0})}),this.mainPlaylistLoader_.on("playlistunchanged",()=>{const i=this.mainPlaylistLoader_.media();if(i.lastExcludeReason_==="playlist-unchanged")return;this.stuckAtPlaylistEnd_(i)&&(this.excludePlaylist({error:{message:"Playlist no longer updating.",reason:"playlist-unchanged"}}),this.tech_.trigger("playliststuck"))}),this.mainPlaylistLoader_.on("renditiondisabled",()=>{this.tech_.trigger({type:"usage",name:"vhs-rendition-disabled"})}),this.mainPlaylistLoader_.on("renditionenabled",()=>{this.tech_.trigger({type:"usage",name:"vhs-rendition-enabled"})}),["manifestrequeststart","manifestrequestcomplete","manifestparsestart","manifestparsecomplete","playlistrequeststart","playlistrequestcomplete","playlistparsestart","playlistparsecomplete","renditiondisabled","renditionenabled"].forEach(i=>{this.mainPlaylistLoader_.on(i,s=>{this.player_.trigger(ai({},s))})})}handleUpdatedMediaPlaylist(e){this.useCueTags_&&this.updateAdCues_(e),this.mainSegmentLoader_.pause(),this.mainSegmentLoader_.playlist(e,this.requestOptions_),this.waitingForFastQualityPlaylistReceived_&&this.runFastQualitySwitch_(),this.updateDuration(!e.endList),this.tech_.paused()||(this.mainSegmentLoader_.load(),this.audioSegmentLoader_&&this.audioSegmentLoader_.load())}triggerPresenceUsage_(e,i){const s=e.mediaGroups||{};let o=!0;const l=Object.keys(s.AUDIO);for(const c in s.AUDIO)for(const d in s.AUDIO[c])s.AUDIO[c][d].uri||(o=!1);o&&this.tech_.trigger({type:"usage",name:"vhs-demuxed"}),Object.keys(s.SUBTITLES).length&&this.tech_.trigger({type:"usage",name:"vhs-webvtt"}),Cu.Playlist.isAes(i)&&this.tech_.trigger({type:"usage",name:"vhs-aes"}),l.length&&Object.keys(s.AUDIO[l[0]]).length>1&&this.tech_.trigger({type:"usage",name:"vhs-alternate-audio"}),this.useCueTags_&&this.tech_.trigger({type:"usage",name:"vhs-playlist-cue-tags"})}shouldSwitchToMedia_(e){const i=this.mainPlaylistLoader_.media()||this.mainPlaylistLoader_.pendingMedia_,s=this.tech_.currentTime(),o=this.bufferLowWaterLine(),l=this.bufferHighWaterLine(),c=this.tech_.buffered();return Qj({buffered:c,currentTime:s,currentPlaylist:i,nextPlaylist:e,bufferLowWaterLine:o,bufferHighWaterLine:l,duration:this.duration(),bufferBasedABR:this.bufferBasedABR,log:this.logger_})}setupSegmentLoaderListeners_(){this.mainSegmentLoader_.on("bandwidthupdate",()=>{this.checkABR_("bandwidthupdate"),this.tech_.trigger("bandwidthupdate")}),this.mainSegmentLoader_.on("timeout",()=>{this.bufferBasedABR&&this.mainSegmentLoader_.load()}),this.bufferBasedABR||this.mainSegmentLoader_.on("progress",()=>{this.trigger("progress")}),this.mainSegmentLoader_.on("error",()=>{const s=this.mainSegmentLoader_.error();this.excludePlaylist({playlistToExclude:s.playlist,error:s})}),this.mainSegmentLoader_.on("appenderror",()=>{this.error=this.mainSegmentLoader_.error_,this.trigger("error")}),this.mainSegmentLoader_.on("syncinfoupdate",()=>{this.onSyncInfoUpdate_()}),this.mainSegmentLoader_.on("timestampoffset",()=>{this.tech_.trigger({type:"usage",name:"vhs-timestamp-offset"})}),this.audioSegmentLoader_.on("syncinfoupdate",()=>{this.onSyncInfoUpdate_()}),this.audioSegmentLoader_.on("appenderror",()=>{this.error=this.audioSegmentLoader_.error_,this.trigger("error")}),this.mainSegmentLoader_.on("ended",()=>{this.logger_("main segment loader ended"),this.onEndOfStream()}),this.timelineChangeController_.on("audioTimelineBehind",()=>{const s=this.audioSegmentLoader_.pendingSegment_;if(!s||!s.segment||!s.segment.syncInfo)return;const o=s.segment.syncInfo.end+.01;this.tech_.setCurrentTime(o)}),this.timelineChangeController_.on("fixBadTimelineChange",()=>{this.logger_("Fix bad timeline change. Restarting al segment loaders..."),this.mainSegmentLoader_.pause(),this.mainSegmentLoader_.resetEverything(),this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.pause(),this.audioSegmentLoader_.resetEverything()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.pause(),this.subtitleSegmentLoader_.resetEverything()),this.load()}),this.mainSegmentLoader_.on("earlyabort",s=>{this.bufferBasedABR||(this.delegateLoaders_("all",["abort"]),this.excludePlaylist({error:{message:"Aborted early because there isn't enough bandwidth to complete the request without rebuffering."},playlistExclusionDuration:Gj}))});const e=()=>{if(!this.sourceUpdater_.hasCreatedSourceBuffers())return this.tryToCreateSourceBuffers_();const s=this.getCodecsOrExclude_();s&&this.sourceUpdater_.addOrChangeSourceBuffers(s)};this.mainSegmentLoader_.on("trackinfo",e),this.audioSegmentLoader_.on("trackinfo",e),this.mainSegmentLoader_.on("fmp4",()=>{this.triggeredFmp4Usage||(this.tech_.trigger({type:"usage",name:"vhs-fmp4"}),this.triggeredFmp4Usage=!0)}),this.audioSegmentLoader_.on("fmp4",()=>{this.triggeredFmp4Usage||(this.tech_.trigger({type:"usage",name:"vhs-fmp4"}),this.triggeredFmp4Usage=!0)}),this.audioSegmentLoader_.on("ended",()=>{this.logger_("audioSegmentLoader ended"),this.onEndOfStream()}),["segmentselected","segmentloadstart","segmentloaded","segmentkeyloadstart","segmentkeyloadcomplete","segmentdecryptionstart","segmentdecryptioncomplete","segmenttransmuxingstart","segmenttransmuxingcomplete","segmenttransmuxingtrackinfoavailable","segmenttransmuxingtiminginfoavailable","segmentappendstart","appendsdone","bandwidthupdated","timelinechange","codecschange"].forEach(s=>{this.mainSegmentLoader_.on(s,o=>{this.player_.trigger(ai({},o))}),this.audioSegmentLoader_.on(s,o=>{this.player_.trigger(ai({},o))}),this.subtitleSegmentLoader_.on(s,o=>{this.player_.trigger(ai({},o))})})}mediaSecondsLoaded_(){return Math.max(this.audioSegmentLoader_.mediaSecondsLoaded+this.mainSegmentLoader_.mediaSecondsLoaded)}load(){this.mainSegmentLoader_.load(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.load(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.load()}pause(){this.mainSegmentLoader_.pause(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.pause(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.pause()}fastQualityChange_(e=this.selectPlaylist()){if(e&&e===this.mainPlaylistLoader_.media()){this.logger_("skipping fastQualityChange because new media is same as old");return}this.switchMedia_(e,"fast-quality"),this.waitingForFastQualityPlaylistReceived_=!0}runFastQualitySwitch_(){this.waitingForFastQualityPlaylistReceived_=!1,this.mainSegmentLoader_.pause(),this.mainSegmentLoader_.resetEverything(),this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.pause(),this.audioSegmentLoader_.resetEverything()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.pause(),this.subtitleSegmentLoader_.resetEverything()),this.load()}play(){if(this.setupFirstPlay())return;this.tech_.ended()&&this.tech_.setCurrentTime(0),this.hasPlayed_&&this.load();const e=this.tech_.seekable();if(this.tech_.duration()===1/0&&this.tech_.currentTime()<e.start(0))return this.tech_.setCurrentTime(e.end(e.length-1))}setupFirstPlay(){const e=this.mainPlaylistLoader_.media();if(!e||this.tech_.paused()||this.hasPlayed_)return!1;if(!e.endList||e.start){const i=this.seekable();if(!i.length)return!1;const s=i.end(0);let o=s;if(e.start){const l=e.start.timeOffset;l<0?o=Math.max(s+l,i.start(0)):o=Math.min(s,l)}this.trigger("firstplay"),this.tech_.setCurrentTime(o)}return this.hasPlayed_=!0,this.load(),!0}handleSourceOpen_(){if(this.tryToCreateSourceBuffers_(),this.tech_.autoplay()){const e=this.tech_.play();typeof e<"u"&&typeof e.then=="function"&&e.then(null,i=>{})}this.trigger("sourceopen")}handleSourceEnded_(){if(!this.inbandTextTracks_.metadataTrack_)return;const e=this.inbandTextTracks_.metadataTrack_.cues;if(!e||!e.length)return;const i=this.duration();e[e.length-1].endTime=isNaN(i)||Math.abs(i)===1/0?Number.MAX_VALUE:i}handleDurationChange_(){this.tech_.trigger("durationchange")}onEndOfStream(){let e=this.mainSegmentLoader_.ended_;if(this.mediaTypes_.AUDIO.activePlaylistLoader){const i=this.mainSegmentLoader_.getCurrentMediaInfo_();!i||i.hasVideo?e=e&&this.audioSegmentLoader_.ended_:e=this.audioSegmentLoader_.ended_}e&&(this.stopABRTimer_(),this.sourceUpdater_.endOfStream())}stuckAtPlaylistEnd_(e){if(!this.seekable().length)return!1;const s=this.syncController_.getExpiredTime(e,this.duration());if(s===null)return!1;const o=Cu.Playlist.playlistEnd(e,s),l=this.tech_.currentTime(),c=this.tech_.buffered();if(!c.length)return o-l<=bo;const d=c.end(c.length-1);return d-l<=bo&&o-d<=bo}excludePlaylist({playlistToExclude:e=this.mainPlaylistLoader_.media(),error:i={},playlistExclusionDuration:s}){if(e=e||this.mainPlaylistLoader_.media(),s=s||i.playlistExclusionDuration||this.playlistExclusionDuration,!e){this.error=i,this.mediaSource.readyState!=="open"?this.trigger("error"):this.sourceUpdater_.endOfStream("network");return}e.playlistErrors_++;const o=this.mainPlaylistLoader_.main.playlists,l=o.filter(P0),c=l.length===1&&l[0]===e;if(o.length===1&&s!==1/0)return _e.log.warn(`Problem encountered with playlist ${e.id}. Trying again since it is the only playlist.`),this.tech_.trigger("retryplaylist"),this.mainPlaylistLoader_.load(c);if(c){if(this.main().contentSteering){const P=this.pathwayAttribute_(e),A=this.contentSteeringController_.steeringManifest.ttl*1e3;this.contentSteeringController_.excludePathway(P),this.excludeThenChangePathway_(),setTimeout(()=>{this.contentSteeringController_.addAvailablePathway(P)},A);return}let D=!1;o.forEach(P=>{if(P===e)return;const A=P.excludeUntil;typeof A<"u"&&A!==1/0&&(D=!0,delete P.excludeUntil)}),D&&(_e.log.warn("Removing other playlists from the exclusion list because the last rendition is about to be excluded."),this.tech_.trigger("retryplaylist"))}let d;e.playlistErrors_>this.maxPlaylistRetries?d=1/0:d=Date.now()+s*1e3,e.excludeUntil=d,i.reason&&(e.lastExcludeReason_=i.reason),this.tech_.trigger("excludeplaylist"),this.tech_.trigger({type:"usage",name:"vhs-rendition-excluded"});const m=this.selectPlaylist();if(!m){this.error="Playback cannot continue. No available working or supported playlists.",this.trigger("error");return}const p=i.internal?this.logger_:_e.log.warn,v=i.message?" "+i.message:"";p(`${i.internal?"Internal problem":"Problem"} encountered with playlist ${e.id}.${v} Switching to playlist ${m.id}.`),m.attributes.AUDIO!==e.attributes.AUDIO&&this.delegateLoaders_("audio",["abort","pause"]),m.attributes.SUBTITLES!==e.attributes.SUBTITLES&&this.delegateLoaders_("subtitle",["abort","pause"]),this.delegateLoaders_("main",["abort","pause"]);const E=m.targetDuration/2*1e3||5*1e3,C=typeof m.lastRequest=="number"&&Date.now()-m.lastRequest<=E;return this.switchMedia_(m,"exclude",c||C)}pauseLoading(){this.delegateLoaders_("all",["abort","pause"]),this.stopABRTimer_()}delegateLoaders_(e,i){const s=[],o=e==="all";(o||e==="main")&&s.push(this.mainPlaylistLoader_);const l=[];(o||e==="audio")&&l.push("AUDIO"),(o||e==="subtitle")&&(l.push("CLOSED-CAPTIONS"),l.push("SUBTITLES")),l.forEach(c=>{const d=this.mediaTypes_[c]&&this.mediaTypes_[c].activePlaylistLoader;d&&s.push(d)}),["main","audio","subtitle"].forEach(c=>{const d=this[`${c}SegmentLoader_`];d&&(e===c||e==="all")&&s.push(d)}),s.forEach(c=>i.forEach(d=>{typeof c[d]=="function"&&c[d]()}))}setCurrentTime(e){const i=Dh(this.tech_.buffered(),e);if(!(this.mainPlaylistLoader_&&this.mainPlaylistLoader_.media())||!this.mainPlaylistLoader_.media().segments)return 0;if(i&&i.length)return e;this.mainSegmentLoader_.pause(),this.mainSegmentLoader_.resetEverything(),this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.pause(),this.audioSegmentLoader_.resetEverything()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.pause(),this.subtitleSegmentLoader_.resetEverything()),this.load()}duration(){if(!this.mainPlaylistLoader_)return 0;const e=this.mainPlaylistLoader_.media();return e?e.endList?this.mediaSource?this.mediaSource.duration:Cu.Playlist.duration(e):1/0:0}seekable(){return this.seekable_}getSeekableRange_(e,i){const s=e.media();if(!s)return null;const o=this.syncController_.getMediaSequenceSync(i);if(o&&o.isReliable){const d=o.start,m=o.end;if(!isFinite(d)||!isFinite(m))return null;const p=Cu.Playlist.liveEdgeDelay(this.mainPlaylistLoader_.main,s),v=Math.max(d,m-p);return Vi([[d,v]])}const l=this.syncController_.getExpiredTime(s,this.duration());if(l===null)return null;const c=Cu.Playlist.seekable(s,l,Cu.Playlist.liveEdgeDelay(this.mainPlaylistLoader_.main,s));return c.length?c:null}computeFinalSeekable_(e,i){if(!i)return e;const s=e.start(0),o=e.end(0),l=i.start(0),c=i.end(0);return l>o||s>c?e:Vi([[Math.max(s,l),Math.min(o,c)]])}onSyncInfoUpdate_(){if(!this.mainPlaylistLoader_)return;const e=this.getSeekableRange_(this.mainPlaylistLoader_,"main");if(!e)return;let i;if(this.mediaTypes_.AUDIO.activePlaylistLoader&&(i=this.getSeekableRange_(this.mediaTypes_.AUDIO.activePlaylistLoader,"audio"),!i))return;const s=this.seekable_;if(this.seekable_=this.computeFinalSeekable_(e,i),!this.seekable_||s&&s.length&&this.seekable_.length&&s.start(0)===this.seekable_.start(0)&&s.end(0)===this.seekable_.end(0))return;this.logger_(`seekable updated [${c4(this.seekable_)}]`);const o={seekableRanges:this.seekable_};this.trigger({type:"seekablerangeschanged",metadata:o}),this.tech_.trigger("seekablechanged")}updateDuration(e){if(this.updateDuration_&&(this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.updateDuration_=null),this.mediaSource.readyState!=="open"){this.updateDuration_=this.updateDuration.bind(this,e),this.mediaSource.addEventListener("sourceopen",this.updateDuration_);return}if(e){const o=this.seekable();if(!o.length)return;(isNaN(this.mediaSource.duration)||this.mediaSource.duration<o.end(o.length-1))&&this.sourceUpdater_.setDuration(o.end(o.length-1));return}const i=this.tech_.buffered();let s=Cu.Playlist.duration(this.mainPlaylistLoader_.media());i.length>0&&(s=Math.max(s,i.end(i.length-1))),this.mediaSource.duration!==s&&this.sourceUpdater_.setDuration(s)}dispose(){this.trigger("dispose"),this.decrypter_.terminate(),this.mainPlaylistLoader_.dispose(),this.mainSegmentLoader_.dispose(),this.contentSteeringController_.dispose(),this.keyStatusMap_.clear(),this.loadOnPlay_&&this.tech_.off("play",this.loadOnPlay_),["AUDIO","SUBTITLES"].forEach(e=>{const i=this.mediaTypes_[e].groups;for(const s in i)i[s].forEach(o=>{o.playlistLoader&&o.playlistLoader.dispose()})}),this.audioSegmentLoader_.dispose(),this.subtitleSegmentLoader_.dispose(),this.sourceUpdater_.dispose(),this.timelineChangeController_.dispose(),this.stopABRTimer_(),this.updateDuration_&&this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.mediaSource.removeEventListener("durationchange",this.handleDurationChange_),this.mediaSource.removeEventListener("sourceopen",this.handleSourceOpen_),this.mediaSource.removeEventListener("sourceended",this.handleSourceEnded_),this.off()}main(){return this.mainPlaylistLoader_.main}media(){return this.mainPlaylistLoader_.media()||this.initialMedia_}areMediaTypesKnown_(){const e=!!this.mediaTypes_.AUDIO.activePlaylistLoader,i=!!this.mainSegmentLoader_.getCurrentMediaInfo_(),s=e?!!this.audioSegmentLoader_.getCurrentMediaInfo_():!0;return!(!i||!s)}getCodecsOrExclude_(){const e={main:this.mainSegmentLoader_.getCurrentMediaInfo_()||{},audio:this.audioSegmentLoader_.getCurrentMediaInfo_()||{}},i=this.mainSegmentLoader_.getPendingSegmentPlaylist()||this.media();e.video=e.main;const s=Wm(this.main(),i),o={},l=!!this.mediaTypes_.AUDIO.activePlaylistLoader;if(e.main.hasVideo&&(o.video=s.video||e.main.videoCodec||jL),e.main.isMuxed&&(o.video+=`,${s.audio||e.main.audioCodec||v2}`),(e.main.hasAudio&&!e.main.isMuxed||e.audio.hasAudio||l)&&(o.audio=s.audio||e.main.audioCodec||e.audio.audioCodec||v2,e.audio.isFmp4=e.main.hasAudio&&!e.main.isMuxed?e.main.isFmp4:e.audio.isFmp4),!o.audio&&!o.video){this.excludePlaylist({playlistToExclude:i,error:{message:"Could not determine codecs for playlist."},playlistExclusionDuration:1/0});return}const c=(p,v)=>p?Gm(v,this.usingManagedMediaSource_):rx(v),d={};let m;if(["video","audio"].forEach(function(p){if(o.hasOwnProperty(p)&&!c(e[p].isFmp4,o[p])){const v=e[p].isFmp4?"browser":"muxer";d[v]=d[v]||[],d[v].push(o[p]),p==="audio"&&(m=v)}}),l&&m&&i.attributes.AUDIO){const p=i.attributes.AUDIO;this.main().playlists.forEach(v=>{(v.attributes&&v.attributes.AUDIO)===p&&v!==i&&(v.excludeUntil=1/0)}),this.logger_(`excluding audio group ${p} as ${m} does not support codec(s): "${o.audio}"`)}if(Object.keys(d).length){const p=Object.keys(d).reduce((v,E)=>(v&&(v+=", "),v+=`${E} does not support codec(s): "${d[E].join(",")}"`,v),"")+".";this.excludePlaylist({playlistToExclude:i,error:{internal:!0,message:p},playlistExclusionDuration:1/0});return}if(this.sourceUpdater_.hasCreatedSourceBuffers()&&!this.sourceUpdater_.canChangeType()){const p=[];if(["video","audio"].forEach(v=>{const E=(fo(this.sourceUpdater_.codecs[v]||"")[0]||{}).type,C=(fo(o[v]||"")[0]||{}).type;E&&C&&E.toLowerCase()!==C.toLowerCase()&&p.push(`"${this.sourceUpdater_.codecs[v]}" -> "${o[v]}"`)}),p.length){this.excludePlaylist({playlistToExclude:i,error:{message:`Codec switching not supported: ${p.join(", ")}.`,internal:!0},playlistExclusionDuration:1/0});return}}return o}tryToCreateSourceBuffers_(){if(this.mediaSource.readyState!=="open"||this.sourceUpdater_.hasCreatedSourceBuffers()||!this.areMediaTypesKnown_())return;const e=this.getCodecsOrExclude_();if(!e)return;this.sourceUpdater_.createSourceBuffers(e);const i=[e.video,e.audio].filter(Boolean).join(",");this.excludeIncompatibleVariants_(i)}excludeUnsupportedVariants_(){const e=this.main().playlists,i=[];Object.keys(e).forEach(s=>{const o=e[s];if(i.indexOf(o.id)!==-1)return;i.push(o.id);const l=Wm(this.main,o),c=[];l.audio&&!rx(l.audio)&&!Gm(l.audio,this.usingManagedMediaSource_)&&c.push(`audio codec ${l.audio}`),l.video&&!rx(l.video)&&!Gm(l.video,this.usingManagedMediaSource_)&&c.push(`video codec ${l.video}`),l.text&&l.text==="stpp.ttml.im1t"&&c.push(`text codec ${l.text}`),c.length&&(o.excludeUntil=1/0,this.logger_(`excluding ${o.id} for unsupported: ${c.join(", ")}`))})}excludeIncompatibleVariants_(e){const i=[],s=this.main().playlists,o=ap(fo(e)),l=hA(o),c=o.video&&fo(o.video)[0]||null,d=o.audio&&fo(o.audio)[0]||null;Object.keys(s).forEach(m=>{const p=s[m];if(i.indexOf(p.id)!==-1||p.excludeUntil===1/0)return;i.push(p.id);const v=[],E=Wm(this.mainPlaylistLoader_.main,p),C=hA(E);if(!(!E.audio&&!E.video)){if(C!==l&&v.push(`codec count "${C}" !== "${l}"`),!this.sourceUpdater_.canChangeType()){const D=E.video&&fo(E.video)[0]||null,P=E.audio&&fo(E.audio)[0]||null;D&&c&&D.type.toLowerCase()!==c.type.toLowerCase()&&v.push(`video codec "${D.type}" !== "${c.type}"`),P&&d&&P.type.toLowerCase()!==d.type.toLowerCase()&&v.push(`audio codec "${P.type}" !== "${d.type}"`)}v.length&&(p.excludeUntil=1/0,this.logger_(`excluding ${p.id}: ${v.join(" && ")}`))}})}updateAdCues_(e){let i=0;const s=this.seekable();s.length&&(i=s.start(0)),Dj(e,this.cueTagsTrack_,i)}goalBufferLength(){const e=this.tech_.currentTime(),i=ji.GOAL_BUFFER_LENGTH,s=ji.GOAL_BUFFER_LENGTH_RATE,o=Math.max(i,ji.MAX_GOAL_BUFFER_LENGTH);return Math.min(i+e*s,o)}bufferLowWaterLine(){const e=this.tech_.currentTime(),i=ji.BUFFER_LOW_WATER_LINE,s=ji.BUFFER_LOW_WATER_LINE_RATE,o=Math.max(i,ji.MAX_BUFFER_LOW_WATER_LINE),l=Math.max(i,ji.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE);return Math.min(i+e*s,this.bufferBasedABR?l:o)}bufferHighWaterLine(){return ji.BUFFER_HIGH_WATER_LINE}addDateRangesToTextTrack_(e){_A(this.inbandTextTracks_,"com.apple.streaming",this.tech_),aj({inbandTextTracks:this.inbandTextTracks_,dateRanges:e})}addMetadataToTextTrack(e,i,s){const o=this.sourceUpdater_.videoBuffer?this.sourceUpdater_.videoTimestampOffset():this.sourceUpdater_.audioTimestampOffset();_A(this.inbandTextTracks_,e,this.tech_),ij({inbandTextTracks:this.inbandTextTracks_,metadataArray:i,timestampOffset:o,videoDuration:s})}pathwayAttribute_(e){return e.attributes["PATHWAY-ID"]||e.attributes.serviceLocation}initContentSteeringController_(){const e=this.main();if(e.contentSteering){for(const i of e.playlists)this.contentSteeringController_.addAvailablePathway(this.pathwayAttribute_(i));if(this.contentSteeringController_.assignTagProperties(e.uri,e.contentSteering),this.contentSteeringController_.queryBeforeStart){this.contentSteeringController_.requestSteeringManifest(!0);return}this.tech_.one("canplay",()=>{this.contentSteeringController_.requestSteeringManifest()})}}resetContentSteeringController_(){this.contentSteeringController_.clearAvailablePathways(),this.contentSteeringController_.dispose(),this.initContentSteeringController_()}attachContentSteeringListeners_(){this.contentSteeringController_.on("content-steering",this.excludeThenChangePathway_.bind(this)),["contentsteeringloadstart","contentsteeringloadcomplete","contentsteeringparsed"].forEach(i=>{this.contentSteeringController_.on(i,s=>{this.trigger(ai({},s))})}),this.sourceType_==="dash"&&this.mainPlaylistLoader_.on("loadedplaylist",()=>{const i=this.main();(this.contentSteeringController_.didDASHTagChange(i.uri,i.contentSteering)||(()=>{const l=this.contentSteeringController_.getAvailablePathways(),c=[];for(const d of i.playlists){const m=d.attributes.serviceLocation;if(m&&(c.push(m),!l.has(m)))return!0}return!!(!c.length&&l.size)})())&&this.resetContentSteeringController_()})}excludeThenChangePathway_(){const e=this.contentSteeringController_.getPathway();if(!e)return;this.handlePathwayClones_();const s=this.main().playlists,o=new Set;let l=!1;Object.keys(s).forEach(c=>{const d=s[c],m=this.pathwayAttribute_(d),p=m&&e!==m;d.excludeUntil===1/0&&d.lastExcludeReason_==="content-steering"&&!p&&(delete d.excludeUntil,delete d.lastExcludeReason_,l=!0);const E=!d.excludeUntil&&d.excludeUntil!==1/0;!o.has(d.id)&&p&&E&&(o.add(d.id),d.excludeUntil=1/0,d.lastExcludeReason_="content-steering",this.logger_(`excluding ${d.id} for ${d.lastExcludeReason_}`))}),this.contentSteeringController_.manifestType_==="DASH"&&Object.keys(this.mediaTypes_).forEach(c=>{const d=this.mediaTypes_[c];if(d.activePlaylistLoader){const m=d.activePlaylistLoader.media_;m&&m.attributes.serviceLocation!==e&&(l=!0)}}),l&&this.changeSegmentPathway_()}handlePathwayClones_(){const i=this.main().playlists,s=this.contentSteeringController_.currentPathwayClones,o=this.contentSteeringController_.nextPathwayClones;if(s&&s.size||o&&o.size){for(const[c,d]of s.entries())o.get(c)||(this.mainPlaylistLoader_.updateOrDeleteClone(d),this.contentSteeringController_.excludePathway(c));for(const[c,d]of o.entries()){const m=s.get(c);if(!m){i.filter(v=>v.attributes["PATHWAY-ID"]===d["BASE-ID"]).forEach(v=>{this.mainPlaylistLoader_.addClonePathway(d,v)}),this.contentSteeringController_.addAvailablePathway(c);continue}this.equalPathwayClones_(m,d)||(this.mainPlaylistLoader_.updateOrDeleteClone(d,!0),this.contentSteeringController_.addAvailablePathway(c))}this.contentSteeringController_.currentPathwayClones=new Map(JSON.parse(JSON.stringify([...o])))}}equalPathwayClones_(e,i){if(e["BASE-ID"]!==i["BASE-ID"]||e.ID!==i.ID||e["URI-REPLACEMENT"].HOST!==i["URI-REPLACEMENT"].HOST)return!1;const s=e["URI-REPLACEMENT"].PARAMS,o=i["URI-REPLACEMENT"].PARAMS;for(const l in s)if(s[l]!==o[l])return!1;for(const l in o)if(s[l]!==o[l])return!1;return!0}changeSegmentPathway_(){const e=this.selectPlaylist();this.pauseLoading(),this.contentSteeringController_.manifestType_==="DASH"&&this.switchMediaForDASHContentSteering_(),this.switchMedia_(e,"content-steering")}excludeNonUsablePlaylistsByKeyId_(){if(!this.mainPlaylistLoader_||!this.mainPlaylistLoader_.main)return;let e=0;const i="non-usable";this.mainPlaylistLoader_.main.playlists.forEach(s=>{const o=this.mainPlaylistLoader_.getKeyIdSet(s);!o||!o.size||o.forEach(l=>{const c="usable",d=this.keyStatusMap_.has(l)&&this.keyStatusMap_.get(l)===c,m=s.lastExcludeReason_===i&&s.excludeUntil===1/0;d?d&&m&&(delete s.excludeUntil,delete s.lastExcludeReason_,this.logger_(`enabling playlist ${s.id} because key ID ${l} is ${c}`)):(s.excludeUntil!==1/0&&s.lastExcludeReason_!==i&&(s.excludeUntil=1/0,s.lastExcludeReason_=i,this.logger_(`excluding playlist ${s.id} because the key ID ${l} doesn't exist in the keyStatusMap or is not ${c}`)),e++)})}),e>=this.mainPlaylistLoader_.main.playlists.length&&this.mainPlaylistLoader_.main.playlists.forEach(s=>{const o=s&&s.attributes&&s.attributes.RESOLUTION&&s.attributes.RESOLUTION.height<720,l=s.excludeUntil===1/0&&s.lastExcludeReason_===i;o&&l&&(delete s.excludeUntil,_e.log.warn(`enabling non-HD playlist ${s.id} because all playlists were excluded due to ${i} key IDs`))})}addKeyStatus_(e,i){const l=(typeof e=="string"?e:Sj(e)).slice(0,32).toLowerCase();this.logger_(`KeyStatus '${i}' with key ID ${l} added to the keyStatusMap`),this.keyStatusMap_.set(l,i)}updatePlaylistByKeyStatus(e,i){this.addKeyStatus_(e,i),this.waitingForFastQualityPlaylistReceived_||this.excludeNonUsableThenChangePlaylist_(),this.mainPlaylistLoader_.off("loadedplaylist",this.excludeNonUsableThenChangePlaylist_.bind(this)),this.mainPlaylistLoader_.on("loadedplaylist",this.excludeNonUsableThenChangePlaylist_.bind(this))}excludeNonUsableThenChangePlaylist_(){this.excludeNonUsablePlaylistsByKeyId_(),this.fastQualityChange_()}}const Wj=(n,e,i)=>s=>{const o=n.main.playlists[e],l=rT(o),c=P0(o);if(typeof s>"u")return c;s?delete o.disabled:o.disabled=!0;const d={renditionInfo:{id:e,bandwidth:o.attributes.BANDWIDTH,resolution:o.attributes.RESOLUTION,codecs:o.attributes.CODECS},cause:"fast-quality"};return s!==c&&!l&&(s?(i(o),n.trigger({type:"renditionenabled",metadata:d})):n.trigger({type:"renditiondisabled",metadata:d})),s};class Kj{constructor(e,i,s){const{playlistController_:o}=e,l=o.fastQualityChange_.bind(o);if(i.attributes){const c=i.attributes.RESOLUTION;this.width=c&&c.width,this.height=c&&c.height,this.bandwidth=i.attributes.BANDWIDTH,this.frameRate=i.attributes["FRAME-RATE"]}this.codecs=Wm(o.main(),i),this.playlist=i,this.id=s,this.enabled=Wj(e.playlists,i.id,l)}}const Jj=function(n){n.representations=()=>{const e=n.playlistController_.main(),i=yp(e)?n.playlistController_.getAudioTrackPlaylists_():e.playlists;return i?i.filter(s=>!rT(s)).map((s,o)=>new Kj(n,s,s.id)):[]}},kA=["seeking","seeked","pause","playing","error"];class eU extends _e.EventTarget{constructor(e){super(),this.playlistController_=e.playlistController,this.tech_=e.tech,this.seekable=e.seekable,this.allowSeeksWithinUnsafeLiveWindow=e.allowSeeksWithinUnsafeLiveWindow,this.liveRangeSafeTimeDelta=e.liveRangeSafeTimeDelta,this.media=e.media,this.playedRanges_=[],this.consecutiveUpdates=0,this.lastRecordedTime=null,this.checkCurrentTimeTimeout_=null,this.logger_=Js("PlaybackWatcher"),this.logger_("initialize");const i=()=>this.monitorCurrentTime_(),s=()=>this.monitorCurrentTime_(),o=()=>this.techWaiting_(),l=()=>this.resetTimeUpdate_(),c=this.playlistController_,d=["main","subtitle","audio"],m={};d.forEach(v=>{m[v]={reset:()=>this.resetSegmentDownloads_(v),updateend:()=>this.checkSegmentDownloads_(v)},c[`${v}SegmentLoader_`].on("appendsdone",m[v].updateend),c[`${v}SegmentLoader_`].on("playlistupdate",m[v].reset),this.tech_.on(["seeked","seeking"],m[v].reset)});const p=v=>{["main","audio"].forEach(E=>{c[`${E}SegmentLoader_`][v]("appended",this.seekingAppendCheck_)})};this.seekingAppendCheck_=()=>{this.fixesBadSeeks_()&&(this.consecutiveUpdates=0,this.lastRecordedTime=this.tech_.currentTime(),p("off"))},this.clearSeekingAppendCheck_=()=>p("off"),this.watchForBadSeeking_=()=>{this.clearSeekingAppendCheck_(),p("on")},this.tech_.on("seeked",this.clearSeekingAppendCheck_),this.tech_.on("seeking",this.watchForBadSeeking_),this.tech_.on("waiting",o),this.tech_.on(kA,l),this.tech_.on("canplay",s),this.tech_.one("play",i),this.dispose=()=>{this.clearSeekingAppendCheck_(),this.logger_("dispose"),this.tech_.off("waiting",o),this.tech_.off(kA,l),this.tech_.off("canplay",s),this.tech_.off("play",i),this.tech_.off("seeking",this.watchForBadSeeking_),this.tech_.off("seeked",this.clearSeekingAppendCheck_),d.forEach(v=>{c[`${v}SegmentLoader_`].off("appendsdone",m[v].updateend),c[`${v}SegmentLoader_`].off("playlistupdate",m[v].reset),this.tech_.off(["seeked","seeking"],m[v].reset)}),this.checkCurrentTimeTimeout_&&W.clearTimeout(this.checkCurrentTimeTimeout_),this.resetTimeUpdate_()}}monitorCurrentTime_(){this.checkCurrentTime_(),this.checkCurrentTimeTimeout_&&W.clearTimeout(this.checkCurrentTimeTimeout_),this.checkCurrentTimeTimeout_=W.setTimeout(this.monitorCurrentTime_.bind(this),250)}resetSegmentDownloads_(e){const i=this.playlistController_[`${e}SegmentLoader_`];this[`${e}StalledDownloads_`]>0&&this.logger_(`resetting possible stalled download count for ${e} loader`),this[`${e}StalledDownloads_`]=0,this[`${e}Buffered_`]=i.buffered_()}checkSegmentDownloads_(e){const i=this.playlistController_,s=i[`${e}SegmentLoader_`],o=s.buffered_(),l=U6(this[`${e}Buffered_`],o);if(this[`${e}Buffered_`]=o,l){const c={bufferedRanges:o};i.trigger({type:"bufferedrangeschanged",metadata:c}),this.resetSegmentDownloads_(e);return}this[`${e}StalledDownloads_`]++,this.logger_(`found #${this[`${e}StalledDownloads_`]} ${e} appends that did not increase buffer (possible stalled download)`,{playlistId:s.playlist_&&s.playlist_.id,buffered:qc(o)}),!(this[`${e}StalledDownloads_`]<10)&&(this.logger_(`${e} loader stalled download exclusion`),this.resetSegmentDownloads_(e),this.tech_.trigger({type:"usage",name:`vhs-${e}-download-exclusion`}),e!=="subtitle"&&i.excludePlaylist({error:{message:`Excessive ${e} segment downloading detected.`},playlistExclusionDuration:1/0}))}checkCurrentTime_(){if(this.tech_.paused()||this.tech_.seeking())return;const e=this.tech_.currentTime(),i=this.tech_.buffered();if(this.lastRecordedTime===e&&(!i.length||e+bo>=i.end(i.length-1)))return this.techWaiting_();if(this.consecutiveUpdates>=5&&e===this.lastRecordedTime)this.consecutiveUpdates++,this.waiting_();else if(e===this.lastRecordedTime)this.consecutiveUpdates++;else{this.playedRanges_.push(Vi([this.lastRecordedTime,e]));const s={playedRanges:this.playedRanges_};this.playlistController_.trigger({type:"playedrangeschanged",metadata:s}),this.consecutiveUpdates=0,this.lastRecordedTime=e}}resetTimeUpdate_(){this.consecutiveUpdates=0}fixesBadSeeks_(){if(!this.tech_.seeking())return!1;const i=this.seekable(),s=this.tech_.currentTime(),o=this.afterSeekableWindow_(i,s,this.media(),this.allowSeeksWithinUnsafeLiveWindow);let l;if(o&&(l=i.end(i.length-1)),this.beforeSeekableWindow_(i,s)){const P=i.start(0);l=P+(P===i.end(0)?0:bo)}if(typeof l<"u")return this.logger_(`Trying to seek outside of seekable at time ${s} with seekable range ${c4(i)}. Seeking to ${l}.`),this.tech_.setCurrentTime(l),!0;const c=this.playlistController_.sourceUpdater_,d=this.tech_.buffered(),m=c.audioBuffer?c.audioBuffered():null,p=c.videoBuffer?c.videoBuffered():null,v=this.media(),E=v.partTargetDuration?v.partTargetDuration:(v.targetDuration-go)*2,C=[m,p];for(let P=0;P<C.length;P++){if(!C[P])continue;if(nT(C[P],s)<E)return!1}const D=_b(d,s);return D.length===0?!1:(l=D.start(0)+bo,this.logger_(`Buffered region starts (${D.start(0)})  just beyond seek point (${s}). Seeking to ${l}.`),this.tech_.setCurrentTime(l),!0)}waiting_(){if(this.techWaiting_())return;const e=this.tech_.currentTime(),i=this.tech_.buffered(),s=Dh(i,e);if(s.length&&e+3<=s.end(0)){this.resetTimeUpdate_(),this.tech_.setCurrentTime(e),this.logger_(`Stopped at ${e} while inside a buffered region [${s.start(0)} -> ${s.end(0)}]. Attempting to resume playback by seeking to the current time.`),this.tech_.trigger({type:"usage",name:"vhs-unknown-waiting"});return}}techWaiting_(){const e=this.seekable(),i=this.tech_.currentTime();if(this.tech_.seeking())return!0;if(this.beforeSeekableWindow_(e,i)){const d=e.end(e.length-1);return this.logger_(`Fell out of live window at time ${i}. Seeking to live point (seekable end) ${d}`),this.resetTimeUpdate_(),this.tech_.setCurrentTime(d),this.tech_.trigger({type:"usage",name:"vhs-live-resync"}),!0}const s=this.tech_.vhs.playlistController_.sourceUpdater_,o=this.tech_.buffered();if(this.videoUnderflow_({audioBuffered:s.audioBuffered(),videoBuffered:s.videoBuffered(),currentTime:i}))return this.resetTimeUpdate_(),this.tech_.setCurrentTime(i),this.tech_.trigger({type:"usage",name:"vhs-video-underflow"}),!0;const c=_b(o,i);return c.length>0?(this.logger_(`Stopped at ${i} and seeking to ${c.start(0)}`),this.resetTimeUpdate_(),this.skipTheGap_(i),!0):!1}afterSeekableWindow_(e,i,s,o=!1){if(!e.length)return!1;let l=e.end(e.length-1)+bo;const c=!s.endList,d=typeof s.partTargetDuration=="number";return c&&(d||o)&&(l=e.end(e.length-1)+s.targetDuration*3),i>l}beforeSeekableWindow_(e,i){return!!(e.length&&e.start(0)>0&&i<e.start(0)-this.liveRangeSafeTimeDelta)}videoUnderflow_({videoBuffered:e,audioBuffered:i,currentTime:s}){if(!e)return;let o;if(e.length&&i.length){const l=Dh(e,s-3),c=Dh(e,s),d=Dh(i,s);d.length&&!c.length&&l.length&&(o={start:l.end(0),end:d.end(0)})}else _b(e,s).length||(o=this.gapFromVideoUnderflow_(e,s));return o?(this.logger_(`Encountered a gap in video from ${o.start} to ${o.end}. Seeking to current time ${s}`),!0):!1}skipTheGap_(e){const i=this.tech_.buffered(),s=this.tech_.currentTime(),o=_b(i,s);if(this.resetTimeUpdate_(),o.length===0||s!==e)return;this.logger_("skipTheGap_:","currentTime:",s,"scheduled currentTime:",e,"nextRange start:",o.start(0)),this.tech_.setCurrentTime(o.start(0)+go);const l={gapInfo:{from:s,to:o.start(0)}};this.playlistController_.trigger({type:"gapjumped",metadata:l}),this.tech_.trigger({type:"usage",name:"vhs-gap-skip"})}gapFromVideoUnderflow_(e,i){const s=P6(e);for(let o=0;o<s.length;o++){const l=s.start(o),c=s.end(o);if(i-l<4&&i-l>2)return{start:l,end:c}}return null}}const tU={errorInterval:30,getSource(n){const i=this.tech({IWillNotUseThisInPlugins:!0}).currentSource_||this.currentSource();return n(i)}},tR=function(n,e){let i=0,s=0;const o=tn(tU,e);n.ready(()=>{n.trigger({type:"usage",name:"vhs-error-reload-initialized"})});const l=function(){s&&n.currentTime(s)},c=function(v){v!=null&&(s=n.duration()!==1/0&&n.currentTime()||0,n.one("loadedmetadata",l),n.src(v),n.trigger({type:"usage",name:"vhs-error-reload"}),n.play())},d=function(){if(Date.now()-i<o.errorInterval*1e3){n.trigger({type:"usage",name:"vhs-error-reload-canceled"});return}if(!o.getSource||typeof o.getSource!="function"){_e.log.error("ERROR: reloadSourceOnError - The option getSource must be a function!");return}return i=Date.now(),o.getSource.call(n,c)},m=function(){n.off("loadedmetadata",l),n.off("error",d),n.off("dispose",m)},p=function(v){m(),tR(n,v)};n.on("error",d),n.on("dispose",m),n.reloadSourceOnError=p},nU=function(n){tR(this,n)};var nR="3.17.2",iU="7.1.0",rU="1.3.1",sU="7.2.0",aU="4.0.2";const Gn={PlaylistLoader:Ah,Playlist:Hr,utils:dB,STANDARD_PLAYLIST_SELECTOR:vA,INITIAL_PLAYLIST_SELECTOR:KB,lastBandwidthSelector:vA,movingAverageBandwidthSelector:ZB,comparePlaylistBandwidth:oT,comparePlaylistResolution:QB,xhr:w4()};Object.keys(ji).forEach(n=>{Object.defineProperty(Gn,n,{get(){return _e.log.warn(`using Vhs.${n} is UNSAFE be sure you know what you are doing`),ji[n]},set(e){if(_e.log.warn(`using Vhs.${n} is UNSAFE be sure you know what you are doing`),typeof e!="number"||e<0){_e.log.warn(`value of Vhs.${n} must be greater than or equal to 0`);return}ji[n]=e}})});const iR="videojs-vhs",rR=function(n,e){const i=e.media();let s=-1;for(let o=0;o<n.length;o++)if(n[o].id===i.id){s=o;break}n.selectedIndex_=s,n.trigger({selectedIndex:s,type:"change"})},oU=function(n,e){e.representations().forEach(i=>{n.addQualityLevel(i)}),rR(n,e.playlists)};Gn.canPlaySource=function(){return _e.log.warn("VHS is no longer a tech. Please remove it from your player's techOrder.")};const lU=(n,e,i)=>{if(!n)return n;let s={};e&&e.attributes&&e.attributes.CODECS&&(s=ap(fo(e.attributes.CODECS))),i&&i.attributes&&i.attributes.CODECS&&(s.audio=i.attributes.CODECS);const o=Fh(s.video),l=Fh(s.audio),c={};for(const d in n)c[d]={},l&&(c[d].audioContentType=l),o&&(c[d].videoContentType=o),e.contentProtection&&e.contentProtection[d]&&e.contentProtection[d].pssh&&(c[d].pssh=e.contentProtection[d].pssh),typeof n[d]=="string"&&(c[d].url=n[d]);return tn(n,c)},uU=(n,e)=>n.reduce((i,s)=>{if(!s.contentProtection)return i;const o=e.reduce((l,c)=>{const d=s.contentProtection[c];return d&&d.pssh&&(l[c]={pssh:d.pssh}),l},{});return Object.keys(o).length&&i.push(o),i},[]),cU=({player:n,sourceKeySystems:e,audioMedia:i,mainPlaylists:s})=>{if(!n.eme.initializeMediaKeys)return Promise.resolve();const o=i?s.concat([i]):s,l=uU(o,Object.keys(e)),c=[],d=[];return l.forEach(m=>{d.push(new Promise((p,v)=>{n.tech_.one("keysessioncreated",p)})),c.push(new Promise((p,v)=>{n.eme.initializeMediaKeys({keySystems:m},E=>{if(E){v(E);return}p()})}))}),Promise.race([Promise.all(c),Promise.race(d)])},dU=({player:n,sourceKeySystems:e,media:i,audioMedia:s})=>{const o=lU(e,i,s);return o?(n.currentSource().keySystems=o,o&&!n.eme?(_e.log.warn("DRM encrypted source cannot be decrypted without a DRM plugin"),!1):!0):!1},sR=()=>{if(!W.localStorage)return null;const n=W.localStorage.getItem(iR);if(!n)return null;try{return JSON.parse(n)}catch{return null}},hU=n=>{if(!W.localStorage)return!1;let e=sR();e=e?tn(e,n):n;try{W.localStorage.setItem(iR,JSON.stringify(e))}catch{return!1}return e},fU=n=>n.toLowerCase().indexOf("data:application/vnd.videojs.vhs+json,")===0?JSON.parse(n.substring(n.indexOf(",")+1)):n,aR=(n,e)=>{n._requestCallbackSet||(n._requestCallbackSet=new Set),n._requestCallbackSet.add(e)},oR=(n,e)=>{n._responseCallbackSet||(n._responseCallbackSet=new Set),n._responseCallbackSet.add(e)},lR=(n,e)=>{n._requestCallbackSet&&(n._requestCallbackSet.delete(e),n._requestCallbackSet.size||delete n._requestCallbackSet)},uR=(n,e)=>{n._responseCallbackSet&&(n._responseCallbackSet.delete(e),n._responseCallbackSet.size||delete n._responseCallbackSet)};Gn.supportsNativeHls=(function(){if(!Ve||!Ve.createElement)return!1;const n=Ve.createElement("video");return _e.getTech("Html5").isSupported()?["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"].some(function(i){return/maybe|probably/i.test(n.canPlayType(i))}):!1})();Gn.supportsNativeDash=(function(){return!Ve||!Ve.createElement||!_e.getTech("Html5").isSupported()?!1:/maybe|probably/i.test(Ve.createElement("video").canPlayType("application/dash+xml"))})();Gn.supportsTypeNatively=n=>n==="hls"?Gn.supportsNativeHls:n==="dash"?Gn.supportsNativeDash:!1;Gn.isSupported=function(){return _e.log.warn("VHS is no longer a tech. Please remove it from your player's techOrder.")};Gn.xhr.onRequest=function(n){aR(Gn.xhr,n)};Gn.xhr.onResponse=function(n){oR(Gn.xhr,n)};Gn.xhr.offRequest=function(n){lR(Gn.xhr,n)};Gn.xhr.offResponse=function(n){uR(Gn.xhr,n)};const mU=_e.getComponent("Component");class cR extends mU{constructor(e,i,s){if(super(i,s.vhs),typeof s.initialBandwidth=="number"&&(this.options_.bandwidth=s.initialBandwidth),this.logger_=Js("VhsHandler"),i.options_&&i.options_.playerId){const o=_e.getPlayer(i.options_.playerId);this.player_=o}if(this.tech_=i,this.source_=e,this.stats={},this.ignoreNextSeekingEvent_=!1,this.setOptions_(),this.options_.overrideNative&&i.overrideNativeAudioTracks&&i.overrideNativeVideoTracks)i.overrideNativeAudioTracks(!0),i.overrideNativeVideoTracks(!0);else if(this.options_.overrideNative&&(i.featuresNativeVideoTracks||i.featuresNativeAudioTracks))throw new Error("Overriding native VHS requires emulated tracks. See https://git.io/vMpjB");this.on(Ve,["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],o=>{const l=Ve.fullscreenElement||Ve.webkitFullscreenElement||Ve.mozFullScreenElement||Ve.msFullscreenElement;l&&l.contains(this.tech_.el())?this.playlistController_.fastQualityChange_():this.playlistController_.checkABR_()}),this.on(this.tech_,"seeking",function(){if(this.ignoreNextSeekingEvent_){this.ignoreNextSeekingEvent_=!1;return}this.setCurrentTime(this.tech_.currentTime())}),this.on(this.tech_,"error",function(){this.tech_.error()&&this.playlistController_&&this.playlistController_.pauseLoading()}),this.on(this.tech_,"play",this.play)}setOptions_(e={}){if(this.options_=tn(this.options_,e),this.options_.withCredentials=this.options_.withCredentials||!1,this.options_.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions!==!1,this.options_.useDevicePixelRatio=this.options_.useDevicePixelRatio||!1,this.options_.usePlayerObjectFit=this.options_.usePlayerObjectFit||!1,this.options_.useBandwidthFromLocalStorage=typeof this.source_.useBandwidthFromLocalStorage<"u"?this.source_.useBandwidthFromLocalStorage:this.options_.useBandwidthFromLocalStorage||!1,this.options_.useForcedSubtitles=this.options_.useForcedSubtitles||!1,this.options_.useNetworkInformationApi=typeof this.options_.useNetworkInformationApi<"u"?this.options_.useNetworkInformationApi:!0,this.options_.useDtsForTimestampOffset=this.options_.useDtsForTimestampOffset||!1,this.options_.customTagParsers=this.options_.customTagParsers||[],this.options_.customTagMappers=this.options_.customTagMappers||[],this.options_.cacheEncryptionKeys=this.options_.cacheEncryptionKeys||!1,this.options_.llhls=this.options_.llhls!==!1,this.options_.bufferBasedABR=this.options_.bufferBasedABR||!1,typeof this.options_.playlistExclusionDuration!="number"&&(this.options_.playlistExclusionDuration=60),typeof this.options_.bandwidth!="number"&&this.options_.useBandwidthFromLocalStorage){const s=sR();s&&s.bandwidth&&(this.options_.bandwidth=s.bandwidth,this.tech_.trigger({type:"usage",name:"vhs-bandwidth-from-local-storage"})),s&&s.throughput&&(this.options_.throughput=s.throughput,this.tech_.trigger({type:"usage",name:"vhs-throughput-from-local-storage"}))}typeof this.options_.bandwidth!="number"&&(this.options_.bandwidth=ji.INITIAL_BANDWIDTH),this.options_.enableLowInitialPlaylist=this.options_.enableLowInitialPlaylist&&this.options_.bandwidth===ji.INITIAL_BANDWIDTH,["withCredentials","useDevicePixelRatio","usePlayerObjectFit","customPixelRatio","limitRenditionByPlayerDimensions","bandwidth","customTagParsers","customTagMappers","cacheEncryptionKeys","playlistSelector","initialPlaylistSelector","bufferBasedABR","liveRangeSafeTimeDelta","llhls","useForcedSubtitles","useNetworkInformationApi","useDtsForTimestampOffset","exactManifestTimings","leastPixelDiffSelector"].forEach(s=>{typeof this.source_[s]<"u"&&(this.options_[s]=this.source_[s])}),this.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions,this.useDevicePixelRatio=this.options_.useDevicePixelRatio,this.usePlayerObjectFit=this.options_.usePlayerObjectFit;const i=this.options_.customPixelRatio;typeof i=="number"&&i>=0&&(this.customPixelRatio=i)}setOptions(e={}){this.setOptions_(e)}src(e,i){if(!e)return;this.setOptions_(),this.options_.src=fU(this.source_.src),this.options_.tech=this.tech_,this.options_.externVhs=Gn,this.options_.sourceType=kw(i),this.options_.seekTo=l=>{this.tech_.setCurrentTime(l)},this.options_.player_=this.player_,this.playlistController_=new Zj(this.options_);const s=tn({liveRangeSafeTimeDelta:bo},this.options_,{seekable:()=>this.seekable(),media:()=>this.playlistController_.media(),playlistController:this.playlistController_});this.playbackWatcher_=new eU(s),this.attachStreamingEventListeners_(),this.playlistController_.on("error",()=>{const l=_e.players[this.tech_.options_.playerId];let c=this.playlistController_.error;typeof c=="object"&&!c.code?c.code=3:typeof c=="string"&&(c={message:c,code:3}),l.error(c)});const o=this.options_.bufferBasedABR?Gn.movingAverageBandwidthSelector(.55):Gn.STANDARD_PLAYLIST_SELECTOR;this.playlistController_.selectPlaylist=this.selectPlaylist?this.selectPlaylist.bind(this):o.bind(this),this.playlistController_.selectInitialPlaylist=Gn.INITIAL_PLAYLIST_SELECTOR.bind(this),this.playlists=this.playlistController_.mainPlaylistLoader_,this.mediaSource=this.playlistController_.mediaSource,Object.defineProperties(this,{selectPlaylist:{get(){return this.playlistController_.selectPlaylist},set(l){this.playlistController_.selectPlaylist=l.bind(this)}},throughput:{get(){return this.playlistController_.mainSegmentLoader_.throughput.rate},set(l){this.playlistController_.mainSegmentLoader_.throughput.rate=l,this.playlistController_.mainSegmentLoader_.throughput.count=1}},bandwidth:{get(){let l=this.playlistController_.mainSegmentLoader_.bandwidth;const c=W.navigator.connection||W.navigator.mozConnection||W.navigator.webkitConnection,d=1e7;if(this.options_.useNetworkInformationApi&&c){const m=c.downlink*1e3*1e3;m>=d&&l>=d?l=Math.max(l,m):l=m}return l},set(l){this.playlistController_.mainSegmentLoader_.bandwidth=l,this.playlistController_.mainSegmentLoader_.throughput={rate:0,count:0}}},systemBandwidth:{get(){const l=1/(this.bandwidth||1);let c;return this.throughput>0?c=1/this.throughput:c=0,Math.floor(1/(l+c))},set(){_e.log.error('The "systemBandwidth" property is read-only')}}}),this.options_.bandwidth&&(this.bandwidth=this.options_.bandwidth),this.options_.throughput&&(this.throughput=this.options_.throughput),Object.defineProperties(this.stats,{bandwidth:{get:()=>this.bandwidth||0,enumerable:!0},mediaRequests:{get:()=>this.playlistController_.mediaRequests_()||0,enumerable:!0},mediaRequestsAborted:{get:()=>this.playlistController_.mediaRequestsAborted_()||0,enumerable:!0},mediaRequestsTimedout:{get:()=>this.playlistController_.mediaRequestsTimedout_()||0,enumerable:!0},mediaRequestsErrored:{get:()=>this.playlistController_.mediaRequestsErrored_()||0,enumerable:!0},mediaTransferDuration:{get:()=>this.playlistController_.mediaTransferDuration_()||0,enumerable:!0},mediaBytesTransferred:{get:()=>this.playlistController_.mediaBytesTransferred_()||0,enumerable:!0},mediaSecondsLoaded:{get:()=>this.playlistController_.mediaSecondsLoaded_()||0,enumerable:!0},mediaAppends:{get:()=>this.playlistController_.mediaAppends_()||0,enumerable:!0},mainAppendsToLoadedData:{get:()=>this.playlistController_.mainAppendsToLoadedData_()||0,enumerable:!0},audioAppendsToLoadedData:{get:()=>this.playlistController_.audioAppendsToLoadedData_()||0,enumerable:!0},appendsToLoadedData:{get:()=>this.playlistController_.appendsToLoadedData_()||0,enumerable:!0},timeToLoadedData:{get:()=>this.playlistController_.timeToLoadedData_()||0,enumerable:!0},buffered:{get:()=>qc(this.tech_.buffered()),enumerable:!0},currentTime:{get:()=>this.tech_.currentTime(),enumerable:!0},currentSource:{get:()=>this.tech_.currentSource_,enumerable:!0},currentTech:{get:()=>this.tech_.name_,enumerable:!0},duration:{get:()=>this.tech_.duration(),enumerable:!0},main:{get:()=>this.playlists.main,enumerable:!0},playerDimensions:{get:()=>this.tech_.currentDimensions(),enumerable:!0},seekable:{get:()=>qc(this.tech_.seekable()),enumerable:!0},timestamp:{get:()=>Date.now(),enumerable:!0},videoPlaybackQuality:{get:()=>this.tech_.getVideoPlaybackQuality(),enumerable:!0}}),this.tech_.one("canplay",this.playlistController_.setupFirstPlay.bind(this.playlistController_)),this.tech_.on("bandwidthupdate",()=>{this.options_.useBandwidthFromLocalStorage&&hU({bandwidth:this.bandwidth,throughput:Math.round(this.throughput)})}),this.playlistController_.on("selectedinitialmedia",()=>{Jj(this)}),this.playlistController_.sourceUpdater_.on("createdsourcebuffers",()=>{this.setupEme_()}),this.on(this.playlistController_,"progress",function(){this.tech_.trigger("progress")}),this.on(this.playlistController_,"firstplay",function(){this.ignoreNextSeekingEvent_=!0}),this.setupQualityLevels_(),this.tech_.el()&&(this.mediaSourceUrl_=W.URL.createObjectURL(this.playlistController_.mediaSource),(_e.browser.IS_ANY_SAFARI||_e.browser.IS_IOS)&&this.options_.overrideNative&&this.options_.sourceType==="hls"&&typeof this.tech_.addSourceElement=="function"?(this.tech_.addSourceElement(this.mediaSourceUrl_),this.tech_.addSourceElement(this.source_.src)):this.tech_.src(this.mediaSourceUrl_))}createKeySessions_(){const e=this.playlistController_.mediaTypes_.AUDIO.activePlaylistLoader;this.logger_("waiting for EME key session creation"),cU({player:this.player_,sourceKeySystems:this.source_.keySystems,audioMedia:e&&e.media(),mainPlaylists:this.playlists.main.playlists}).then(()=>{this.logger_("created EME key session"),this.playlistController_.sourceUpdater_.initializedEme()}).catch(i=>{this.logger_("error while creating EME key session",i),this.player_.error({message:"Failed to initialize media keys for EME",code:3})})}handleWaitingForKey_(){this.logger_("waitingforkey fired, attempting to create any new key sessions"),this.createKeySessions_()}setupEme_(){const e=this.playlistController_.mediaTypes_.AUDIO.activePlaylistLoader,i=dU({player:this.player_,sourceKeySystems:this.source_.keySystems,media:this.playlists.media(),audioMedia:e&&e.media()});if(this.player_.tech_.on("keystatuschange",s=>{this.playlistController_.updatePlaylistByKeyStatus(s.keyId,s.status)}),this.handleWaitingForKey_=this.handleWaitingForKey_.bind(this),this.player_.tech_.on("waitingforkey",this.handleWaitingForKey_),!i){this.playlistController_.sourceUpdater_.initializedEme();return}this.createKeySessions_()}setupQualityLevels_(){const e=_e.players[this.tech_.options_.playerId];!e||!e.qualityLevels||this.qualityLevels_||(this.qualityLevels_=e.qualityLevels(),this.playlistController_.on("selectedinitialmedia",()=>{oU(this.qualityLevels_,this)}),this.playlists.on("mediachange",()=>{rR(this.qualityLevels_,this.playlists)}))}static version(){return{"@videojs/http-streaming":nR,"mux.js":iU,"mpd-parser":rU,"m3u8-parser":sU,"aes-decrypter":aU}}version(){return this.constructor.version()}canChangeType(){return W4.canChangeType()}play(){this.playlistController_.play()}setCurrentTime(e){this.playlistController_.setCurrentTime(e)}duration(){return this.playlistController_.duration()}seekable(){return this.playlistController_.seekable()}dispose(){this.playbackWatcher_&&this.playbackWatcher_.dispose(),this.playlistController_&&this.playlistController_.dispose(),this.qualityLevels_&&this.qualityLevels_.dispose(),this.tech_&&this.tech_.vhs&&delete this.tech_.vhs,this.mediaSourceUrl_&&W.URL.revokeObjectURL&&(W.URL.revokeObjectURL(this.mediaSourceUrl_),this.mediaSourceUrl_=null),this.tech_&&this.tech_.off("waitingforkey",this.handleWaitingForKey_),super.dispose()}convertToProgramTime(e,i){return yB({playlist:this.playlistController_.media(),time:e,callback:i})}seekToProgramTime(e,i,s=!0,o=2){return I4({programTime:e,playlist:this.playlistController_.media(),retryCount:o,pauseAfterSeek:s,seekTo:this.options_.seekTo,tech:this.options_.tech,callback:i})}setupXhrHooks_(){this.xhr.onRequest=e=>{aR(this.xhr,e)},this.xhr.onResponse=e=>{oR(this.xhr,e)},this.xhr.offRequest=e=>{lR(this.xhr,e)},this.xhr.offResponse=e=>{uR(this.xhr,e)},this.player_.trigger("xhr-hooks-ready")}attachStreamingEventListeners_(){const e=["seekablerangeschanged","bufferedrangeschanged","contentsteeringloadstart","contentsteeringloadcomplete","contentsteeringparsed"],i=["gapjumped","playedrangeschanged"];e.forEach(s=>{this.playlistController_.on(s,o=>{this.player_.trigger(ai({},o))})}),i.forEach(s=>{this.playbackWatcher_.on(s,o=>{this.player_.trigger(ai({},o))})})}}const o0={name:"videojs-http-streaming",VERSION:nR,canHandleSource(n,e={}){const i=tn(_e.options,e);return!i.vhs.experimentalUseMMS&&!Gm("avc1.4d400d,mp4a.40.2",!1)?!1:o0.canPlayType(n.type,i)},handleSource(n,e,i={}){const s=tn(_e.options,i);return e.vhs=new cR(n,e,s),e.vhs.xhr=w4(),e.vhs.setupXhrHooks_(),e.vhs.src(n.src,n.type),e.vhs},canPlayType(n,e){const i=kw(n);if(!i)return"";const s=o0.getOverrideNative(e);return!Gn.supportsTypeNatively(i)||s?"maybe":""},getOverrideNative(n={}){const{vhs:e={}}=n,i=!(_e.browser.IS_ANY_SAFARI||_e.browser.IS_IOS),{overrideNative:s=i}=e;return s}},pU=()=>Gm("avc1.4d400d,mp4a.40.2",!0);pU()&&_e.getTech("Html5").registerSourceHandler(o0,0);_e.VhsHandler=cR;_e.VhsSourceHandler=o0;_e.Vhs=Gn;_e.use||_e.registerComponent("Vhs",Gn);_e.options.vhs=_e.options.vhs||{};(!_e.getPlugin||!_e.getPlugin("reloadSourceOnError"))&&_e.registerPlugin("reloadSourceOnError",nU);const gU=Object.freeze(Object.defineProperty({__proto__:null,default:_e},Symbol.toStringTag,{value:"Module"}));/*! @name videojs-contrib-quality-levels @version 4.1.0 @license Apache-2.0 */class bU{constructor(e){let i=this;return i.id=e.id,i.label=i.id,i.width=e.width,i.height=e.height,i.bitrate=e.bandwidth,i.frameRate=e.frameRate,i.enabled_=e.enabled,Object.defineProperty(i,"enabled",{get(){return i.enabled_()},set(s){i.enabled_(s)}}),i}}class l0 extends _e.EventTarget{constructor(){super();let e=this;return e.levels_=[],e.selectedIndex_=-1,Object.defineProperty(e,"selectedIndex",{get(){return e.selectedIndex_}}),Object.defineProperty(e,"length",{get(){return e.levels_.length}}),e[Symbol.iterator]=()=>e.levels_.values(),e}addQualityLevel(e){let i=this.getQualityLevelById(e.id);if(i)return i;const s=this.levels_.length;return i=new bU(e),""+s in this||Object.defineProperty(this,s,{get(){return this.levels_[s]}}),this.levels_.push(i),this.trigger({qualityLevel:i,type:"addqualitylevel"}),i}removeQualityLevel(e){let i=null;for(let s=0,o=this.length;s<o;s++)if(this[s]===e){i=this.levels_.splice(s,1)[0],this.selectedIndex_===s?this.selectedIndex_=-1:this.selectedIndex_>s&&this.selectedIndex_--;break}return i&&this.trigger({qualityLevel:e,type:"removequalitylevel"}),i}getQualityLevelById(e){for(let i=0,s=this.length;i<s;i++){const o=this[i];if(o.id===e)return o}return null}dispose(){this.selectedIndex_=-1,this.levels_.length=0}}l0.prototype.allowedEvents_={change:"change",addqualitylevel:"addqualitylevel",removequalitylevel:"removequalitylevel"};for(const n in l0.prototype.allowedEvents_)l0.prototype["on"+n]=null;var dR="4.1.0";const yU=function(n,e){const i=n.qualityLevels,s=new l0,o=function(){s.dispose(),n.qualityLevels=i,n.off("dispose",o)};return n.on("dispose",o),n.qualityLevels=()=>s,n.qualityLevels.VERSION=dR,s},hR=function(n){return yU(this,_e.obj.merge({},n))};_e.registerPlugin("qualityLevels",hR);hR.VERSION=dR;var jb={exports:{}};const vU=uw(gU);var _U=jb.exports,OA;function xU(){return OA||(OA=1,(function(n){(function(e,i){if(typeof window<"u"&&window.videojs)i(window.videojs);else if(n.exports){var s=vU;n.exports=i(s.default||s)}})(_U,function(e){typeof window<"u"&&(window.videojs_hotkeys={version:"0.2.30"});var i=function(o){var l=this,c=l.el(),d=document,m={volumeStep:.1,seekStep:5,enableMute:!0,enableVolumeScroll:!0,enableHoverScroll:!1,enableFullscreen:!0,enableNumbers:!0,enableJogStyle:!1,alwaysCaptureHotkeys:!1,captureDocumentHotkeys:!1,documentHotkeysFocusElementFilter:()=>!1,enableModifiersForNumbers:!0,enableInactiveFocus:!0,skipInitialFocus:!1,playPauseKey:Be,rewindKey:Ge,forwardKey:Pe,volumeUpKey:Qe,volumeDownKey:Zt,muteKey:gt,fullscreenKey:It,customKeys:{}},p=1,v=2,E=3,C=4,D=5,P=6,A=7,U=e.obj?.merge||e.mergeOptions||e.util.mergeOptions;o=U(m,o||{});var M=o.volumeStep,B=o.seekStep,L=o.enableMute,H=o.enableVolumeScroll,Q=o.enableHoverScroll,se=o.enableFullscreen,q=o.enableNumbers,te=o.enableJogStyle,I=o.alwaysCaptureHotkeys,j=o.captureDocumentHotkeys,ge=o.documentHotkeysFocusElementFilter,de=o.enableModifiersForNumbers,ie=o.enableInactiveFocus,fe=o.skipInitialFocus,Re=e.VERSION;c.hasAttribute("tabIndex")||c.setAttribute("tabIndex","-1"),c.style.outline="none",(I||!l.autoplay())&&(fe||l.one("play",()=>{c.focus()})),ie&&l.on("userinactive",()=>{var Xe=()=>{clearTimeout(tt)},tt=setTimeout(()=>{l.off("useractive",Xe);var st=d.activeElement,Wt=st.parentElement,Ke=c.querySelector(".vjs-control-bar");st&&(Ke==Wt||Ke==Wt.parentElement)&&c.focus()},10);l.one("useractive",Xe)}),l.on("play",()=>{var Xe=c.querySelector(".iframeblocker");Xe&&Xe.style.display===""&&(Xe.style.display="block",Xe.style.bottom="39px")});var be=function(tt){var st=tt.which,Wt,Ke,Kn=tt.preventDefault.bind(tt),yn=l.duration();if(l.controls()){var Vn=d.activeElement;if(I||j&&ge(Vn)||Vn==c||Vn==c.querySelector(".vjs-tech")||Vn==c.querySelector(".vjs-control-bar")||Vn==c.querySelector(".iframeblocker"))switch(le(tt,l)){case p:Kn(),(I||j)&&tt.stopPropagation(),l.paused()?an(l.play()):l.pause();break;case v:Wt=!l.paused(),Kn(),Wt&&l.pause(),Ke=l.currentTime()-Gt(tt),Ke<=0&&(Ke=0),l.currentTime(Ke),Wt&&an(l.play());break;case E:Wt=!l.paused(),Kn(),Wt&&l.pause(),Ke=l.currentTime()+Gt(tt),Ke>=yn&&(Ke=Wt?yn-.001:yn),l.currentTime(Ke),Wt&&an(l.play());break;case D:Kn(),te?(Ke=l.currentTime()-1,l.currentTime()<=1&&(Ke=0),l.currentTime(Ke)):l.volume(l.volume()-M);break;case C:Kn(),te?(Ke=l.currentTime()+1,Ke>=yn&&(Ke=yn),l.currentTime(Ke)):l.volume(l.volume()+M);break;case P:L&&l.muted(!l.muted());break;case A:se&&(l.isFullscreen()?l.exitFullscreen():l.requestFullscreen());break;default:if((st>47&&st<59||st>95&&st<106)&&(de||!(tt.metaKey||tt.ctrlKey||tt.altKey))&&q){var Ze=48;st>95&&(Ze=96);var Xt=st-Ze;Kn(),l.currentTime(l.duration()*Xt*.1)}for(var Lt in o.customKeys){var Jn=o.customKeys[Lt];Jn&&Jn.key&&Jn.handler&&Jn.key(tt)&&(Kn(),Jn.handler(l,o,tt))}}}},ve=function(tt){if(Re!=null&&Re<="7.1.0"&&l.controls()){var st=tt.relatedTarget||tt.toElement||d.activeElement;(st==c||st==c.querySelector(".vjs-tech")||st==c.querySelector(".iframeblocker"))&&se&&(l.isFullscreen()?l.exitFullscreen():l.requestFullscreen())}},Te=!1,De=c.querySelector(".vjs-volume-menu-button")||c.querySelector(".vjs-volume-panel");De!=null&&(De.addEventListener("mouseover",()=>{Te=!0}),De.addEventListener("mouseout",()=>{Te=!1}));var ke=function(tt){if(Q)var st=0;else var st=d.activeElement;if(l.controls()&&(I||st==c||st==c.querySelector(".vjs-tech")||st==c.querySelector(".iframeblocker")||st==c.querySelector(".vjs-control-bar")||Te)&&H){tt=window.event||tt;var Wt=Math.max(-1,Math.min(1,tt.wheelDelta||-tt.detail));tt.preventDefault(),Wt==1?l.volume(l.volume()+M):Wt==-1&&l.volume(l.volume()-M)}},le=function(tt,st){if(o.playPauseKey(tt,st))return p;if(o.rewindKey(tt,st))return v;if(o.forwardKey(tt,st))return E;if(o.volumeUpKey(tt,st))return C;if(o.volumeDownKey(tt,st))return D;if(o.muteKey(tt,st))return P;if(o.fullscreenKey(tt,st))return A};function Be(Xe){return Xe.which===32||Xe.which===179}function Ge(Xe){return Xe.which===37||Xe.which===177}function Pe(Xe){return Xe.which===39||Xe.which===176}function Qe(Xe){return Xe.which===38}function Zt(Xe){return Xe.which===40}function gt(Xe){return Xe.which===77}function It(Xe){return Xe.which===70}function Gt(Xe){return typeof B=="function"?B(Xe):B}function an(Xe){Xe!=null&&typeof Xe.then=="function"&&Xe.then(null,function(tt){})}if(j){var je=function(Xe){be(Xe)};document.addEventListener("keydown",je),this.dispose=()=>{document.removeEventListener("keydown",je)}}else l.on("keydown",be);return l.on("dblclick",ve),l.on("mousewheel",ke),l.on("DOMMouseScroll",ke),this},s=e.registerPlugin||e.plugin;s("hotkeys",i)})})(jb)),jb.exports}xU();function Sb(n){throw new Error('Could not dynamically require "'+n+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var MA={},IA;function TU(){return IA||(IA=1,(function(){function n(e,i,s){function o(d,m){if(!i[d]){if(!e[d]){var p=typeof Sb=="function"&&Sb;if(!m&&p)return p(d,!0);if(l)return l(d,!0);var v=new Error("Cannot find module '"+d+"'");throw v.code="MODULE_NOT_FOUND",v}var E=i[d]={exports:{}};e[d][0].call(E.exports,function(C){var D=e[d][1][C];return o(D||C)},E,E.exports,n,e,i,s)}return i[d].exports}for(var l=typeof Sb=="function"&&Sb,c=0;c<s.length;c++)o(s[c]);return o}return n})()({1:[function(n,e,i){e.exports=function(s){if(typeof s!="function")throw TypeError(String(s)+" is not a function");return s}},{}],2:[function(n,e,i){var s=n("../internals/is-object");e.exports=function(o){if(!s(o))throw TypeError(String(o)+" is not an object");return o}},{"../internals/is-object":33}],3:[function(n,e,i){var s=n("../internals/to-indexed-object"),o=n("../internals/to-length"),l=n("../internals/to-absolute-index"),c=function(d){return function(m,p,v){var E=s(m),C=o(E.length),D=l(v,C),P;if(d&&p!=p){for(;C>D;)if(P=E[D++],P!=P)return!0}else for(;C>D;D++)if((d||D in E)&&E[D]===p)return d||D||0;return!d&&-1}};e.exports={includes:c(!0),indexOf:c(!1)}},{"../internals/to-absolute-index":55,"../internals/to-indexed-object":56,"../internals/to-length":58}],4:[function(n,e,i){var s=n("../internals/function-bind-context"),o=n("../internals/indexed-object"),l=n("../internals/to-object"),c=n("../internals/to-length"),d=n("../internals/array-species-create"),m=[].push,p=function(v){var E=v==1,C=v==2,D=v==3,P=v==4,A=v==6,U=v==7,M=v==5||A;return function(B,L,H,Q){for(var se=l(B),q=o(se),te=s(L,H,3),I=c(q.length),j=0,ge=Q||d,de=E?ge(B,I):C||U?ge(B,0):void 0,ie,fe;I>j;j++)if((M||j in q)&&(ie=q[j],fe=te(ie,j,se),v))if(E)de[j]=fe;else if(fe)switch(v){case 3:return!0;case 5:return ie;case 6:return j;case 2:m.call(de,ie)}else switch(v){case 4:return!1;case 7:m.call(de,ie)}return A?-1:D||P?P:de}};e.exports={forEach:p(0),map:p(1),filter:p(2),some:p(3),every:p(4),find:p(5),findIndex:p(6),filterOut:p(7)}},{"../internals/array-species-create":6,"../internals/function-bind-context":20,"../internals/indexed-object":28,"../internals/to-length":58,"../internals/to-object":59}],5:[function(n,e,i){var s=n("../internals/fails"),o=n("../internals/well-known-symbol"),l=n("../internals/engine-v8-version"),c=o("species");e.exports=function(d){return l>=51||!s(function(){var m=[],p=m.constructor={};return p[c]=function(){return{foo:1}},m[d](Boolean).foo!==1})}},{"../internals/engine-v8-version":16,"../internals/fails":19,"../internals/well-known-symbol":63}],6:[function(n,e,i){var s=n("../internals/is-object"),o=n("../internals/is-array"),l=n("../internals/well-known-symbol"),c=l("species");e.exports=function(d,m){var p;return o(d)&&(p=d.constructor,typeof p=="function"&&(p===Array||o(p.prototype))?p=void 0:s(p)&&(p=p[c],p===null&&(p=void 0))),new(p===void 0?Array:p)(m===0?0:m)}},{"../internals/is-array":31,"../internals/is-object":33,"../internals/well-known-symbol":63}],7:[function(n,e,i){var s={}.toString;e.exports=function(o){return s.call(o).slice(8,-1)}},{}],8:[function(n,e,i){var s=n("../internals/has"),o=n("../internals/own-keys"),l=n("../internals/object-get-own-property-descriptor"),c=n("../internals/object-define-property");e.exports=function(d,m){for(var p=o(m),v=c.f,E=l.f,C=0;C<p.length;C++){var D=p[C];s(d,D)||v(d,D,E(m,D))}}},{"../internals/has":24,"../internals/object-define-property":39,"../internals/object-get-own-property-descriptor":40,"../internals/own-keys":47}],9:[function(n,e,i){var s=n("../internals/fails");e.exports=!s(function(){function o(){}return o.prototype.constructor=null,Object.getPrototypeOf(new o)!==o.prototype})},{"../internals/fails":19}],10:[function(n,e,i){var s=n("../internals/descriptors"),o=n("../internals/object-define-property"),l=n("../internals/create-property-descriptor");e.exports=s?function(c,d,m){return o.f(c,d,l(1,m))}:function(c,d,m){return c[d]=m,c}},{"../internals/create-property-descriptor":11,"../internals/descriptors":12,"../internals/object-define-property":39}],11:[function(n,e,i){e.exports=function(s,o){return{enumerable:!(s&1),configurable:!(s&2),writable:!(s&4),value:o}}},{}],12:[function(n,e,i){var s=n("../internals/fails");e.exports=!s(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},{"../internals/fails":19}],13:[function(n,e,i){var s=n("../internals/global"),o=n("../internals/is-object"),l=s.document,c=o(l)&&o(l.createElement);e.exports=function(d){return c?l.createElement(d):{}}},{"../internals/global":23,"../internals/is-object":33}],14:[function(n,e,i){var s=n("../internals/classof-raw"),o=n("../internals/global");e.exports=s(o.process)=="process"},{"../internals/classof-raw":7,"../internals/global":23}],15:[function(n,e,i){var s=n("../internals/get-built-in");e.exports=s("navigator","userAgent")||""},{"../internals/get-built-in":22}],16:[function(n,e,i){var s=n("../internals/global"),o=n("../internals/engine-user-agent"),l=s.process,c=l&&l.versions,d=c&&c.v8,m,p;d?(m=d.split("."),p=m[0]+m[1]):o&&(m=o.match(/Edge\/(\d+)/),(!m||m[1]>=74)&&(m=o.match(/Chrome\/(\d+)/),m&&(p=m[1]))),e.exports=p&&+p},{"../internals/engine-user-agent":15,"../internals/global":23}],17:[function(n,e,i){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},{}],18:[function(n,e,i){var s=n("../internals/global"),o=n("../internals/object-get-own-property-descriptor").f,l=n("../internals/create-non-enumerable-property"),c=n("../internals/redefine"),d=n("../internals/set-global"),m=n("../internals/copy-constructor-properties"),p=n("../internals/is-forced");e.exports=function(v,E){var C=v.target,D=v.global,P=v.stat,A,U,M,B,L,H;if(D?U=s:P?U=s[C]||d(C,{}):U=(s[C]||{}).prototype,U)for(M in E){if(L=E[M],v.noTargetGet?(H=o(U,M),B=H&&H.value):B=U[M],A=p(D?M:C+(P?".":"#")+M,v.forced),!A&&B!==void 0){if(typeof L==typeof B)continue;m(L,B)}(v.sham||B&&B.sham)&&l(L,"sham",!0),c(U,M,L,v)}}},{"../internals/copy-constructor-properties":8,"../internals/create-non-enumerable-property":10,"../internals/global":23,"../internals/is-forced":32,"../internals/object-get-own-property-descriptor":40,"../internals/redefine":49,"../internals/set-global":51}],19:[function(n,e,i){e.exports=function(s){try{return!!s()}catch{return!0}}},{}],20:[function(n,e,i){var s=n("../internals/a-function");e.exports=function(o,l,c){if(s(o),l===void 0)return o;switch(c){case 0:return function(){return o.call(l)};case 1:return function(d){return o.call(l,d)};case 2:return function(d,m){return o.call(l,d,m)};case 3:return function(d,m,p){return o.call(l,d,m,p)}}return function(){return o.apply(l,arguments)}}},{"../internals/a-function":1}],21:[function(n,e,i){var s=n("../internals/a-function"),o=n("../internals/is-object"),l=[].slice,c={},d=function(m,p,v){if(!(p in c)){for(var E=[],C=0;C<p;C++)E[C]="a["+C+"]";c[p]=Function("C,a","return new C("+E.join(",")+")")}return c[p](m,v)};e.exports=Function.bind||function(p){var v=s(this),E=l.call(arguments,1),C=function(){var P=E.concat(l.call(arguments));return this instanceof C?d(v,P.length,P):v.apply(p,P)};return o(v.prototype)&&(C.prototype=v.prototype),C}},{"../internals/a-function":1,"../internals/is-object":33}],22:[function(n,e,i){var s=n("../internals/path"),o=n("../internals/global"),l=function(c){return typeof c=="function"?c:void 0};e.exports=function(c,d){return arguments.length<2?l(s[c])||l(o[c]):s[c]&&s[c][d]||o[c]&&o[c][d]}},{"../internals/global":23,"../internals/path":48}],23:[function(n,e,i){(function(s){(function(){var o=function(l){return l&&l.Math==Math&&l};e.exports=o(typeof globalThis=="object"&&globalThis)||o(typeof window=="object"&&window)||o(typeof self=="object"&&self)||o(typeof s=="object"&&s)||(function(){return this})()||Function("return this")()}).call(this)}).call(this,typeof wu<"u"?wu:typeof self<"u"?self:typeof window<"u"?window:{})},{}],24:[function(n,e,i){var s=n("../internals/to-object"),o={}.hasOwnProperty;e.exports=function(c,d){return o.call(s(c),d)}},{"../internals/to-object":59}],25:[function(n,e,i){e.exports={}},{}],26:[function(n,e,i){var s=n("../internals/get-built-in");e.exports=s("document","documentElement")},{"../internals/get-built-in":22}],27:[function(n,e,i){var s=n("../internals/descriptors"),o=n("../internals/fails"),l=n("../internals/document-create-element");e.exports=!s&&!o(function(){return Object.defineProperty(l("div"),"a",{get:function(){return 7}}).a!=7})},{"../internals/descriptors":12,"../internals/document-create-element":13,"../internals/fails":19}],28:[function(n,e,i){var s=n("../internals/fails"),o=n("../internals/classof-raw"),l="".split;e.exports=s(function(){return!Object("z").propertyIsEnumerable(0)})?function(c){return o(c)=="String"?l.call(c,""):Object(c)}:Object},{"../internals/classof-raw":7,"../internals/fails":19}],29:[function(n,e,i){var s=n("../internals/shared-store"),o=Function.toString;typeof s.inspectSource!="function"&&(s.inspectSource=function(l){return o.call(l)}),e.exports=s.inspectSource},{"../internals/shared-store":53}],30:[function(n,e,i){var s=n("../internals/native-weak-map"),o=n("../internals/global"),l=n("../internals/is-object"),c=n("../internals/create-non-enumerable-property"),d=n("../internals/has"),m=n("../internals/shared-store"),p=n("../internals/shared-key"),v=n("../internals/hidden-keys"),E="Object already initialized",C=o.WeakMap,D,P,A,U=function(q){return A(q)?P(q):D(q,{})},M=function(q){return function(te){var I;if(!l(te)||(I=P(te)).type!==q)throw TypeError("Incompatible receiver, "+q+" required");return I}};if(s){var B=m.state||(m.state=new C),L=B.get,H=B.has,Q=B.set;D=function(q,te){if(H.call(B,q))throw new TypeError(E);return te.facade=q,Q.call(B,q,te),te},P=function(q){return L.call(B,q)||{}},A=function(q){return H.call(B,q)}}else{var se=p("state");v[se]=!0,D=function(q,te){if(d(q,se))throw new TypeError(E);return te.facade=q,c(q,se,te),te},P=function(q){return d(q,se)?q[se]:{}},A=function(q){return d(q,se)}}e.exports={set:D,get:P,has:A,enforce:U,getterFor:M}},{"../internals/create-non-enumerable-property":10,"../internals/global":23,"../internals/has":24,"../internals/hidden-keys":25,"../internals/is-object":33,"../internals/native-weak-map":36,"../internals/shared-key":52,"../internals/shared-store":53}],31:[function(n,e,i){var s=n("../internals/classof-raw");e.exports=Array.isArray||function(l){return s(l)=="Array"}},{"../internals/classof-raw":7}],32:[function(n,e,i){var s=n("../internals/fails"),o=/#|\.prototype\./,l=function(v,E){var C=d[c(v)];return C==p?!0:C==m?!1:typeof E=="function"?s(E):!!E},c=l.normalize=function(v){return String(v).replace(o,".").toLowerCase()},d=l.data={},m=l.NATIVE="N",p=l.POLYFILL="P";e.exports=l},{"../internals/fails":19}],33:[function(n,e,i){e.exports=function(s){return typeof s=="object"?s!==null:typeof s=="function"}},{}],34:[function(n,e,i){e.exports=!1},{}],35:[function(n,e,i){var s=n("../internals/engine-is-node"),o=n("../internals/engine-v8-version"),l=n("../internals/fails");e.exports=!!Object.getOwnPropertySymbols&&!l(function(){return!Symbol.sham&&(s?o===38:o>37&&o<41)})},{"../internals/engine-is-node":14,"../internals/engine-v8-version":16,"../internals/fails":19}],36:[function(n,e,i){var s=n("../internals/global"),o=n("../internals/inspect-source"),l=s.WeakMap;e.exports=typeof l=="function"&&/native code/.test(o(l))},{"../internals/global":23,"../internals/inspect-source":29}],37:[function(n,e,i){var s=n("../internals/an-object"),o=n("../internals/object-define-properties"),l=n("../internals/enum-bug-keys"),c=n("../internals/hidden-keys"),d=n("../internals/html"),m=n("../internals/document-create-element"),p=n("../internals/shared-key"),v=">",E="<",C="prototype",D="script",P=p("IE_PROTO"),A=function(){},U=function(Q){return E+D+v+Q+E+"/"+D+v},M=function(Q){Q.write(U("")),Q.close();var se=Q.parentWindow.Object;return Q=null,se},B=function(){var Q=m("iframe"),se="java"+D+":",q;return Q.style.display="none",d.appendChild(Q),Q.src=String(se),q=Q.contentWindow.document,q.open(),q.write(U("document.F=Object")),q.close(),q.F},L,H=function(){try{L=document.domain&&new ActiveXObject("htmlfile")}catch{}H=L?M(L):B();for(var Q=l.length;Q--;)delete H[C][l[Q]];return H()};c[P]=!0,e.exports=Object.create||function(se,q){var te;return se!==null?(A[C]=s(se),te=new A,A[C]=null,te[P]=se):te=H(),q===void 0?te:o(te,q)}},{"../internals/an-object":2,"../internals/document-create-element":13,"../internals/enum-bug-keys":17,"../internals/hidden-keys":25,"../internals/html":26,"../internals/object-define-properties":38,"../internals/shared-key":52}],38:[function(n,e,i){var s=n("../internals/descriptors"),o=n("../internals/object-define-property"),l=n("../internals/an-object"),c=n("../internals/object-keys");e.exports=s?Object.defineProperties:function(m,p){l(m);for(var v=c(p),E=v.length,C=0,D;E>C;)o.f(m,D=v[C++],p[D]);return m}},{"../internals/an-object":2,"../internals/descriptors":12,"../internals/object-define-property":39,"../internals/object-keys":45}],39:[function(n,e,i){var s=n("../internals/descriptors"),o=n("../internals/ie8-dom-define"),l=n("../internals/an-object"),c=n("../internals/to-primitive"),d=Object.defineProperty;i.f=s?d:function(p,v,E){if(l(p),v=c(v,!0),l(E),o)try{return d(p,v,E)}catch{}if("get"in E||"set"in E)throw TypeError("Accessors not supported");return"value"in E&&(p[v]=E.value),p}},{"../internals/an-object":2,"../internals/descriptors":12,"../internals/ie8-dom-define":27,"../internals/to-primitive":60}],40:[function(n,e,i){var s=n("../internals/descriptors"),o=n("../internals/object-property-is-enumerable"),l=n("../internals/create-property-descriptor"),c=n("../internals/to-indexed-object"),d=n("../internals/to-primitive"),m=n("../internals/has"),p=n("../internals/ie8-dom-define"),v=Object.getOwnPropertyDescriptor;i.f=s?v:function(C,D){if(C=c(C),D=d(D,!0),p)try{return v(C,D)}catch{}if(m(C,D))return l(!o.f.call(C,D),C[D])}},{"../internals/create-property-descriptor":11,"../internals/descriptors":12,"../internals/has":24,"../internals/ie8-dom-define":27,"../internals/object-property-is-enumerable":46,"../internals/to-indexed-object":56,"../internals/to-primitive":60}],41:[function(n,e,i){var s=n("../internals/object-keys-internal"),o=n("../internals/enum-bug-keys"),l=o.concat("length","prototype");i.f=Object.getOwnPropertyNames||function(d){return s(d,l)}},{"../internals/enum-bug-keys":17,"../internals/object-keys-internal":44}],42:[function(n,e,i){i.f=Object.getOwnPropertySymbols},{}],43:[function(n,e,i){var s=n("../internals/has"),o=n("../internals/to-object"),l=n("../internals/shared-key"),c=n("../internals/correct-prototype-getter"),d=l("IE_PROTO"),m=Object.prototype;e.exports=c?Object.getPrototypeOf:function(p){return p=o(p),s(p,d)?p[d]:typeof p.constructor=="function"&&p instanceof p.constructor?p.constructor.prototype:p instanceof Object?m:null}},{"../internals/correct-prototype-getter":9,"../internals/has":24,"../internals/shared-key":52,"../internals/to-object":59}],44:[function(n,e,i){var s=n("../internals/has"),o=n("../internals/to-indexed-object"),l=n("../internals/array-includes").indexOf,c=n("../internals/hidden-keys");e.exports=function(d,m){var p=o(d),v=0,E=[],C;for(C in p)!s(c,C)&&s(p,C)&&E.push(C);for(;m.length>v;)s(p,C=m[v++])&&(~l(E,C)||E.push(C));return E}},{"../internals/array-includes":3,"../internals/has":24,"../internals/hidden-keys":25,"../internals/to-indexed-object":56}],45:[function(n,e,i){var s=n("../internals/object-keys-internal"),o=n("../internals/enum-bug-keys");e.exports=Object.keys||function(c){return s(c,o)}},{"../internals/enum-bug-keys":17,"../internals/object-keys-internal":44}],46:[function(n,e,i){var s={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,l=o&&!s.call({1:2},1);i.f=l?function(d){var m=o(this,d);return!!m&&m.enumerable}:s},{}],47:[function(n,e,i){var s=n("../internals/get-built-in"),o=n("../internals/object-get-own-property-names"),l=n("../internals/object-get-own-property-symbols"),c=n("../internals/an-object");e.exports=s("Reflect","ownKeys")||function(m){var p=o.f(c(m)),v=l.f;return v?p.concat(v(m)):p}},{"../internals/an-object":2,"../internals/get-built-in":22,"../internals/object-get-own-property-names":41,"../internals/object-get-own-property-symbols":42}],48:[function(n,e,i){var s=n("../internals/global");e.exports=s},{"../internals/global":23}],49:[function(n,e,i){var s=n("../internals/global"),o=n("../internals/create-non-enumerable-property"),l=n("../internals/has"),c=n("../internals/set-global"),d=n("../internals/inspect-source"),m=n("../internals/internal-state"),p=m.get,v=m.enforce,E=String(String).split("String");(e.exports=function(C,D,P,A){var U=A?!!A.unsafe:!1,M=A?!!A.enumerable:!1,B=A?!!A.noTargetGet:!1,L;if(typeof P=="function"&&(typeof D=="string"&&!l(P,"name")&&o(P,"name",D),L=v(P),L.source||(L.source=E.join(typeof D=="string"?D:""))),C===s){M?C[D]=P:c(D,P);return}else U?!B&&C[D]&&(M=!0):delete C[D];M?C[D]=P:o(C,D,P)})(Function.prototype,"toString",function(){return typeof this=="function"&&p(this).source||d(this)})},{"../internals/create-non-enumerable-property":10,"../internals/global":23,"../internals/has":24,"../internals/inspect-source":29,"../internals/internal-state":30,"../internals/set-global":51}],50:[function(n,e,i){e.exports=function(s){if(s==null)throw TypeError("Can't call method on "+s);return s}},{}],51:[function(n,e,i){var s=n("../internals/global"),o=n("../internals/create-non-enumerable-property");e.exports=function(l,c){try{o(s,l,c)}catch{s[l]=c}return c}},{"../internals/create-non-enumerable-property":10,"../internals/global":23}],52:[function(n,e,i){var s=n("../internals/shared"),o=n("../internals/uid"),l=s("keys");e.exports=function(c){return l[c]||(l[c]=o(c))}},{"../internals/shared":54,"../internals/uid":61}],53:[function(n,e,i){var s=n("../internals/global"),o=n("../internals/set-global"),l="__core-js_shared__",c=s[l]||o(l,{});e.exports=c},{"../internals/global":23,"../internals/set-global":51}],54:[function(n,e,i){var s=n("../internals/is-pure"),o=n("../internals/shared-store");(e.exports=function(l,c){return o[l]||(o[l]=c!==void 0?c:{})})("versions",[]).push({version:"3.11.0",mode:s?"pure":"global",copyright:" 2021 Denis Pushkarev (zloirock.ru)"})},{"../internals/is-pure":34,"../internals/shared-store":53}],55:[function(n,e,i){var s=n("../internals/to-integer"),o=Math.max,l=Math.min;e.exports=function(c,d){var m=s(c);return m<0?o(m+d,0):l(m,d)}},{"../internals/to-integer":57}],56:[function(n,e,i){var s=n("../internals/indexed-object"),o=n("../internals/require-object-coercible");e.exports=function(l){return s(o(l))}},{"../internals/indexed-object":28,"../internals/require-object-coercible":50}],57:[function(n,e,i){var s=Math.ceil,o=Math.floor;e.exports=function(l){return isNaN(l=+l)?0:(l>0?o:s)(l)}},{}],58:[function(n,e,i){var s=n("../internals/to-integer"),o=Math.min;e.exports=function(l){return l>0?o(s(l),9007199254740991):0}},{"../internals/to-integer":57}],59:[function(n,e,i){var s=n("../internals/require-object-coercible");e.exports=function(o){return Object(s(o))}},{"../internals/require-object-coercible":50}],60:[function(n,e,i){var s=n("../internals/is-object");e.exports=function(o,l){if(!s(o))return o;var c,d;if(l&&typeof(c=o.toString)=="function"&&!s(d=c.call(o))||typeof(c=o.valueOf)=="function"&&!s(d=c.call(o))||!l&&typeof(c=o.toString)=="function"&&!s(d=c.call(o)))return d;throw TypeError("Can't convert object to primitive value")}},{"../internals/is-object":33}],61:[function(n,e,i){var s=0,o=Math.random();e.exports=function(l){return"Symbol("+String(l===void 0?"":l)+")_"+(++s+o).toString(36)}},{}],62:[function(n,e,i){var s=n("../internals/native-symbol");e.exports=s&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},{"../internals/native-symbol":35}],63:[function(n,e,i){var s=n("../internals/global"),o=n("../internals/shared"),l=n("../internals/has"),c=n("../internals/uid"),d=n("../internals/native-symbol"),m=n("../internals/use-symbol-as-uid"),p=o("wks"),v=s.Symbol,E=m?v:v&&v.withoutSetter||c;e.exports=function(C){return(!l(p,C)||!(d||typeof p[C]=="string"))&&(d&&l(v,C)?p[C]=v[C]:p[C]=E("Symbol."+C)),p[C]}},{"../internals/global":23,"../internals/has":24,"../internals/native-symbol":35,"../internals/shared":54,"../internals/uid":61,"../internals/use-symbol-as-uid":62}],64:[function(n,e,i){var s=n("../internals/export"),o=n("../internals/array-iteration").map,l=n("../internals/array-method-has-species-support"),c=l("map");s({target:"Array",proto:!0,forced:!c},{map:function(m){return o(this,m,arguments.length>1?arguments[1]:void 0)}})},{"../internals/array-iteration":4,"../internals/array-method-has-species-support":5,"../internals/export":18}],65:[function(n,e,i){var s=n("../internals/export"),o=n("../internals/get-built-in"),l=n("../internals/a-function"),c=n("../internals/an-object"),d=n("../internals/is-object"),m=n("../internals/object-create"),p=n("../internals/function-bind"),v=n("../internals/fails"),E=o("Reflect","construct"),C=v(function(){function A(){}return!(E(function(){},[],A)instanceof A)}),D=!v(function(){E(function(){})}),P=C||D;s({target:"Reflect",stat:!0,forced:P,sham:P},{construct:function(U,M){l(U),c(M);var B=arguments.length<3?U:l(arguments[2]);if(D&&!C)return E(U,M,B);if(U==B){switch(M.length){case 0:return new U;case 1:return new U(M[0]);case 2:return new U(M[0],M[1]);case 3:return new U(M[0],M[1],M[2]);case 4:return new U(M[0],M[1],M[2],M[3])}var L=[null];return L.push.apply(L,M),new(p.apply(U,L))}var H=B.prototype,Q=m(d(H)?H:Object.prototype),se=Function.apply.call(U,Q,M);return d(se)?se:Q}})},{"../internals/a-function":1,"../internals/an-object":2,"../internals/export":18,"../internals/fails":19,"../internals/function-bind":21,"../internals/get-built-in":22,"../internals/is-object":33,"../internals/object-create":37}],66:[function(n,e,i){var s=n("../internals/export"),o=n("../internals/is-object"),l=n("../internals/an-object"),c=n("../internals/has"),d=n("../internals/object-get-own-property-descriptor"),m=n("../internals/object-get-prototype-of");function p(v,E){var C=arguments.length<3?v:arguments[2],D,P;if(l(v)===C)return v[E];if(D=d.f(v,E))return c(D,"value")?D.value:D.get===void 0?void 0:D.get.call(C);if(o(P=m(v)))return p(P,E,C)}s({target:"Reflect",stat:!0},{get:p})},{"../internals/an-object":2,"../internals/export":18,"../internals/has":24,"../internals/is-object":33,"../internals/object-get-own-property-descriptor":40,"../internals/object-get-prototype-of":43}],67:[function(n,e,i){(function(s){(function(){(function(o,l){typeof i=="object"&&typeof e<"u"?e.exports=l():(o=typeof globalThis<"u"?globalThis:o||self,(function(){var c=o._,d=o._=l();d.noConflict=function(){return o._=c,d}})())})(this,(function(){var o="1.13.1",l=typeof self=="object"&&self.self===self&&self||typeof s=="object"&&s.global===s&&s||Function("return this")()||{},c=Array.prototype,d=Object.prototype,m=typeof Symbol<"u"?Symbol.prototype:null,p=c.push,v=c.slice,E=d.toString,C=d.hasOwnProperty,D=typeof ArrayBuffer<"u",P=typeof DataView<"u",A=Array.isArray,U=Object.keys,M=Object.create,B=D&&ArrayBuffer.isView,L=isNaN,H=isFinite,Q=!{toString:null}.propertyIsEnumerable("toString"),se=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],q=Math.pow(2,53)-1;function te(R,z){return z=z==null?R.length-1:+z,function(){for(var Y=Math.max(arguments.length-z,0),ne=Array(Y),ye=0;ye<Y;ye++)ne[ye]=arguments[ye+z];switch(z){case 0:return R.call(this,ne);case 1:return R.call(this,arguments[0],ne);case 2:return R.call(this,arguments[0],arguments[1],ne)}var me=Array(z+1);for(ye=0;ye<z;ye++)me[ye]=arguments[ye];return me[z]=ne,R.apply(this,me)}}function I(R){var z=typeof R;return z==="function"||z==="object"&&!!R}function j(R){return R===null}function ge(R){return R===void 0}function de(R){return R===!0||R===!1||E.call(R)==="[object Boolean]"}function ie(R){return!!(R&&R.nodeType===1)}function fe(R){var z="[object "+R+"]";return function(Y){return E.call(Y)===z}}var Re=fe("String"),be=fe("Number"),ve=fe("Date"),Te=fe("RegExp"),De=fe("Error"),ke=fe("Symbol"),le=fe("ArrayBuffer"),Be=fe("Function"),Ge=l.document&&l.document.childNodes;typeof/./!="function"&&typeof Int8Array!="object"&&typeof Ge!="function"&&(Be=function(R){return typeof R=="function"||!1});var Pe=Be,Qe=fe("Object"),Zt=P&&Qe(new DataView(new ArrayBuffer(8))),gt=typeof Map<"u"&&Qe(new Map),It=fe("DataView");function Gt(R){return R!=null&&Pe(R.getInt8)&&le(R.buffer)}var an=Zt?Gt:It,je=A||fe("Array");function Xe(R,z){return R!=null&&C.call(R,z)}var tt=fe("Arguments");(function(){tt(arguments)||(tt=function(R){return Xe(R,"callee")})})();var st=tt;function Wt(R){return!ke(R)&&H(R)&&!isNaN(parseFloat(R))}function Ke(R){return be(R)&&L(R)}function Kn(R){return function(){return R}}function yn(R){return function(z){var Y=R(z);return typeof Y=="number"&&Y>=0&&Y<=q}}function Vn(R){return function(z){return z?.[R]}}var Ze=Vn("byteLength"),Xt=yn(Ze),Lt=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;function Jn(R){return B?B(R)&&!an(R):Xt(R)&&Lt.test(E.call(R))}var Ri=D?Jn:Kn(!1),kn=Vn("length");function Gr(R){for(var z={},Y=R.length,ne=0;ne<Y;++ne)z[R[ne]]=!0;return{contains:function(ye){return z[ye]},push:function(ye){return z[ye]=!0,R.push(ye)}}}function nr(R,z){z=Gr(z);var Y=se.length,ne=R.constructor,ye=Pe(ne)&&ne.prototype||d,me="constructor";for(Xe(R,me)&&!z.contains(me)&&z.push(me);Y--;)me=se[Y],me in R&&R[me]!==ye[me]&&!z.contains(me)&&z.push(me)}function Ht(R){if(!I(R))return[];if(U)return U(R);var z=[];for(var Y in R)Xe(R,Y)&&z.push(Y);return Q&&nr(R,z),z}function Eo(R){if(R==null)return!0;var z=kn(R);return typeof z=="number"&&(je(R)||Re(R)||st(R))?z===0:kn(Ht(R))===0}function ta(R,z){var Y=Ht(z),ne=Y.length;if(R==null)return!ne;for(var ye=Object(R),me=0;me<ne;me++){var Me=Y[me];if(z[Me]!==ye[Me]||!(Me in ye))return!1}return!0}function Ct(R){if(R instanceof Ct)return R;if(!(this instanceof Ct))return new Ct(R);this._wrapped=R}Ct.VERSION=o,Ct.prototype.value=function(){return this._wrapped},Ct.prototype.valueOf=Ct.prototype.toJSON=Ct.prototype.value,Ct.prototype.toString=function(){return String(this._wrapped)};function Pt(R){return new Uint8Array(R.buffer||R,R.byteOffset||0,Ze(R))}var bs="[object DataView]";function Dr(R,z,Y,ne){if(R===z)return R!==0||1/R===1/z;if(R==null||z==null)return!1;if(R!==R)return z!==z;var ye=typeof R;return ye!=="function"&&ye!=="object"&&typeof z!="object"?!1:Ca(R,z,Y,ne)}function Ca(R,z,Y,ne){R instanceof Ct&&(R=R._wrapped),z instanceof Ct&&(z=z._wrapped);var ye=E.call(R);if(ye!==E.call(z))return!1;if(Zt&&ye=="[object Object]"&&an(R)){if(!an(z))return!1;ye=bs}switch(ye){case"[object RegExp]":case"[object String]":return""+R==""+z;case"[object Number]":return+R!=+R?+z!=+z:+R==0?1/+R===1/z:+R==+z;case"[object Date]":case"[object Boolean]":return+R==+z;case"[object Symbol]":return m.valueOf.call(R)===m.valueOf.call(z);case"[object ArrayBuffer]":case bs:return Ca(Pt(R),Pt(z),Y,ne)}var me=ye==="[object Array]";if(!me&&Ri(R)){var Me=Ze(R);if(Me!==Ze(z))return!1;if(R.buffer===z.buffer&&R.byteOffset===z.byteOffset)return!0;me=!0}if(!me){if(typeof R!="object"||typeof z!="object")return!1;var Fe=R.constructor,dt=z.constructor;if(Fe!==dt&&!(Pe(Fe)&&Fe instanceof Fe&&Pe(dt)&&dt instanceof dt)&&"constructor"in R&&"constructor"in z)return!1}Y=Y||[],ne=ne||[];for(var at=Y.length;at--;)if(Y[at]===R)return ne[at]===z;if(Y.push(R),ne.push(z),me){if(at=R.length,at!==z.length)return!1;for(;at--;)if(!Dr(R[at],z[at],Y,ne))return!1}else{var Vt=Ht(R),fn;if(at=Vt.length,Ht(z).length!==at)return!1;for(;at--;)if(fn=Vt[at],!(Xe(z,fn)&&Dr(R[fn],z[fn],Y,ne)))return!1}return Y.pop(),ne.pop(),!0}function Da(R,z){return Dr(R,z)}function Ar(R){if(!I(R))return[];var z=[];for(var Y in R)z.push(Y);return Q&&nr(R,z),z}function ir(R){var z=kn(R);return function(Y){if(Y==null)return!1;var ne=Ar(Y);if(kn(ne))return!1;for(var ye=0;ye<z;ye++)if(!Pe(Y[R[ye]]))return!1;return R!==K||!Pe(Y[ys])}}var ys="forEach",rr="has",Fi=["clear","delete"],V=["get",rr,"set"],$=Fi.concat(ys,V),K=Fi.concat(V),Se=["add"].concat(Fi,ys,rr),Ue=gt?ir($):fe("Map"),et=gt?ir(K):fe("WeakMap"),$t=gt?ir(Se):fe("Set"),ei=fe("WeakSet");function vn(R){for(var z=Ht(R),Y=z.length,ne=Array(Y),ye=0;ye<Y;ye++)ne[ye]=R[z[ye]];return ne}function zi(R){for(var z=Ht(R),Y=z.length,ne=Array(Y),ye=0;ye<Y;ye++)ne[ye]=[z[ye],R[z[ye]]];return ne}function Cn(R){for(var z={},Y=Ht(R),ne=0,ye=Y.length;ne<ye;ne++)z[R[Y[ne]]]=Y[ne];return z}function on(R){var z=[];for(var Y in R)Pe(R[Y])&&z.push(Y);return z.sort()}function Ti(R,z){return function(Y){var ne=arguments.length;if(z&&(Y=Object(Y)),ne<2||Y==null)return Y;for(var ye=1;ye<ne;ye++)for(var me=arguments[ye],Me=R(me),Fe=Me.length,dt=0;dt<Fe;dt++){var at=Me[dt];(!z||Y[at]===void 0)&&(Y[at]=me[at])}return Y}}var hn=Ti(Ar),ti=Ti(Ht),sr=Ti(Ar,!0);function Hi(){return function(){}}function _t(R){if(!I(R))return{};if(M)return M(R);var z=Hi();z.prototype=R;var Y=new z;return z.prototype=null,Y}function vs(R,z){var Y=_t(R);return z&&ti(Y,z),Y}function Et(R){return I(R)?je(R)?R.slice():hn({},R):R}function No(R,z){return z(R),R}function na(R){return je(R)?R:[R]}Ct.toPath=na;function Xr(R){return Ct.toPath(R)}function _l(R,z){for(var Y=z.length,ne=0;ne<Y;ne++){if(R==null)return;R=R[z[ne]]}return Y?R:void 0}function $i(R,z,Y){var ne=_l(R,Xr(z));return ge(ne)?Y:ne}function nn(R,z){z=Xr(z);for(var Y=z.length,ne=0;ne<Y;ne++){var ye=z[ne];if(!Xe(R,ye))return!1;R=R[ye]}return!!Y}function Co(R){return R}function Yr(R){return R=ti({},R),function(z){return ta(z,R)}}function xl(R){return R=Xr(R),function(z){return _l(z,R)}}function Aa(R,z,Y){if(z===void 0)return R;switch(Y??3){case 1:return function(ne){return R.call(z,ne)};case 3:return function(ne,ye,me){return R.call(z,ne,ye,me)};case 4:return function(ne,ye,me,Me){return R.call(z,ne,ye,me,Me)}}return function(){return R.apply(z,arguments)}}function ki(R,z,Y){return R==null?Co:Pe(R)?Aa(R,z,Y):I(R)&&!je(R)?Yr(R):xl(R)}function Qr(R,z){return ki(R,z,1/0)}Ct.iteratee=Qr;function _n(R,z,Y){return Ct.iteratee!==Qr?Ct.iteratee(R,z):ki(R,z,Y)}function Tl(R,z,Y){z=_n(z,Y);for(var ne=Ht(R),ye=ne.length,me={},Me=0;Me<ye;Me++){var Fe=ne[Me];me[Fe]=z(R[Fe],Fe,R)}return me}function ia(){}function Sl(R){return R==null?ia:function(z){return $i(R,z)}}function ju(R,z,Y){var ne=Array(Math.max(0,R));z=Aa(z,Y,1);for(var ye=0;ye<R;ye++)ne[ye]=z(ye);return ne}function wr(R,z){return z==null&&(z=R,R=0),R+Math.floor(Math.random()*(z-R+1))}var qi=Date.now||function(){return new Date().getTime()};function Do(R){var z=function(me){return R[me]},Y="(?:"+Ht(R).join("|")+")",ne=RegExp(Y),ye=RegExp(Y,"g");return function(me){return me=me==null?"":""+me,ne.test(me)?me.replace(ye,z):me}}var wa={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},Ao=Do(wa),Ra=Cn(wa),ra=Do(Ra),Uu=Ct.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g},wo=/(.)^/,rd={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},sd=/\\|'|\r|\n|\u2028|\u2029/g;function _s(R){return"\\"+rd[R]}var Ro=/^\s*(\w|\$)+\s*$/;function Vu(R,z,Y){!z&&Y&&(z=Y),z=sr({},z,Ct.templateSettings);var ne=RegExp([(z.escape||wo).source,(z.interpolate||wo).source,(z.evaluate||wo).source].join("|")+"|$","g"),ye=0,me="__p+='";R.replace(ne,function(at,Vt,fn,Fa,Il){return me+=R.slice(ye,Il).replace(sd,_s),ye=Il+at.length,Vt?me+=`'+
((__t=(`+Vt+`))==null?'':_.escape(__t))+
'`:fn?me+=`'+
((__t=(`+fn+`))==null?'':__t)+
'`:Fa&&(me+=`';
`+Fa+`
__p+='`),at}),me+=`';
`;var Me=z.variable;if(Me){if(!Ro.test(Me))throw new Error("variable is not a bare identifier: "+Me)}else me=`with(obj||{}){
`+me+`}
`,Me="obj";me=`var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};
`+me+`return __p;
`;var Fe;try{Fe=new Function(Me,"_",me)}catch(at){throw at.source=me,at}var dt=function(at){return Fe.call(this,at,Ct)};return dt.source="function("+Me+`){
`+me+"}",dt}function ka(R,z,Y){z=Xr(z);var ne=z.length;if(!ne)return Pe(Y)?Y.call(R):Y;for(var ye=0;ye<ne;ye++){var me=R?.[z[ye]];me===void 0&&(me=Y,ye=ne),R=Pe(me)?me.call(R):me}return R}var sa=0;function ar(R){var z=++sa+"";return R?R+z:z}function ad(R){var z=Ct(R);return z._chain=!0,z}function Oa(R,z,Y,ne,ye){if(!(ne instanceof z))return R.apply(Y,ye);var me=_t(R.prototype),Me=R.apply(me,ye);return I(Me)?Me:me}var Oi=te(function(R,z){var Y=Oi.placeholder,ne=function(){for(var ye=0,me=z.length,Me=Array(me),Fe=0;Fe<me;Fe++)Me[Fe]=z[Fe]===Y?arguments[ye++]:z[Fe];for(;ye<arguments.length;)Me.push(arguments[ye++]);return Oa(R,ne,this,this,Me)};return ne});Oi.placeholder=Ct;var Ma=te(function(R,z,Y){if(!Pe(R))throw new TypeError("Bind must be called on a function");var ne=te(function(ye){return Oa(R,ne,z,this,Y.concat(ye))});return ne}),Fn=yn(kn);function Zr(R,z,Y,ne){if(ne=ne||[],!z&&z!==0)z=1/0;else if(z<=0)return ne.concat(R);for(var ye=ne.length,me=0,Me=kn(R);me<Me;me++){var Fe=R[me];if(Fn(Fe)&&(je(Fe)||st(Fe)))if(z>1)Zr(Fe,z-1,Y,ne),ye=ne.length;else for(var dt=0,at=Fe.length;dt<at;)ne[ye++]=Fe[dt++];else Y||(ne[ye++]=Fe)}return ne}var od=te(function(R,z){z=Zr(z,!1,!1);var Y=z.length;if(Y<1)throw new Error("bindAll must be passed function names");for(;Y--;){var ne=z[Y];R[ne]=Ma(R[ne],R)}return R});function Fu(R,z){var Y=function(ne){var ye=Y.cache,me=""+(z?z.apply(this,arguments):ne);return Xe(ye,me)||(ye[me]=R.apply(this,arguments)),ye[me]};return Y.cache={},Y}var Ia=te(function(R,z,Y){return setTimeout(function(){return R.apply(null,Y)},z)}),Wr=Oi(Ia,Ct,1);function zu(R,z,Y){var ne,ye,me,Me,Fe=0;Y||(Y={});var dt=function(){Fe=Y.leading===!1?0:qi(),ne=null,Me=R.apply(ye,me),ne||(ye=me=null)},at=function(){var Vt=qi();!Fe&&Y.leading===!1&&(Fe=Vt);var fn=z-(Vt-Fe);return ye=this,me=arguments,fn<=0||fn>z?(ne&&(clearTimeout(ne),ne=null),Fe=Vt,Me=R.apply(ye,me),ne||(ye=me=null)):!ne&&Y.trailing!==!1&&(ne=setTimeout(dt,fn)),Me};return at.cancel=function(){clearTimeout(ne),Fe=0,ne=ye=me=null},at}function ko(R,z,Y){var ne,ye,me,Me,Fe,dt=function(){var Vt=qi()-ye;z>Vt?ne=setTimeout(dt,z-Vt):(ne=null,Y||(Me=R.apply(Fe,me)),ne||(me=Fe=null))},at=te(function(Vt){return Fe=this,me=Vt,ye=qi(),ne||(ne=setTimeout(dt,z),Y&&(Me=R.apply(Fe,me))),Me});return at.cancel=function(){clearTimeout(ne),ne=me=Fe=null},at}function Hu(R,z){return Oi(z,R)}function aa(R){return function(){return!R.apply(this,arguments)}}function $u(){var R=arguments,z=R.length-1;return function(){for(var Y=z,ne=R[z].apply(this,arguments);Y--;)ne=R[Y].call(this,ne);return ne}}function El(R,z){return function(){if(--R<1)return z.apply(this,arguments)}}function La(R,z){var Y;return function(){return--R>0&&(Y=z.apply(this,arguments)),R<=1&&(z=null),Y}}var ld=Oi(La,2);function Qn(R,z,Y){z=_n(z,Y);for(var ne=Ht(R),ye,me=0,Me=ne.length;me<Me;me++)if(ye=ne[me],z(R[ye],ye,R))return ye}function Oo(R){return function(z,Y,ne){Y=_n(Y,ne);for(var ye=kn(z),me=R>0?0:ye-1;me>=0&&me<ye;me+=R)if(Y(z[me],me,z))return me;return-1}}var Pa=Oo(1),qu=Oo(-1);function Gu(R,z,Y,ne){Y=_n(Y,ne,1);for(var ye=Y(z),me=0,Me=kn(R);me<Me;){var Fe=Math.floor((me+Me)/2);Y(R[Fe])<ye?me=Fe+1:Me=Fe}return me}function Xu(R,z,Y){return function(ne,ye,me){var Me=0,Fe=kn(ne);if(typeof me=="number")R>0?Me=me>=0?me:Math.max(me+Fe,Me):Fe=me>=0?Math.min(me+1,Fe):me+Fe+1;else if(Y&&me&&Fe)return me=Y(ne,ye),ne[me]===ye?me:-1;if(ye!==ye)return me=z(v.call(ne,Me,Fe),Ke),me>=0?me+Me:-1;for(me=R>0?Me:Fe-1;me>=0&&me<Fe;me+=R)if(ne[me]===ye)return me;return-1}}var Yu=Xu(1,Pa,Gu),ud=Xu(-1,qu);function Nl(R,z,Y){var ne=Fn(R)?Pa:Qn,ye=ne(R,z,Y);if(ye!==void 0&&ye!==-1)return R[ye]}function cd(R,z){return Nl(R,Yr(z))}function Kr(R,z,Y){z=Aa(z,Y);var ne,ye;if(Fn(R))for(ne=0,ye=R.length;ne<ye;ne++)z(R[ne],ne,R);else{var me=Ht(R);for(ne=0,ye=me.length;ne<ye;ne++)z(R[me[ne]],me[ne],R)}return R}function Rr(R,z,Y){z=_n(z,Y);for(var ne=!Fn(R)&&Ht(R),ye=(ne||R).length,me=Array(ye),Me=0;Me<ye;Me++){var Fe=ne?ne[Me]:Me;me[Me]=z(R[Fe],Fe,R)}return me}function Qu(R){var z=function(Y,ne,ye,me){var Me=!Fn(Y)&&Ht(Y),Fe=(Me||Y).length,dt=R>0?0:Fe-1;for(me||(ye=Y[Me?Me[dt]:dt],dt+=R);dt>=0&&dt<Fe;dt+=R){var at=Me?Me[dt]:dt;ye=ne(ye,Y[at],at,Y)}return ye};return function(Y,ne,ye,me){var Me=arguments.length>=3;return z(Y,Aa(ne,me,4),ye,Me)}}var Cl=Qu(1),Zu=Qu(-1);function xs(R,z,Y){var ne=[];return z=_n(z,Y),Kr(R,function(ye,me,Me){z(ye,me,Me)&&ne.push(ye)}),ne}function uf(R,z,Y){return xs(R,aa(_n(z)),Y)}function Wu(R,z,Y){z=_n(z,Y);for(var ne=!Fn(R)&&Ht(R),ye=(ne||R).length,me=0;me<ye;me++){var Me=ne?ne[me]:me;if(!z(R[Me],Me,R))return!1}return!0}function Mo(R,z,Y){z=_n(z,Y);for(var ne=!Fn(R)&&Ht(R),ye=(ne||R).length,me=0;me<ye;me++){var Me=ne?ne[me]:me;if(z(R[Me],Me,R))return!0}return!1}function Jr(R,z,Y,ne){return Fn(R)||(R=vn(R)),(typeof Y!="number"||ne)&&(Y=0),Yu(R,z,Y)>=0}var Io=te(function(R,z,Y){var ne,ye;return Pe(z)?ye=z:(z=Xr(z),ne=z.slice(0,-1),z=z[z.length-1]),Rr(R,function(me){var Me=ye;if(!Me){if(ne&&ne.length&&(me=_l(me,ne)),me==null)return;Me=me[z]}return Me==null?Me:Me.apply(me,Y)})});function Dl(R,z){return Rr(R,xl(z))}function dd(R,z){return xs(R,Yr(z))}function Ku(R,z,Y){var ne=-1/0,ye=-1/0,me,Me;if(z==null||typeof z=="number"&&typeof R[0]!="object"&&R!=null){R=Fn(R)?R:vn(R);for(var Fe=0,dt=R.length;Fe<dt;Fe++)me=R[Fe],me!=null&&me>ne&&(ne=me)}else z=_n(z,Y),Kr(R,function(at,Vt,fn){Me=z(at,Vt,fn),(Me>ye||Me===-1/0&&ne===-1/0)&&(ne=at,ye=Me)});return ne}function Lo(R,z,Y){var ne=1/0,ye=1/0,me,Me;if(z==null||typeof z=="number"&&typeof R[0]!="object"&&R!=null){R=Fn(R)?R:vn(R);for(var Fe=0,dt=R.length;Fe<dt;Fe++)me=R[Fe],me!=null&&me<ne&&(ne=me)}else z=_n(z,Y),Kr(R,function(at,Vt,fn){Me=z(at,Vt,fn),(Me<ye||Me===1/0&&ne===1/0)&&(ne=at,ye=Me)});return ne}function Ts(R,z,Y){if(z==null||Y)return Fn(R)||(R=vn(R)),R[wr(R.length-1)];var ne=Fn(R)?Et(R):vn(R),ye=kn(ne);z=Math.max(Math.min(z,ye),0);for(var me=ye-1,Me=0;Me<z;Me++){var Fe=wr(Me,me),dt=ne[Me];ne[Me]=ne[Fe],ne[Fe]=dt}return ne.slice(0,z)}function Ba(R){return Ts(R,1/0)}function kr(R,z,Y){var ne=0;return z=_n(z,Y),Dl(Rr(R,function(ye,me,Me){return{value:ye,index:ne++,criteria:z(ye,me,Me)}}).sort(function(ye,me){var Me=ye.criteria,Fe=me.criteria;if(Me!==Fe){if(Me>Fe||Me===void 0)return 1;if(Me<Fe||Fe===void 0)return-1}return ye.index-me.index}),"value")}function On(R,z){return function(Y,ne,ye){var me=z?[[],[]]:{};return ne=_n(ne,ye),Kr(Y,function(Me,Fe){var dt=ne(Me,Fe,Y);R(me,Me,dt)}),me}}var zn=On(function(R,z,Y){Xe(R,Y)?R[Y].push(z):R[Y]=[z]}),Al=On(function(R,z,Y){R[Y]=z}),wl=On(function(R,z,Y){Xe(R,Y)?R[Y]++:R[Y]=1}),Or=On(function(R,z,Y){R[Y?0:1].push(z)},!0),hd=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function or(R){return R?je(R)?v.call(R):Re(R)?R.match(hd):Fn(R)?Rr(R,Co):vn(R):[]}function Mr(R){return R==null?0:Fn(R)?R.length:Ht(R).length}function Po(R,z,Y){return z in Y}var ja=te(function(R,z){var Y={},ne=z[0];if(R==null)return Y;Pe(ne)?(z.length>1&&(ne=Aa(ne,z[1])),z=Ar(R)):(ne=Po,z=Zr(z,!1,!1),R=Object(R));for(var ye=0,me=z.length;ye<me;ye++){var Me=z[ye],Fe=R[Me];ne(Fe,Me,R)&&(Y[Me]=Fe)}return Y}),Ua=te(function(R,z){var Y=z[0],ne;return Pe(Y)?(Y=aa(Y),z.length>1&&(ne=z[1])):(z=Rr(Zr(z,!1,!1),String),Y=function(ye,me){return!Jr(z,me)}),ja(R,Y,ne)});function Si(R,z,Y){return v.call(R,0,Math.max(0,R.length-(z==null||Y?1:z)))}function Va(R,z,Y){return R==null||R.length<1?z==null||Y?void 0:[]:z==null||Y?R[0]:Si(R,R.length-z)}function lr(R,z,Y){return v.call(R,z==null||Y?1:z)}function fd(R,z,Y){return R==null||R.length<1?z==null||Y?void 0:[]:z==null||Y?R[R.length-1]:lr(R,Math.max(0,R.length-z))}function md(R){return xs(R,Boolean)}function Rl(R,z){return Zr(R,z,!1)}var Ju=te(function(R,z){return z=Zr(z,!0,!0),xs(R,function(Y){return!Jr(z,Y)})}),pd=te(function(R,z){return Ju(R,z)});function Bo(R,z,Y,ne){de(z)||(ne=Y,Y=z,z=!1),Y!=null&&(Y=_n(Y,ne));for(var ye=[],me=[],Me=0,Fe=kn(R);Me<Fe;Me++){var dt=R[Me],at=Y?Y(dt,Me,R):dt;z&&!Y?((!Me||me!==at)&&ye.push(dt),me=at):Y?Jr(me,at)||(me.push(at),ye.push(dt)):Jr(ye,dt)||ye.push(dt)}return ye}var kl=te(function(R){return Bo(Zr(R,!0,!0))});function oa(R){for(var z=[],Y=arguments.length,ne=0,ye=kn(R);ne<ye;ne++){var me=R[ne];if(!Jr(z,me)){var Me;for(Me=1;Me<Y&&Jr(arguments[Me],me);Me++);Me===Y&&z.push(me)}}return z}function jo(R){for(var z=R&&Ku(R,kn).length||0,Y=Array(z),ne=0;ne<z;ne++)Y[ne]=Dl(R,ne);return Y}var ni=te(jo);function gd(R,z){for(var Y={},ne=0,ye=kn(R);ne<ye;ne++)z?Y[R[ne]]=z[ne]:Y[R[ne][0]]=R[ne][1];return Y}function Ol(R,z,Y){z==null&&(z=R||0,R=0),Y||(Y=z<R?-1:1);for(var ne=Math.max(Math.ceil((z-R)/Y),0),ye=Array(ne),me=0;me<ne;me++,R+=Y)ye[me]=R;return ye}function Ss(R,z){if(z==null||z<1)return[];for(var Y=[],ne=0,ye=R.length;ne<ye;)Y.push(v.call(R,ne,ne+=z));return Y}function la(R,z){return R._chain?Ct(z).chain():z}function ec(R){return Kr(on(R),function(z){var Y=Ct[z]=R[z];Ct.prototype[z]=function(){var ne=[this._wrapped];return p.apply(ne,arguments),la(this,Y.apply(Ct,ne))}}),Ct}Kr(["pop","push","reverse","shift","sort","splice","unshift"],function(R){var z=c[R];Ct.prototype[R]=function(){var Y=this._wrapped;return Y!=null&&(z.apply(Y,arguments),(R==="shift"||R==="splice")&&Y.length===0&&delete Y[0]),la(this,Y)}}),Kr(["concat","join","slice"],function(R){var z=c[R];Ct.prototype[R]=function(){var Y=this._wrapped;return Y!=null&&(Y=z.apply(Y,arguments)),la(this,Y)}});var bd={__proto__:null,VERSION:o,restArguments:te,isObject:I,isNull:j,isUndefined:ge,isBoolean:de,isElement:ie,isString:Re,isNumber:be,isDate:ve,isRegExp:Te,isError:De,isSymbol:ke,isArrayBuffer:le,isDataView:an,isArray:je,isFunction:Pe,isArguments:st,isFinite:Wt,isNaN:Ke,isTypedArray:Ri,isEmpty:Eo,isMatch:ta,isEqual:Da,isMap:Ue,isWeakMap:et,isSet:$t,isWeakSet:ei,keys:Ht,allKeys:Ar,values:vn,pairs:zi,invert:Cn,functions:on,methods:on,extend:hn,extendOwn:ti,assign:ti,defaults:sr,create:vs,clone:Et,tap:No,get:$i,has:nn,mapObject:Tl,identity:Co,constant:Kn,noop:ia,toPath:na,property:xl,propertyOf:Sl,matcher:Yr,matches:Yr,times:ju,random:wr,now:qi,escape:Ao,unescape:ra,templateSettings:Uu,template:Vu,result:ka,uniqueId:ar,chain:ad,iteratee:Qr,partial:Oi,bind:Ma,bindAll:od,memoize:Fu,delay:Ia,defer:Wr,throttle:zu,debounce:ko,wrap:Hu,negate:aa,compose:$u,after:El,before:La,once:ld,findKey:Qn,findIndex:Pa,findLastIndex:qu,sortedIndex:Gu,indexOf:Yu,lastIndexOf:ud,find:Nl,detect:Nl,findWhere:cd,each:Kr,forEach:Kr,map:Rr,collect:Rr,reduce:Cl,foldl:Cl,inject:Cl,reduceRight:Zu,foldr:Zu,filter:xs,select:xs,reject:uf,every:Wu,all:Wu,some:Mo,any:Mo,contains:Jr,includes:Jr,include:Jr,invoke:Io,pluck:Dl,where:dd,max:Ku,min:Lo,shuffle:Ba,sample:Ts,sortBy:kr,groupBy:zn,indexBy:Al,countBy:wl,partition:Or,toArray:or,size:Mr,pick:ja,omit:Ua,first:Va,head:Va,take:Va,initial:Si,last:fd,rest:lr,tail:lr,drop:lr,compact:md,flatten:Rl,without:pd,uniq:Bo,unique:Bo,union:kl,intersection:oa,difference:Ju,unzip:jo,transpose:jo,zip:ni,object:gd,range:Ol,chunk:Ss,mixin:ec,default:Ct},Ml=ec(bd);return Ml._=Ml,Ml}))}).call(this)}).call(this,typeof wu<"u"?wu:typeof self<"u"?self:typeof window<"u"?window:{})},{}],68:[function(n,e,i){n("core-js/modules/es.reflect.construct.js"),n("core-js/modules/es.reflect.get.js");function s(M,B){if(!(M instanceof B))throw new TypeError("Cannot call a class as a function")}function o(M,B){for(var L=0;L<B.length;L++){var H=B[L];H.enumerable=H.enumerable||!1,H.configurable=!0,"value"in H&&(H.writable=!0),Object.defineProperty(M,H.key,H)}}function l(M,B,L){return B&&o(M.prototype,B),Object.defineProperty(M,"prototype",{writable:!1}),M}function c(){return typeof Reflect<"u"&&Reflect.get?c=Reflect.get.bind():c=function(B,L,H){var Q=d(B,L);if(Q){var se=Object.getOwnPropertyDescriptor(Q,L);return se.get?se.get.call(arguments.length<3?B:H):se.value}},c.apply(this,arguments)}function d(M,B){for(;!Object.prototype.hasOwnProperty.call(M,B)&&(M=P(M),M!==null););return M}function m(M,B){if(typeof B!="function"&&B!==null)throw new TypeError("Super expression must either be null or a function");M.prototype=Object.create(B&&B.prototype,{constructor:{value:M,writable:!0,configurable:!0}}),Object.defineProperty(M,"prototype",{writable:!1}),B&&p(M,B)}function p(M,B){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(H,Q){return H.__proto__=Q,H},p(M,B)}function v(M){var B=D();return function(){var H=P(M),Q;if(B){var se=P(this).constructor;Q=Reflect.construct(H,arguments,se)}else Q=H.apply(this,arguments);return E(this,Q)}}function E(M,B){if(B&&(typeof B=="object"||typeof B=="function"))return B;if(B!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return C(M)}function C(M){if(M===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return M}function D(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function P(M){return P=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(L){return L.__proto__||Object.getPrototypeOf(L)},P(M)}var A=n("underscore"),U=n("../events");e.exports=function(M){var B=M.getComponent("MenuItem");return(function(L){m(Q,L);var H=v(Q);function Q(se,q){var te;s(this,Q);var I=q.source;if(!A.isObject(I))throw new Error('was not provided a "source" object, but rather: '+typeof I);return q=A.extend({selectable:!0,label:I.label},q),te=H.call(this,se,q),te.source=I,te}return l(Q,[{key:"handleClick",value:function(q){c(P(Q.prototype),"handleClick",this).call(this,q),this.player().trigger(U.QUALITY_REQUESTED,this.source)}}]),Q})(B)}},{"../events":70,"core-js/modules/es.reflect.construct.js":65,"core-js/modules/es.reflect.get.js":66,underscore:67}],69:[function(n,e,i){n("core-js/modules/es.reflect.construct.js"),n("core-js/modules/es.reflect.get.js"),n("core-js/modules/es.array.map.js");function s(L,H){if(!(L instanceof H))throw new TypeError("Cannot call a class as a function")}function o(L,H){for(var Q=0;Q<H.length;Q++){var se=H[Q];se.enumerable=se.enumerable||!1,se.configurable=!0,"value"in se&&(se.writable=!0),Object.defineProperty(L,se.key,se)}}function l(L,H,Q){return H&&o(L.prototype,H),Object.defineProperty(L,"prototype",{writable:!1}),L}function c(){return typeof Reflect<"u"&&Reflect.get?c=Reflect.get.bind():c=function(H,Q,se){var q=d(H,Q);if(q){var te=Object.getOwnPropertyDescriptor(q,Q);return te.get?te.get.call(arguments.length<3?H:se):te.value}},c.apply(this,arguments)}function d(L,H){for(;!Object.prototype.hasOwnProperty.call(L,H)&&(L=P(L),L!==null););return L}function m(L,H){if(typeof H!="function"&&H!==null)throw new TypeError("Super expression must either be null or a function");L.prototype=Object.create(H&&H.prototype,{constructor:{value:L,writable:!0,configurable:!0}}),Object.defineProperty(L,"prototype",{writable:!1}),H&&p(L,H)}function p(L,H){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(se,q){return se.__proto__=q,se},p(L,H)}function v(L){var H=D();return function(){var se=P(L),q;if(H){var te=P(this).constructor;q=Reflect.construct(se,arguments,te)}else q=se.apply(this,arguments);return E(this,q)}}function E(L,H){if(H&&(typeof H=="object"||typeof H=="function"))return H;if(H!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return C(L)}function C(L){if(L===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return L}function D(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function P(L){return P=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(Q){return Q.__proto__||Object.getPrototypeOf(Q)},P(L)}var A=n("underscore"),U=n("../events"),M=n("./QualityOption"),B="vjs-quality-changing";e.exports=function(L){var H=L.getComponent("MenuButton"),Q=M(L),se=(function(q){m(I,q);var te=v(I);function I(j,ge){var de;return s(this,I),de=te.call(this,j,ge),j.on(U.QUALITY_REQUESTED,(function(ie,fe){this.setSelectedSource(fe),j.addClass(B),j.one("loadeddata",function(){j.removeClass(B)})}).bind(C(de))),j.on(U.PLAYER_SOURCES_CHANGED,(function(){this.update()}).bind(C(de))),j.on(U.QUALITY_SELECTED,(function(ie,fe){this.setSelectedSource(fe)}).bind(C(de))),j.one("ready",(function(){this.selectedSrc=j.src(),this.update()}).bind(C(de))),de.controlText("Open quality selector menu"),de}return l(I,[{key:"setSelectedSource",value:function(ge){var de=ge?ge.src:void 0;this.selectedSrc!==de&&(this.selectedSrc=de,A.each(this.items,function(ie){ie.selected(ie.source.src===de)}))}},{key:"createItems",value:function(){var ge=this.player(),de=ge.currentSources();return!de||de.length<2?[]:A.map(de,(function(ie){return new Q(ge,{source:ie,selected:ie.src===this.selectedSrc})}).bind(this))}},{key:"buildWrapperCSSClass",value:function(){return"vjs-quality-selector "+c(P(I.prototype),"buildWrapperCSSClass",this).call(this)}}]),I})(H);return L.registerComponent("QualitySelector",se),se}},{"../events":70,"./QualityOption":68,"core-js/modules/es.array.map.js":64,"core-js/modules/es.reflect.construct.js":65,"core-js/modules/es.reflect.get.js":66,underscore:67}],70:[function(n,e,i){e.exports={QUALITY_REQUESTED:"qualityRequested",QUALITY_SELECTED:"qualitySelected",PLAYER_SOURCES_CHANGED:"playerSourcesChanged"}},{}],71:[function(n,e,i){var s=n("underscore"),o=n("./events"),l=n("./components/QualitySelector"),c=n("./middleware/SourceInterceptor"),d=n("./util/SafeSeek");e.exports=function(m){m=m||window.videojs,l(m),c(m),m.hook("setup",function(p){function v(E,C){var D=p.currentSources(),P=p.currentTime(),A=p.playbackRate(),U=p.paused(),M;s.each(D,function(B){B.selected=!1}),M=s.findWhere(D,{src:C.src}),M.selected=!0,p._qualitySelectorSafeSeek&&p._qualitySelectorSafeSeek.onQualitySelectionChange(),p.src(D),p.ready(function(){(!p._qualitySelectorSafeSeek||p._qualitySelectorSafeSeek.hasFinished())&&(p._qualitySelectorSafeSeek=new d(p,P),p.playbackRate(A)),U||p.play()})}p.on(o.QUALITY_REQUESTED,v)})},e.exports.EVENTS=o},{"./components/QualitySelector":69,"./events":70,"./middleware/SourceInterceptor":72,"./util/SafeSeek":74,underscore:67}],72:[function(n,e,i){var s=n("underscore"),o=n("../events");e.exports=function(l){l.use("*",function(c){return{setSource:function(m,p){var v=c.currentSources(),E,C;c._qualitySelectorSafeSeek&&c._qualitySelectorSafeSeek.onPlayerSourcesChange(),s.isEqual(v,c._qualitySelectorPreviousSources)||(c.trigger(o.PLAYER_SOURCES_CHANGED,v),c._qualitySelectorPreviousSources=v),E=s.find(v,function(D){return D.selected===!0||D.selected==="true"||D.selected==="selected"}),C=E||m,c.trigger(o.QUALITY_SELECTED,C),p(null,C)}}})}},{"../events":70,underscore:67}],73:[function(n,e,i){n("./index")()},{"./index":71}],74:[function(n,e,i){function s(d,m){if(!(d instanceof m))throw new TypeError("Cannot call a class as a function")}function o(d,m){for(var p=0;p<m.length;p++){var v=m[p];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(d,v.key,v)}}function l(d,m,p){return m&&o(d.prototype,m),Object.defineProperty(d,"prototype",{writable:!1}),d}var c=(function(){function d(m,p){s(this,d),this._player=m,this._seekToTime=p,this._hasFinished=!1,this._keepThisInstanceWhenPlayerSourcesChange=!1,this._seekWhenSafe()}return l(d,[{key:"_seekWhenSafe",value:function(){var p=3;this._player.readyState()<p?(this._seekFn=this._seek.bind(this),this._player.one("canplay",this._seekFn)):this._seek()}},{key:"onPlayerSourcesChange",value:function(){this._keepThisInstanceWhenPlayerSourcesChange?this._keepThisInstanceWhenPlayerSourcesChange=!1:this.cancel()}},{key:"onQualitySelectionChange",value:function(){this.hasFinished()||(this._keepThisInstanceWhenPlayerSourcesChange=!0)}},{key:"_seek",value:function(){this._player.currentTime(this._seekToTime),this._keepThisInstanceWhenPlayerSourcesChange=!1,this._hasFinished=!0}},{key:"hasFinished",value:function(){return this._hasFinished}},{key:"cancel",value:function(){this._player.off("canplay",this._seekFn),this._keepThisInstanceWhenPlayerSourcesChange=!1,this._hasFinished=!0}}]),d})();e.exports=c},{}]},{},[73])),MA}TU();const fR=({onSubmit:n,submitting:e=!1,label:i="Adicionar comentrio",placeholder:s="Compartilhe insights neon ou deixe uma dvida para a mentoria...",maxLength:o=800,autoFocus:l=!1,onCancel:c,cancelLabel:d="Cancelar",submitLabel:m="Publicar",error:p,testId:v="lesson-comment-form",initialValue:E=""})=>{const C=q=>typeof q=="object"&&q!==null&&"then"in q&&typeof q.then=="function",D=oe.useId(),[P,A]=oe.useState(E),[U,M]=oe.useState(null);oe.useEffect(()=>{M(p??null)},[p]),oe.useEffect(()=>{A(E)},[E]);const B=oe.useMemo(()=>o?Math.max(o-P.length,0):null,[o,P.length]),L=()=>{A(""),M(null)},H=async q=>{q.preventDefault();const te=P.trim();if(!te){M("Digite algo antes de enviar.");return}try{const I=n(te);C(I)&&await I,L()}catch(I){M(I instanceof Error?I.message:"Falha ao enviar comentrio.")}},Q={"--comment-border":O.borderPrimary,"--comment-bg":O.bgSecondary},se={"--field-border":O.borderPrimary,"--field-bg":O.bgPrimary,"--field-color":O.textPrimary,"--focus-ring":O.primary,fontFamily:$e.fontPrimary,lineHeight:1.5};return y.jsxDEV("form",{"data-testid":v,onSubmit:H,className:"space-y-3 rounded-3xl border border-[var(--comment-border)] bg-[var(--comment-bg)] p-4",style:Q,children:[y.jsxDEV("label",{className:"flex flex-col gap-2 text-sm",htmlFor:D,style:{fontFamily:$e.fontPrimary,color:O.textSecondary},children:[y.jsxDEV("span",{className:"text-xs uppercase tracking-[0.2em]",style:{fontFamily:$e.fontHeading},children:i},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/academy/comments/CommentForm.tsx",lineNumber:108,columnNumber:9},void 0),y.jsxDEV("textarea",{id:D,value:P,onChange:q=>A(q.target.value.slice(0,o)),placeholder:s,rows:4,autoFocus:l,maxLength:o,className:"min-h-[120px] rounded-2xl border border-[var(--field-border)] bg-[var(--field-bg)] px-4 py-3 text-sm text-[var(--field-color)] focus:outline-none focus:ring-2 focus:ring-[var(--focus-ring)]",style:se,"aria-invalid":U?"true":void 0},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/academy/comments/CommentForm.tsx",lineNumber:111,columnNumber:9},void 0)]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/academy/comments/CommentForm.tsx",lineNumber:103,columnNumber:7},void 0),y.jsxDEV("div",{className:"flex items-center justify-between text-xs",style:{fontFamily:$e.fontHeading,letterSpacing:"0.14em",color:O.textTertiary},children:[B!==null?y.jsxDEV("span",{"data-testid":`${v}-remaining`,children:[B," caracteres restantes"]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/academy/comments/CommentForm.tsx",lineNumber:129,columnNumber:11},void 0):y.jsxDEV("span",{"aria-hidden":!0},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/academy/comments/CommentForm.tsx",lineNumber:131,columnNumber:11},void 0),U?y.jsxDEV("span",{className:"text-[var(--error-color)]",role:"alert",style:{"--error-color":O.accentError},children:U},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/academy/comments/CommentForm.tsx",lineNumber:134,columnNumber:11},void 0):null]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/academy/comments/CommentForm.tsx",lineNumber:124,columnNumber:7},void 0),y.jsxDEV("div",{className:"flex justify-end gap-3",children:[c?y.jsxDEV(bt,{type:"button",variant:"ghost",size:"sm",onClick:c,disabled:e,children:d},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/academy/comments/CommentForm.tsx",lineNumber:145,columnNumber:11},void 0):null,y.jsxDEV(bt,{type:"submit",size:"sm",loading:e,disabled:e,children:m},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/academy/comments/CommentForm.tsx",lineNumber:149,columnNumber:9},void 0)]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/academy/comments/CommentForm.tsx",lineNumber:143,columnNumber:7},void 0)]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/academy/comments/CommentForm.tsx",lineNumber:97,columnNumber:5},void 0)},SU=({label:n="Aguardando moderao",...e})=>y.jsxDEV(Er,{variant:"warning","data-testid":"lesson-comment-pending",...e,children:n},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/academy/comments/PendingBadge.tsx",lineNumber:10,columnNumber:3},void 0),EU=n=>typeof n=="object"&&n!==null&&"then"in n&&typeof n.then=="function",NU=n=>{const{author:e}=n;return e?.displayName?e.displayName:e?.id?e.id:"userId"in n?n.userId:"Membro Blacksider"},CU=n=>{try{return new Date(n).toLocaleString("pt-BR")}catch{return n}},DU={"--comment-border":O.borderPrimary,"--comment-bg":O.bgPrimary,"--comment-glow":Mt.sm},AU=({targetId:n,rootId:e,allowReply:i,allowModeration:s,pendingModeration:o,onReplyClick:l,onApprove:c,onReject:d,isReplying:m})=>!i&&!s?null:y.jsxDEV("div",{className:"flex flex-wrap gap-2",style:{fontFamily:$e.fontHeading,letterSpacing:"0.12em"},children:[i?y.jsxDEV(bt,{type:"button",size:"sm",variant:"ghost",disabled:!!m,onClick:()=>l(n),"data-testid":`lesson-comment-reply-btn-${n}`,children:"Responder"},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/academy/comments/CommentThread.tsx",lineNumber:123,columnNumber:9},void 0):null,s&&o?y.jsxDEV(oe.Fragment,{children:[c?y.jsxDEV(bt,{type:"button",size:"sm",variant:"secondary",disabled:!!m,onClick:()=>void c({commentId:e,replyId:n===e?void 0:n}),"data-testid":`lesson-comment-approve-${n}`,children:"Aprovar"},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/academy/comments/CommentThread.tsx",lineNumber:137,columnNumber:13},void 0):null,d?y.jsxDEV(bt,{type:"button",size:"sm",variant:"danger",disabled:!!m,onClick:()=>void d({commentId:e,replyId:n===e?void 0:n}),"data-testid":`lesson-comment-reject-${n}`,children:"Rejeitar"},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/academy/comments/CommentThread.tsx",lineNumber:149,columnNumber:13},void 0):null]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/academy/comments/CommentThread.tsx",lineNumber:135,columnNumber:9},void 0):null]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/academy/comments/CommentThread.tsx",lineNumber:121,columnNumber:5},void 0),mR=({node:n,depth:e,rootId:i,isRoot:s,maxDepth:o,allowReply:l,allowModeration:c,replyingTo:d,onReplyClick:m,onReplySubmit:p,onApprove:v,onReject:E,closeReply:C,isReplying:D,replyError:P})=>{const A=l&&e<o-1&&!!p,U="pendingModeration"in n?n.pendingModeration:!1,M="replies"in n&&n.replies?n.replies:[],B=c&&U&&(v||E);return y.jsxDEV("article",{className:"space-y-3 rounded-3xl border border-[var(--comment-border)] bg-[var(--comment-bg)] p-4 shadow-[var(--comment-glow)]",style:DU,"data-testid":s?"lesson-comment-item":"lesson-comment-reply","data-depth":e,"data-comment-id":n.id,children:[y.jsxDEV("header",{className:"flex flex-wrap items-baseline justify-between gap-2",children:[y.jsxDEV("div",{className:"flex items-center gap-3",style:{fontFamily:$e.fontHeading},children:[y.jsxDEV("span",{className:"text-sm uppercase tracking-[0.18em]",style:{color:O.primary},children:NU(n)},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/academy/comments/CommentThread.tsx",lineNumber:198,columnNumber:11},void 0),n.author?.role?y.jsxDEV("span",{className:"text-[0.65rem] uppercase tracking-[0.18em]",style:{color:O.textSecondary},children:n.author.role},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/academy/comments/CommentThread.tsx",lineNumber:202,columnNumber:13},void 0):null]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/academy/comments/CommentThread.tsx",lineNumber:197,columnNumber:9},void 0),y.jsxDEV("div",{className:"flex items-center gap-3 text-xs",style:{color:O.textTertiary},children:[y.jsxDEV("time",{children:CU(n.createdAt)},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/academy/comments/CommentThread.tsx",lineNumber:208,columnNumber:11},void 0),U?y.jsxDEV(SU,{},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/academy/comments/CommentThread.tsx",lineNumber:209,columnNumber:32},void 0):null]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/academy/comments/CommentThread.tsx",lineNumber:207,columnNumber:9},void 0)]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/academy/comments/CommentThread.tsx",lineNumber:196,columnNumber:7},void 0),y.jsxDEV("p",{className:"whitespace-pre-wrap text-sm",style:{color:O.textPrimary},children:"body"in n?n.body:""},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/academy/comments/CommentThread.tsx",lineNumber:212,columnNumber:7},void 0),y.jsxDEV(AU,{targetId:n.id,rootId:i,allowReply:A,allowModeration:B,pendingModeration:U,onReplyClick:m,onApprove:v,onReject:E,isReplying:D},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/academy/comments/CommentThread.tsx",lineNumber:215,columnNumber:7},void 0),d===n.id&&p?y.jsxDEV("div",{className:"pl-4",children:y.jsxDEV(fR,{testId:`lesson-comment-reply-form-${n.id}`,label:"Responder",submitLabel:"Enviar reply",onCancel:C,submitting:!!D,error:P??void 0,onSubmit:L=>{const H=p({rootCommentId:i,parentId:n.id,body:L});return EU(H)?H.then(Q=>(C(),Q)).catch(Q=>{throw Q}):(C(),H)}},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/academy/comments/CommentThread.tsx",lineNumber:228,columnNumber:11},void 0)},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/academy/comments/CommentThread.tsx",lineNumber:227,columnNumber:9},void 0):null,M.length>0?y.jsxDEV("div",{className:"space-y-3 border-l border-[var(--reply-border)] pl-4",style:{"--reply-border":O.borderPrimary},children:M.map(L=>y.jsxDEV(mR,{node:L,depth:e+1,rootId:i,isRoot:!1,maxDepth:o,allowReply:l,allowModeration:c,replyingTo:d,onReplyClick:m,onReplySubmit:p,onApprove:v,onReject:E,closeReply:C,isReplying:D,replyError:P},L.id,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/academy/comments/CommentThread.tsx",lineNumber:256,columnNumber:13},void 0))},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/academy/comments/CommentThread.tsx",lineNumber:254,columnNumber:9},void 0):null]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/academy/comments/CommentThread.tsx",lineNumber:189,columnNumber:5},void 0)},wU=({comments:n,maxDepth:e=3,allowReply:i=!0,allowModeration:s=!1,onReply:o,onApprove:l,onReject:c,emptyState:d="Seja o primeiro a comentar esta aula.",dataTestId:m="lesson-comment-thread",replying:p=!1,replyError:v=null})=>{const[E,C]=oe.useState(null),D=()=>C(null),P=U=>{C(M=>M===U?null:U)},A=oe.useMemo(()=>[...n].sort((U,M)=>new Date(M.createdAt).getTime()-new Date(U.createdAt).getTime()),[n]);return A.length===0?y.jsxDEV("div",{"data-testid":`${m}-empty`,className:"rounded-3xl border border-dashed border-[var(--empty-border)] bg-[var(--empty-bg)] p-6 text-center text-sm",style:{"--empty-border":O.borderPrimary,"--empty-bg":O.bgSecondary},children:y.jsxDEV("p",{style:{color:O.textSecondary},children:d},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/academy/comments/CommentThread.tsx",lineNumber:315,columnNumber:9},void 0)},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/academy/comments/CommentThread.tsx",lineNumber:310,columnNumber:7},void 0):y.jsxDEV("div",{"data-testid":m,className:"space-y-4",children:A.map(U=>y.jsxDEV(mR,{node:U,depth:0,rootId:U.id,isRoot:!0,maxDepth:e,allowReply:i,allowModeration:s,replyingTo:E,onReplyClick:P,onReplySubmit:o,onApprove:l,onReject:c,closeReply:D,isReplying:p,replyError:v},U.id,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/academy/comments/CommentThread.tsx",lineNumber:323,columnNumber:9},void 0))},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/academy/comments/CommentThread.tsx",lineNumber:321,columnNumber:5},void 0)},RU=[1,2,3,4,5],kU=({averageRating:n=null,totalRatings:e=0,userRating:i=null,onRate:s,submitting:o=!1,disabled:l=!1})=>{const[c,d]=oe.useState(null),[m,p]=oe.useState(!1),[v,E]=oe.useState(i??null);oe.useEffect(()=>{m||E(i??null)},[i,m]);const C=c??v??0,D=oe.useMemo(()=>n===null||Number.isNaN(n)?null:n.toFixed(1),[n]),P=async A=>{if(!s||l||m)return;const U=v;p(!0),E(A);try{const M=s(A);M&&typeof M.then=="function"&&await M}catch(M){E(U??null),console.warn("rating submission failed",M)}finally{p(!1)}};return y.jsxDEV("div",{"data-testid":"lesson-rating-section",className:"flex flex-col gap-2",children:[y.jsxDEV("div",{className:"flex items-center gap-1",children:RU.map(A=>{const U=A<=C;return y.jsxDEV("button",{type:"button","data-testid":`rating-star-${A}`,className:"flex h-9 w-9 items-center justify-center rounded-full border text-xl transition-transform",style:{borderColor:U?O.primary:O.borderPrimary,color:U?O.primary:O.textSecondary,boxShadow:U?Mt.sm:void 0,fontFamily:$e.fontHeading},"aria-label":`Avaliar com ${A} ${A===1?"estrela":"estrelas"}`,"aria-pressed":A===v,disabled:l||o||m,onMouseEnter:()=>d(A),onMouseLeave:()=>d(null),onFocus:()=>d(A),onBlur:()=>d(null),onClick:()=>void P(A),children:""},A,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/academy/RatingStars.tsx",lineNumber:67,columnNumber:13},void 0)})},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/academy/RatingStars.tsx",lineNumber:63,columnNumber:7},void 0),y.jsxDEV("div",{className:"text-xs uppercase tracking-[0.14em]",style:{fontFamily:$e.fontHeading,color:O.textSecondary},children:[D?y.jsxDEV("span",{"data-testid":"rating-average",children:["Mdia ",D]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/academy/RatingStars.tsx",lineNumber:96,columnNumber:11},void 0):y.jsxDEV("span",{"data-testid":"rating-average",children:"Sem avaliaes"},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/academy/RatingStars.tsx",lineNumber:98,columnNumber:11},void 0),y.jsxDEV("span",{className:"ml-2",style:{color:O.textTertiary},children:[" ",e??0," ",e===1?"avaliao":"avaliaes"]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/academy/RatingStars.tsx",lineNumber:100,columnNumber:9},void 0),v?y.jsxDEV("span",{className:"ml-2","data-testid":"rating-user-selection",style:{color:O.primary},children:["Sua nota: ",v]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/academy/RatingStars.tsx",lineNumber:104,columnNumber:11},void 0):null,o||m?y.jsxDEV("span",{className:"ml-2",style:{color:O.textSecondary},children:"Enviando..."},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/academy/RatingStars.tsx",lineNumber:109,columnNumber:11},void 0):null]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/academy/RatingStars.tsx",lineNumber:94,columnNumber:7},void 0)]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/academy/RatingStars.tsx",lineNumber:62,columnNumber:5},void 0)},OU="https://images.unsplash.com/photo-1526498460520-4c246339dccb?auto=format&fit=crop&w=1200&q=80",MU=[{id:"content",label:"Contedo"},{id:"materials",label:"Materiais"},{id:"comments",label:"Comentrios"}],IU=({lesson:n,moduleTitle:e,comments:i=[],onToggleCompleted:s,isCompleted:o,isLoading:l,onDownloadAsset:c,onJoinLive:d,resumeSeconds:m,onVideoReady:p,onProgressTick:v,onReachCompletionThreshold:E,ratingAverage:C=null,ratingCount:D=0,userRating:P=null,onSubmitRating:A,ratingSubmitting:U,ratingError:M,commentsLoading:B=!1,commentsError:L=null,onRetryComments:H,onSubmitComment:Q,commentSubmitting:se=!1,commentSubmitError:q=null,commentReplying:te=!1,replySubmitError:I=null,commentFormLabel:j="Adicionar comentrio",commentPlaceholder:ge="Compartilhe seus aprendizados ou dvidas sobre esta aula...",canComment:de,canReply:ie,maxReplyDepth:fe=3,onReplyToComment:Re,allowModeration:be=!1,onApproveComment:ve,onRejectComment:Te,commentEmptyState:De,moderationError:ke=null})=>{const le=n.type===si.Live,Be=n.content.type===si.Live?n.content:null,Ge=n.type===si.Download&&n.content.type===si.Download,Pe=oe.useMemo(()=>i.map(Xe=>({...Xe,replies:Xe.replies??[]})),[i]);Pe.length>0;const Qe=n.content.type===si.Video,Zt=oe.useMemo(()=>{const Xe=B?y.jsxDEV(Er,{variant:"outline",children:"..."},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/academy/LessonPlayer.tsx",lineNumber:148,columnNumber:7},void 0):y.jsxDEV(Er,{variant:"outline",children:Pe.length},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/academy/LessonPlayer.tsx",lineNumber:150,columnNumber:7},void 0);return MU.map(tt=>tt.id==="materials"&&!Ge?{...tt,disabled:!0}:tt.id==="comments"?L?{...tt,badge:y.jsxDEV(Er,{variant:"outline",children:"!"},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/academy/LessonPlayer.tsx",lineNumber:158,columnNumber:35},void 0)}:{...tt,badge:Xe}:tt)},[Pe.length,L,B,Ge]),gt=oe.useCallback(Xe=>{v?.(Xe)},[v]),It=oe.useCallback(Xe=>{E?.(Xe)},[E]),Gt=!!Q&&(de??!0),an=!!Re&&(ie??!0),je=y.jsxDEV("div",{className:"space-y-4","data-testid":"lesson-comments-section",children:[L?y.jsxDEV("div",{className:"flex flex-wrap items-center justify-between gap-3 rounded-3xl border border-[var(--comment-error-border)] bg-[var(--comment-error-bg)] p-4 text-sm",style:{"--comment-error-border":O.accentError,"--comment-error-bg":"rgba(255, 51, 51, 0.08)",color:O.accentError},"data-testid":"lesson-comments-error",children:[y.jsxDEV("span",{children:L},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/academy/LessonPlayer.tsx",lineNumber:195,columnNumber:11},void 0),H?y.jsxDEV(bt,{type:"button",size:"sm",variant:"ghost",onClick:H,children:"Tentar novamente"},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/academy/LessonPlayer.tsx",lineNumber:197,columnNumber:13},void 0):null]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/academy/LessonPlayer.tsx",lineNumber:186,columnNumber:9},void 0):null,Gt?y.jsxDEV(fR,{label:j,placeholder:ge,onSubmit:Xe=>Q?.(Xe),submitting:se,error:q??void 0},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/academy/LessonPlayer.tsx",lineNumber:205,columnNumber:9},void 0):null,B?y.jsxDEV(UU,{},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/academy/LessonPlayer.tsx",lineNumber:215,columnNumber:9},void 0):y.jsxDEV(wU,{comments:Pe,maxDepth:fe,allowReply:an,onReply:an?Re:void 0,allowModeration:be&&!!(ve||Te),onApprove:be?ve:void 0,onReject:be?Te:void 0,emptyState:De,replying:te},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/academy/LessonPlayer.tsx",lineNumber:217,columnNumber:9},void 0),I?y.jsxDEV("div",{className:"rounded-3xl border border-[var(--reply-error-border)] bg-[var(--reply-error-bg)] p-3 text-sm",style:{"--reply-error-border":O.accentError,"--reply-error-bg":Nr.errorTint,color:O.accentError},"data-testid":"lesson-comments-reply-error",children:I},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/academy/LessonPlayer.tsx",lineNumber:230,columnNumber:9},void 0):null,ke?y.jsxDEV("div",{className:"rounded-3xl border border-[var(--moderation-error-border)] bg-[var(--moderation-error-bg)] p-3 text-sm",style:{"--moderation-error-border":O.accentWarning,"--moderation-error-bg":Nr.infoTint,color:O.accentWarning},"data-testid":"lesson-comments-moderation-error",children:ke},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/academy/LessonPlayer.tsx",lineNumber:243,columnNumber:9},void 0):null]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/academy/LessonPlayer.tsx",lineNumber:184,columnNumber:5},void 0);return l?y.jsxDEV(VU,{},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/academy/LessonPlayer.tsx",lineNumber:259,columnNumber:12},void 0):y.jsxDEV(qt,{glowing:!0,className:"flex flex-col gap-6",children:[y.jsxDEV("div",{className:"flex flex-col gap-3",children:[y.jsxDEV(Er,{variant:"outline",children:e},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/academy/LessonPlayer.tsx",lineNumber:265,columnNumber:9},void 0),y.jsxDEV(wn,{className:"text-3xl",style:{color:O.primary},children:n.title},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/academy/LessonPlayer.tsx",lineNumber:266,columnNumber:9},void 0),y.jsxDEV(Rn,{style:{color:O.textSecondary},children:n.summary},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/academy/LessonPlayer.tsx",lineNumber:269,columnNumber:9},void 0),y.jsxDEV("div",{className:"flex flex-wrap gap-3 text-xs uppercase tracking-[0.18em]",style:{color:O.textSecondary,fontFamily:$e.fontHeading},children:[y.jsxDEV("span",{children:["Tipo: ",LU(n.type)]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/academy/LessonPlayer.tsx",lineNumber:274,columnNumber:11},void 0),y.jsxDEV("span",{children:["Durao: ",n.durationMinutes,"min"]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/academy/LessonPlayer.tsx",lineNumber:275,columnNumber:11},void 0),n.releaseAt?y.jsxDEV("span",{children:["Liberado em: ",new Date(n.releaseAt).toLocaleString("pt-BR")]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/academy/LessonPlayer.tsx",lineNumber:276,columnNumber:31},void 0):null]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/academy/LessonPlayer.tsx",lineNumber:270,columnNumber:9},void 0)]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/academy/LessonPlayer.tsx",lineNumber:264,columnNumber:7},void 0),y.jsxDEV("div",{className:"relative overflow-hidden rounded-3xl border border-[var(--player-border)] bg-[var(--player-bg)] shadow-[var(--player-shadow)]",style:{"--player-border":O.borderPrimary,"--player-bg":O.bgPrimary,"--player-shadow":Mt.md},children:Qe?y.jsxDEV(PU,{lessonId:n.id,sourceUrl:n.content.video.videoUrl,resumeSeconds:m,onReady:p,onProgressTick:gt,onReachCompletionThreshold:It,estimatedDurationSeconds:n.content.video.durationSeconds},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/academy/LessonPlayer.tsx",lineNumber:288,columnNumber:11},void 0):BU(n.content)},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/academy/LessonPlayer.tsx",lineNumber:279,columnNumber:7},void 0),y.jsxDEV("div",{className:"flex flex-col gap-2",children:[y.jsxDEV("h3",{className:"text-sm uppercase tracking-[0.18em]",style:{fontFamily:$e.fontHeading,color:O.textSecondary},children:"Avaliao da aula"},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/academy/LessonPlayer.tsx",lineNumber:303,columnNumber:9},void 0),y.jsxDEV(kU,{averageRating:C,totalRatings:D,userRating:P,onRate:A,submitting:!!U},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/academy/LessonPlayer.tsx",lineNumber:309,columnNumber:9},void 0),M?y.jsxDEV("span",{className:"text-xs",style:{color:O.accentError},children:M},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/academy/LessonPlayer.tsx",lineNumber:317,columnNumber:11},void 0):null]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/academy/LessonPlayer.tsx",lineNumber:302,columnNumber:7},void 0),y.jsxDEV("div",{className:"flex flex-wrap gap-3",children:[y.jsxDEV(bt,{variant:"secondary",onClick:()=>s?.(n.id),"data-testid":"lesson-complete",children:o?"Marcar como pendente":"Marcar como concluda"},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/academy/LessonPlayer.tsx",lineNumber:324,columnNumber:9},void 0),le&&Be?y.jsxDEV(bt,{variant:"primary",onClick:()=>{if(d){d(Be.meetingUrl);return}typeof window<"u"&&window.open(Be.meetingUrl,"_blank","noopener")},children:"Entrar na sesso"},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/academy/LessonPlayer.tsx",lineNumber:332,columnNumber:11},void 0):null]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/academy/LessonPlayer.tsx",lineNumber:323,columnNumber:7},void 0),y.jsxDEV(YI,{tabs:Zt,defaultValue:"content",renderContent:Xe=>{switch(Xe.id){case"materials":return pR(n.content,c);case"comments":return je;default:return jU(n.content)}}},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/academy/LessonPlayer.tsx",lineNumber:348,columnNumber:7},void 0)]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/academy/LessonPlayer.tsx",lineNumber:263,columnNumber:5},void 0)},LU=n=>{switch(n){case si.Video:return"Vdeo";case si.Article:return"Artigo";case si.Live:return"Live";case si.Download:return"Download";case si.Quiz:return"Quiz";default:return"Contedo"}},PU=({lessonId:n,sourceUrl:e,poster:i,resumeSeconds:s,onReady:o,onProgressTick:l,onReachCompletionThreshold:c,estimatedDurationSeconds:d})=>{const m=oe.useRef(null),p=oe.useRef(null),v=oe.useRef(0),E=oe.useRef(!1);return oe.useEffect(()=>{if(!m.current)return;const C={controls:!0,preload:"auto",autoplay:!1,responsive:!0,fluid:!0,poster:i??OU,sources:[{src:e,type:"video/mp4"}],controlBar:{pictureInPictureToggle:!0,playbackRateMenuButton:!0,volumePanel:{inline:!1}}},D=_e(m.current,C,()=>{s&&s>0&&D.currentTime(s),typeof D.hotkeys=="function"&&D.hotkeys({volumeStep:.1,seekStep:10,enableModifiersForNumbers:!1}),D.controlBar?.addChild&&(D.controlBar.getChild("QualitySelector")||D.controlBar.addChild("QualitySelector")),o?.(D)});p.current=D;const P=()=>{const A=D.duration()||d||0;if(!A||Number.isNaN(A))return;const U=D.currentTime(),M=Math.min(100,U/A*100),B={lessonId:n,positionSeconds:Math.floor(U),durationSeconds:Math.floor(A),percentage:M},L=Math.floor(U/10);L>v.current&&(v.current=L,l?.(B)),!E.current&&M>=90&&(E.current=!0,c?.(B))};return D.on("timeupdate",P),D.on("seeked",P),D.on("ended",P),()=>{D.off("timeupdate",P),D.off("seeked",P),D.off("ended",P),D.dispose(),p.current=null,v.current=0,E.current=!1}},[d,n,l,o,c,s,e,i]),oe.useEffect(()=>{s&&p.current&&s>0&&p.current.currentTime(s)},[s]),y.jsxDEV("div",{"data-testid":"lesson-video-player",className:"aspect-video",children:y.jsxDEV("video",{ref:m,className:"video-js vjs-big-play-centered h-full w-full",playsInline:!0,"data-setup":"{}"},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/academy/LessonPlayer.tsx",lineNumber:496,columnNumber:7},void 0)},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/academy/LessonPlayer.tsx",lineNumber:495,columnNumber:5},void 0)},BU=n=>n.type===si.Live?y.jsxDEV("div",{className:"flex h-64 flex-col items-center justify-center gap-4",style:{color:O.textSecondary},children:[y.jsxDEV("span",{className:"text-4xl","aria-hidden":!0,children:""},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/academy/LessonPlayer.tsx",lineNumber:505,columnNumber:9},void 0),y.jsxDEV("p",{children:["Live agendada para ",new Date(n.scheduledAt).toLocaleString("pt-BR")]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/academy/LessonPlayer.tsx",lineNumber:508,columnNumber:9},void 0),y.jsxDEV("p",{className:"text-sm",children:["Link da sala: ",n.meetingUrl]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/academy/LessonPlayer.tsx",lineNumber:509,columnNumber:9},void 0)]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/academy/LessonPlayer.tsx",lineNumber:504,columnNumber:7},void 0):y.jsxDEV("div",{className:"flex h-64 items-center justify-center",style:{color:O.textSecondary},children:y.jsxDEV("p",{children:"Contedo disponvel nas abas abaixo."},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/academy/LessonPlayer.tsx",lineNumber:516,columnNumber:7},void 0)},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/academy/LessonPlayer.tsx",lineNumber:515,columnNumber:5},void 0),jU=n=>{switch(n.type){case si.Video:return y.jsxDEV("div",{className:"space-y-4 text-sm",style:{color:O.textSecondary},children:[y.jsxDEV("p",{children:["Durao total: ",Math.round(n.video.durationSeconds/60)," minutos"]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/academy/LessonPlayer.tsx",lineNumber:526,columnNumber:11},void 0),n.video.transcript?y.jsxDEV("details",{className:"rounded-2xl border border-[var(--transcript-border)] bg-[var(--transcript-bg)] p-4",style:{"--transcript-border":O.borderPrimary,"--transcript-bg":O.bgPrimary},children:[y.jsxDEV("summary",{className:"cursor-pointer text-xs uppercase tracking-[0.18em]",style:{fontFamily:$e.fontHeading},children:"Ver transcrio"},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/academy/LessonPlayer.tsx",lineNumber:532,columnNumber:15},void 0),y.jsxDEV("pre",{className:"mt-3 whitespace-pre-wrap text-sm",style:{color:O.textSecondary},children:n.video.transcript},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/academy/LessonPlayer.tsx",lineNumber:538,columnNumber:15},void 0)]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/academy/LessonPlayer.tsx",lineNumber:528,columnNumber:13},void 0):null]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/academy/LessonPlayer.tsx",lineNumber:525,columnNumber:9},void 0);case si.Article:return y.jsxDEV("article",{className:"prose prose-invert max-w-none text-sm",style:{color:O.textSecondary},children:y.jsxDEV("p",{className:"whitespace-pre-wrap",children:n.bodyMarkdown},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/academy/LessonPlayer.tsx",lineNumber:548,columnNumber:11},void 0)},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/academy/LessonPlayer.tsx",lineNumber:547,columnNumber:9},void 0);case si.Live:return y.jsxDEV("div",{className:"space-y-3 text-sm",style:{color:O.textSecondary},children:[y.jsxDEV("p",{children:"Live exclusiva. Verifique sua conexo antes do horrio marcado."},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/academy/LessonPlayer.tsx",lineNumber:554,columnNumber:11},void 0),y.jsxDEV("p",{children:["Agenda: ",new Date(n.scheduledAt).toLocaleString("pt-BR")]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/academy/LessonPlayer.tsx",lineNumber:555,columnNumber:11},void 0)]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/academy/LessonPlayer.tsx",lineNumber:553,columnNumber:9},void 0);case si.Download:return pR(n,void 0);case si.Quiz:return y.jsxDEV("div",{className:"space-y-3 text-sm",style:{color:O.textSecondary},children:[y.jsxDEV("p",{children:["Quiz com ",n.questions.length," perguntas."]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/academy/LessonPlayer.tsx",lineNumber:563,columnNumber:11},void 0),y.jsxDEV("p",{children:"As respostas corretas sero exibidas aps o envio."},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/academy/LessonPlayer.tsx",lineNumber:564,columnNumber:11},void 0)]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/academy/LessonPlayer.tsx",lineNumber:562,columnNumber:9},void 0);default:return null}},pR=(n,e)=>n.type!==si.Download?y.jsxDEV("p",{className:"text-sm",style:{color:O.textSecondary},children:"Nenhum material adicional disponvel para esta aula."},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/academy/LessonPlayer.tsx",lineNumber:578,columnNumber:7},void 0):y.jsxDEV("ul",{className:"space-y-3",children:n.assets.map(i=>y.jsxDEV("li",{className:"flex items-center justify-between gap-3 rounded-2xl border border-[var(--asset-border)] bg-[var(--asset-bg)] px-4 py-3",style:{"--asset-border":O.borderPrimary,"--asset-bg":O.bgSecondary},children:[y.jsxDEV("div",{className:"flex flex-col",children:[y.jsxDEV("span",{className:"text-sm",style:{color:O.textPrimary},children:i.fileName},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/academy/LessonPlayer.tsx",lineNumber:593,columnNumber:13},void 0),y.jsxDEV("span",{className:"text-xs",style:{color:O.textSecondary},children:[(i.fileSizeBytes/(1024*1024)).toFixed(1)," MB"]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/academy/LessonPlayer.tsx",lineNumber:596,columnNumber:13},void 0)]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/academy/LessonPlayer.tsx",lineNumber:592,columnNumber:11},void 0),y.jsxDEV(bt,{variant:"secondary",onClick:()=>e?.(i),disabled:!e,children:"Download"},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/academy/LessonPlayer.tsx",lineNumber:600,columnNumber:11},void 0)]},i.fileUrl,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/academy/LessonPlayer.tsx",lineNumber:587,columnNumber:9},void 0))},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/academy/LessonPlayer.tsx",lineNumber:585,columnNumber:5},void 0),UU=()=>y.jsxDEV("div",{className:"space-y-3 rounded-3xl border border-[var(--skeleton-border)] bg-[var(--skeleton-bg)] p-4",style:{"--skeleton-border":O.borderPrimary,"--skeleton-bg":O.bgPrimary},"data-testid":"lesson-comments-loading",children:[0,1].map(n=>y.jsxDEV("div",{className:"space-y-2",children:[y.jsxDEV("div",{className:"h-4 w-2/3 rounded-full bg-[var(--skeleton-border)]"},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/academy/LessonPlayer.tsx",lineNumber:617,columnNumber:9},void 0),y.jsxDEV("div",{className:"h-12 rounded-2xl bg-[var(--skeleton-border)]"},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/academy/LessonPlayer.tsx",lineNumber:618,columnNumber:9},void 0)]},`comment-skeleton-${n}`,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/academy/LessonPlayer.tsx",lineNumber:616,columnNumber:7},void 0))},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/academy/LessonPlayer.tsx",lineNumber:610,columnNumber:3},void 0),VU=()=>y.jsxDEV("div",{className:"animate-pulse space-y-4 rounded-3xl border border-[var(--skeleton-border)] bg-[var(--skeleton-bg)] p-6",style:{"--skeleton-border":O.borderPrimary,"--skeleton-bg":O.bgPrimary},children:[y.jsxDEV("div",{className:"h-6 w-1/3 rounded-full bg-[var(--skeleton-border)]"},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/academy/LessonPlayer.tsx",lineNumber:629,columnNumber:5},void 0),y.jsxDEV("div",{className:"h-4 w-2/3 rounded-full bg-[var(--skeleton-border)]"},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/academy/LessonPlayer.tsx",lineNumber:630,columnNumber:5},void 0),y.jsxDEV("div",{className:"h-64 rounded-3xl bg-[var(--skeleton-border)]"},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/academy/LessonPlayer.tsx",lineNumber:631,columnNumber:5},void 0),y.jsxDEV("div",{className:"h-4 w-full rounded-full bg-[var(--skeleton-border)]"},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/academy/LessonPlayer.tsx",lineNumber:632,columnNumber:5},void 0)]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/academy/LessonPlayer.tsx",lineNumber:625,columnNumber:3},void 0),B0="unknown-user",FU="unknown-lesson",zU="unknown-comment",s1=new Cr({getAccessToken:()=>it.getState().accessToken,onUnauthenticated:()=>{it.getState().logout()}}),j0=()=>typeof crypto<"u"&&"randomUUID"in crypto?crypto.randomUUID():`temp-${Date.now()}-${Math.random().toString(36).slice(2,8)}`,u0=n=>{const e=n.createdAt??new Date().toISOString(),i=n.pendingModeration??(n.moderationStatus?n.moderationStatus==="pending":!1),s=n.moderationStatus??(i?"pending":"approved"),o=Array.isArray(n.replies)?n.replies.map(u0):[];return{id:n.id??j0(),commentId:n.commentId??zU,parentReplyId:n.parentReplyId??null,userId:n.userId??B0,body:n.body??"",createdAt:e,pendingModeration:i,moderationStatus:s,moderatedById:n.moderatedById??null,moderatedAt:n.moderatedAt??null,replies:o}},gR=n=>{const e=n.createdAt??new Date().toISOString(),i=n.pendingModeration??!1,s=n.moderationStatus??(i?"pending":"approved"),o=Array.isArray(n.replies)?n.replies.map(u0):[];return{id:n.id??j0(),lessonId:n.lessonId??FU,userId:n.userId??B0,body:n.body??"",createdAt:e,updatedAt:n.updatedAt??e,pendingModeration:i,moderationStatus:s,moderatedById:n.moderatedById??null,moderatedAt:n.moderatedAt??null,replies:o}},HU=async n=>{const e=await s1.get(`/academy/lessons/${n}/comments`);return bn(e),(e.data??[]).map(gR)},$U=(n,e,i)=>{const s=new Date().toISOString();return{id:j0(),lessonId:n,userId:i??B0,body:e,createdAt:s,updatedAt:s,pendingModeration:!0,moderationStatus:"pending",moderatedById:null,moderatedAt:null,replies:[]}},qU=(n,e,i,s)=>{const o=new Date().toISOString();return{id:j0(),commentId:n,parentReplyId:e,userId:s??B0,body:i,createdAt:o,pendingModeration:!0,moderationStatus:"pending",moderatedById:null,moderatedAt:null,replies:[]}},bR=(n,e)=>{if(!e.parentReplyId)return{nextReplies:[e,...n],inserted:!0};let i=!1;const s=n.map(o=>{if(o.id===e.parentReplyId)return i=!0,{...o,replies:[e,...o.replies]};if(o.replies.length){const{nextReplies:l,inserted:c}=bR(o.replies,e);if(c)return i=!0,{...o,replies:l}}return o});return i?{nextReplies:s,inserted:!0}:{nextReplies:[e,...n],inserted:!1}},LA=(n,e)=>n.map(i=>{if(i.id!==e.commentId)return i;const{nextReplies:s}=bR(i.replies,e);return{...i,replies:s}}),yR=(n,e,i)=>n.map(s=>{if(s.id===e)return i;if(s.replies.length){const o=yR(s.replies,e,i);if(o!==s.replies)return{...s,replies:o}}return s}),GU=(n,e,i)=>n.map(s=>{if(s.replies.length===0)return s;const o=yR(s.replies,e,i);return o===s.replies?s:{...s,replies:o}}),XU=({lessonId:n,enabled:e=!0})=>{const i=it(_i),s=it(v1),o=vl(),l=n?zt.academy.lessonComments(n):["academy","lessons","unknown","comments"],d=Ea({queryKey:l,queryFn:()=>HU(n),enabled:!!(n&&e&&i),staleTime:30*1e3}),m=vo({mutationFn:async({body:E})=>{if(!n)throw new Error("lessonId  obrigatrio para publicar comentrios");const C=await s1.post(`/academy/lessons/${n}/comments`,{body:E});return bn(C),gR(C.data)},onMutate:async({body:E})=>{if(!n)return{previousComments:void 0,optimisticId:null};await o.cancelQueries({queryKey:l});const C=o.getQueryData(l)??[],D=$U(n,E,s?.id??null);return o.setQueryData(l,[D,...C]),{previousComments:C,optimisticId:D.id}},onError:(E,C,D)=>{n&&D?.previousComments&&o.setQueryData(l,D.previousComments),console.error("Falha ao publicar comentrio da aula",wi(E))},onSuccess:(E,C,D)=>{n&&o.setQueryData(l,(P=[])=>D?.optimisticId?P.map(A=>A.id===D.optimisticId?E:A):[E,...P])},onSettled:()=>{n&&o.invalidateQueries({queryKey:l}).catch(()=>{})}}),p=vo({mutationFn:async({commentId:E,parentReplyId:C,body:D})=>{if(!n)throw new Error("lessonId  obrigatrio para responder comentrios");const P=await s1.post(`/academy/lessons/${n}/comments/${E}/replies`,{body:D,parentReplyId:C??null});return bn(P),u0(P.data)},onMutate:async({commentId:E,parentReplyId:C,body:D})=>{if(!n)return{previousComments:void 0,optimisticId:null};await o.cancelQueries({queryKey:l});const P=o.getQueryData(l)??[],A=qU(E,C??null,D,s?.id??null);return o.setQueryData(l,(U=[])=>LA(U,A)),{previousComments:P,optimisticId:A.id}},onError:(E,C,D)=>{n&&D?.previousComments&&o.setQueryData(l,D.previousComments),console.error("Falha ao publicar resposta do comentrio",wi(E))},onSuccess:(E,C,D)=>{n&&o.setQueryData(l,(P=[])=>{const A=u0(E);return D?.optimisticId?GU(P,D.optimisticId,A):LA(P,A)})},onSettled:()=>{n&&o.invalidateQueries({queryKey:l}).catch(()=>{})}}),v=oe.useMemo(()=>d.data??[],[d.data]);return{comments:v,hasComments:v.length>0,isLoading:d.isLoading,isFetching:d.isFetching,error:d.error??m.error??p.error,refetch:d.refetch,addComment:m.mutate,addCommentAsync:m.mutateAsync,addReply:p.mutate,addReplyAsync:p.mutateAsync,isSubmitting:m.isPending,isReplying:p.isPending}},vR=new Cr({getAccessToken:()=>it.getState().accessToken,onUnauthenticated:()=>{it.getState().logout()}}),YU=async n=>{const e=await vR.get(`/academy/lessons/${n}/rating`);return bn(e),e.data},QU=async(n,e)=>{const i=await vR.post(`/academy/lessons/${n}/rating`,{value:e});return bn(i),i.data},ZU=({lessonId:n,enabled:e=!0})=>{const i=it(_i),s=vl(),o=!!(i&&e&&n),l=Ea({queryKey:n?zt.academy.lessonRating(n):["academy","lessons","unknown","rating"],queryFn:()=>YU(n),enabled:o,staleTime:30*1e3}),c=vo({mutationFn:m=>n?QU(n,m):Promise.reject(new Error("lessonId is required to submit a rating")),onMutate:async m=>{if(!n)return{previousSummary:void 0};await s.cancelQueries({queryKey:zt.academy.lessonRating(n)});const p=s.getQueryData(zt.academy.lessonRating(n)),v=(()=>{if(!p)return{lessonId:n,average:m,totalRatings:1,userRating:m};const E=p.userRating?p.average*p.totalRatings-p.userRating:p.average*p.totalRatings,C=p.userRating?p.totalRatings:p.totalRatings+1,D=C===0?m:(E+m)/C;return{...p,average:D,totalRatings:C,userRating:m}})();return s.setQueryData(zt.academy.lessonRating(n),v),{previousSummary:p}},onError:(m,p,v)=>{n&&v?.previousSummary&&s.setQueryData(zt.academy.lessonRating(n),v.previousSummary),console.error("Falha ao registrar avaliao da aula",wi(m))},onSuccess:()=>{n&&(s.invalidateQueries({queryKey:zt.academy.lessonRating(n)}).catch(()=>{}),s.invalidateQueries({queryKey:zt.hub.dashboard(),exact:!0}))}}),d=oe.useMemo(()=>l.data??null,[l.data]);return{summary:d,averageRating:d?.average??0,totalRatings:d?.totalRatings??0,userRating:d?.userRating??null,isLoading:l.isLoading,isFetching:l.isFetching,error:l.error??c.error,refetch:l.refetch,setRating:c.mutate,setRatingAsync:c.mutateAsync,isSubmitting:c.isPending,canRate:o}},WU=1e4,KU=.9,_R=new Cr({getAccessToken:()=>it.getState().accessToken,onUnauthenticated:()=>{it.getState().logout()}}),JU=async n=>{const e=await _R.get(`/academy/lessons/${n}/progress`);return e.success!==!0?null:e.data},e7=async(n,e)=>{const i=await _R.post(`/academy/lessons/${n}/progress-tick`,e);return bn(i),i.data},PA=typeof window<"u"&&typeof document<"u",t7=({lessonId:n,courseId:e,durationMs:i,getPositionMs:s,isPlaying:o,tickIntervalMs:l=WU,completionThreshold:c=KU,enabled:d=!0,onCompleted:m,onError:p})=>{const v=it(_i),E=vl(),[C,D]=oe.useState(()=>PA?document.visibilityState==="visible":!0),P=oe.useRef(0),A=oe.useRef(0),U=oe.useRef(!1),M=!!(n&&e&&i&&i>0&&v&&d),B=Ea({queryKey:n?zt.academy.lessonProgress(n):["academy","lessons","unknown","progress"],queryFn:()=>JU(n),enabled:M,staleTime:30*1e3}),L=vo({mutationFn:q=>{if(!n||!e||!i)return Promise.reject(new Error("lessonId, courseId e durationMs so obrigatrios"));const te=new Date().toISOString(),I=q.positionMs??s(),j=Math.max(0,Math.min(I,i));A.current=j;const ge=j/i>=c,de=q.completed??ge,ie={lessonId:n,courseId:e,durationMs:i,positionMs:Math.round(j),completed:de,emittedAt:te};return e7(n,ie)},onSuccess:q=>{n&&(E.setQueryData(zt.academy.lessonProgress(n),q),A.current=q.lastPositionMs,q.completed&&e?(E.invalidateQueries({queryKey:zt.academy.progress(e)}),U.current||(U.current=!0,m?.())):q.completed||(U.current=!1))},onError:q=>{P.current=0;const te=wi(q);console.error("Falha ao registrar progresso da aula",te),p?.(te)}}),H=oe.useCallback((q={})=>{if(!M)return;const te=Date.now();!q.force&&te-P.current<l||(P.current=te,L.mutate(q))},[M,L,l]),Q=oe.useCallback(()=>{if(!M)return;const q=i??A.current;H({force:!0,completed:!0,positionMs:q})},[M,i,H]);return oe.useEffect(()=>{if(!PA)return;const q=()=>{D(document.visibilityState==="visible")};return document.addEventListener("visibilitychange",q),()=>{document.removeEventListener("visibilitychange",q)}},[]),oe.useEffect(()=>{const q=B.data;q&&typeof q.lastPositionMs=="number"&&(A.current=q.lastPositionMs),q?.completed?U.current||(U.current=!0,m?.()):U.current=!1},[B.data,m]),oe.useEffect(()=>{if(!M||!o||!C||B.isLoading)return;H({force:!0});const q=window.setInterval(()=>{H()},l);return()=>{window.clearInterval(q)}},[M,H,o,C,B.isLoading,l]),{progress:oe.useMemo(()=>B.data??null,[B.data]),isTracking:M,isLoadingSnapshot:B.isLoading,isSendingTick:L.isPending,lastError:B.error??L.error??null,sendTick:H,markCompleted:Q,refetchSnapshot:B.refetch}},Eb=new Cr({getAccessToken:()=>it.getState().accessToken,onUnauthenticated:()=>{const n=it.getState();_i(n)&&n.logout()}}),Nb=(n,e)=>`/academy/lessons/${n}/comments/${e}`,Cb={async approveLessonComment(n,e){const i=await Eb.post(`${Nb(n,e)}/approve`);return bn(i),i.data},async rejectLessonComment(n,e){const i=await Eb.post(`${Nb(n,e)}/reject`);return bn(i),i.data},async approveLessonCommentReply(n,e,i){const s=await Eb.post(`${Nb(n,e)}/replies/${i}/approve`);return bn(s),s.data},async rejectLessonCommentReply(n,e,i){const s=await Eb.post(`${Nb(n,e)}/replies/${i}/reject`);return bn(s),s.data}},n7="https://vjs.zencdn.net/v/oceans.mp4",i7=()=>{const{lessonId:n="lesson-placeholder"}=m1(),[e,i]=oe.useState(null),s=oe.useRef(null),o=oe.useRef(null),[l,c]=oe.useState(!1),[d,m]=oe.useState(null),[p,v]=oe.useState(null),[E,C]=oe.useState(null),D=oe.useMemo(()=>({id:n,moduleId:"module-placeholder",order:1,title:"Contedo em preparao",summary:"Estamos finalizando os detalhes desta aula neon. Enquanto isso, voc pode revisar os materiais anteriores.",type:si.Video,content:{type:si.Video,video:{videoUrl:n7,durationSeconds:600,captionsUrl:null,transcript:null}},durationMinutes:10,isPreview:!0,releaseAt:null}),[n]),P=D.content.type===si.Video?D.content.video.durationSeconds*1e3:null,A=XU({lessonId:n,enabled:!!n}),U=oe.useMemo(()=>A.isLoading||A.isFetching||!A.error||A.comments.length>0?null:wi(A.error),[A.comments.length,A.error,A.isFetching,A.isLoading]),M=it(v1),B=M?.role,L=!!(B&&[zr.Mentor,zr.Admin,zr.SuperAdmin].includes(B)),H=!!M,Q=oe.useCallback(async ie=>{m(null);try{await A.addCommentAsync({body:ie})}catch(fe){const Re=wi(fe);throw m(Re),fe instanceof Error?fe:new Error(Re)}},[A]),se=oe.useCallback(async({rootCommentId:ie,parentId:fe,body:Re})=>{v(null);try{await A.addReplyAsync({commentId:ie,parentReplyId:fe===ie?null:fe,body:Re})}catch(be){const ve=wi(be);throw v(ve),be instanceof Error?be:new Error(ve)}},[A]),q=oe.useCallback(async({commentId:ie,replyId:fe})=>{if(C(null),!n||n==="lesson-placeholder"){C("Aula invlida para moderao.");return}try{fe?await Cb.approveLessonCommentReply(n,ie,fe):await Cb.approveLessonComment(n,ie),await A.refetch()}catch(Re){const be=wi(Re);C(be)}},[A,n]),te=oe.useCallback(async({commentId:ie,replyId:fe})=>{if(C(null),!n||n==="lesson-placeholder"){C("Aula invlida para moderao.");return}try{fe?await Cb.rejectLessonCommentReply(n,ie,fe):await Cb.rejectLessonComment(n,ie),await A.refetch()}catch(Re){const be=wi(Re);C(be)}},[A,n]),I=t7({lessonId:n,courseId:D.moduleId,durationMs:P,getPositionMs:()=>s.current?s.current.currentTime()*1e3:0,isPlaying:l,enabled:!!P,onCompleted:()=>i(null),onError:ie=>i(ie)}),j=ZU({lessonId:n,enabled:!0}),ge=j.error instanceof Error?j.error.message:j.error?String(j.error):null,de=oe.useCallback(ie=>{o.current?.(),s.current=ie;const fe=()=>c(!0),Re=()=>c(!1),be=()=>{c(!1),I.markCompleted()};ie.on("play",fe),ie.on("pause",Re),ie.on("ended",be),o.current=()=>{ie.off("play",fe),ie.off("pause",Re),ie.off("ended",be)},I.progress?.lastPositionMs&&ie.currentTime(I.progress.lastPositionMs/1e3)},[I]);return oe.useEffect(()=>()=>o.current?.(),[]),oe.useEffect(()=>{if(!s.current||!I.progress?.lastPositionMs)return;const ie=I.progress.lastPositionMs/1e3,fe=s.current.currentTime();Math.abs(fe-ie)>1.5&&s.current.currentTime(ie)},[I.progress?.lastPositionMs]),y.jsxDEV("section",{className:"space-y-8","data-testid":"academy-lesson-detail",children:[y.jsxDEV("header",{className:"space-y-2",children:[y.jsxDEV("p",{className:"text-xs uppercase tracking-[0.22em]",style:{fontFamily:$e.fontHeading,color:O.textSecondary},children:"Aula Blacksider"},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Academy/LessonDetail.tsx",lineNumber:211,columnNumber:9},void 0),y.jsxDEV("h1",{className:"text-4xl uppercase",style:{fontFamily:$e.fontHeading,color:O.primary,textShadow:Mt.text},children:D.title},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Academy/LessonDetail.tsx",lineNumber:217,columnNumber:9},void 0),y.jsxDEV("p",{className:"text-sm",style:{color:O.textSecondary},children:D.summary},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Academy/LessonDetail.tsx",lineNumber:223,columnNumber:9},void 0)]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Academy/LessonDetail.tsx",lineNumber:210,columnNumber:7},void 0),y.jsxDEV(IU,{lesson:D,moduleTitle:"Mdulo neon em breve",comments:A.comments,commentsLoading:A.isLoading||A.isFetching,commentsError:U,onRetryComments:()=>A.refetch(),onSubmitComment:Q,commentSubmitting:A.isSubmitting,commentSubmitError:d,commentReplying:A.isReplying,replySubmitError:p,commentFormLabel:"Participar da discusso",commentPlaceholder:"Compartilhe um insight neon ou pea ajuda para os mentores...",commentEmptyState:"Ainda no h comentrios nesta aula. Seja o primeiro a participar!",canComment:H,canReply:H,maxReplyDepth:3,onReplyToComment:H?se:void 0,allowModeration:L,onApproveComment:L?q:void 0,onRejectComment:L?te:void 0,moderationError:E,onVideoReady:de,onProgressTick:ie=>I.sendTick({positionMs:ie.positionSeconds*1e3}),onReachCompletionThreshold:()=>I.markCompleted(),resumeSeconds:I.progress?.lastPositionMs?I.progress.lastPositionMs/1e3:void 0,ratingAverage:j.averageRating,ratingCount:j.totalRatings,userRating:j.userRating,onSubmitRating:ie=>j.setRatingAsync(ie),ratingSubmitting:j.isSubmitting,ratingError:ge},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Academy/LessonDetail.tsx",lineNumber:228,columnNumber:7},void 0),e?y.jsxDEV("div",{className:"rounded-2xl border border-[var(--err-border)] bg-[var(--err-bg)] p-4 text-sm",style:{"--err-border":O.accentError,"--err-bg":Nr.errorTint},children:e},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Academy/LessonDetail.tsx",lineNumber:266,columnNumber:9},void 0):null]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Academy/LessonDetail.tsx",lineNumber:209,columnNumber:5},void 0)};function Le(n,e,i){function s(d,m){var p;Object.defineProperty(d,"_zod",{value:d._zod??{},enumerable:!1}),(p=d._zod).traits??(p.traits=new Set),d._zod.traits.add(n),e(d,m);for(const v in c.prototype)v in d||Object.defineProperty(d,v,{value:c.prototype[v].bind(d)});d._zod.constr=c,d._zod.def=m}const o=i?.Parent??Object;class l extends o{}Object.defineProperty(l,"name",{value:n});function c(d){var m;const p=i?.Parent?new l:this;s(p,d),(m=p._zod).deferred??(m.deferred=[]);for(const v of p._zod.deferred)v();return p}return Object.defineProperty(c,"init",{value:s}),Object.defineProperty(c,Symbol.hasInstance,{value:d=>i?.Parent&&d instanceof i.Parent?!0:d?._zod?.traits?.has(n)}),Object.defineProperty(c,"name",{value:n}),c}class Uh extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class xR extends Error{constructor(e){super(`Encountered unidirectional transform during encode: ${e}`),this.name="ZodEncodeError"}}const TR={};function Jc(n){return TR}function r7(n){const e=Object.values(n).filter(s=>typeof s=="number");return Object.entries(n).filter(([s,o])=>e.indexOf(+s)===-1).map(([s,o])=>o)}function a1(n,e){return typeof e=="bigint"?e.toString():e}function lT(n){return{get value(){{const e=n();return Object.defineProperty(this,"value",{value:e}),e}}}}function uT(n){return n==null}function cT(n){const e=n.startsWith("^")?1:0,i=n.endsWith("$")?n.length-1:n.length;return n.slice(e,i)}const BA=Symbol("evaluating");function Nn(n,e,i){let s;Object.defineProperty(n,e,{get(){if(s!==BA)return s===void 0&&(s=BA,s=i()),s},set(o){Object.defineProperty(n,e,{value:o})},configurable:!0})}function nd(n,e,i){Object.defineProperty(n,e,{value:i,writable:!0,enumerable:!0,configurable:!0})}function id(...n){const e={};for(const i of n){const s=Object.getOwnPropertyDescriptors(i);Object.assign(e,s)}return Object.defineProperties({},e)}function jA(n){return JSON.stringify(n)}const SR="captureStackTrace"in Error?Error.captureStackTrace:(...n)=>{};function c0(n){return typeof n=="object"&&n!==null&&!Array.isArray(n)}const s7=lT(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const n=Function;return new n(""),!0}catch{return!1}});function op(n){if(c0(n)===!1)return!1;const e=n.constructor;if(e===void 0)return!0;const i=e.prototype;return!(c0(i)===!1||Object.prototype.hasOwnProperty.call(i,"isPrototypeOf")===!1)}function ER(n){return op(n)?{...n}:Array.isArray(n)?[...n]:n}const a7=new Set(["string","number","symbol"]);function Zh(n){return n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Bu(n,e,i){const s=new n._zod.constr(e??n._zod.def);return(!e||i?.parent)&&(s._zod.parent=n),s}function pt(n){const e=n;if(!e)return{};if(typeof e=="string")return{error:()=>e};if(e?.message!==void 0){if(e?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");e.error=e.message}return delete e.message,typeof e.error=="string"?{...e,error:()=>e.error}:e}function o7(n){return Object.keys(n).filter(e=>n[e]._zod.optin==="optional"&&n[e]._zod.optout==="optional")}function l7(n,e){const i=n._zod.def,s=id(n._zod.def,{get shape(){const o={};for(const l in e){if(!(l in i.shape))throw new Error(`Unrecognized key: "${l}"`);e[l]&&(o[l]=i.shape[l])}return nd(this,"shape",o),o},checks:[]});return Bu(n,s)}function u7(n,e){const i=n._zod.def,s=id(n._zod.def,{get shape(){const o={...n._zod.def.shape};for(const l in e){if(!(l in i.shape))throw new Error(`Unrecognized key: "${l}"`);e[l]&&delete o[l]}return nd(this,"shape",o),o},checks:[]});return Bu(n,s)}function c7(n,e){if(!op(e))throw new Error("Invalid input to extend: expected a plain object");const i=n._zod.def.checks;if(i&&i.length>0)throw new Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");const o=id(n._zod.def,{get shape(){const l={...n._zod.def.shape,...e};return nd(this,"shape",l),l},checks:[]});return Bu(n,o)}function d7(n,e){if(!op(e))throw new Error("Invalid input to safeExtend: expected a plain object");const i={...n._zod.def,get shape(){const s={...n._zod.def.shape,...e};return nd(this,"shape",s),s},checks:n._zod.def.checks};return Bu(n,i)}function h7(n,e){const i=id(n._zod.def,{get shape(){const s={...n._zod.def.shape,...e._zod.def.shape};return nd(this,"shape",s),s},get catchall(){return e._zod.def.catchall},checks:[]});return Bu(n,i)}function f7(n,e,i){const s=id(e._zod.def,{get shape(){const o=e._zod.def.shape,l={...o};if(i)for(const c in i){if(!(c in o))throw new Error(`Unrecognized key: "${c}"`);i[c]&&(l[c]=n?new n({type:"optional",innerType:o[c]}):o[c])}else for(const c in o)l[c]=n?new n({type:"optional",innerType:o[c]}):o[c];return nd(this,"shape",l),l},checks:[]});return Bu(e,s)}function m7(n,e,i){const s=id(e._zod.def,{get shape(){const o=e._zod.def.shape,l={...o};if(i)for(const c in i){if(!(c in l))throw new Error(`Unrecognized key: "${c}"`);i[c]&&(l[c]=new n({type:"nonoptional",innerType:o[c]}))}else for(const c in o)l[c]=new n({type:"nonoptional",innerType:o[c]});return nd(this,"shape",l),l},checks:[]});return Bu(e,s)}function wh(n,e=0){if(n.aborted===!0)return!0;for(let i=e;i<n.issues.length;i++)if(n.issues[i]?.continue!==!0)return!0;return!1}function NR(n,e){return e.map(i=>{var s;return(s=i).path??(s.path=[]),i.path.unshift(n),i})}function Db(n){return typeof n=="string"?n:n?.message}function ed(n,e,i){const s={...n,path:n.path??[]};if(!n.message){const o=Db(n.inst?._zod.def?.error?.(n))??Db(e?.error?.(n))??Db(i.customError?.(n))??Db(i.localeError?.(n))??"Invalid input";s.message=o}return delete s.inst,delete s.continue,e?.reportInput||delete s.input,s}function dT(n){return Array.isArray(n)?"array":typeof n=="string"?"string":"unknown"}function lp(...n){const[e,i,s]=n;return typeof e=="string"?{message:e,code:"custom",input:i,inst:s}:{...e}}const CR=(n,e)=>{n.name="$ZodError",Object.defineProperty(n,"_zod",{value:n._zod,enumerable:!1}),Object.defineProperty(n,"issues",{value:e,enumerable:!1}),n.message=JSON.stringify(e,a1,2),Object.defineProperty(n,"toString",{value:()=>n.message,enumerable:!1})},DR=Le("$ZodError",CR),AR=Le("$ZodError",CR,{Parent:Error});function p7(n,e=i=>i.message){const i={},s=[];for(const o of n.issues)o.path.length>0?(i[o.path[0]]=i[o.path[0]]||[],i[o.path[0]].push(e(o))):s.push(e(o));return{formErrors:s,fieldErrors:i}}function g7(n,e=i=>i.message){const i={_errors:[]},s=o=>{for(const l of o.issues)if(l.code==="invalid_union"&&l.errors.length)l.errors.map(c=>s({issues:c}));else if(l.code==="invalid_key")s({issues:l.issues});else if(l.code==="invalid_element")s({issues:l.issues});else if(l.path.length===0)i._errors.push(e(l));else{let c=i,d=0;for(;d<l.path.length;){const m=l.path[d];d===l.path.length-1?(c[m]=c[m]||{_errors:[]},c[m]._errors.push(e(l))):c[m]=c[m]||{_errors:[]},c=c[m],d++}}};return s(n),i}const hT=n=>(e,i,s,o)=>{const l=s?Object.assign(s,{async:!1}):{async:!1},c=e._zod.run({value:i,issues:[]},l);if(c instanceof Promise)throw new Uh;if(c.issues.length){const d=new(o?.Err??n)(c.issues.map(m=>ed(m,l,Jc())));throw SR(d,o?.callee),d}return c.value},fT=n=>async(e,i,s,o)=>{const l=s?Object.assign(s,{async:!0}):{async:!0};let c=e._zod.run({value:i,issues:[]},l);if(c instanceof Promise&&(c=await c),c.issues.length){const d=new(o?.Err??n)(c.issues.map(m=>ed(m,l,Jc())));throw SR(d,o?.callee),d}return c.value},U0=n=>(e,i,s)=>{const o=s?{...s,async:!1}:{async:!1},l=e._zod.run({value:i,issues:[]},o);if(l instanceof Promise)throw new Uh;return l.issues.length?{success:!1,error:new(n??DR)(l.issues.map(c=>ed(c,o,Jc())))}:{success:!0,data:l.value}},b7=U0(AR),V0=n=>async(e,i,s)=>{const o=s?Object.assign(s,{async:!0}):{async:!0};let l=e._zod.run({value:i,issues:[]},o);return l instanceof Promise&&(l=await l),l.issues.length?{success:!1,error:new n(l.issues.map(c=>ed(c,o,Jc())))}:{success:!0,data:l.value}},y7=V0(AR),v7=n=>(e,i,s)=>{const o=s?Object.assign(s,{direction:"backward"}):{direction:"backward"};return hT(n)(e,i,o)},_7=n=>(e,i,s)=>hT(n)(e,i,s),x7=n=>async(e,i,s)=>{const o=s?Object.assign(s,{direction:"backward"}):{direction:"backward"};return fT(n)(e,i,o)},T7=n=>async(e,i,s)=>fT(n)(e,i,s),S7=n=>(e,i,s)=>{const o=s?Object.assign(s,{direction:"backward"}):{direction:"backward"};return U0(n)(e,i,o)},E7=n=>(e,i,s)=>U0(n)(e,i,s),N7=n=>async(e,i,s)=>{const o=s?Object.assign(s,{direction:"backward"}):{direction:"backward"};return V0(n)(e,i,o)},C7=n=>async(e,i,s)=>V0(n)(e,i,s),D7=/^[cC][^\s-]{8,}$/,A7=/^[0-9a-z]+$/,w7=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,R7=/^[0-9a-vA-V]{20}$/,k7=/^[A-Za-z0-9]{27}$/,O7=/^[a-zA-Z0-9_-]{21}$/,M7=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,I7=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,UA=n=>n?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${n}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,L7=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,P7="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function B7(){return new RegExp(P7,"u")}const j7=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,U7=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,V7=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,F7=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,z7=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,wR=/^[A-Za-z0-9_-]*$/,H7=/^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/,$7=/^\+(?:[0-9]){6,14}[0-9]$/,RR="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",q7=new RegExp(`^${RR}$`);function kR(n){const e="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof n.precision=="number"?n.precision===-1?`${e}`:n.precision===0?`${e}:[0-5]\\d`:`${e}:[0-5]\\d\\.\\d{${n.precision}}`:`${e}(?::[0-5]\\d(?:\\.\\d+)?)?`}function G7(n){return new RegExp(`^${kR(n)}$`)}function X7(n){const e=kR({precision:n.precision}),i=["Z"];n.local&&i.push(""),n.offset&&i.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const s=`${e}(?:${i.join("|")})`;return new RegExp(`^${RR}T(?:${s})$`)}const Y7=n=>{const e=n?`[\\s\\S]{${n?.minimum??0},${n?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${e}$`)},Q7=/^(?:true|false)$/i,Z7=/^[^A-Z]*$/,W7=/^[^a-z]*$/,So=Le("$ZodCheck",(n,e)=>{var i;n._zod??(n._zod={}),n._zod.def=e,(i=n._zod).onattach??(i.onattach=[])}),K7=Le("$ZodCheckMaxLength",(n,e)=>{var i;So.init(n,e),(i=n._zod.def).when??(i.when=s=>{const o=s.value;return!uT(o)&&o.length!==void 0}),n._zod.onattach.push(s=>{const o=s._zod.bag.maximum??Number.POSITIVE_INFINITY;e.maximum<o&&(s._zod.bag.maximum=e.maximum)}),n._zod.check=s=>{const o=s.value;if(o.length<=e.maximum)return;const c=dT(o);s.issues.push({origin:c,code:"too_big",maximum:e.maximum,inclusive:!0,input:o,inst:n,continue:!e.abort})}}),J7=Le("$ZodCheckMinLength",(n,e)=>{var i;So.init(n,e),(i=n._zod.def).when??(i.when=s=>{const o=s.value;return!uT(o)&&o.length!==void 0}),n._zod.onattach.push(s=>{const o=s._zod.bag.minimum??Number.NEGATIVE_INFINITY;e.minimum>o&&(s._zod.bag.minimum=e.minimum)}),n._zod.check=s=>{const o=s.value;if(o.length>=e.minimum)return;const c=dT(o);s.issues.push({origin:c,code:"too_small",minimum:e.minimum,inclusive:!0,input:o,inst:n,continue:!e.abort})}}),e9=Le("$ZodCheckLengthEquals",(n,e)=>{var i;So.init(n,e),(i=n._zod.def).when??(i.when=s=>{const o=s.value;return!uT(o)&&o.length!==void 0}),n._zod.onattach.push(s=>{const o=s._zod.bag;o.minimum=e.length,o.maximum=e.length,o.length=e.length}),n._zod.check=s=>{const o=s.value,l=o.length;if(l===e.length)return;const c=dT(o),d=l>e.length;s.issues.push({origin:c,...d?{code:"too_big",maximum:e.length}:{code:"too_small",minimum:e.length},inclusive:!0,exact:!0,input:s.value,inst:n,continue:!e.abort})}}),F0=Le("$ZodCheckStringFormat",(n,e)=>{var i,s;So.init(n,e),n._zod.onattach.push(o=>{const l=o._zod.bag;l.format=e.format,e.pattern&&(l.patterns??(l.patterns=new Set),l.patterns.add(e.pattern))}),e.pattern?(i=n._zod).check??(i.check=o=>{e.pattern.lastIndex=0,!e.pattern.test(o.value)&&o.issues.push({origin:"string",code:"invalid_format",format:e.format,input:o.value,...e.pattern?{pattern:e.pattern.toString()}:{},inst:n,continue:!e.abort})}):(s=n._zod).check??(s.check=()=>{})}),t9=Le("$ZodCheckRegex",(n,e)=>{F0.init(n,e),n._zod.check=i=>{e.pattern.lastIndex=0,!e.pattern.test(i.value)&&i.issues.push({origin:"string",code:"invalid_format",format:"regex",input:i.value,pattern:e.pattern.toString(),inst:n,continue:!e.abort})}}),n9=Le("$ZodCheckLowerCase",(n,e)=>{e.pattern??(e.pattern=Z7),F0.init(n,e)}),i9=Le("$ZodCheckUpperCase",(n,e)=>{e.pattern??(e.pattern=W7),F0.init(n,e)}),r9=Le("$ZodCheckIncludes",(n,e)=>{So.init(n,e);const i=Zh(e.includes),s=new RegExp(typeof e.position=="number"?`^.{${e.position}}${i}`:i);e.pattern=s,n._zod.onattach.push(o=>{const l=o._zod.bag;l.patterns??(l.patterns=new Set),l.patterns.add(s)}),n._zod.check=o=>{o.value.includes(e.includes,e.position)||o.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:e.includes,input:o.value,inst:n,continue:!e.abort})}}),s9=Le("$ZodCheckStartsWith",(n,e)=>{So.init(n,e);const i=new RegExp(`^${Zh(e.prefix)}.*`);e.pattern??(e.pattern=i),n._zod.onattach.push(s=>{const o=s._zod.bag;o.patterns??(o.patterns=new Set),o.patterns.add(i)}),n._zod.check=s=>{s.value.startsWith(e.prefix)||s.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:e.prefix,input:s.value,inst:n,continue:!e.abort})}}),a9=Le("$ZodCheckEndsWith",(n,e)=>{So.init(n,e);const i=new RegExp(`.*${Zh(e.suffix)}$`);e.pattern??(e.pattern=i),n._zod.onattach.push(s=>{const o=s._zod.bag;o.patterns??(o.patterns=new Set),o.patterns.add(i)}),n._zod.check=s=>{s.value.endsWith(e.suffix)||s.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:e.suffix,input:s.value,inst:n,continue:!e.abort})}}),o9=Le("$ZodCheckOverwrite",(n,e)=>{So.init(n,e),n._zod.check=i=>{i.value=e.tx(i.value)}});class l9{constructor(e=[]){this.content=[],this.indent=0,this&&(this.args=e)}indented(e){this.indent+=1,e(this),this.indent-=1}write(e){if(typeof e=="function"){e(this,{execution:"sync"}),e(this,{execution:"async"});return}const s=e.split(`
`).filter(c=>c),o=Math.min(...s.map(c=>c.length-c.trimStart().length)),l=s.map(c=>c.slice(o)).map(c=>" ".repeat(this.indent*2)+c);for(const c of l)this.content.push(c)}compile(){const e=Function,i=this?.args,o=[...(this?.content??[""]).map(l=>`  ${l}`)];return new e(...i,o.join(`
`))}}const u9={major:4,minor:1,patch:12},oi=Le("$ZodType",(n,e)=>{var i;n??(n={}),n._zod.def=e,n._zod.bag=n._zod.bag||{},n._zod.version=u9;const s=[...n._zod.def.checks??[]];n._zod.traits.has("$ZodCheck")&&s.unshift(n);for(const o of s)for(const l of o._zod.onattach)l(n);if(s.length===0)(i=n._zod).deferred??(i.deferred=[]),n._zod.deferred?.push(()=>{n._zod.run=n._zod.parse});else{const o=(c,d,m)=>{let p=wh(c),v;for(const E of d){if(E._zod.def.when){if(!E._zod.def.when(c))continue}else if(p)continue;const C=c.issues.length,D=E._zod.check(c);if(D instanceof Promise&&m?.async===!1)throw new Uh;if(v||D instanceof Promise)v=(v??Promise.resolve()).then(async()=>{await D,c.issues.length!==C&&(p||(p=wh(c,C)))});else{if(c.issues.length===C)continue;p||(p=wh(c,C))}}return v?v.then(()=>c):c},l=(c,d,m)=>{if(wh(c))return c.aborted=!0,c;const p=o(d,s,m);if(p instanceof Promise){if(m.async===!1)throw new Uh;return p.then(v=>n._zod.parse(v,m))}return n._zod.parse(p,m)};n._zod.run=(c,d)=>{if(d.skipChecks)return n._zod.parse(c,d);if(d.direction==="backward"){const p=n._zod.parse({value:c.value,issues:[]},{...d,skipChecks:!0});return p instanceof Promise?p.then(v=>l(v,c,d)):l(p,c,d)}const m=n._zod.parse(c,d);if(m instanceof Promise){if(d.async===!1)throw new Uh;return m.then(p=>o(p,s,d))}return o(m,s,d)}}n["~standard"]={validate:o=>{try{const l=b7(n,o);return l.success?{value:l.data}:{issues:l.error?.issues}}catch{return y7(n,o).then(c=>c.success?{value:c.data}:{issues:c.error?.issues})}},vendor:"zod",version:1}}),mT=Le("$ZodString",(n,e)=>{oi.init(n,e),n._zod.pattern=[...n?._zod.bag?.patterns??[]].pop()??Y7(n._zod.bag),n._zod.parse=(i,s)=>{if(e.coerce)try{i.value=String(i.value)}catch{}return typeof i.value=="string"||i.issues.push({expected:"string",code:"invalid_type",input:i.value,inst:n}),i}}),Un=Le("$ZodStringFormat",(n,e)=>{F0.init(n,e),mT.init(n,e)}),c9=Le("$ZodGUID",(n,e)=>{e.pattern??(e.pattern=I7),Un.init(n,e)}),d9=Le("$ZodUUID",(n,e)=>{if(e.version){const s={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[e.version];if(s===void 0)throw new Error(`Invalid UUID version: "${e.version}"`);e.pattern??(e.pattern=UA(s))}else e.pattern??(e.pattern=UA());Un.init(n,e)}),h9=Le("$ZodEmail",(n,e)=>{e.pattern??(e.pattern=L7),Un.init(n,e)}),f9=Le("$ZodURL",(n,e)=>{Un.init(n,e),n._zod.check=i=>{try{const s=i.value.trim(),o=new URL(s);e.hostname&&(e.hostname.lastIndex=0,e.hostname.test(o.hostname)||i.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:H7.source,input:i.value,inst:n,continue:!e.abort})),e.protocol&&(e.protocol.lastIndex=0,e.protocol.test(o.protocol.endsWith(":")?o.protocol.slice(0,-1):o.protocol)||i.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:e.protocol.source,input:i.value,inst:n,continue:!e.abort})),e.normalize?i.value=o.href:i.value=s;return}catch{i.issues.push({code:"invalid_format",format:"url",input:i.value,inst:n,continue:!e.abort})}}}),m9=Le("$ZodEmoji",(n,e)=>{e.pattern??(e.pattern=B7()),Un.init(n,e)}),p9=Le("$ZodNanoID",(n,e)=>{e.pattern??(e.pattern=O7),Un.init(n,e)}),g9=Le("$ZodCUID",(n,e)=>{e.pattern??(e.pattern=D7),Un.init(n,e)}),b9=Le("$ZodCUID2",(n,e)=>{e.pattern??(e.pattern=A7),Un.init(n,e)}),y9=Le("$ZodULID",(n,e)=>{e.pattern??(e.pattern=w7),Un.init(n,e)}),v9=Le("$ZodXID",(n,e)=>{e.pattern??(e.pattern=R7),Un.init(n,e)}),_9=Le("$ZodKSUID",(n,e)=>{e.pattern??(e.pattern=k7),Un.init(n,e)}),x9=Le("$ZodISODateTime",(n,e)=>{e.pattern??(e.pattern=X7(e)),Un.init(n,e)}),T9=Le("$ZodISODate",(n,e)=>{e.pattern??(e.pattern=q7),Un.init(n,e)}),S9=Le("$ZodISOTime",(n,e)=>{e.pattern??(e.pattern=G7(e)),Un.init(n,e)}),E9=Le("$ZodISODuration",(n,e)=>{e.pattern??(e.pattern=M7),Un.init(n,e)}),N9=Le("$ZodIPv4",(n,e)=>{e.pattern??(e.pattern=j7),Un.init(n,e),n._zod.onattach.push(i=>{const s=i._zod.bag;s.format="ipv4"})}),C9=Le("$ZodIPv6",(n,e)=>{e.pattern??(e.pattern=U7),Un.init(n,e),n._zod.onattach.push(i=>{const s=i._zod.bag;s.format="ipv6"}),n._zod.check=i=>{try{new URL(`http://[${i.value}]`)}catch{i.issues.push({code:"invalid_format",format:"ipv6",input:i.value,inst:n,continue:!e.abort})}}}),D9=Le("$ZodCIDRv4",(n,e)=>{e.pattern??(e.pattern=V7),Un.init(n,e)}),A9=Le("$ZodCIDRv6",(n,e)=>{e.pattern??(e.pattern=F7),Un.init(n,e),n._zod.check=i=>{const s=i.value.split("/");try{if(s.length!==2)throw new Error;const[o,l]=s;if(!l)throw new Error;const c=Number(l);if(`${c}`!==l)throw new Error;if(c<0||c>128)throw new Error;new URL(`http://[${o}]`)}catch{i.issues.push({code:"invalid_format",format:"cidrv6",input:i.value,inst:n,continue:!e.abort})}}});function OR(n){if(n==="")return!0;if(n.length%4!==0)return!1;try{return atob(n),!0}catch{return!1}}const w9=Le("$ZodBase64",(n,e)=>{e.pattern??(e.pattern=z7),Un.init(n,e),n._zod.onattach.push(i=>{i._zod.bag.contentEncoding="base64"}),n._zod.check=i=>{OR(i.value)||i.issues.push({code:"invalid_format",format:"base64",input:i.value,inst:n,continue:!e.abort})}});function R9(n){if(!wR.test(n))return!1;const e=n.replace(/[-_]/g,s=>s==="-"?"+":"/"),i=e.padEnd(Math.ceil(e.length/4)*4,"=");return OR(i)}const k9=Le("$ZodBase64URL",(n,e)=>{e.pattern??(e.pattern=wR),Un.init(n,e),n._zod.onattach.push(i=>{i._zod.bag.contentEncoding="base64url"}),n._zod.check=i=>{R9(i.value)||i.issues.push({code:"invalid_format",format:"base64url",input:i.value,inst:n,continue:!e.abort})}}),O9=Le("$ZodE164",(n,e)=>{e.pattern??(e.pattern=$7),Un.init(n,e)});function M9(n,e=null){try{const i=n.split(".");if(i.length!==3)return!1;const[s]=i;if(!s)return!1;const o=JSON.parse(atob(s));return!("typ"in o&&o?.typ!=="JWT"||!o.alg||e&&(!("alg"in o)||o.alg!==e))}catch{return!1}}const I9=Le("$ZodJWT",(n,e)=>{Un.init(n,e),n._zod.check=i=>{M9(i.value,e.alg)||i.issues.push({code:"invalid_format",format:"jwt",input:i.value,inst:n,continue:!e.abort})}}),L9=Le("$ZodBoolean",(n,e)=>{oi.init(n,e),n._zod.pattern=Q7,n._zod.parse=(i,s)=>{if(e.coerce)try{i.value=!!i.value}catch{}const o=i.value;return typeof o=="boolean"||i.issues.push({expected:"boolean",code:"invalid_type",input:o,inst:n}),i}}),P9=Le("$ZodUnknown",(n,e)=>{oi.init(n,e),n._zod.parse=i=>i}),B9=Le("$ZodNever",(n,e)=>{oi.init(n,e),n._zod.parse=(i,s)=>(i.issues.push({expected:"never",code:"invalid_type",input:i.value,inst:n}),i)});function VA(n,e,i){n.issues.length&&e.issues.push(...NR(i,n.issues)),e.value[i]=n.value}const j9=Le("$ZodArray",(n,e)=>{oi.init(n,e),n._zod.parse=(i,s)=>{const o=i.value;if(!Array.isArray(o))return i.issues.push({expected:"array",code:"invalid_type",input:o,inst:n}),i;i.value=Array(o.length);const l=[];for(let c=0;c<o.length;c++){const d=o[c],m=e.element._zod.run({value:d,issues:[]},s);m instanceof Promise?l.push(m.then(p=>VA(p,i,c))):VA(m,i,c)}return l.length?Promise.all(l).then(()=>i):i}});function d0(n,e,i,s){n.issues.length&&e.issues.push(...NR(i,n.issues)),n.value===void 0?i in s&&(e.value[i]=void 0):e.value[i]=n.value}function MR(n){const e=Object.keys(n.shape);for(const s of e)if(!n.shape?.[s]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${s}": expected a Zod schema`);const i=o7(n.shape);return{...n,keys:e,keySet:new Set(e),numKeys:e.length,optionalKeys:new Set(i)}}function IR(n,e,i,s,o,l){const c=[],d=o.keySet,m=o.catchall._zod,p=m.def.type;for(const v of Object.keys(e)){if(d.has(v))continue;if(p==="never"){c.push(v);continue}const E=m.run({value:e[v],issues:[]},s);E instanceof Promise?n.push(E.then(C=>d0(C,i,v,e))):d0(E,i,v,e)}return c.length&&i.issues.push({code:"unrecognized_keys",keys:c,input:e,inst:l}),n.length?Promise.all(n).then(()=>i):i}const U9=Le("$ZodObject",(n,e)=>{if(oi.init(n,e),!Object.getOwnPropertyDescriptor(e,"shape")?.get){const d=e.shape;Object.defineProperty(e,"shape",{get:()=>{const m={...d};return Object.defineProperty(e,"shape",{value:m}),m}})}const s=lT(()=>MR(e));Nn(n._zod,"propValues",()=>{const d=e.shape,m={};for(const p in d){const v=d[p]._zod;if(v.values){m[p]??(m[p]=new Set);for(const E of v.values)m[p].add(E)}}return m});const o=c0,l=e.catchall;let c;n._zod.parse=(d,m)=>{c??(c=s.value);const p=d.value;if(!o(p))return d.issues.push({expected:"object",code:"invalid_type",input:p,inst:n}),d;d.value={};const v=[],E=c.shape;for(const C of c.keys){const P=E[C]._zod.run({value:p[C],issues:[]},m);P instanceof Promise?v.push(P.then(A=>d0(A,d,C,p))):d0(P,d,C,p)}return l?IR(v,p,d,m,s.value,n):v.length?Promise.all(v).then(()=>d):d}}),V9=Le("$ZodObjectJIT",(n,e)=>{U9.init(n,e);const i=n._zod.parse,s=lT(()=>MR(e)),o=C=>{const D=new l9(["shape","payload","ctx"]),P=s.value,A=L=>{const H=jA(L);return`shape[${H}]._zod.run({ value: input[${H}], issues: [] }, ctx)`};D.write("const input = payload.value;");const U=Object.create(null);let M=0;for(const L of P.keys)U[L]=`key_${M++}`;D.write("const newResult = {};");for(const L of P.keys){const H=U[L],Q=jA(L);D.write(`const ${H} = ${A(L)};`),D.write(`
        if (${H}.issues.length) {
          payload.issues = payload.issues.concat(${H}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${Q}, ...iss.path] : [${Q}]
          })));
        }
        
        
        if (${H}.value === undefined) {
          if (${Q} in input) {
            newResult[${Q}] = undefined;
          }
        } else {
          newResult[${Q}] = ${H}.value;
        }
        
      `)}D.write("payload.value = newResult;"),D.write("return payload;");const B=D.compile();return(L,H)=>B(C,L,H)};let l;const c=c0,d=!TR.jitless,p=d&&s7.value,v=e.catchall;let E;n._zod.parse=(C,D)=>{E??(E=s.value);const P=C.value;return c(P)?d&&p&&D?.async===!1&&D.jitless!==!0?(l||(l=o(e.shape)),C=l(C,D),v?IR([],P,C,D,E,n):C):i(C,D):(C.issues.push({expected:"object",code:"invalid_type",input:P,inst:n}),C)}});function FA(n,e,i,s){for(const l of n)if(l.issues.length===0)return e.value=l.value,e;const o=n.filter(l=>!wh(l));return o.length===1?(e.value=o[0].value,o[0]):(e.issues.push({code:"invalid_union",input:e.value,inst:i,errors:n.map(l=>l.issues.map(c=>ed(c,s,Jc())))}),e)}const F9=Le("$ZodUnion",(n,e)=>{oi.init(n,e),Nn(n._zod,"optin",()=>e.options.some(o=>o._zod.optin==="optional")?"optional":void 0),Nn(n._zod,"optout",()=>e.options.some(o=>o._zod.optout==="optional")?"optional":void 0),Nn(n._zod,"values",()=>{if(e.options.every(o=>o._zod.values))return new Set(e.options.flatMap(o=>Array.from(o._zod.values)))}),Nn(n._zod,"pattern",()=>{if(e.options.every(o=>o._zod.pattern)){const o=e.options.map(l=>l._zod.pattern);return new RegExp(`^(${o.map(l=>cT(l.source)).join("|")})$`)}});const i=e.options.length===1,s=e.options[0]._zod.run;n._zod.parse=(o,l)=>{if(i)return s(o,l);let c=!1;const d=[];for(const m of e.options){const p=m._zod.run({value:o.value,issues:[]},l);if(p instanceof Promise)d.push(p),c=!0;else{if(p.issues.length===0)return p;d.push(p)}}return c?Promise.all(d).then(m=>FA(m,o,n,l)):FA(d,o,n,l)}}),z9=Le("$ZodIntersection",(n,e)=>{oi.init(n,e),n._zod.parse=(i,s)=>{const o=i.value,l=e.left._zod.run({value:o,issues:[]},s),c=e.right._zod.run({value:o,issues:[]},s);return l instanceof Promise||c instanceof Promise?Promise.all([l,c]).then(([m,p])=>zA(i,m,p)):zA(i,l,c)}});function o1(n,e){if(n===e)return{valid:!0,data:n};if(n instanceof Date&&e instanceof Date&&+n==+e)return{valid:!0,data:n};if(op(n)&&op(e)){const i=Object.keys(e),s=Object.keys(n).filter(l=>i.indexOf(l)!==-1),o={...n,...e};for(const l of s){const c=o1(n[l],e[l]);if(!c.valid)return{valid:!1,mergeErrorPath:[l,...c.mergeErrorPath]};o[l]=c.data}return{valid:!0,data:o}}if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return{valid:!1,mergeErrorPath:[]};const i=[];for(let s=0;s<n.length;s++){const o=n[s],l=e[s],c=o1(o,l);if(!c.valid)return{valid:!1,mergeErrorPath:[s,...c.mergeErrorPath]};i.push(c.data)}return{valid:!0,data:i}}return{valid:!1,mergeErrorPath:[]}}function zA(n,e,i){if(e.issues.length&&n.issues.push(...e.issues),i.issues.length&&n.issues.push(...i.issues),wh(n))return n;const s=o1(e.value,i.value);if(!s.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(s.mergeErrorPath)}`);return n.value=s.data,n}const H9=Le("$ZodEnum",(n,e)=>{oi.init(n,e);const i=r7(e.entries),s=new Set(i);n._zod.values=s,n._zod.pattern=new RegExp(`^(${i.filter(o=>a7.has(typeof o)).map(o=>typeof o=="string"?Zh(o):o.toString()).join("|")})$`),n._zod.parse=(o,l)=>{const c=o.value;return s.has(c)||o.issues.push({code:"invalid_value",values:i,input:c,inst:n}),o}}),$9=Le("$ZodLiteral",(n,e)=>{if(oi.init(n,e),e.values.length===0)throw new Error("Cannot create literal schema with no valid values");n._zod.values=new Set(e.values),n._zod.pattern=new RegExp(`^(${e.values.map(i=>typeof i=="string"?Zh(i):i?Zh(i.toString()):String(i)).join("|")})$`),n._zod.parse=(i,s)=>{const o=i.value;return n._zod.values.has(o)||i.issues.push({code:"invalid_value",values:e.values,input:o,inst:n}),i}}),q9=Le("$ZodTransform",(n,e)=>{oi.init(n,e),n._zod.parse=(i,s)=>{if(s.direction==="backward")throw new xR(n.constructor.name);const o=e.transform(i.value,i);if(s.async)return(o instanceof Promise?o:Promise.resolve(o)).then(c=>(i.value=c,i));if(o instanceof Promise)throw new Uh;return i.value=o,i}});function HA(n,e){return n.issues.length&&e===void 0?{issues:[],value:void 0}:n}const G9=Le("$ZodOptional",(n,e)=>{oi.init(n,e),n._zod.optin="optional",n._zod.optout="optional",Nn(n._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,void 0]):void 0),Nn(n._zod,"pattern",()=>{const i=e.innerType._zod.pattern;return i?new RegExp(`^(${cT(i.source)})?$`):void 0}),n._zod.parse=(i,s)=>{if(e.innerType._zod.optin==="optional"){const o=e.innerType._zod.run(i,s);return o instanceof Promise?o.then(l=>HA(l,i.value)):HA(o,i.value)}return i.value===void 0?i:e.innerType._zod.run(i,s)}}),X9=Le("$ZodNullable",(n,e)=>{oi.init(n,e),Nn(n._zod,"optin",()=>e.innerType._zod.optin),Nn(n._zod,"optout",()=>e.innerType._zod.optout),Nn(n._zod,"pattern",()=>{const i=e.innerType._zod.pattern;return i?new RegExp(`^(${cT(i.source)}|null)$`):void 0}),Nn(n._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,null]):void 0),n._zod.parse=(i,s)=>i.value===null?i:e.innerType._zod.run(i,s)}),Y9=Le("$ZodDefault",(n,e)=>{oi.init(n,e),n._zod.optin="optional",Nn(n._zod,"values",()=>e.innerType._zod.values),n._zod.parse=(i,s)=>{if(s.direction==="backward")return e.innerType._zod.run(i,s);if(i.value===void 0)return i.value=e.defaultValue,i;const o=e.innerType._zod.run(i,s);return o instanceof Promise?o.then(l=>$A(l,e)):$A(o,e)}});function $A(n,e){return n.value===void 0&&(n.value=e.defaultValue),n}const Q9=Le("$ZodPrefault",(n,e)=>{oi.init(n,e),n._zod.optin="optional",Nn(n._zod,"values",()=>e.innerType._zod.values),n._zod.parse=(i,s)=>(s.direction==="backward"||i.value===void 0&&(i.value=e.defaultValue),e.innerType._zod.run(i,s))}),Z9=Le("$ZodNonOptional",(n,e)=>{oi.init(n,e),Nn(n._zod,"values",()=>{const i=e.innerType._zod.values;return i?new Set([...i].filter(s=>s!==void 0)):void 0}),n._zod.parse=(i,s)=>{const o=e.innerType._zod.run(i,s);return o instanceof Promise?o.then(l=>qA(l,n)):qA(o,n)}});function qA(n,e){return!n.issues.length&&n.value===void 0&&n.issues.push({code:"invalid_type",expected:"nonoptional",input:n.value,inst:e}),n}const W9=Le("$ZodCatch",(n,e)=>{oi.init(n,e),Nn(n._zod,"optin",()=>e.innerType._zod.optin),Nn(n._zod,"optout",()=>e.innerType._zod.optout),Nn(n._zod,"values",()=>e.innerType._zod.values),n._zod.parse=(i,s)=>{if(s.direction==="backward")return e.innerType._zod.run(i,s);const o=e.innerType._zod.run(i,s);return o instanceof Promise?o.then(l=>(i.value=l.value,l.issues.length&&(i.value=e.catchValue({...i,error:{issues:l.issues.map(c=>ed(c,s,Jc()))},input:i.value}),i.issues=[]),i)):(i.value=o.value,o.issues.length&&(i.value=e.catchValue({...i,error:{issues:o.issues.map(l=>ed(l,s,Jc()))},input:i.value}),i.issues=[]),i)}}),K9=Le("$ZodPipe",(n,e)=>{oi.init(n,e),Nn(n._zod,"values",()=>e.in._zod.values),Nn(n._zod,"optin",()=>e.in._zod.optin),Nn(n._zod,"optout",()=>e.out._zod.optout),Nn(n._zod,"propValues",()=>e.in._zod.propValues),n._zod.parse=(i,s)=>{if(s.direction==="backward"){const l=e.out._zod.run(i,s);return l instanceof Promise?l.then(c=>Ab(c,e.in,s)):Ab(l,e.in,s)}const o=e.in._zod.run(i,s);return o instanceof Promise?o.then(l=>Ab(l,e.out,s)):Ab(o,e.out,s)}});function Ab(n,e,i){return n.issues.length?(n.aborted=!0,n):e._zod.run({value:n.value,issues:n.issues},i)}const J9=Le("$ZodReadonly",(n,e)=>{oi.init(n,e),Nn(n._zod,"propValues",()=>e.innerType._zod.propValues),Nn(n._zod,"values",()=>e.innerType._zod.values),Nn(n._zod,"optin",()=>e.innerType._zod.optin),Nn(n._zod,"optout",()=>e.innerType._zod.optout),n._zod.parse=(i,s)=>{if(s.direction==="backward")return e.innerType._zod.run(i,s);const o=e.innerType._zod.run(i,s);return o instanceof Promise?o.then(GA):GA(o)}});function GA(n){return n.value=Object.freeze(n.value),n}const eV=Le("$ZodCustom",(n,e)=>{So.init(n,e),oi.init(n,e),n._zod.parse=(i,s)=>i,n._zod.check=i=>{const s=i.value,o=e.fn(s);if(o instanceof Promise)return o.then(l=>XA(l,i,s,n));XA(o,i,s,n)}});function XA(n,e,i,s){if(!n){const o={code:"custom",input:i,inst:s,path:[...s._zod.def.path??[]],continue:!s._zod.def.abort};s._zod.def.params&&(o.params=s._zod.def.params),e.issues.push(lp(o))}}class tV{constructor(){this._map=new WeakMap,this._idmap=new Map}add(e,...i){const s=i[0];if(this._map.set(e,s),s&&typeof s=="object"&&"id"in s){if(this._idmap.has(s.id))throw new Error(`ID ${s.id} already exists in the registry`);this._idmap.set(s.id,e)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(e){const i=this._map.get(e);return i&&typeof i=="object"&&"id"in i&&this._idmap.delete(i.id),this._map.delete(e),this}get(e){const i=e._zod.parent;if(i){const s={...this.get(i)??{}};delete s.id;const o={...s,...this._map.get(e)};return Object.keys(o).length?o:void 0}return this._map.get(e)}has(e){return this._map.has(e)}}function nV(){return new tV}const wb=nV();function iV(n,e){return new n({type:"string",...pt(e)})}function rV(n,e){return new n({type:"string",format:"email",check:"string_format",abort:!1,...pt(e)})}function YA(n,e){return new n({type:"string",format:"guid",check:"string_format",abort:!1,...pt(e)})}function sV(n,e){return new n({type:"string",format:"uuid",check:"string_format",abort:!1,...pt(e)})}function aV(n,e){return new n({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...pt(e)})}function oV(n,e){return new n({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...pt(e)})}function lV(n,e){return new n({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...pt(e)})}function uV(n,e){return new n({type:"string",format:"url",check:"string_format",abort:!1,...pt(e)})}function cV(n,e){return new n({type:"string",format:"emoji",check:"string_format",abort:!1,...pt(e)})}function dV(n,e){return new n({type:"string",format:"nanoid",check:"string_format",abort:!1,...pt(e)})}function hV(n,e){return new n({type:"string",format:"cuid",check:"string_format",abort:!1,...pt(e)})}function fV(n,e){return new n({type:"string",format:"cuid2",check:"string_format",abort:!1,...pt(e)})}function mV(n,e){return new n({type:"string",format:"ulid",check:"string_format",abort:!1,...pt(e)})}function pV(n,e){return new n({type:"string",format:"xid",check:"string_format",abort:!1,...pt(e)})}function gV(n,e){return new n({type:"string",format:"ksuid",check:"string_format",abort:!1,...pt(e)})}function bV(n,e){return new n({type:"string",format:"ipv4",check:"string_format",abort:!1,...pt(e)})}function yV(n,e){return new n({type:"string",format:"ipv6",check:"string_format",abort:!1,...pt(e)})}function vV(n,e){return new n({type:"string",format:"cidrv4",check:"string_format",abort:!1,...pt(e)})}function _V(n,e){return new n({type:"string",format:"cidrv6",check:"string_format",abort:!1,...pt(e)})}function xV(n,e){return new n({type:"string",format:"base64",check:"string_format",abort:!1,...pt(e)})}function TV(n,e){return new n({type:"string",format:"base64url",check:"string_format",abort:!1,...pt(e)})}function SV(n,e){return new n({type:"string",format:"e164",check:"string_format",abort:!1,...pt(e)})}function EV(n,e){return new n({type:"string",format:"jwt",check:"string_format",abort:!1,...pt(e)})}function NV(n,e){return new n({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...pt(e)})}function CV(n,e){return new n({type:"string",format:"date",check:"string_format",...pt(e)})}function DV(n,e){return new n({type:"string",format:"time",check:"string_format",precision:null,...pt(e)})}function AV(n,e){return new n({type:"string",format:"duration",check:"string_format",...pt(e)})}function wV(n,e){return new n({type:"boolean",...pt(e)})}function RV(n){return new n({type:"unknown"})}function kV(n,e){return new n({type:"never",...pt(e)})}function LR(n,e){return new K7({check:"max_length",...pt(e),maximum:n})}function h0(n,e){return new J7({check:"min_length",...pt(e),minimum:n})}function PR(n,e){return new e9({check:"length_equals",...pt(e),length:n})}function OV(n,e){return new t9({check:"string_format",format:"regex",...pt(e),pattern:n})}function MV(n){return new n9({check:"string_format",format:"lowercase",...pt(n)})}function IV(n){return new i9({check:"string_format",format:"uppercase",...pt(n)})}function LV(n,e){return new r9({check:"string_format",format:"includes",...pt(e),includes:n})}function PV(n,e){return new s9({check:"string_format",format:"starts_with",...pt(e),prefix:n})}function BV(n,e){return new a9({check:"string_format",format:"ends_with",...pt(e),suffix:n})}function vp(n){return new o9({check:"overwrite",tx:n})}function jV(n){return vp(e=>e.normalize(n))}function UV(){return vp(n=>n.trim())}function VV(){return vp(n=>n.toLowerCase())}function FV(){return vp(n=>n.toUpperCase())}function zV(n,e,i){return new n({type:"array",element:e,...pt(i)})}function HV(n,e,i){return new n({type:"custom",check:"custom",fn:e,...pt(i)})}function $V(n){const e=qV(i=>(i.addIssue=s=>{if(typeof s=="string")i.issues.push(lp(s,i.value,e._zod.def));else{const o=s;o.fatal&&(o.continue=!1),o.code??(o.code="custom"),o.input??(o.input=i.value),o.inst??(o.inst=e),o.continue??(o.continue=!e._zod.def.abort),i.issues.push(lp(o))}},n(i.value,i)));return e}function qV(n,e){const i=new So({check:"custom",...pt(e)});return i._zod.check=n,i}const GV=Le("ZodISODateTime",(n,e)=>{x9.init(n,e),Yn.init(n,e)});function XV(n){return NV(GV,n)}const YV=Le("ZodISODate",(n,e)=>{T9.init(n,e),Yn.init(n,e)});function QV(n){return CV(YV,n)}const ZV=Le("ZodISOTime",(n,e)=>{S9.init(n,e),Yn.init(n,e)});function WV(n){return DV(ZV,n)}const KV=Le("ZodISODuration",(n,e)=>{E9.init(n,e),Yn.init(n,e)});function JV(n){return AV(KV,n)}const eF=(n,e)=>{DR.init(n,e),n.name="ZodError",Object.defineProperties(n,{format:{value:i=>g7(n,i)},flatten:{value:i=>p7(n,i)},addIssue:{value:i=>{n.issues.push(i),n.message=JSON.stringify(n.issues,a1,2)}},addIssues:{value:i=>{n.issues.push(...i),n.message=JSON.stringify(n.issues,a1,2)}},isEmpty:{get(){return n.issues.length===0}}})},ea=Le("ZodError",eF,{Parent:Error}),tF=hT(ea),nF=fT(ea),iF=U0(ea),rF=V0(ea),sF=v7(ea),aF=_7(ea),oF=x7(ea),lF=T7(ea),uF=S7(ea),cF=E7(ea),dF=N7(ea),hF=C7(ea),xi=Le("ZodType",(n,e)=>(oi.init(n,e),n.def=e,n.type=e.type,Object.defineProperty(n,"_def",{value:e}),n.check=(...i)=>n.clone(id(e,{checks:[...e.checks??[],...i.map(s=>typeof s=="function"?{_zod:{check:s,def:{check:"custom"},onattach:[]}}:s)]})),n.clone=(i,s)=>Bu(n,i,s),n.brand=()=>n,n.register=((i,s)=>(i.add(n,s),n)),n.parse=(i,s)=>tF(n,i,s,{callee:n.parse}),n.safeParse=(i,s)=>iF(n,i,s),n.parseAsync=async(i,s)=>nF(n,i,s,{callee:n.parseAsync}),n.safeParseAsync=async(i,s)=>rF(n,i,s),n.spa=n.safeParseAsync,n.encode=(i,s)=>sF(n,i,s),n.decode=(i,s)=>aF(n,i,s),n.encodeAsync=async(i,s)=>oF(n,i,s),n.decodeAsync=async(i,s)=>lF(n,i,s),n.safeEncode=(i,s)=>uF(n,i,s),n.safeDecode=(i,s)=>cF(n,i,s),n.safeEncodeAsync=async(i,s)=>dF(n,i,s),n.safeDecodeAsync=async(i,s)=>hF(n,i,s),n.refine=(i,s)=>n.check(rz(i,s)),n.superRefine=i=>n.check(sz(i)),n.overwrite=i=>n.check(vp(i)),n.optional=()=>WA(n),n.nullable=()=>KA(n),n.nullish=()=>WA(KA(n)),n.nonoptional=i=>WF(n,i),n.array=()=>BF(n),n.or=i=>VF([n,i]),n.and=i=>zF(n,i),n.transform=i=>JA(n,qF(i)),n.default=i=>YF(n,i),n.prefault=i=>ZF(n,i),n.catch=i=>JF(n,i),n.pipe=i=>JA(n,i),n.readonly=()=>nz(n),n.describe=i=>{const s=n.clone();return wb.add(s,{description:i}),s},Object.defineProperty(n,"description",{get(){return wb.get(n)?.description},configurable:!0}),n.meta=(...i)=>{if(i.length===0)return wb.get(n);const s=n.clone();return wb.add(s,i[0]),s},n.isOptional=()=>n.safeParse(void 0).success,n.isNullable=()=>n.safeParse(null).success,n)),BR=Le("_ZodString",(n,e)=>{mT.init(n,e),xi.init(n,e);const i=n._zod.bag;n.format=i.format??null,n.minLength=i.minimum??null,n.maxLength=i.maximum??null,n.regex=(...s)=>n.check(OV(...s)),n.includes=(...s)=>n.check(LV(...s)),n.startsWith=(...s)=>n.check(PV(...s)),n.endsWith=(...s)=>n.check(BV(...s)),n.min=(...s)=>n.check(h0(...s)),n.max=(...s)=>n.check(LR(...s)),n.length=(...s)=>n.check(PR(...s)),n.nonempty=(...s)=>n.check(h0(1,...s)),n.lowercase=s=>n.check(MV(s)),n.uppercase=s=>n.check(IV(s)),n.trim=()=>n.check(UV()),n.normalize=(...s)=>n.check(jV(...s)),n.toLowerCase=()=>n.check(VV()),n.toUpperCase=()=>n.check(FV())}),fF=Le("ZodString",(n,e)=>{mT.init(n,e),BR.init(n,e),n.email=i=>n.check(rV(mF,i)),n.url=i=>n.check(uV(pF,i)),n.jwt=i=>n.check(EV(RF,i)),n.emoji=i=>n.check(cV(gF,i)),n.guid=i=>n.check(YA(QA,i)),n.uuid=i=>n.check(sV(Rb,i)),n.uuidv4=i=>n.check(aV(Rb,i)),n.uuidv6=i=>n.check(oV(Rb,i)),n.uuidv7=i=>n.check(lV(Rb,i)),n.nanoid=i=>n.check(dV(bF,i)),n.guid=i=>n.check(YA(QA,i)),n.cuid=i=>n.check(hV(yF,i)),n.cuid2=i=>n.check(fV(vF,i)),n.ulid=i=>n.check(mV(_F,i)),n.base64=i=>n.check(xV(DF,i)),n.base64url=i=>n.check(TV(AF,i)),n.xid=i=>n.check(pV(xF,i)),n.ksuid=i=>n.check(gV(TF,i)),n.ipv4=i=>n.check(bV(SF,i)),n.ipv6=i=>n.check(yV(EF,i)),n.cidrv4=i=>n.check(vV(NF,i)),n.cidrv6=i=>n.check(_V(CF,i)),n.e164=i=>n.check(SV(wF,i)),n.datetime=i=>n.check(XV(i)),n.date=i=>n.check(QV(i)),n.time=i=>n.check(WV(i)),n.duration=i=>n.check(JV(i))});function pl(n){return iV(fF,n)}const Yn=Le("ZodStringFormat",(n,e)=>{Un.init(n,e),BR.init(n,e)}),mF=Le("ZodEmail",(n,e)=>{h9.init(n,e),Yn.init(n,e)}),QA=Le("ZodGUID",(n,e)=>{c9.init(n,e),Yn.init(n,e)}),Rb=Le("ZodUUID",(n,e)=>{d9.init(n,e),Yn.init(n,e)}),pF=Le("ZodURL",(n,e)=>{f9.init(n,e),Yn.init(n,e)}),gF=Le("ZodEmoji",(n,e)=>{m9.init(n,e),Yn.init(n,e)}),bF=Le("ZodNanoID",(n,e)=>{p9.init(n,e),Yn.init(n,e)}),yF=Le("ZodCUID",(n,e)=>{g9.init(n,e),Yn.init(n,e)}),vF=Le("ZodCUID2",(n,e)=>{b9.init(n,e),Yn.init(n,e)}),_F=Le("ZodULID",(n,e)=>{y9.init(n,e),Yn.init(n,e)}),xF=Le("ZodXID",(n,e)=>{v9.init(n,e),Yn.init(n,e)}),TF=Le("ZodKSUID",(n,e)=>{_9.init(n,e),Yn.init(n,e)}),SF=Le("ZodIPv4",(n,e)=>{N9.init(n,e),Yn.init(n,e)}),EF=Le("ZodIPv6",(n,e)=>{C9.init(n,e),Yn.init(n,e)}),NF=Le("ZodCIDRv4",(n,e)=>{D9.init(n,e),Yn.init(n,e)}),CF=Le("ZodCIDRv6",(n,e)=>{A9.init(n,e),Yn.init(n,e)}),DF=Le("ZodBase64",(n,e)=>{w9.init(n,e),Yn.init(n,e)}),AF=Le("ZodBase64URL",(n,e)=>{k9.init(n,e),Yn.init(n,e)}),wF=Le("ZodE164",(n,e)=>{O9.init(n,e),Yn.init(n,e)}),RF=Le("ZodJWT",(n,e)=>{I9.init(n,e),Yn.init(n,e)}),kF=Le("ZodBoolean",(n,e)=>{L9.init(n,e),xi.init(n,e)});function OF(n){return wV(kF,n)}const MF=Le("ZodUnknown",(n,e)=>{P9.init(n,e),xi.init(n,e)});function ZA(){return RV(MF)}const IF=Le("ZodNever",(n,e)=>{B9.init(n,e),xi.init(n,e)});function LF(n){return kV(IF,n)}const PF=Le("ZodArray",(n,e)=>{j9.init(n,e),xi.init(n,e),n.element=e.element,n.min=(i,s)=>n.check(h0(i,s)),n.nonempty=i=>n.check(h0(1,i)),n.max=(i,s)=>n.check(LR(i,s)),n.length=(i,s)=>n.check(PR(i,s)),n.unwrap=()=>n.element});function BF(n,e){return zV(PF,n,e)}const jF=Le("ZodObject",(n,e)=>{V9.init(n,e),xi.init(n,e),Nn(n,"shape",()=>e.shape),n.keyof=()=>jR(Object.keys(n._zod.def.shape)),n.catchall=i=>n.clone({...n._zod.def,catchall:i}),n.passthrough=()=>n.clone({...n._zod.def,catchall:ZA()}),n.loose=()=>n.clone({...n._zod.def,catchall:ZA()}),n.strict=()=>n.clone({...n._zod.def,catchall:LF()}),n.strip=()=>n.clone({...n._zod.def,catchall:void 0}),n.extend=i=>c7(n,i),n.safeExtend=i=>d7(n,i),n.merge=i=>h7(n,i),n.pick=i=>l7(n,i),n.omit=i=>u7(n,i),n.partial=(...i)=>f7(UR,n,i[0]),n.required=(...i)=>m7(VR,n,i[0])});function pT(n,e){const i={type:"object",shape:n??{},...pt(e)};return new jF(i)}const UF=Le("ZodUnion",(n,e)=>{F9.init(n,e),xi.init(n,e),n.options=e.options});function VF(n,e){return new UF({type:"union",options:n,...pt(e)})}const FF=Le("ZodIntersection",(n,e)=>{z9.init(n,e),xi.init(n,e)});function zF(n,e){return new FF({type:"intersection",left:n,right:e})}const l1=Le("ZodEnum",(n,e)=>{H9.init(n,e),xi.init(n,e),n.enum=e.entries,n.options=Object.values(e.entries);const i=new Set(Object.keys(e.entries));n.extract=(s,o)=>{const l={};for(const c of s)if(i.has(c))l[c]=e.entries[c];else throw new Error(`Key ${c} not found in enum`);return new l1({...e,checks:[],...pt(o),entries:l})},n.exclude=(s,o)=>{const l={...e.entries};for(const c of s)if(i.has(c))delete l[c];else throw new Error(`Key ${c} not found in enum`);return new l1({...e,checks:[],...pt(o),entries:l})}});function jR(n,e){const i=Array.isArray(n)?Object.fromEntries(n.map(s=>[s,s])):n;return new l1({type:"enum",entries:i,...pt(e)})}const HF=Le("ZodLiteral",(n,e)=>{$9.init(n,e),xi.init(n,e),n.values=new Set(e.values),Object.defineProperty(n,"value",{get(){if(e.values.length>1)throw new Error("This schema contains multiple valid literal values. Use `.values` instead.");return e.values[0]}})});function Nx(n,e){return new HF({type:"literal",values:Array.isArray(n)?n:[n],...pt(e)})}const $F=Le("ZodTransform",(n,e)=>{q9.init(n,e),xi.init(n,e),n._zod.parse=(i,s)=>{if(s.direction==="backward")throw new xR(n.constructor.name);i.addIssue=l=>{if(typeof l=="string")i.issues.push(lp(l,i.value,e));else{const c=l;c.fatal&&(c.continue=!1),c.code??(c.code="custom"),c.input??(c.input=i.value),c.inst??(c.inst=n),i.issues.push(lp(c))}};const o=e.transform(i.value,i);return o instanceof Promise?o.then(l=>(i.value=l,i)):(i.value=o,i)}});function qF(n){return new $F({type:"transform",transform:n})}const UR=Le("ZodOptional",(n,e)=>{G9.init(n,e),xi.init(n,e),n.unwrap=()=>n._zod.def.innerType});function WA(n){return new UR({type:"optional",innerType:n})}const GF=Le("ZodNullable",(n,e)=>{X9.init(n,e),xi.init(n,e),n.unwrap=()=>n._zod.def.innerType});function KA(n){return new GF({type:"nullable",innerType:n})}const XF=Le("ZodDefault",(n,e)=>{Y9.init(n,e),xi.init(n,e),n.unwrap=()=>n._zod.def.innerType,n.removeDefault=n.unwrap});function YF(n,e){return new XF({type:"default",innerType:n,get defaultValue(){return typeof e=="function"?e():ER(e)}})}const QF=Le("ZodPrefault",(n,e)=>{Q9.init(n,e),xi.init(n,e),n.unwrap=()=>n._zod.def.innerType});function ZF(n,e){return new QF({type:"prefault",innerType:n,get defaultValue(){return typeof e=="function"?e():ER(e)}})}const VR=Le("ZodNonOptional",(n,e)=>{Z9.init(n,e),xi.init(n,e),n.unwrap=()=>n._zod.def.innerType});function WF(n,e){return new VR({type:"nonoptional",innerType:n,...pt(e)})}const KF=Le("ZodCatch",(n,e)=>{W9.init(n,e),xi.init(n,e),n.unwrap=()=>n._zod.def.innerType,n.removeCatch=n.unwrap});function JF(n,e){return new KF({type:"catch",innerType:n,catchValue:typeof e=="function"?e:()=>e})}const ez=Le("ZodPipe",(n,e)=>{K9.init(n,e),xi.init(n,e),n.in=e.in,n.out=e.out});function JA(n,e){return new ez({type:"pipe",in:n,out:e})}const tz=Le("ZodReadonly",(n,e)=>{J9.init(n,e),xi.init(n,e),n.unwrap=()=>n._zod.def.innerType});function nz(n){return new tz({type:"readonly",innerType:n})}const iz=Le("ZodCustom",(n,e)=>{eV.init(n,e),xi.init(n,e)});function rz(n,e={}){return HV(iz,n,e)}function sz(n){return $V(n)}const ew=pT({label:pl().min(1,"Informe o rtulo"),href:pl().url("URL invlida"),external:OF().default(!1)}),az=pT({title:pl().min(3,"Ttulo muito curto"),description:pl().min(10,"Descrio muito curta"),imageUrl:pl().url("URL invlida").optional().or(Nx("")),primaryCta:ew,secondaryCta:ew.optional(),status:jR(["active","inactive","scheduled"]),startsAt:pl().optional().or(Nx("")),endsAt:pl().optional().or(Nx(""))}),oz=({initial:n,onSubmit:e,submitting:i,error:s,successMessage:o})=>{const[l,c]=oe.useState({title:n?.title??"",description:n?.description??"",imageUrl:n?.imageUrl??"",primaryCta:n?.primaryCta??{label:"",href:"",external:!1},secondaryCta:n?.secondaryCta??void 0,status:n?.status??"inactive",startsAt:n?.startsAt??"",endsAt:n?.endsAt??""}),[d,m]=oe.useState(null),p=(E,C)=>D=>{c(P=>({...P,[E]:{...P[E]??{label:"",href:"",external:!1},[C]:C==="external"?D.target.checked:D.target.value}}))};oe.useEffect(()=>{c({title:n?.title??"",description:n?.description??"",imageUrl:n?.imageUrl??"",primaryCta:n?.primaryCta??{label:"",href:"",external:!1},secondaryCta:n?.secondaryCta??void 0,status:n?.status??"inactive",startsAt:n?.startsAt??"",endsAt:n?.endsAt??""})},[n]);const v=async E=>{E.preventDefault(),m(null);const C=az.safeParse(l);if(!C.success){m(C.error.issues[0]?.message??"Dados invlidos");return}await e?.(C.data)};return y.jsxDEV(qt,{variant:"outlined",className:"max-w-3xl",children:[y.jsxDEV("div",{className:"flex items-center justify-between",children:[y.jsxDEV("div",{children:[y.jsxDEV(wn,{className:"text-xl",style:{color:O.primary},children:"Banner (Hero)"},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/admin/BannerForm.tsx",lineNumber:86,columnNumber:11},void 0),y.jsxDEV(td,{style:{color:O.textSecondary},children:"Configure o banner principal exibido no Hub."},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/admin/BannerForm.tsx",lineNumber:89,columnNumber:11},void 0)]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/admin/BannerForm.tsx",lineNumber:85,columnNumber:9},void 0),y.jsxDEV(Er,{variant:l.status==="active"?"success":l.status==="scheduled"?"warning":"default",children:l.status},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/admin/BannerForm.tsx",lineNumber:93,columnNumber:9},void 0)]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/admin/BannerForm.tsx",lineNumber:84,columnNumber:7},void 0),y.jsxDEV("form",{onSubmit:v,className:"mt-6 space-y-5",children:[y.jsxDEV("div",{className:"grid gap-5 md:grid-cols-2",children:[y.jsxDEV(An,{label:"Ttulo",value:l.title,onChange:E=>c({...l,title:E.target.value}),required:!0},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/admin/BannerForm.tsx",lineNumber:100,columnNumber:11},void 0),y.jsxDEV(An,{label:"Imagem (URL)",value:l.imageUrl,onChange:E=>c({...l,imageUrl:E.target.value})},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/admin/BannerForm.tsx",lineNumber:101,columnNumber:11},void 0)]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/admin/BannerForm.tsx",lineNumber:99,columnNumber:9},void 0),y.jsxDEV(An,{label:"Descrio",value:l.description,onChange:E=>c({...l,description:E.target.value}),required:!0},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/admin/BannerForm.tsx",lineNumber:103,columnNumber:9},void 0),y.jsxDEV("div",{className:"grid gap-5 md:grid-cols-2",children:[y.jsxDEV("fieldset",{children:[y.jsxDEV("legend",{className:"mb-2 text-xs uppercase tracking-[0.16em]",style:{color:O.textSecondary},children:"CTA Principal"},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/admin/BannerForm.tsx",lineNumber:111,columnNumber:13},void 0),y.jsxDEV("div",{className:"space-y-3",children:[y.jsxDEV(An,{label:"Rtulo",value:l.primaryCta.label,onChange:p("primaryCta","label"),required:!0},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/admin/BannerForm.tsx",lineNumber:113,columnNumber:15},void 0),y.jsxDEV(An,{label:"URL",value:l.primaryCta.href,onChange:p("primaryCta","href"),required:!0},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/admin/BannerForm.tsx",lineNumber:114,columnNumber:15},void 0),y.jsxDEV("label",{className:"flex items-center gap-2 text-sm",style:{color:O.textSecondary},children:[y.jsxDEV("input",{type:"checkbox",checked:l.primaryCta.external,onChange:p("primaryCta","external")},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/admin/BannerForm.tsx",lineNumber:116,columnNumber:17},void 0),"Abrir em nova aba"]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/admin/BannerForm.tsx",lineNumber:115,columnNumber:15},void 0)]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/admin/BannerForm.tsx",lineNumber:112,columnNumber:13},void 0)]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/admin/BannerForm.tsx",lineNumber:110,columnNumber:11},void 0),y.jsxDEV("fieldset",{children:[y.jsxDEV("legend",{className:"mb-2 text-xs uppercase tracking-[0.16em]",style:{color:O.textSecondary},children:"CTA Secundrio (opcional)"},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/admin/BannerForm.tsx",lineNumber:122,columnNumber:13},void 0),y.jsxDEV("div",{className:"space-y-3",children:[y.jsxDEV(An,{label:"Rtulo",value:l.secondaryCta?.label??"",onChange:p("secondaryCta","label")},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/admin/BannerForm.tsx",lineNumber:124,columnNumber:15},void 0),y.jsxDEV(An,{label:"URL",value:l.secondaryCta?.href??"",onChange:p("secondaryCta","href")},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/admin/BannerForm.tsx",lineNumber:125,columnNumber:15},void 0),y.jsxDEV("label",{className:"flex items-center gap-2 text-sm",style:{color:O.textSecondary},children:[y.jsxDEV("input",{type:"checkbox",checked:l.secondaryCta?.external??!1,onChange:p("secondaryCta","external")},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/admin/BannerForm.tsx",lineNumber:127,columnNumber:17},void 0),"Abrir em nova aba"]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/admin/BannerForm.tsx",lineNumber:126,columnNumber:15},void 0)]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/admin/BannerForm.tsx",lineNumber:123,columnNumber:13},void 0)]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/admin/BannerForm.tsx",lineNumber:121,columnNumber:11},void 0)]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/admin/BannerForm.tsx",lineNumber:109,columnNumber:9},void 0),y.jsxDEV("div",{className:"grid gap-5 md:grid-cols-3",children:[y.jsxDEV("label",{className:"flex flex-col gap-2 text-sm",children:[y.jsxDEV("span",{className:"text-xs uppercase tracking-[0.2em]",style:{color:O.textSecondary},children:"Status"},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/admin/BannerForm.tsx",lineNumber:135,columnNumber:13},void 0),y.jsxDEV("select",{className:"rounded-lg border px-4 py-3",style:{background:O.bgPrimary,color:O.textPrimary,borderColor:O.borderPrimary},value:l.status,onChange:E=>c({...l,status:E.target.value}),children:[y.jsxDEV("option",{value:"inactive",children:"inactive"},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/admin/BannerForm.tsx",lineNumber:144,columnNumber:15},void 0),y.jsxDEV("option",{value:"active",children:"active"},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/admin/BannerForm.tsx",lineNumber:145,columnNumber:15},void 0),y.jsxDEV("option",{value:"scheduled",children:"scheduled"},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/admin/BannerForm.tsx",lineNumber:146,columnNumber:15},void 0)]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/admin/BannerForm.tsx",lineNumber:138,columnNumber:13},void 0)]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/admin/BannerForm.tsx",lineNumber:134,columnNumber:11},void 0),y.jsxDEV(An,{label:"Incio (ISO)",placeholder:"2025-01-01T00:00:00Z",value:l.startsAt??"",onChange:E=>c({...l,startsAt:E.target.value})},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/admin/BannerForm.tsx",lineNumber:149,columnNumber:11},void 0),y.jsxDEV(An,{label:"Fim (ISO)",placeholder:"2025-01-31T23:59:59Z",value:l.endsAt??"",onChange:E=>c({...l,endsAt:E.target.value})},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/admin/BannerForm.tsx",lineNumber:150,columnNumber:11},void 0)]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/admin/BannerForm.tsx",lineNumber:133,columnNumber:9},void 0),d?y.jsxDEV("div",{className:"rounded-lg border border-[var(--err-border)] bg-[var(--err-bg)] p-3 text-sm",style:{"--err-border":O.accentError,"--err-bg":"rgba(255,51,51,0.08)"},children:d},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/admin/BannerForm.tsx",lineNumber:154,columnNumber:11},void 0):null,s?y.jsxDEV("div",{className:"rounded-lg border border-[var(--err-border)] bg-[var(--err-bg)] p-3 text-sm",style:{"--err-border":O.accentError,"--err-bg":"rgba(255,51,51,0.08)"},children:s},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/admin/BannerForm.tsx",lineNumber:159,columnNumber:11},void 0):null,o?y.jsxDEV("div",{className:"rounded-lg border border-[var(--ok-border)] bg-[var(--ok-bg)] p-3 text-sm",style:{"--ok-border":O.borderAccent,"--ok-bg":"rgba(0,255,0,0.08)"},children:o},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/admin/BannerForm.tsx",lineNumber:164,columnNumber:11},void 0):null,y.jsxDEV("div",{className:"flex justify-end",children:y.jsxDEV(bt,{type:"submit",disabled:i,loading:i,children:n?"Salvar alteraes":"Criar banner"},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/admin/BannerForm.tsx",lineNumber:170,columnNumber:11},void 0)},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/admin/BannerForm.tsx",lineNumber:169,columnNumber:9},void 0)]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/admin/BannerForm.tsx",lineNumber:98,columnNumber:7},void 0)]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/admin/BannerForm.tsx",lineNumber:83,columnNumber:5},void 0)},lz=new Cr({getAccessToken:()=>it.getState().accessToken,onUnauthenticated:()=>{it.getState().logout()}}),uz=()=>{const n=vl(),[e,i]=oe.useState(null),[s,o]=oe.useState(null),l=vo({mutationFn:async c=>{i(null),o(null);const d=await lz.post("/admin/banners",c);return bn(d),d.data},onSuccess:()=>{i("Banner salvo com sucesso."),n.invalidateQueries({queryKey:zt.admin.dashboard()}),n.invalidateQueries({queryKey:zt.hub.dashboard()})},onError:c=>{o(wi(c))}});return y.jsxDEV("section",{className:"space-y-6","data-testid":"admin-banners",children:[y.jsxDEV("header",{className:"space-y-1",children:[y.jsxDEV("h1",{className:"text-2xl uppercase tracking-[0.18em]",style:{fontFamily:$e.fontHeading,color:O.primary},children:"Gerenciar banners"},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Admin/Banners.tsx",lineNumber:46,columnNumber:9},void 0),y.jsxDEV("p",{className:"text-sm",style:{color:O.textSecondary},children:"Configure chamadas neon para o Hub. Integrao com HubService ser conectada na prxima etapa."},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Admin/Banners.tsx",lineNumber:52,columnNumber:9},void 0)]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Admin/Banners.tsx",lineNumber:45,columnNumber:7},void 0),y.jsxDEV("div",{className:"rounded-3xl border border-[var(--border-color)] bg-[var(--bg-elevated)] p-6",style:{"--border-color":O.borderPrimary,"--bg-elevated":O.bgSecondary},children:y.jsxDEV(oz,{initial:null,onSubmit:async c=>{try{await l.mutateAsync(c)}catch{}},submitting:l.isPending,successMessage:e,error:s},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Admin/Banners.tsx",lineNumber:61,columnNumber:9},void 0)},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Admin/Banners.tsx",lineNumber:57,columnNumber:7},void 0)]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Admin/Banners.tsx",lineNumber:44,columnNumber:5},void 0)},cz=new Cr({getAccessToken:()=>it.getState().accessToken,onUnauthenticated:()=>{it.getState().logout()}}),dz={metrics:[{id:"banners-active",label:"Banners ativos",value:0,description:"Total de destaque no hub"},{id:"members-new",label:"Novos membros",value:0,description:"ltimos 7 dias"},{id:"hidra-campaigns",label:"Campanhas Hidra",value:0,description:"Executadas este ms"}],upcomingTasks:["Conectar relatrios reais de HubService.","Adicionar filtros de data para mtricas.","Exibir alertas de campanhas Hidra com falhas."],recentActivities:["Logins de administradores sero listados aqui.","Auditoria de convites e roles pendente.","Estatsticas de downloads do Cybervault a caminho."],generatedAt:null},hz=async()=>{const n=await cz.get("/admin/dashboard");return bn(n),n.data},fz=()=>{const n=it(_i);return Ea({queryKey:zt.admin.dashboard(),queryFn:hz,enabled:n,staleTime:60*1e3,retry:1,placeholderData:dz})},mz=()=>{const{data:n,isLoading:e,isFetching:i,error:s}=fz(),o=e||i,l=s?wi(s):null,c=n?.metrics??[],d=n?.upcomingTasks??[],m=n?.recentActivities??[];return y.jsxDEV("div",{className:"space-y-6","data-testid":"admin-dashboard",children:[y.jsxDEV("header",{className:"space-y-2",children:[y.jsxDEV("p",{className:"text-xs uppercase tracking-[0.22em]",style:{fontFamily:$e.fontHeading,color:O.textSecondary},children:"Painel de controle"},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Admin/Dashboard.tsx",lineNumber:19,columnNumber:9},void 0),y.jsxDEV("h1",{className:"text-3xl uppercase",style:{fontFamily:$e.fontHeading,color:O.primary,textShadow:Mt.text},children:"Overview administrativo"},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Admin/Dashboard.tsx",lineNumber:25,columnNumber:9},void 0),y.jsxDEV("p",{className:"text-sm",style:{color:O.textSecondary},children:"Acompanhe rapidamente banners, membros e mtricas gerais enquanto finalizamos os widgets dinmicos."},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Admin/Dashboard.tsx",lineNumber:31,columnNumber:9},void 0)]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Admin/Dashboard.tsx",lineNumber:18,columnNumber:7},void 0),y.jsxDEV("div",{className:"grid gap-4 md:grid-cols-3",children:o?Array.from({length:3}).map((p,v)=>y.jsxDEV(qt,{variant:"outlined",className:"animate-pulse",children:y.jsxDEV("div",{className:"h-20 rounded-xl bg-[var(--skel)]",style:{"--skel":O.bgPrimary}},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Admin/Dashboard.tsx",lineNumber:40,columnNumber:17},void 0)},v,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Admin/Dashboard.tsx",lineNumber:39,columnNumber:15},void 0)):c.map(p=>y.jsxDEV(qt,{glowing:!0,children:[y.jsxDEV(wn,{style:{color:O.primary},children:p.label},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Admin/Dashboard.tsx",lineNumber:45,columnNumber:17},void 0),y.jsxDEV(Rn,{children:[y.jsxDEV("p",{className:"text-4xl font-semibold",style:{fontFamily:$e.fontHeading},children:p.value.toLocaleString("pt-BR")},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Admin/Dashboard.tsx",lineNumber:47,columnNumber:19},void 0),y.jsxDEV("p",{className:"text-sm",style:{color:O.textSecondary},children:p.description},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Admin/Dashboard.tsx",lineNumber:50,columnNumber:19},void 0)]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Admin/Dashboard.tsx",lineNumber:46,columnNumber:17},void 0)]},p.id,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Admin/Dashboard.tsx",lineNumber:44,columnNumber:15},void 0))},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Admin/Dashboard.tsx",lineNumber:36,columnNumber:7},void 0),y.jsxDEV("section",{className:"grid gap-4 lg:grid-cols-2",children:[y.jsxDEV(qt,{variant:"outlined",children:[y.jsxDEV(wn,{style:{color:O.primary},children:"Prximos ajustes"},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Admin/Dashboard.tsx",lineNumber:60,columnNumber:11},void 0),y.jsxDEV(Rn,{className:"space-y-3 text-sm",style:{color:O.textSecondary},children:d.length?d.map((p,v)=>y.jsxDEV("p",{children:[" ",p]},v,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Admin/Dashboard.tsx",lineNumber:63,columnNumber:52},void 0)):"Nenhuma tarefa cadastrada."},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Admin/Dashboard.tsx",lineNumber:61,columnNumber:11},void 0)]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Admin/Dashboard.tsx",lineNumber:59,columnNumber:9},void 0),y.jsxDEV(qt,{variant:"outlined",children:[y.jsxDEV(wn,{style:{color:O.primary},children:"Atividades recentes"},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Admin/Dashboard.tsx",lineNumber:68,columnNumber:11},void 0),y.jsxDEV(Rn,{className:"space-y-3 text-sm",style:{color:O.textSecondary},children:m.length?m.map((p,v)=>y.jsxDEV("p",{children:[" ",p]},v,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Admin/Dashboard.tsx",lineNumber:71,columnNumber:59},void 0)):"Sem atividades registradas."},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Admin/Dashboard.tsx",lineNumber:69,columnNumber:11},void 0)]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Admin/Dashboard.tsx",lineNumber:67,columnNumber:9},void 0)]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Admin/Dashboard.tsx",lineNumber:58,columnNumber:7},void 0),l?y.jsxDEV("p",{className:"text-sm",style:{color:O.accentError},children:l},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Admin/Dashboard.tsx",lineNumber:78,columnNumber:9},void 0):null]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Admin/Dashboard.tsx",lineNumber:17,columnNumber:5},void 0)},pz={member:"Member",mentor:"Mentor",admin:"Admin",super_admin:"Super Admin"},gz={[vi.Hidra]:"Hidra",[vi.Cybervault]:"Cybervault",[vi.Academy]:"Academia",[vi.Admin]:"Admin Console",[vi.Community]:"Community"},bz=n=>!n||n.length===0?y.jsxDEV("span",{className:"text-xs uppercase tracking-[0.14em]",style:{color:O.textTertiary},children:"Sem overrides"},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/admin/MemberTable.tsx",lineNumber:39,columnNumber:7},void 0):y.jsxDEV("div",{className:"flex flex-wrap gap-2","data-testid":"admin-member-access-map",children:n.map(e=>y.jsxDEV(Er,{variant:e.enabled?"outline":"default",className:"shadow-sm",style:{"--badge-bg":e.enabled?"rgba(0, 255, 0, 0.12)":O.bgTertiary,"--badge-border":e.enabled?O.borderAccent:O.borderPrimary,"--badge-color":e.enabled?O.primary:O.textSecondary},"data-enabled":e.enabled,children:gz[e.feature]??e.feature},`${e.feature}-${e.enabled?"on":"off"}`,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/admin/MemberTable.tsx",lineNumber:48,columnNumber:9},void 0))},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/admin/MemberTable.tsx",lineNumber:46,columnNumber:5},void 0),yz=({members:n,loading:e,emptyMessage:i,onPromote:s,onDemote:o,onRemove:l,page:c=1,totalPages:d=1,onPreviousPage:m,onNextPage:p})=>e?y.jsxDEV(qt,{variant:"outlined",className:"animate-pulse","data-testid":"admin-members-loading",children:y.jsxDEV(Rn,{className:"space-y-3",children:[0,1,2,3].map(v=>y.jsxDEV("div",{className:"h-12 rounded bg-[var(--skel)]",style:{"--skel":O.bgPrimary}},v,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/admin/MemberTable.tsx",lineNumber:85,columnNumber:13},void 0))},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/admin/MemberTable.tsx",lineNumber:83,columnNumber:9},void 0)},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/admin/MemberTable.tsx",lineNumber:82,columnNumber:7},void 0):n.length===0?y.jsxDEV(qt,{variant:"outlined","data-testid":"admin-members-empty",children:y.jsxDEV(Rn,{className:"py-10 text-center text-sm",style:{color:O.textSecondary},children:i??"Nenhum membro encontrado."},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/admin/MemberTable.tsx",lineNumber:99,columnNumber:9},void 0)},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/admin/MemberTable.tsx",lineNumber:98,columnNumber:7},void 0):y.jsxDEV(qt,{variant:"outlined",children:[y.jsxDEV(wn,{className:"text-xl",style:{color:O.primary},children:"Membros"},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/admin/MemberTable.tsx",lineNumber:108,columnNumber:7},void 0),y.jsxDEV(Rn,{className:"mt-4 overflow-x-auto p-0",children:[y.jsxDEV("table",{className:"min-w-full border-collapse text-sm",children:[y.jsxDEV("thead",{children:y.jsxDEV("tr",{className:"text-left uppercase tracking-[0.16em]",style:{fontFamily:$e.fontHeading,color:O.textSecondary},children:[y.jsxDEV("th",{className:"px-4 py-3",children:"Usurio"},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/admin/MemberTable.tsx",lineNumber:118,columnNumber:15},void 0),y.jsxDEV("th",{className:"px-4 py-3",children:"Email"},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/admin/MemberTable.tsx",lineNumber:119,columnNumber:15},void 0),y.jsxDEV("th",{className:"px-4 py-3",children:"Role"},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/admin/MemberTable.tsx",lineNumber:120,columnNumber:15},void 0),y.jsxDEV("th",{className:"px-4 py-3",children:"Acesso"},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/admin/MemberTable.tsx",lineNumber:121,columnNumber:15},void 0),y.jsxDEV("th",{className:"px-4 py-3",children:"ltimo login"},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/admin/MemberTable.tsx",lineNumber:122,columnNumber:15},void 0),y.jsxDEV("th",{className:"px-4 py-3",children:"Aes"},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/admin/MemberTable.tsx",lineNumber:123,columnNumber:15},void 0)]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/admin/MemberTable.tsx",lineNumber:114,columnNumber:13},void 0)},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/admin/MemberTable.tsx",lineNumber:113,columnNumber:11},void 0),y.jsxDEV("tbody",{children:n.map(v=>y.jsxDEV("tr",{className:"border-t border-[var(--row-border)]","data-testid":"admin-member-row",style:{"--row-border":O.borderPrimary},children:[y.jsxDEV("td",{className:"px-4 py-3",style:{color:O.textPrimary},children:v.profile.displayName||v.email},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/admin/MemberTable.tsx",lineNumber:134,columnNumber:17},void 0),y.jsxDEV("td",{className:"px-4 py-3",style:{color:O.textSecondary},children:v.email},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/admin/MemberTable.tsx",lineNumber:137,columnNumber:17},void 0),y.jsxDEV("td",{className:"px-4 py-3",children:y.jsxDEV(Er,{variant:v.role===zr.Admin||v.role===zr.SuperAdmin?"outline":"default","data-testid":`admin-member-role-${v.role}`,children:pz[v.role]},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/admin/MemberTable.tsx",lineNumber:141,columnNumber:19},void 0)},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/admin/MemberTable.tsx",lineNumber:140,columnNumber:17},void 0),y.jsxDEV("td",{className:"px-4 py-3",children:bz(v.accessMap)},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/admin/MemberTable.tsx",lineNumber:148,columnNumber:17},void 0),y.jsxDEV("td",{className:"px-4 py-3",style:{color:O.textSecondary},children:v.lastLoginAt?new Date(v.lastLoginAt).toLocaleString("pt-BR"):"Nunca acessou"},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/admin/MemberTable.tsx",lineNumber:149,columnNumber:17},void 0),y.jsxDEV("td",{className:"px-4 py-3",children:y.jsxDEV("div",{className:"flex flex-wrap gap-2",children:[v.role===zr.Member?y.jsxDEV(bt,{variant:"primary",size:"sm",onClick:()=>s?.(v.id),children:"Promover a mentor"},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/admin/MemberTable.tsx",lineNumber:155,columnNumber:23},void 0):null,v.role===zr.Mentor?y.jsxDEV(y.Fragment,{children:[y.jsxDEV(bt,{variant:"primary",size:"sm",onClick:()=>s?.(v.id),children:"Promover a admin"},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/admin/MemberTable.tsx",lineNumber:161,columnNumber:25},void 0),y.jsxDEV(bt,{variant:"ghost",size:"sm",onClick:()=>o?.(v.id),children:"Rebaixar a member"},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/admin/MemberTable.tsx",lineNumber:164,columnNumber:25},void 0)]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/admin/MemberTable.tsx",lineNumber:160,columnNumber:23},void 0):null,v.role===zr.Admin?y.jsxDEV(bt,{variant:"ghost",size:"sm",onClick:()=>o?.(v.id),children:"Rebaixar a mentor"},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/admin/MemberTable.tsx",lineNumber:170,columnNumber:23},void 0):null,y.jsxDEV(bt,{variant:"ghost",size:"sm",onClick:()=>l?.(v.id),children:"Remover"},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/admin/MemberTable.tsx",lineNumber:174,columnNumber:21},void 0)]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/admin/MemberTable.tsx",lineNumber:153,columnNumber:19},void 0)},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/admin/MemberTable.tsx",lineNumber:152,columnNumber:17},void 0)]},v.id,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/admin/MemberTable.tsx",lineNumber:128,columnNumber:15},void 0))},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/admin/MemberTable.tsx",lineNumber:126,columnNumber:11},void 0)]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/admin/MemberTable.tsx",lineNumber:112,columnNumber:9},void 0),y.jsxDEV("div",{className:"flex items-center justify-between border-t border-[var(--row-border)] px-4 py-3 text-xs",style:{"--row-border":O.borderPrimary},children:[y.jsxDEV("span",{style:{color:O.textSecondary},children:["Pgina ",c," de ",d]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/admin/MemberTable.tsx",lineNumber:187,columnNumber:11},void 0),y.jsxDEV("div",{className:"flex gap-2",children:[y.jsxDEV(bt,{variant:"ghost",size:"sm",onClick:m,"data-testid":"admin-members-prev",disabled:c<=1,children:"Anterior"},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/admin/MemberTable.tsx",lineNumber:191,columnNumber:13},void 0),y.jsxDEV(bt,{variant:"ghost",size:"sm",onClick:p,"data-testid":"admin-members-next",disabled:c>=d,children:"Prxima"},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/admin/MemberTable.tsx",lineNumber:200,columnNumber:13},void 0)]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/admin/MemberTable.tsx",lineNumber:190,columnNumber:11},void 0)]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/admin/MemberTable.tsx",lineNumber:183,columnNumber:9},void 0)]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/admin/MemberTable.tsx",lineNumber:111,columnNumber:7},void 0)]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/admin/MemberTable.tsx",lineNumber:107,columnNumber:5},void 0),vz=new Cr({getAccessToken:()=>it.getState().accessToken,onUnauthenticated:()=>{it.getState().logout()}}),Cx=[{id:"placeholder-1",email:"mentor@blacksider.com",role:zr.Mentor,profile:{displayName:"Mentora Neon",avatarUrl:null,bio:"Especialista em lanamentos",timezone:"America/Sao_Paulo",badges:["mentor"],socialLinks:[]},lastLoginAt:null,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),accessMap:[{feature:vi.Academy,enabled:!0,permissions:["view"]},{feature:vi.Hidra,enabled:!1,permissions:[]}]}],_z=n=>{const e=new URLSearchParams;n.page&&e.set("page",String(n.page)),n.pageSize&&e.set("pageSize",String(n.pageSize)),n.role&&e.set("role",n.role),n.search&&e.set("search",n.search);const i=e.toString();return i?`?${i}`:""},xz=n=>({items:n.items.map(e=>({...e.user,accessMap:e.accessMap})),page:n.page,pageSize:n.pageSize,totalItems:n.totalItems,totalPages:n.totalPages}),Tz=async n=>{const e=await vz.get(`/admin/members${_z(n)}`);return bn(e),xz(e.data)},Sz=(n={})=>{const e=it(_i),i={items:Cx,page:n.page??1,pageSize:n.pageSize??Cx.length,totalItems:Cx.length,totalPages:1};return Ea({queryKey:zt.admin.members({role:n.role,page:n.page,pageSize:n.pageSize,search:n.search}),queryFn:()=>Tz(n),enabled:e,staleTime:60*1e3,retry:1,placeholderData:i})},Ez=(n,e)=>{const[i,s]=oe.useState(n);return oe.useEffect(()=>{const o=window.setTimeout(()=>{s(n)},e);return()=>{window.clearTimeout(o)}},[n,e]),i},Nz=[{label:"Todos",value:"all"},{label:"Members",value:zr.Member},{label:"Mentors",value:zr.Mentor},{label:"Admins",value:zr.Admin},{label:"Super Admins",value:zr.SuperAdmin}],Cz=[10,20,50],Dz=()=>{const[n,e]=oe.useState("all"),[i,s]=oe.useState(""),[o,l]=oe.useState(1),[c,d]=oe.useState(20),m=Ez(i.trim(),250);oe.useEffect(()=>{l(1)},[m,n,c]);const p=oe.useMemo(()=>({page:o,pageSize:c,role:n==="all"?void 0:n,search:m.length>0?m:void 0}),[o,c,n,m]),{data:v,isLoading:E,isFetching:C,error:D,refetch:P}=Sz(p),A=v?.items??[],U=v?.totalItems??0,M=v?.totalPages??1,B=E||C,L=D?wi(D):null,H=I=>{const j=I.target.value;e(j)},Q=I=>{s(I.target.value)},se=I=>{const j=Number(I.target.value)||20;d(j)},q=()=>{l(I=>Math.max(1,I-1))},te=()=>{l(I=>Math.min(M,I+1))};return y.jsxDEV("section",{className:"space-y-6","data-testid":"admin-members",children:[y.jsxDEV("header",{className:"space-y-1",children:[y.jsxDEV("h1",{className:"text-2xl uppercase tracking-[0.18em]",style:{fontFamily:$e.fontHeading,color:O.primary},children:"Gesto de membros"},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Admin/Members.tsx",lineNumber:92,columnNumber:9},void 0),y.jsxDEV("p",{className:"text-sm",style:{color:O.textSecondary},children:"Visualize e ajuste permisses rapidamente. Use os filtros para localizar membros e validar acessos neon."},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Admin/Members.tsx",lineNumber:98,columnNumber:9},void 0)]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Admin/Members.tsx",lineNumber:91,columnNumber:7},void 0),y.jsxDEV("div",{className:"flex flex-wrap gap-3","data-testid":"admin-members-filters",children:[y.jsxDEV(An,{label:"Buscar",placeholder:"Nome ou email",value:i,onChange:Q,"data-testid":"admin-members-search"},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Admin/Members.tsx",lineNumber:104,columnNumber:9},void 0),y.jsxDEV("label",{className:"flex flex-col gap-2 text-sm",style:{fontFamily:$e.fontPrimary},children:[y.jsxDEV("span",{className:"text-xs uppercase tracking-[0.2em]",style:{color:O.textSecondary},children:"Role"},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Admin/Members.tsx",lineNumber:112,columnNumber:11},void 0),y.jsxDEV("select",{className:"min-w-[160px] rounded-2xl border border-[var(--select-border)] bg-[var(--select-bg)] px-4 py-2","data-testid":"admin-members-role-filter",style:{"--select-border":O.borderPrimary,"--select-bg":O.bgSecondary},value:n,onChange:H,children:Nz.map(I=>y.jsxDEV("option",{value:I.value,children:I.label},I.value,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Admin/Members.tsx",lineNumber:123,columnNumber:15},void 0))},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Admin/Members.tsx",lineNumber:115,columnNumber:11},void 0)]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Admin/Members.tsx",lineNumber:111,columnNumber:9},void 0),y.jsxDEV("label",{className:"flex flex-col gap-2 text-sm",style:{fontFamily:$e.fontPrimary},children:[y.jsxDEV("span",{className:"text-xs uppercase tracking-[0.2em]",style:{color:O.textSecondary},children:"Por pgina"},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Admin/Members.tsx",lineNumber:130,columnNumber:11},void 0),y.jsxDEV("select",{className:"rounded-2xl border border-[var(--select-border)] bg-[var(--select-bg)] px-4 py-2","data-testid":"admin-members-page-size",style:{"--select-border":O.borderPrimary,"--select-bg":O.bgSecondary},value:c,onChange:se,children:Cz.map(I=>y.jsxDEV("option",{value:I,children:I},I,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Admin/Members.tsx",lineNumber:141,columnNumber:15},void 0))},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Admin/Members.tsx",lineNumber:133,columnNumber:11},void 0)]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Admin/Members.tsx",lineNumber:129,columnNumber:9},void 0),y.jsxDEV("div",{className:"ml-auto flex items-end gap-2 text-xs",style:{color:O.textSecondary},children:[y.jsxDEV("span",{"data-testid":"admin-members-summary",children:["Mostrando ",B?"...":A.length," de ",B?"...":U," membros"]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Admin/Members.tsx",lineNumber:148,columnNumber:11},void 0),y.jsxDEV(bt,{variant:"ghost",size:"sm","data-testid":"admin-members-refresh",onClick:()=>{P()},disabled:B,children:"Atualizar"},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Admin/Members.tsx",lineNumber:151,columnNumber:11},void 0)]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Admin/Members.tsx",lineNumber:147,columnNumber:9},void 0)]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Admin/Members.tsx",lineNumber:103,columnNumber:7},void 0),L?y.jsxDEV("div",{className:"rounded-2xl border border-[var(--error-border)] bg-[var(--error-bg)] p-3 text-sm","data-testid":"admin-members-error",style:{"--error-border":O.accentError,"--error-bg":Nr.errorTint},children:L},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Admin/Members.tsx",lineNumber:166,columnNumber:9},void 0):null,y.jsxDEV(yz,{members:A,loading:B,emptyMessage:m||n!=="all"?"Nenhum membro encontrado com os filtros aplicados.":"Nenhum membro registrado ainda.",onPromote:()=>{},onDemote:()=>{},onRemove:()=>{},page:o,totalPages:M,onNextPage:te,onPreviousPage:q},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Admin/Members.tsx",lineNumber:175,columnNumber:7},void 0)]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Admin/Members.tsx",lineNumber:90,columnNumber:5},void 0)},Az=new Cr({getAccessToken:()=>it.getState().accessToken,onUnauthenticated:()=>{it.getState().logout()}}),wz=async n=>{const e=await Az.post(`/cybervault/resources/${n}/download`);return bn(e),e.data},u1=["cybervault","resources"],Rz=(n,e,i)=>{n.getQueriesData({queryKey:u1}).forEach(([o,l])=>{if(!l)return;let c=!1;const d=l.items.map(m=>m.id!==e?m:(c=!0,{...m,downloadCount:i}));c&&n.setQueryData(o,{...l,items:d})})},FR=({onSuccess:n,onError:e}={})=>{const i=it(_i),s=vl(),o=vo({mutationFn:l=>l?i?wz(l):Promise.reject(new Error("Usurio no autenticado")):Promise.reject(new Error("resourceId  obrigatrio")),onSuccess:(l,c)=>{n?.(l,c),c&&(Rz(s,c,l.totalDownloads),s.invalidateQueries({predicate:d=>Array.isArray(d.queryKey)&&d.queryKey[0]===u1[0]&&d.queryKey[1]===u1[1]}).catch(()=>{}))},onError:l=>{const c=wi(l);console.error("Falha ao registrar download do recurso",c),e?.(c)}});return{triggerDownload:o.mutate,triggerDownloadAsync:o.mutateAsync,isDownloading:o.isPending,error:o.error,reset:o.reset}},kz=new Cr({getAccessToken:()=>it.getState().accessToken,onUnauthenticated:()=>{it.getState().logout()}});function Oz(n,e){const i=[];if(n){const{query:s,categoryIds:o,tagIds:l,types:c,visibility:d}=n;s&&i.push(`q=${encodeURIComponent(s)}`),d&&i.push(`vis=${d}`),o?.length&&i.push(`cats=${o.join(",")}`),l?.length&&i.push(`tags=${l.join(",")}`),c?.length&&i.push(`types=${c.join(",")}`)}if(e){const{page:s,pageSize:o,sortBy:l,sortDirection:c}=e;s!==void 0&&i.push(`p=${s}`),o!==void 0&&i.push(`ps=${o}`),l&&i.push(`sb=${encodeURIComponent(l)}`),c&&i.push(`sd=${c}`)}return i.join("&")}function Mz(n,e){const i=new URLSearchParams;if(n){const{query:o,categoryIds:l,tagIds:c,types:d,visibility:m}=n;o&&i.set("query",o),m&&i.set("visibility",m),l?.forEach(p=>i.append("categoryIds",p)),c?.forEach(p=>i.append("tagIds",p)),d?.forEach(p=>i.append("types",p))}if(e){const{page:o,pageSize:l,sortBy:c,sortDirection:d}=e;o!==void 0&&i.set("page",String(o)),l!==void 0&&i.set("pageSize",String(l)),c&&i.set("sortBy",c),d&&i.set("sortDirection",d)}const s=i.toString();return s?`?${s}`:""}function Iz(n,e){const[i,s]=oe.useState(n);return oe.useEffect(()=>{const o=setTimeout(()=>s(n),e);return()=>clearTimeout(o)},[n,e]),i}const Lz=async(n,e)=>{const i=Mz(n,e),s=await kz.get(`/cybervault/resources${i}`);return bn(s),s.data},zR=({filters:n,pagination:e,debounceMs:i=300}={})=>{const s=it(_i),o=oe.useMemo(()=>Oz(n,e),[n,e]),l=Iz(o,i);return Ea({queryKey:zt.cybervault.resourcesList(l),queryFn:()=>Lz(n,e),enabled:s,staleTime:60*1e3,retry:1})},Pz=()=>{const{resourceSlug:n=""}=m1(),e=zR(),i=oe.useMemo(()=>e.data?.items.find(m=>m.slug===n)??null,[e.data?.items,n]),[s,o]=oe.useState(null),[l,c]=oe.useState(i?.downloadCount??0);oe.useEffect(()=>{i&&c(i.downloadCount)},[i?.id,i?.downloadCount]);const d=FR({onSuccess:(m,p)=>{i&&i.id===p&&c(m.totalDownloads),o("Download registrado com sucesso.")},onError:m=>{o(m)}});return i?y.jsxDEV("section",{className:"space-y-6","data-testid":"cybervault-detail",children:[y.jsxDEV("header",{className:"space-y-2",children:[y.jsxDEV("p",{className:"text-xs uppercase tracking-[0.18em]",style:{fontFamily:$e.fontHeading,color:O.textSecondary},children:"Recurso Cybervault"},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Cybervault/ResourceDetail.tsx",lineNumber:58,columnNumber:9},void 0),y.jsxDEV("h1",{className:"text-4xl uppercase",style:{fontFamily:$e.fontHeading,color:O.primary,textShadow:Mt.text},children:i.title},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Cybervault/ResourceDetail.tsx",lineNumber:61,columnNumber:9},void 0),y.jsxDEV("p",{className:"text-sm",style:{color:O.textSecondary},children:i.description},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Cybervault/ResourceDetail.tsx",lineNumber:67,columnNumber:9},void 0)]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Cybervault/ResourceDetail.tsx",lineNumber:57,columnNumber:7},void 0),y.jsxDEV(qt,{glowing:!0,children:[y.jsxDEV(wn,{style:{color:O.primary},children:"Detalhes"},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Cybervault/ResourceDetail.tsx",lineNumber:73,columnNumber:9},void 0),y.jsxDEV(Rn,{className:"space-y-3 text-sm",style:{color:O.textSecondary},children:[y.jsxDEV("p",{children:["Tipo: ",i.type]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Cybervault/ResourceDetail.tsx",lineNumber:75,columnNumber:11},void 0),y.jsxDEV("p",{"data-testid":"cybervault-detail-downloads",children:["Downloads: ",l.toLocaleString("pt-BR")]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Cybervault/ResourceDetail.tsx",lineNumber:76,columnNumber:11},void 0),y.jsxDEV("p",{children:["Views: ",i.viewCount.toLocaleString("pt-BR")]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Cybervault/ResourceDetail.tsx",lineNumber:77,columnNumber:11},void 0),y.jsxDEV("p",{children:["Tags: ",i.tags.map(m=>`#${m.name}`).join(" ")||"Nenhuma tag"]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Cybervault/ResourceDetail.tsx",lineNumber:78,columnNumber:11},void 0),y.jsxDEV(bt,{variant:"primary",loading:d.isDownloading,onClick:()=>d.triggerDownload(i.id),children:"Download rpido"},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Cybervault/ResourceDetail.tsx",lineNumber:79,columnNumber:11},void 0),s?y.jsxDEV("p",{className:"text-xs",style:{color:O.textSecondary},children:s},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Cybervault/ResourceDetail.tsx",lineNumber:87,columnNumber:13},void 0):null]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Cybervault/ResourceDetail.tsx",lineNumber:74,columnNumber:9},void 0)]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Cybervault/ResourceDetail.tsx",lineNumber:72,columnNumber:7},void 0)]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Cybervault/ResourceDetail.tsx",lineNumber:56,columnNumber:5},void 0):y.jsxDEV("section",{className:"space-y-4","data-testid":"cybervault-detail-missing",children:[y.jsxDEV("header",{className:"space-y-2",children:[y.jsxDEV("p",{className:"text-xs uppercase tracking-[0.18em]",style:{fontFamily:$e.fontHeading,color:O.textSecondary},children:"Recurso no encontrado"},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Cybervault/ResourceDetail.tsx",lineNumber:41,columnNumber:11},void 0),y.jsxDEV("h1",{className:"text-3xl uppercase",style:{fontFamily:$e.fontHeading,color:O.primary},children:"Asset indisponvel"},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Cybervault/ResourceDetail.tsx",lineNumber:44,columnNumber:11},void 0)]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Cybervault/ResourceDetail.tsx",lineNumber:40,columnNumber:9},void 0),y.jsxDEV("p",{className:"text-sm",style:{color:O.textSecondary},children:"O recurso que voc tentou acessar no est disponvel. Volte para a biblioteca e escolha outro arquivo neon."},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Cybervault/ResourceDetail.tsx",lineNumber:48,columnNumber:9},void 0)]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Cybervault/ResourceDetail.tsx",lineNumber:39,columnNumber:7},void 0)},Bz=({resource:n,open:e,onConfirm:i,onClose:s})=>{if(!e||!n)return null;const[o,l]=oe.useState(!1),[c,d]=oe.useState(null),[m,p]=oe.useState(!1),[v,E]=oe.useState(n.downloadCount);oe.useEffect(()=>{d(null),p(!1),l(!1),E(n.downloadCount)},[n.id,n.downloadCount,e]);const C=async()=>{if(n){l(!0),d(null),p(!1);try{const D=i(n.id),P=D&&typeof D.then=="function"?await D:D;E(A=>typeof P=="number"&&!Number.isNaN(P)?P:A+1),p(!0)}catch(D){console.warn("download tracking failed",D),d("No foi possvel registrar o download. Tente novamente.")}finally{l(!1)}}};return y.jsxDEV("div",{role:"dialog","aria-modal":!0,"aria-label":"Confirmao de download",className:"fixed inset-0 z-[1000] flex items-center justify-center p-6",children:[y.jsxDEV("div",{className:"absolute inset-0 bg-[var(--overlay)]",style:{"--overlay":O.overlayStrong},onClick:s},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/cybervault/DownloadModal.tsx",lineNumber:63,columnNumber:7},void 0),y.jsxDEV("div",{className:"relative w-full max-w-lg rounded-2xl border border-[var(--modal-border)] bg-[var(--modal-bg)] p-6 shadow-[var(--modal-shadow)]",style:{"--modal-border":O.borderAccent,"--modal-bg":O.bgElevated,"--modal-shadow":`${Mt.lg}`},children:[y.jsxDEV("div",{className:"flex items-start justify-between",children:[y.jsxDEV(wn,{className:"text-xl",style:{color:O.primary},children:"Download de recurso"},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/cybervault/DownloadModal.tsx",lineNumber:73,columnNumber:11},void 0),y.jsxDEV("button",{"aria-label":"Fechar modal",className:"rounded p-2 text-sm hover:bg-[var(--x-bg)]",style:{"--x-bg":O.bgTertiary,color:O.textSecondary},onClick:s,children:""},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/cybervault/DownloadModal.tsx",lineNumber:76,columnNumber:11},void 0)]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/cybervault/DownloadModal.tsx",lineNumber:72,columnNumber:9},void 0),y.jsxDEV("p",{className:"mt-2 text-sm",style:{color:O.textSecondary},children:["Confirma o download de",y.jsxDEV("span",{className:"ml-1 font-semibold",style:{color:O.textPrimary},children:n.title},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/cybervault/DownloadModal.tsx",lineNumber:87,columnNumber:11},void 0),"?"]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/cybervault/DownloadModal.tsx",lineNumber:85,columnNumber:9},void 0),y.jsxDEV("div",{className:"mt-6 flex justify-end gap-3",children:[y.jsxDEV(bt,{variant:"ghost",onClick:s,children:"Cancelar"},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/cybervault/DownloadModal.tsx",lineNumber:93,columnNumber:11},void 0),y.jsxDEV(bt,{variant:"primary",onClick:()=>void C(),disabled:o,loading:o,children:"Confirmar download"},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/cybervault/DownloadModal.tsx",lineNumber:96,columnNumber:11},void 0)]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/cybervault/DownloadModal.tsx",lineNumber:92,columnNumber:9},void 0),y.jsxDEV("p",{className:"mt-3 text-xs uppercase tracking-[0.16em]",style:{color:O.textSecondary,fontFamily:$e.fontHeading},children:"Este download ser registrado no seu histrico."},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/cybervault/DownloadModal.tsx",lineNumber:105,columnNumber:9},void 0),y.jsxDEV("div",{className:"mt-3 space-y-2 text-sm",style:{color:O.textSecondary},children:[y.jsxDEV("p",{"data-testid":"download-count",children:["Downloads registrados: ",v.toLocaleString("pt-BR")]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/cybervault/DownloadModal.tsx",lineNumber:109,columnNumber:11},void 0),m?y.jsxDEV("p",{"data-testid":"download-success",role:"status","aria-live":"polite",style:{color:O.accentSuccess},children:"Download confirmado e rastreado."},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/cybervault/DownloadModal.tsx",lineNumber:111,columnNumber:13},void 0):null,c?y.jsxDEV("p",{"data-testid":"download-error",role:"alert",style:{color:O.accentError},children:c},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/cybervault/DownloadModal.tsx",lineNumber:116,columnNumber:13},void 0):null]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/cybervault/DownloadModal.tsx",lineNumber:108,columnNumber:9},void 0)]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/cybervault/DownloadModal.tsx",lineNumber:64,columnNumber:7},void 0)]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/cybervault/DownloadModal.tsx",lineNumber:57,columnNumber:5},void 0)},jz=({query:n,onQueryChange:e,categories:i,tags:s,selectedCategoryId:o,selectedType:l="all",selectedVisibility:c="all",onChangeCategory:d,onChangeType:m,onChangeVisibility:p,onClear:v})=>{const E=C=>C.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"");return y.jsxDEV(qt,{variant:"outlined",className:"flex flex-col gap-4",children:[y.jsxDEV("div",{className:"grid gap-4 md:grid-cols-3",children:[y.jsxDEV(An,{label:"Buscar recursos",placeholder:"Digite palavras-chave",value:n,onChange:C=>e(C.target.value),"data-testid":"cybervault-search"},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/cybervault/FilterBar.tsx",lineNumber:42,columnNumber:9},void 0),y.jsxDEV("label",{className:"flex flex-col gap-2 text-sm",style:{fontFamily:$e.fontPrimary},children:[y.jsxDEV("span",{className:"text-xs uppercase tracking-[0.2em]",style:{color:O.textSecondary},children:"Categoria"},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/cybervault/FilterBar.tsx",lineNumber:50,columnNumber:11},void 0),y.jsxDEV("select",{className:"rounded-lg border px-4 py-3",style:{background:O.bgPrimary,color:O.textPrimary,borderColor:O.borderPrimary},value:o??"",onChange:C=>d?.(C.target.value||null),children:[y.jsxDEV("option",{value:"",children:"Todas"},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/cybervault/FilterBar.tsx",lineNumber:59,columnNumber:13},void 0),i.map(C=>y.jsxDEV("option",{value:C.id,children:C.name},C.id,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/cybervault/FilterBar.tsx",lineNumber:61,columnNumber:15},void 0))]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/cybervault/FilterBar.tsx",lineNumber:53,columnNumber:11},void 0)]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/cybervault/FilterBar.tsx",lineNumber:49,columnNumber:9},void 0),y.jsxDEV("div",{className:"grid grid-cols-2 gap-4",children:[y.jsxDEV("label",{className:"flex flex-col gap-2 text-sm",style:{fontFamily:$e.fontPrimary},children:[y.jsxDEV("span",{className:"text-xs uppercase tracking-[0.2em]",style:{color:O.textSecondary},children:"Tipo"},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/cybervault/FilterBar.tsx",lineNumber:69,columnNumber:13},void 0),y.jsxDEV("select",{className:"rounded-lg border px-4 py-3",style:{background:O.bgPrimary,color:O.textPrimary,borderColor:O.borderPrimary},value:l,onChange:C=>m?.(C.target.value??"all"),children:[y.jsxDEV("option",{value:"all",children:"Todos"},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/cybervault/FilterBar.tsx",lineNumber:78,columnNumber:15},void 0),Object.values(Fb).map(C=>y.jsxDEV("option",{value:C,children:C},C,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/cybervault/FilterBar.tsx",lineNumber:80,columnNumber:17},void 0))]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/cybervault/FilterBar.tsx",lineNumber:72,columnNumber:13},void 0)]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/cybervault/FilterBar.tsx",lineNumber:68,columnNumber:11},void 0),y.jsxDEV("label",{className:"flex flex-col gap-2 text-sm",style:{fontFamily:$e.fontPrimary},children:[y.jsxDEV("span",{className:"text-xs uppercase tracking-[0.2em]",style:{color:O.textSecondary},children:"Visibilidade"},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/cybervault/FilterBar.tsx",lineNumber:87,columnNumber:13},void 0),y.jsxDEV("select",{className:"rounded-lg border px-4 py-3",style:{background:O.bgPrimary,color:O.textPrimary,borderColor:O.borderPrimary},value:c,onChange:C=>p?.(C.target.value??"all"),children:[y.jsxDEV("option",{value:"all",children:"Todas"},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/cybervault/FilterBar.tsx",lineNumber:96,columnNumber:15},void 0),Object.values(_w).map(C=>y.jsxDEV("option",{value:C,children:C},C,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/cybervault/FilterBar.tsx",lineNumber:98,columnNumber:17},void 0))]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/cybervault/FilterBar.tsx",lineNumber:90,columnNumber:13},void 0)]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/cybervault/FilterBar.tsx",lineNumber:86,columnNumber:11},void 0)]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/cybervault/FilterBar.tsx",lineNumber:67,columnNumber:9},void 0)]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/cybervault/FilterBar.tsx",lineNumber:41,columnNumber:7},void 0),s.length?y.jsxDEV("div",{className:"flex flex-wrap gap-2 text-xs uppercase tracking-[0.18em]",style:{fontFamily:$e.fontHeading},children:s.slice(0,10).map(C=>y.jsxDEV("span",{className:"cursor-pointer rounded-full border border-[var(--tag-border)] px-3 py-1 hover:shadow-[0_0_8px_rgba(0,255,0,0.4)]",style:{"--tag-border":O.borderSubtle,color:O.textSecondary},"data-testid":`cybervault-filter-tag-${E(C.name)}`,children:["#",C.name]},C.id,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/cybervault/FilterBar.tsx",lineNumber:110,columnNumber:13},void 0))},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/cybervault/FilterBar.tsx",lineNumber:108,columnNumber:9},void 0):null,y.jsxDEV("div",{className:"flex justify-end",children:y.jsxDEV(bt,{variant:"ghost",onClick:v,children:"Limpar filtros"},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/cybervault/FilterBar.tsx",lineNumber:123,columnNumber:9},void 0)},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/cybervault/FilterBar.tsx",lineNumber:122,columnNumber:7},void 0)]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/cybervault/FilterBar.tsx",lineNumber:40,columnNumber:5},void 0)},tw={root:"component-resource-card",open:"component-resource-card-open"},Uz={template:"Template",playbook:"Playbook",script:"Script",asset:"Asset",spreadsheet:"Planilha",presentation:"Apresentao",other:"Outro"},Vz=({resource:n,onOpen:e,onDownload:i})=>{const s=n.thumbnailUrl,o=n.tags.slice(0,3),[l,c]=oe.useState(!1);return oe.useEffect(()=>{let d;return l&&(d=window.setTimeout(()=>c(!1),2500)),()=>{d&&window.clearTimeout(d)}},[l]),y.jsxDEV(qt,{className:"flex h-full flex-col overflow-hidden",variant:"solid",glowing:!0,"data-testid":tw.root,children:[y.jsxDEV("div",{className:"relative h-40 overflow-hidden rounded-2xl",children:[s?y.jsxDEV("img",{src:s,alt:"Preview do recurso",className:"h-full w-full object-cover"},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/cybervault/ResourceCard.tsx",lineNumber:55,columnNumber:11},void 0):y.jsxDEV("div",{className:"flex h-full items-center justify-center bg-[var(--ph-bg)]",style:{"--ph-bg":O.bgTertiary},children:y.jsxDEV("span",{className:"text-4xl","aria-hidden":!0,children:""},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/cybervault/ResourceCard.tsx",lineNumber:58,columnNumber:13},void 0)},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/cybervault/ResourceCard.tsx",lineNumber:57,columnNumber:11},void 0),y.jsxDEV("div",{className:"absolute inset-0 bg-gradient-to-t from-[rgba(10,10,10,0.95)] via-[rgba(10,10,10,0.6)] to-transparent","aria-hidden":!0},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/cybervault/ResourceCard.tsx",lineNumber:63,columnNumber:9},void 0),y.jsxDEV("div",{className:"absolute left-4 top-4",children:y.jsxDEV(Er,{variant:"outline",children:Uz[n.type]},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/cybervault/ResourceCard.tsx",lineNumber:65,columnNumber:11},void 0)},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/cybervault/ResourceCard.tsx",lineNumber:64,columnNumber:9},void 0)]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/cybervault/ResourceCard.tsx",lineNumber:53,columnNumber:7},void 0),y.jsxDEV("div",{className:"flex flex-1 flex-col gap-4 pt-4",children:[y.jsxDEV(wn,{className:"text-xl",style:{color:O.primary},children:n.title},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/cybervault/ResourceCard.tsx",lineNumber:69,columnNumber:9},void 0),y.jsxDEV(td,{style:{color:O.textSecondary},children:n.description},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/cybervault/ResourceCard.tsx",lineNumber:72,columnNumber:9},void 0),y.jsxDEV(Rn,{className:"flex flex-wrap gap-2 text-xs uppercase tracking-[0.18em]",style:{color:O.textSecondary,fontFamily:$e.fontHeading},children:[o.map(d=>y.jsxDEV("span",{className:"rounded-full border border-[var(--tag-border)] px-3 py-1",style:{"--tag-border":O.borderSubtle},children:["#",d.name]},d.id,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/cybervault/ResourceCard.tsx",lineNumber:75,columnNumber:13},void 0)),n.tags.length>3?y.jsxDEV("span",{children:["+",n.tags.length-3]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/cybervault/ResourceCard.tsx",lineNumber:79,columnNumber:39},void 0):null]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/cybervault/ResourceCard.tsx",lineNumber:73,columnNumber:9},void 0),y.jsxDEV("div",{className:"mt-auto flex items-center justify-between text-sm",style:{color:O.textSecondary},children:[y.jsxDEV("span",{"data-testid":`cybervault-resource-downloads-${n.slug}`,children:[n.viewCount.toLocaleString("pt-BR")," views  ",n.downloadCount.toLocaleString("pt-BR")," downloads"]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/cybervault/ResourceCard.tsx",lineNumber:82,columnNumber:11},void 0),y.jsxDEV("div",{className:"flex gap-2",children:[y.jsxDEV(bt,{"data-testid":tw.open,variant:"secondary",onClick:()=>e?.(n.id),children:"Abrir"},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/cybervault/ResourceCard.tsx",lineNumber:86,columnNumber:13},void 0),y.jsxDEV(bt,{"data-testid":n.type===Fb.Playbook?"cybervault-download-playbook":`cybervault-download-${n.slug}`,variant:"primary",onClick:async()=>{try{const d=i?.(n.id);d&&typeof d.then=="function"&&await d,c(!0)}catch{}},children:"Download"},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/cybervault/ResourceCard.tsx",lineNumber:89,columnNumber:13},void 0),n.type===Fb.Playbook?y.jsxDEV("span",{"data-testid":`cybervault-download-${n.slug}`,className:"sr-only","aria-hidden":!0},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/cybervault/ResourceCard.tsx",lineNumber:111,columnNumber:15},void 0):null]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/cybervault/ResourceCard.tsx",lineNumber:85,columnNumber:11},void 0)]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/cybervault/ResourceCard.tsx",lineNumber:81,columnNumber:9},void 0),l?y.jsxDEV("div",{"data-testid":"cybervault-download-toast",role:"status",className:"mt-2 text-xs",style:{color:O.accentSuccess},children:"Download pronto."},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/cybervault/ResourceCard.tsx",lineNumber:116,columnNumber:11},void 0):null]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/cybervault/ResourceCard.tsx",lineNumber:68,columnNumber:7},void 0)]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/cybervault/ResourceCard.tsx",lineNumber:47,columnNumber:5},void 0)},Fz=()=>{const[n,e]=oe.useState({}),[i,s]=oe.useState(null),[o,l]=oe.useState(!1),[c,d]=oe.useState(null),m=zR({filters:n}),p=m.data?.items??[],v=FR({onSuccess:(M,B)=>{const L=(()=>{try{const H=new Date(M.lastDownloadedAt);return Number.isNaN(H.getTime())?null:new Intl.DateTimeFormat("pt-BR",{dateStyle:"short",timeStyle:"short",timeZone:"UTC"}).format(H)}catch(H){return console.error("Falha ao formatar timestamp de download",H),null}})();d(L?`Download registrado em ${L}.`:"Download registrado com sucesso."),s(H=>H&&H.id===B?{...H,downloadCount:M.totalDownloads}:H)},onError:M=>{d(M)}}),E=async M=>{const B=await v.triggerDownloadAsync(M);return m.refetch(),B},C=M=>{s(M),l(!0)},D=async M=>{const B=await v.triggerDownloadAsync(M);return m.refetch(),B.totalDownloads},P=m.isLoading||m.isFetching,A=oe.useMemo(()=>{const M=new Map;return p.forEach(B=>{const L=B;L.category&&M.set(L.category.id,L.category)}),Array.from(M.values())},[p]),U=oe.useMemo(()=>{const M=new Map;return p.forEach(B=>{B.tags.forEach(L=>{M.set(L.id,L)})}),Array.from(M.values())},[p]);return y.jsxDEV("section",{className:"space-y-6","data-testid":"cybervault-library",children:[y.jsxDEV("header",{className:"flex flex-wrap items-center justify-between gap-4",children:[y.jsxDEV("div",{className:"space-y-1",children:[y.jsxDEV("h1",{className:"text-3xl uppercase tracking-[0.18em]",style:{fontFamily:$e.fontHeading,color:O.primary},children:"Cybervault"},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Cybervault/ResourceLibrary.tsx",lineNumber:111,columnNumber:11},void 0),y.jsxDEV("p",{className:"text-sm",style:{color:O.textSecondary},children:"Coleo neon de assets, playbooks e scripts. Use os filtros para acelerar o que precisa."},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Cybervault/ResourceLibrary.tsx",lineNumber:117,columnNumber:11},void 0)]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Cybervault/ResourceLibrary.tsx",lineNumber:110,columnNumber:9},void 0),y.jsxDEV(bt,{variant:"ghost",onClick:()=>e({}),children:"Limpar filtros"},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Cybervault/ResourceLibrary.tsx",lineNumber:121,columnNumber:9},void 0)]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Cybervault/ResourceLibrary.tsx",lineNumber:109,columnNumber:7},void 0),y.jsxDEV(jz,{query:n.query??"",onQueryChange:M=>e(B=>({...B,query:M})),categories:A,tags:U,selectedCategoryId:n.categoryIds?.[0]??null,onChangeCategory:M=>e(B=>({...B,categoryIds:M?[M]:void 0})),selectedType:n.types?.[0]??"all",onChangeType:M=>e(B=>({...B,types:M==="all"?void 0:[M]})),selectedVisibility:n.visibility??"all",onChangeVisibility:M=>e(B=>({...B,visibility:M==="all"?void 0:M})),onClear:()=>e({})},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Cybervault/ResourceLibrary.tsx",lineNumber:126,columnNumber:7},void 0),c?y.jsxDEV("p",{className:"text-xs",style:{color:O.textSecondary},children:c},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Cybervault/ResourceLibrary.tsx",lineNumber:147,columnNumber:9},void 0):null,P?y.jsxDEV("div",{className:"grid gap-4 md:grid-cols-2 xl:grid-cols-3",children:Array.from({length:6}).map((M,B)=>y.jsxDEV("div",{className:"h-64 animate-pulse rounded-3xl border border-[var(--skel-border)] bg-[var(--skel-bg)]",style:{"--skel-border":O.borderPrimary,"--skel-bg":O.bgSecondary}},B,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Cybervault/ResourceLibrary.tsx",lineNumber:155,columnNumber:13},void 0))},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Cybervault/ResourceLibrary.tsx",lineNumber:153,columnNumber:9},void 0):null,!P&&!p.length?y.jsxDEV("div",{className:"rounded-3xl border border-[var(--border-color)] bg-[var(--bg-elevated)] p-6 text-sm",style:{"--border-color":O.borderPrimary,"--bg-elevated":O.bgSecondary},children:"Nenhum recurso encontrado com os filtros atuais. Tente ajustar a busca ou remover filtros."},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Cybervault/ResourceLibrary.tsx",lineNumber:165,columnNumber:9},void 0):null,y.jsxDEV("div",{className:"grid gap-4 md:grid-cols-2 xl:grid-cols-3",children:p.map(M=>y.jsxDEV(Vz,{resource:M,onOpen:()=>C(M),onDownload:E},M.id,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Cybervault/ResourceLibrary.tsx",lineNumber:175,columnNumber:11},void 0))},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Cybervault/ResourceLibrary.tsx",lineNumber:173,columnNumber:7},void 0),y.jsxDEV(Bz,{resource:i,open:o,onConfirm:D,onClose:()=>l(!1)},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Cybervault/ResourceLibrary.tsx",lineNumber:184,columnNumber:7},void 0)]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Cybervault/ResourceLibrary.tsx",lineNumber:108,columnNumber:5},void 0)},zz=pT({baseUrl:pl().min(1,"Informe a URL base").url("URL invlida").refine(n=>n.startsWith("https://"),"A URL deve iniciar com https://"),apiKey:pl().min(8,"Chave API muito curta")}),HR=({initialConfig:n,onSubmit:e,submitting:i=!1,error:s,successMessage:o})=>{const l=it(v1),[c,d]=oe.useState({baseUrl:n?.baseUrl??"",apiKey:""}),[m,p]=oe.useState(null),v=oe.useMemo(()=>{switch(n?.status){case"connected":return"Conectado";case"error":return"Erro";case"disconnected":default:return"Desconectado"}},[n?.status]),E=D=>P=>{d(A=>({...A,[D]:P.target.value}))};oe.useEffect(()=>{n?.baseUrl&&d(D=>D.baseUrl===n.baseUrl?D:{...D,baseUrl:n.baseUrl})},[n?.baseUrl]);const C=async D=>{D.preventDefault(),p(null);const P=zz.safeParse(c);if(!P.success){const A=P.error.issues[0];p(A?.message??"Dados invlidos");return}await e?.(P.data)};return y.jsxDEV(qt,{className:"max-w-2xl",variant:"outlined","data-testid":"hidra-configure-evolution",children:[y.jsxDEV("div",{className:"space-y-2",children:[y.jsxDEV(wn,{className:"text-xl",style:{color:O.primary},children:"Evolution API"},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hidra/EvolutionConfigForm.tsx",lineNumber:87,columnNumber:9},void 0),y.jsxDEV(td,{style:{color:O.textSecondary},children:"Configure a conexo com sua instncia da Evolution API."},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hidra/EvolutionConfigForm.tsx",lineNumber:90,columnNumber:9},void 0)]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hidra/EvolutionConfigForm.tsx",lineNumber:86,columnNumber:7},void 0),y.jsxDEV("form",{onSubmit:C,className:"mt-6 space-y-5",children:[y.jsxDEV("div",{className:"grid gap-5 md:grid-cols-2",children:[y.jsxDEV(An,{label:"Base URL",placeholder:"https://minha-evolution.exemplo.com",value:c.baseUrl,onChange:E("baseUrl"),name:"evolutionUrl",required:!0},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hidra/EvolutionConfigForm.tsx",lineNumber:96,columnNumber:11},void 0),y.jsxDEV(An,{label:"API Key",placeholder:"chave-secreta",value:c.apiKey,onChange:E("apiKey"),name:"apiKey",required:!0},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hidra/EvolutionConfigForm.tsx",lineNumber:104,columnNumber:11},void 0)]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hidra/EvolutionConfigForm.tsx",lineNumber:95,columnNumber:9},void 0),n?y.jsxDEV("div",{className:"rounded-xl border border-[var(--cfg-border)] bg-[var(--cfg-bg)] p-4 text-sm",style:{"--cfg-border":O.borderPrimary,"--cfg-bg":O.bgPrimary},children:[y.jsxDEV("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[y.jsxDEV("span",{style:{color:O.textSecondary},children:["Status atual: ",v]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hidra/EvolutionConfigForm.tsx",lineNumber:117,columnNumber:15},void 0),n.lastHealthCheckAt?y.jsxDEV("span",{style:{color:O.textSecondary},children:["ltimo check: ",new Date(n.lastHealthCheckAt).toLocaleString("pt-BR")]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hidra/EvolutionConfigForm.tsx",lineNumber:119,columnNumber:17},void 0):null]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hidra/EvolutionConfigForm.tsx",lineNumber:116,columnNumber:13},void 0),n.errorMessage?y.jsxDEV("p",{className:"mt-2 text-sm",style:{color:O.accentError},children:n.errorMessage},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hidra/EvolutionConfigForm.tsx",lineNumber:125,columnNumber:15},void 0):null]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hidra/EvolutionConfigForm.tsx",lineNumber:115,columnNumber:11},void 0):null,m?y.jsxDEV("div",{className:"rounded-lg border border-[var(--err-border)] bg-[var(--err-bg)] p-3 text-sm",style:{"--err-border":O.accentError,"--err-bg":Nr.errorTint},children:m},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hidra/EvolutionConfigForm.tsx",lineNumber:133,columnNumber:11},void 0):null,s?y.jsxDEV("div",{className:"rounded-lg border border-[var(--err-border)] bg-[var(--err-bg)] p-3 text-sm",style:{"--err-border":O.accentError,"--err-bg":Nr.errorTint},children:s},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hidra/EvolutionConfigForm.tsx",lineNumber:138,columnNumber:11},void 0):null,o?y.jsxDEV("div",{className:"rounded-lg border border-[var(--ok-border)] bg-[var(--ok-bg)] p-3 text-sm",style:{"--ok-border":O.borderAccent,"--ok-bg":Nr.successTint},children:o},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hidra/EvolutionConfigForm.tsx",lineNumber:143,columnNumber:11},void 0):null,y.jsxDEV("div",{className:"flex items-center justify-between",children:[y.jsxDEV("div",{className:"text-xs uppercase tracking-[0.16em]",style:{fontFamily:$e.fontHeading,color:O.textSecondary},children:["Usurio: ",l?.profile.displayName??l?.email??"desconhecido"]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hidra/EvolutionConfigForm.tsx",lineNumber:149,columnNumber:11},void 0),y.jsxDEV(bt,{type:"submit",disabled:i,loading:i,"data-testid":"hidra-config-submit",children:n?"Atualizar":"Conectar"},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hidra/EvolutionConfigForm.tsx",lineNumber:152,columnNumber:11},void 0)]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hidra/EvolutionConfigForm.tsx",lineNumber:148,columnNumber:9},void 0)]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hidra/EvolutionConfigForm.tsx",lineNumber:94,columnNumber:7},void 0)]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hidra/EvolutionConfigForm.tsx",lineNumber:85,columnNumber:5},void 0)},Hz=new Cr({getAccessToken:()=>it.getState().accessToken,onUnauthenticated:()=>{it.getState().logout()}}),$R=async()=>{const n=await Hz.get("/hidra/dashboard");return bn(n),n.data},qR=()=>{const n=it(_i);return Ea({queryKey:zt.hidra.dashboard(),queryFn:$R,enabled:n,staleTime:30*1e3})},Fm=new Cr({getAccessToken:()=>it.getState().accessToken,onUnauthenticated:()=>{it.getState().logout()}}),zm=()=>{if(!it(_i))throw new Error("Usurio no autenticado")},Wh={async fetchDashboardSummary(){zm();const n=await Fm.get("/hidra/dashboard");return bn(n),n.data},async fetchSegments(){zm();const n=await Fm.get("/hidra/segments");return bn(n),n.data},async fetchTemplates(){zm();const n=await Fm.get("/hidra/templates");return bn(n),n.data},async updateEvolutionConfig(n){zm();const e=await Fm.put("/hidra/config",n);return bn(e),e.data},async createCampaign(n){zm();const e=await Fm.post("/hidra/campaigns",n);return bn(e),e.data}},ku=n=>{const e=wi(n);return console.error("Hidra request failed",e),e},GR=[{id:"segment-growth",name:"Growth Leads"},{id:"segment-warm",name:"Warm Contacts"}],XR=[{id:"template-launch",name:"Template Lanamento"},{id:"template-onboarding",name:"Boas-vindas Mentoria"}],nw={name:"",description:"",segmentId:GR[0]?.id??"",templateId:XR[0]?.id??"",maxMessagesPerMinute:60,scheduledAt:null,externalId:""},$z=()=>{const n=dp(),e=vl(),i=qR(),s=i.data?.config??null,[o,l]=oe.useState(nw),[c,d]=oe.useState(null),[m,p]=oe.useState(null),[v,E]=oe.useState(null),C=i.error?ku(i.error):null,D=i.isLoading||i.isFetching,P=vo({mutationFn:async H=>(d(null),await Wh.updateEvolutionConfig({...H,verifyConnection:!0})),onSuccess:H=>{e.setQueryData(zt.hidra.dashboard(),Q=>Q&&{...Q,config:H}),d("Configurao verificada com sucesso."),p(null)},onError:H=>{p(ku(H))},onSettled:()=>{Promise.all([e.invalidateQueries({queryKey:zt.hidra.dashboard()}),e.invalidateQueries({queryKey:zt.hidra.campaignStats()})])}}),A=vo({mutationFn:async H=>(p(null),Wh.createCampaign(H)),onSuccess:H=>{E(H),l(nw),Promise.all([e.invalidateQueries({queryKey:zt.hidra.dashboard()}),e.invalidateQueries({queryKey:zt.hidra.campaignStats()})])},onError:H=>{p(ku(H))}}),U=async H=>{try{await P.mutateAsync(H)}catch{}},M=(H,Q)=>{l(se=>({...se,[H]:Q}))},B=oe.useMemo(()=>!!(o.name&&o.segmentId&&o.templateId),[o.name,o.segmentId,o.templateId]),L=async H=>{if(H.preventDefault(),!B){p("Preencha os campos obrigatrios para salvar a campanha.");return}E(null);const Q={...o,scheduledAt:o.scheduledAt||null,externalId:o.externalId||void 0};try{await A.mutateAsync(Q)}catch{}};return y.jsxDEV("section",{className:"space-y-8","data-testid":"hidra-create-campaign",children:[y.jsxDEV("header",{className:"space-y-1",children:[y.jsxDEV("h1",{className:"text-3xl uppercase tracking-[0.18em]",style:{fontFamily:$e.fontHeading,color:O.primary},children:"Criar campanha"},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Hidra/CampaignCreate.tsx",lineNumber:135,columnNumber:9},void 0),y.jsxDEV("p",{className:"text-sm",style:{color:O.textSecondary},children:"Defina segmentao, template e limite de disparos. Integrao real com Evolution API j alinhada."},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Hidra/CampaignCreate.tsx",lineNumber:141,columnNumber:9},void 0)]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Hidra/CampaignCreate.tsx",lineNumber:134,columnNumber:7},void 0),m&&!P.isError||C?y.jsxDEV("div",{className:"rounded-3xl border border-[var(--err-border)] bg-[var(--err-bg)] p-4 text-sm",style:{"--err-border":O.accentError,"--err-bg":Nr.errorTint},children:C??m},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Hidra/CampaignCreate.tsx",lineNumber:147,columnNumber:9},void 0):null,v?y.jsxDEV("div",{className:"rounded-3xl border border-[var(--ok-border)] bg-[var(--ok-bg)] p-4 text-sm",style:{"--ok-border":O.borderAccent,"--ok-bg":Nr.successTint},children:["Campanha ",y.jsxDEV("strong",{children:v.name},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Hidra/CampaignCreate.tsx",lineNumber:159,columnNumber:20},void 0)," criada com sucesso. ",v.status.toUpperCase()," "," ",y.jsxDEV("button",{className:"underline",onClick:()=>n("/hidra/campaigns"),children:"Ver campanhas"},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Hidra/CampaignCreate.tsx",lineNumber:160,columnNumber:11},void 0)]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Hidra/CampaignCreate.tsx",lineNumber:155,columnNumber:9},void 0):null,y.jsxDEV(qt,{variant:"outlined",children:[y.jsxDEV(wn,{style:{color:O.primary},children:"Configurao Evolution"},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Hidra/CampaignCreate.tsx",lineNumber:167,columnNumber:9},void 0),y.jsxDEV(Rn,{className:"space-y-4",children:y.jsxDEV(HR,{initialConfig:s,onSubmit:U,submitting:P.isPending||D,successMessage:c,error:P.isError?m:null},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Hidra/CampaignCreate.tsx",lineNumber:169,columnNumber:11},void 0)},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Hidra/CampaignCreate.tsx",lineNumber:168,columnNumber:9},void 0)]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Hidra/CampaignCreate.tsx",lineNumber:166,columnNumber:7},void 0),y.jsxDEV(qt,{variant:"outlined",children:[y.jsxDEV(wn,{style:{color:O.primary},children:"Detalhes da campanha"},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Hidra/CampaignCreate.tsx",lineNumber:180,columnNumber:9},void 0),y.jsxDEV(Rn,{children:y.jsxDEV("form",{className:"space-y-6",onSubmit:L,children:[y.jsxDEV("div",{className:"grid gap-5 md:grid-cols-2",children:[y.jsxDEV(An,{label:"Nome da campanha",placeholder:"Sequncia WhatsApp Neon",value:o.name,onChange:H=>M("name",H.target.value),required:!0},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Hidra/CampaignCreate.tsx",lineNumber:184,columnNumber:15},void 0),y.jsxDEV(An,{label:"ID externo (opcional)",placeholder:"evolution-job-123",value:o.externalId??"",onChange:H=>M("externalId",H.target.value)},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Hidra/CampaignCreate.tsx",lineNumber:191,columnNumber:15},void 0)]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Hidra/CampaignCreate.tsx",lineNumber:183,columnNumber:13},void 0),y.jsxDEV("div",{children:y.jsxDEV("label",{className:"flex flex-col gap-2 text-sm",style:{fontFamily:$e.fontPrimary},children:[y.jsxDEV("span",{className:"text-xs uppercase tracking-[0.2em]",style:{color:O.textSecondary},children:"Descrio"},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Hidra/CampaignCreate.tsx",lineNumber:200,columnNumber:17},void 0),y.jsxDEV("textarea",{className:"min-h-[140px] rounded-2xl border border-[var(--border-color)] bg-[var(--bg-elevated)] px-4 py-3 text-sm",style:{"--border-color":O.borderPrimary,"--bg-elevated":O.bgSecondary},value:o.description??"",onChange:H=>M("description",H.target.value),placeholder:"Resumo do objetivo da campanha"},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Hidra/CampaignCreate.tsx",lineNumber:203,columnNumber:17},void 0)]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Hidra/CampaignCreate.tsx",lineNumber:199,columnNumber:15},void 0)},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Hidra/CampaignCreate.tsx",lineNumber:198,columnNumber:13},void 0),y.jsxDEV("div",{className:"grid gap-5 md:grid-cols-3",children:[y.jsxDEV("label",{className:"flex flex-col gap-2 text-sm",style:{fontFamily:$e.fontPrimary},children:[y.jsxDEV("span",{className:"text-xs uppercase tracking-[0.2em]",style:{color:O.textSecondary},children:"Segmento"},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Hidra/CampaignCreate.tsx",lineNumber:214,columnNumber:17},void 0),y.jsxDEV("select",{className:"rounded-2xl border border-[var(--border-color)] bg-[var(--bg-elevated)] px-4 py-3",style:{"--border-color":O.borderPrimary,"--bg-elevated":O.bgSecondary},value:o.segmentId,onChange:H=>M("segmentId",H.target.value),required:!0,children:GR.map(H=>y.jsxDEV("option",{value:H.id,children:H.name},H.id,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Hidra/CampaignCreate.tsx",lineNumber:225,columnNumber:21},void 0))},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Hidra/CampaignCreate.tsx",lineNumber:217,columnNumber:17},void 0)]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Hidra/CampaignCreate.tsx",lineNumber:213,columnNumber:15},void 0),y.jsxDEV("label",{className:"flex flex-col gap-2 text-sm",style:{fontFamily:$e.fontPrimary},children:[y.jsxDEV("span",{className:"text-xs uppercase tracking-[0.2em]",style:{color:O.textSecondary},children:"Template"},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Hidra/CampaignCreate.tsx",lineNumber:232,columnNumber:17},void 0),y.jsxDEV("select",{className:"rounded-2xl border border-[var(--border-color)] bg-[var(--bg-elevated)] px-4 py-3",style:{"--border-color":O.borderPrimary,"--bg-elevated":O.bgSecondary},value:o.templateId,onChange:H=>M("templateId",H.target.value),required:!0,children:XR.map(H=>y.jsxDEV("option",{value:H.id,children:H.name},H.id,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Hidra/CampaignCreate.tsx",lineNumber:243,columnNumber:21},void 0))},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Hidra/CampaignCreate.tsx",lineNumber:235,columnNumber:17},void 0)]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Hidra/CampaignCreate.tsx",lineNumber:231,columnNumber:15},void 0),y.jsxDEV(An,{label:"Mensagens por minuto",type:"number",min:1,max:1e3,value:o.maxMessagesPerMinute??60,onChange:H=>{const Q=Number(H.target.value);M("maxMessagesPerMinute",Number.isNaN(Q)?60:Q)},required:!0},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Hidra/CampaignCreate.tsx",lineNumber:249,columnNumber:15},void 0)]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Hidra/CampaignCreate.tsx",lineNumber:212,columnNumber:13},void 0),y.jsxDEV("div",{className:"grid gap-5 md:grid-cols-2",children:[y.jsxDEV(An,{label:"Agendar para",type:"datetime-local",value:o.scheduledAt??"",onChange:H=>M("scheduledAt",H.target.value)},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Hidra/CampaignCreate.tsx",lineNumber:263,columnNumber:15},void 0),y.jsxDEV("div",{className:"space-y-2 text-xs",style:{color:O.textSecondary},children:[y.jsxDEV("p",{children:"Deixe vazio para disparo imediato."},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Hidra/CampaignCreate.tsx",lineNumber:270,columnNumber:17},void 0),y.jsxDEV("p",{children:"O wizard avanado permitir escolha de mltiplos horrios."},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Hidra/CampaignCreate.tsx",lineNumber:271,columnNumber:17},void 0)]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Hidra/CampaignCreate.tsx",lineNumber:269,columnNumber:15},void 0)]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Hidra/CampaignCreate.tsx",lineNumber:262,columnNumber:13},void 0),y.jsxDEV("div",{className:"flex justify-end",children:y.jsxDEV(bt,{type:"submit",variant:"primary","data-testid":"hidra-save-campaign",loading:A.isPending,disabled:!B||A.isPending,children:"Salvar campanha"},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Hidra/CampaignCreate.tsx",lineNumber:275,columnNumber:15},void 0)},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Hidra/CampaignCreate.tsx",lineNumber:274,columnNumber:13},void 0)]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Hidra/CampaignCreate.tsx",lineNumber:182,columnNumber:11},void 0)},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Hidra/CampaignCreate.tsx",lineNumber:181,columnNumber:9},void 0)]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Hidra/CampaignCreate.tsx",lineNumber:179,columnNumber:7},void 0)]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Hidra/CampaignCreate.tsx",lineNumber:133,columnNumber:5},void 0)},qz={root:"component-campaign-table"},Gz={draft:{label:"Rascunho",variant:"default"},scheduled:{label:"Agendada",variant:"warning"},running:{label:"Rodando",variant:"success"},paused:{label:"Pausada",variant:"warning"},completed:{label:"Concluda",variant:"outline"},failed:{label:"Falhou",variant:"error"}},YR=({items:n,loading:e,onView:i,onPause:s,onResume:o,onDelete:l})=>e?y.jsxDEV(qt,{variant:"outlined",className:"animate-pulse",children:[y.jsxDEV("div",{className:"h-10 rounded bg-[var(--skel)]",style:{"--skel":O.bgPrimary}},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hidra/CampaignTable.tsx",lineNumber:34,columnNumber:9},void 0),y.jsxDEV("div",{className:"mt-3 h-10 rounded bg-[var(--skel)]",style:{"--skel":O.bgPrimary}},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hidra/CampaignTable.tsx",lineNumber:35,columnNumber:9},void 0),y.jsxDEV("div",{className:"mt-3 h-10 rounded bg-[var(--skel)]",style:{"--skel":O.bgPrimary}},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hidra/CampaignTable.tsx",lineNumber:36,columnNumber:9},void 0)]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hidra/CampaignTable.tsx",lineNumber:33,columnNumber:7},void 0):y.jsxDEV(qt,{variant:"outlined","data-testid":qz.root,children:[y.jsxDEV(wn,{className:"text-xl",style:{color:O.primary},children:"Campanhas"},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hidra/CampaignTable.tsx",lineNumber:43,columnNumber:7},void 0),y.jsxDEV(Rn,{className:"mt-4 overflow-x-auto p-0",children:y.jsxDEV("table",{className:"min-w-full border-collapse text-sm",children:[y.jsxDEV("thead",{children:y.jsxDEV("tr",{className:"text-left uppercase tracking-[0.16em]",style:{fontFamily:$e.fontHeading,color:O.textSecondary},children:[y.jsxDEV("th",{className:"px-4 py-3",children:"Nome"},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hidra/CampaignTable.tsx",lineNumber:50,columnNumber:15},void 0),y.jsxDEV("th",{className:"px-4 py-3",children:"Canal"},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hidra/CampaignTable.tsx",lineNumber:51,columnNumber:15},void 0),y.jsxDEV("th",{className:"px-4 py-3",children:"Status"},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hidra/CampaignTable.tsx",lineNumber:52,columnNumber:15},void 0),y.jsxDEV("th",{className:"px-4 py-3",children:"Agendada"},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hidra/CampaignTable.tsx",lineNumber:53,columnNumber:15},void 0),y.jsxDEV("th",{className:"px-4 py-3",children:"Aes"},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hidra/CampaignTable.tsx",lineNumber:54,columnNumber:15},void 0)]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hidra/CampaignTable.tsx",lineNumber:49,columnNumber:13},void 0)},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hidra/CampaignTable.tsx",lineNumber:48,columnNumber:11},void 0),y.jsxDEV("tbody",{children:n.map(c=>{const d=Gz[c.status],m="scheduledAt"in c&&c.scheduledAt?new Date(c.scheduledAt).toLocaleString("pt-BR"):"-",p=c.id,v=c.status==="running",E=c.status==="paused"||c.status==="scheduled",C=c.status==="draft"||c.status==="failed"||c.status==="completed";return y.jsxDEV("tr",{"data-testid":(function(){return`hidra-campaign-row-${("name"in c?String(c.name):String(p)).toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,"")}`})(),className:"border-t border-[var(--row-border)]",style:{"--row-border":O.borderPrimary},children:[y.jsxDEV("td",{className:"px-4 py-3",style:{color:O.textPrimary},children:"name"in c?c.name:p},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hidra/CampaignTable.tsx",lineNumber:80,columnNumber:19},void 0),y.jsxDEV("td",{className:"px-4 py-3",style:{color:O.textSecondary},children:c.channel.toUpperCase()},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hidra/CampaignTable.tsx",lineNumber:81,columnNumber:19},void 0),y.jsxDEV("td",{className:"px-4 py-3",children:y.jsxDEV(Er,{variant:d.variant,children:d.label},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hidra/CampaignTable.tsx",lineNumber:83,columnNumber:21},void 0)},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hidra/CampaignTable.tsx",lineNumber:82,columnNumber:19},void 0),y.jsxDEV("td",{className:"px-4 py-3",style:{color:O.textSecondary},children:m},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hidra/CampaignTable.tsx",lineNumber:85,columnNumber:19},void 0),y.jsxDEV("td",{className:"px-4 py-3",children:y.jsxDEV("div",{className:"flex flex-wrap gap-2",children:[y.jsxDEV(bt,{variant:"secondary",onClick:()=>i?.(p),children:"Ver"},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hidra/CampaignTable.tsx",lineNumber:88,columnNumber:23},void 0),v?y.jsxDEV(bt,{variant:"ghost",onClick:()=>s?.(p),children:"Pausar"},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hidra/CampaignTable.tsx",lineNumber:90,columnNumber:25},void 0):null,E?y.jsxDEV(bt,{variant:"primary",onClick:()=>o?.(p),children:"Retomar"},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hidra/CampaignTable.tsx",lineNumber:93,columnNumber:25},void 0):null,C?y.jsxDEV(bt,{variant:"ghost",onClick:()=>l?.(p),children:"Excluir"},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hidra/CampaignTable.tsx",lineNumber:96,columnNumber:25},void 0):null]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hidra/CampaignTable.tsx",lineNumber:87,columnNumber:21},void 0)},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hidra/CampaignTable.tsx",lineNumber:86,columnNumber:19},void 0)]},p,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hidra/CampaignTable.tsx",lineNumber:67,columnNumber:17},void 0)})},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hidra/CampaignTable.tsx",lineNumber:57,columnNumber:11},void 0)]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hidra/CampaignTable.tsx",lineNumber:47,columnNumber:9},void 0)},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hidra/CampaignTable.tsx",lineNumber:46,columnNumber:7},void 0)]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hidra/CampaignTable.tsx",lineNumber:42,columnNumber:5},void 0),Xz=n=>{if(!n.length)return{totalMessages:0,delivered:0,failed:0,pending:0,averageDeliveryMs:0,lastUpdatedAt:new Date().toISOString()};let e=0,i=0,s=0,o=0,l=0,c=0,d=n[0]?.metrics.lastUpdatedAt??new Date().toISOString();n.forEach(({metrics:p})=>{e+=p.totalMessages,i+=p.delivered,s+=p.failed,o+=p.pending,l+=p.averageDeliveryMs*p.delivered,c+=p.delivered,p.lastUpdatedAt>d&&(d=p.lastUpdatedAt)});const m=c?Math.round(l/c):0;return{totalMessages:e,delivered:i,failed:s,pending:o,averageDeliveryMs:m,lastUpdatedAt:d}},Yz=n=>{const e=new Map;return n.forEach(i=>{i.timeline.forEach(s=>{const o=e.get(s.timestamp)??{delivered:0,failed:0};o.delivered+=s.delivered,o.failed+=s.failed,e.set(s.timestamp,o)})}),Array.from(e.entries()).map(([i,s])=>({timestamp:i,delivered:s.delivered,failed:s.failed})).sort((i,s)=>new Date(i.timestamp).getTime()-new Date(s.timestamp).getTime())},iw=n=>{const e=n.recentCampaigns??[];return{campaigns:e,overview:Qz(n.messageSummary,e),timeline:e.length?Yz(e):[],totals:n.totals??null}},QR=()=>{const n=it(_i),e=vl(),i=Ea({queryKey:zt.hidra.campaignStats(),enabled:n,staleTime:30*1e3,queryFn:async()=>{const c=await e.ensureQueryData({queryKey:zt.hidra.dashboard(),queryFn:$R});return iw(c)},initialData:()=>{const c=e.getQueryData(zt.hidra.dashboard());return c?iw(c):void 0}}),s=i.data?.campaigns??[],o=oe.useMemo(()=>i.data?.overview??null,[i.data?.overview]),l=oe.useMemo(()=>i.data?.timeline??[],[i.data?.timeline]);return{...i,campaigns:s,overview:o,timeline:l,totals:i.data?.totals??null}},Qz=(n,e)=>n?{totalMessages:n.totalMessages,delivered:n.delivered,failed:n.failed,pending:n.pending,averageDeliveryMs:n.averageDeliveryMs,lastUpdatedAt:n.lastUpdatedAt??new Date().toISOString()}:Xz(e),Zz=()=>{const n=dp(),{campaigns:e,isLoading:i,isFetching:s,error:o}=QR(),l=o?ku(o):null,c=i||s;return y.jsxDEV("section",{className:"space-y-6","data-testid":"hidra-campaigns",children:[y.jsxDEV("header",{className:"flex flex-wrap items-center justify-between gap-4",children:[y.jsxDEV("div",{className:"space-y-1",children:[y.jsxDEV("h1",{className:"text-2xl uppercase tracking-[0.18em]",style:{fontFamily:$e.fontHeading,color:O.primary},children:"Campanhas Evolution"},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Hidra/Campaigns.tsx",lineNumber:19,columnNumber:11},void 0),y.jsxDEV("p",{className:"text-sm",style:{color:O.textSecondary},children:"Gerencie drafts, execues e acompanhe status das automaes."},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Hidra/Campaigns.tsx",lineNumber:25,columnNumber:11},void 0)]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Hidra/Campaigns.tsx",lineNumber:18,columnNumber:9},void 0),y.jsxDEV(bt,{variant:"primary",onClick:()=>n("/hidra/campaigns/create"),children:"Nova campanha"},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Hidra/Campaigns.tsx",lineNumber:29,columnNumber:9},void 0)]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Hidra/Campaigns.tsx",lineNumber:17,columnNumber:7},void 0),y.jsxDEV(YR,{items:e,loading:c},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Hidra/Campaigns.tsx",lineNumber:34,columnNumber:7},void 0),l?y.jsxDEV("p",{className:"text-sm",style:{color:O.accentError},children:l},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Hidra/Campaigns.tsx",lineNumber:37,columnNumber:9},void 0):null]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Hidra/Campaigns.tsx",lineNumber:16,columnNumber:5},void 0)},Wz=({data:n,height:e=160})=>{if(!n.length)return y.jsxDEV("div",{className:"flex h-40 items-center justify-center rounded-xl border border-[var(--chart-border)] bg-[var(--chart-bg)] text-sm",style:{"--chart-border":O.borderPrimary,"--chart-bg":O.bgPrimary},children:"Sem dados suficientes"},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hidra/TimelineChart.tsx",lineNumber:13,columnNumber:7},void 0);const i=Math.max(...n.map(s=>s.delivered+s.failed),1);return y.jsxDEV("div",{className:"relative w-full overflow-hidden rounded-xl border border-[var(--chart-border)] bg-[var(--chart-bg)]",style:{"--chart-border":O.borderPrimary,"--chart-bg":O.bgPrimary,height:`${e}px`},children:y.jsxDEV("div",{className:"absolute inset-0 flex items-end gap-2 p-3",children:n.map(s=>{const o=s.delivered+s.failed,l=Math.round(o/i*(e-24)),c=o>0?Math.round(s.delivered/o*l):0,d=l-c;return y.jsxDEV("div",{className:"flex w-3 flex-col justify-end rounded bg-[var(--fail)]",style:{"--fail":"rgba(255,51,51,0.6)"},children:[y.jsxDEV("div",{className:"w-full rounded-t",style:{height:`${c}px`,background:O.primary}},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hidra/TimelineChart.tsx",lineNumber:34,columnNumber:15},void 0),y.jsxDEV("div",{className:"w-full rounded-b",style:{height:`${d}px`,background:"rgba(255,51,51,0.6)"}},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hidra/TimelineChart.tsx",lineNumber:35,columnNumber:15},void 0)]},s.timestamp,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hidra/TimelineChart.tsx",lineNumber:33,columnNumber:13},void 0)})},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hidra/TimelineChart.tsx",lineNumber:26,columnNumber:7},void 0)},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hidra/TimelineChart.tsx",lineNumber:22,columnNumber:5},void 0)},Kz=({overview:n,timeline:e,loading:i})=>i?y.jsxDEV("div",{className:"grid gap-6 md:grid-cols-2 xl:grid-cols-4",children:Array.from({length:4}).map((s,o)=>y.jsxDEV("div",{className:"h-28 animate-pulse rounded-2xl border border-[var(--skel-border)] bg-[var(--skel-bg)]",style:{"--skel-border":O.borderPrimary,"--skel-bg":O.bgPrimary}},o,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hidra/MetricsCards.tsx",lineNumber:18,columnNumber:11},void 0))},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hidra/MetricsCards.tsx",lineNumber:16,columnNumber:7},void 0):y.jsxDEV("div",{className:"space-y-6",children:[y.jsxDEV("div",{className:"grid gap-6 md:grid-cols-2 xl:grid-cols-4",children:[y.jsxDEV(kb,{label:"Total",value:n?.totalMessages??0},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hidra/MetricsCards.tsx",lineNumber:27,columnNumber:9},void 0),y.jsxDEV(kb,{label:"Entregues",value:n?.delivered??0,accent:"primary"},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hidra/MetricsCards.tsx",lineNumber:28,columnNumber:9},void 0),y.jsxDEV(kb,{label:"Pendentes",value:n?.pending??0},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hidra/MetricsCards.tsx",lineNumber:29,columnNumber:9},void 0),y.jsxDEV(kb,{label:"Falhas",value:n?.failed??0,accent:"danger"},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hidra/MetricsCards.tsx",lineNumber:30,columnNumber:9},void 0)]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hidra/MetricsCards.tsx",lineNumber:26,columnNumber:7},void 0),y.jsxDEV(qt,{variant:"outlined",children:[y.jsxDEV(wn,{className:"text-lg",style:{color:O.primary},children:"Timeline de Entregas"},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hidra/MetricsCards.tsx",lineNumber:33,columnNumber:9},void 0),y.jsxDEV(Rn,{className:"mt-4",children:[y.jsxDEV(Wz,{data:e},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hidra/MetricsCards.tsx",lineNumber:37,columnNumber:11},void 0),n?y.jsxDEV("p",{className:"mt-3 text-xs",style:{color:O.textSecondary},children:["Mdia de entrega: ",n.averageDeliveryMs,"ms  Atualizado em ",new Date(n.lastUpdatedAt).toLocaleString("pt-BR")]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hidra/MetricsCards.tsx",lineNumber:39,columnNumber:13},void 0):null]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hidra/MetricsCards.tsx",lineNumber:36,columnNumber:9},void 0)]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hidra/MetricsCards.tsx",lineNumber:32,columnNumber:7},void 0)]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hidra/MetricsCards.tsx",lineNumber:25,columnNumber:5},void 0),kb=({label:n,value:e,accent:i})=>y.jsxDEV("div",{className:"rounded-2xl border px-5 py-4",style:{borderColor:O.borderPrimary,background:O.bgSecondary,boxShadow:i?Mt.sm:void 0},children:[y.jsxDEV("div",{className:"text-xs uppercase tracking-[0.16em]",style:{fontFamily:$e.fontHeading,color:O.textSecondary},children:n},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hidra/MetricsCards.tsx",lineNumber:64,columnNumber:5},void 0),y.jsxDEV("div",{className:"mt-1 text-2xl",style:{color:i==="danger"?O.accentError:O.primary},children:e.toLocaleString("pt-BR")},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hidra/MetricsCards.tsx",lineNumber:67,columnNumber:5},void 0)]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hidra/MetricsCards.tsx",lineNumber:56,columnNumber:3},void 0),Jz=()=>{const{campaigns:n,overview:e,timeline:i,isLoading:s,isFetching:o,error:l}=QR(),c=l?ku(l):null;return y.jsxDEV("section",{className:"space-y-6","data-testid":"hidra-dashboard",children:[y.jsxDEV("header",{className:"space-y-1",children:[y.jsxDEV("h1",{className:"text-3xl uppercase tracking-[0.18em]",style:{fontFamily:$e.fontHeading,color:O.primary},children:"Hidra automations"},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Hidra/Dashboard.tsx",lineNumber:16,columnNumber:9},void 0),y.jsxDEV("p",{className:"text-sm",style:{color:O.textSecondary},children:"Visualize mtricas de campanhas e configure o Evolution enquanto as integraes finais chegam."},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Hidra/Dashboard.tsx",lineNumber:22,columnNumber:9},void 0)]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Hidra/Dashboard.tsx",lineNumber:15,columnNumber:7},void 0),y.jsxDEV(Kz,{overview:e,timeline:i,loading:s||o},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Hidra/Dashboard.tsx",lineNumber:27,columnNumber:7},void 0),y.jsxDEV(YR,{items:n,loading:s},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Hidra/Dashboard.tsx",lineNumber:29,columnNumber:7},void 0),c?y.jsxDEV("div",{className:"rounded-3xl border border-[var(--err-border)] bg-[var(--err-bg)] p-4 text-sm",style:{"--err-border":O.accentError,"--err-bg":Nr.errorTint},children:c},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Hidra/Dashboard.tsx",lineNumber:32,columnNumber:9},void 0):null,!n.length&&!s?y.jsxDEV("div",{className:"rounded-3xl border border-[var(--border-color)] bg-[var(--bg-elevated)] p-6 text-sm",style:{"--border-color":O.borderPrimary,"--bg-elevated":O.bgSecondary},children:'Nenhuma campanha registrada ainda. Use o boto "Criar campanha" para iniciar um disparo pela Evolution API.'},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Hidra/Dashboard.tsx",lineNumber:41,columnNumber:9},void 0):null]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Hidra/Dashboard.tsx",lineNumber:14,columnNumber:5},void 0)},eH=()=>y.jsxDEV("div",{className:"h-full rounded-3xl border border-[var(--skel-border)] bg-[var(--skel-bg)]",style:{"--skel-border":O.borderPrimary,"--skel-bg":O.bgSecondary}},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hidra/wizard/SegmentSelector.tsx",lineNumber:17,columnNumber:3},void 0),tH={csv_upload:"CSV Upload",manual:"Manual",api:"API"},ZR=({segments:n,selectedSegmentId:e,onSelect:i,loading:s,error:o,onRetry:l})=>s?y.jsxDEV("div",{className:"grid gap-4 md:grid-cols-2","data-testid":"hidra-segment-loading",children:[0,1,2,3].map(c=>y.jsxDEV(eH,{},c,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hidra/wizard/SegmentSelector.tsx",lineNumber:41,columnNumber:11},void 0))},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hidra/wizard/SegmentSelector.tsx",lineNumber:39,columnNumber:7},void 0):o?y.jsxDEV("div",{className:"flex flex-col gap-3 rounded-3xl border border-[var(--error-border)] bg-[var(--error-bg)] p-6 text-sm","data-testid":"hidra-segment-error",style:{"--error-border":O.accentError,"--error-bg":Nr.errorTint},children:[y.jsxDEV("span",{style:{color:O.accentError},children:o},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hidra/wizard/SegmentSelector.tsx",lineNumber:54,columnNumber:9},void 0),l?y.jsxDEV(bt,{variant:"ghost",size:"sm",onClick:l,"data-testid":"hidra-segment-retry",children:"Tentar novamente"},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hidra/wizard/SegmentSelector.tsx",lineNumber:56,columnNumber:11},void 0):null]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hidra/wizard/SegmentSelector.tsx",lineNumber:49,columnNumber:7},void 0):n.length===0?y.jsxDEV(qt,{variant:"outlined","data-testid":"hidra-segment-empty",children:y.jsxDEV(Rn,{className:"text-center text-sm",style:{color:O.textSecondary},children:"Nenhum segmento disponvel ainda. Importe contatos no Hidra para habilitar esta etapa."},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hidra/wizard/SegmentSelector.tsx",lineNumber:67,columnNumber:9},void 0)},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hidra/wizard/SegmentSelector.tsx",lineNumber:66,columnNumber:7},void 0):y.jsxDEV("div",{className:"grid gap-4 md:grid-cols-2","data-testid":"hidra-segment-list",children:n.map(c=>{const d=c.id===e;return y.jsxDEV("button",{type:"button",onClick:()=>i(c),className:"block w-full text-left focus:outline-none focus-visible:ring-2 focus-visible:ring-[var(--focus-ring)] focus-visible:ring-offset-2 focus-visible:ring-offset-[var(--focus-offset)]","data-testid":`hidra-segment-${c.id}`,"aria-pressed":d,style:{"--focus-ring":O.borderAccent,"--focus-offset":O.bgPrimary},children:y.jsxDEV(qt,{variant:d?"outlined":"solid",glowing:d,className:"h-full transition-transform duration-200 hover:-translate-y-0.5",style:{"--card-border":d?O.borderAccent:O.borderPrimary,"--card-shadow":d?Mt.md:Mt.sm},children:[y.jsxDEV(wn,{className:"text-lg",style:{color:O.primary},children:c.name},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hidra/wizard/SegmentSelector.tsx",lineNumber:102,columnNumber:15},void 0),y.jsxDEV(Rn,{children:[y.jsxDEV("p",{children:c.description},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hidra/wizard/SegmentSelector.tsx",lineNumber:106,columnNumber:17},void 0),y.jsxDEV("div",{className:"text-xs uppercase tracking-[0.18em]",style:{color:O.textSecondary},children:[c.totalContacts," contatos  ",tH[c.importSource]]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hidra/wizard/SegmentSelector.tsx",lineNumber:107,columnNumber:17},void 0),y.jsxDEV("span",{className:"text-xs",style:{color:O.textTertiary},children:["Criado em ",new Date(c.createdAt).toLocaleDateString("pt-BR")]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hidra/wizard/SegmentSelector.tsx",lineNumber:110,columnNumber:17},void 0)]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hidra/wizard/SegmentSelector.tsx",lineNumber:105,columnNumber:15},void 0)]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hidra/wizard/SegmentSelector.tsx",lineNumber:91,columnNumber:13},void 0)},c.id,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hidra/wizard/SegmentSelector.tsx",lineNumber:79,columnNumber:11},void 0)})},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hidra/wizard/SegmentSelector.tsx",lineNumber:75,columnNumber:5},void 0);ZR.displayName="SegmentSelector";const nH=()=>y.jsxDEV("div",{className:"h-full rounded-3xl border border-[var(--skel-border)] bg-[var(--skel-bg)]",style:{"--skel-border":O.borderPrimary,"--skel-bg":O.bgSecondary}},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hidra/wizard/TemplateEditor.tsx",lineNumber:19,columnNumber:3},void 0),WR=({templates:n,selectedTemplateId:e,previewBody:i,onSelectTemplate:s,onPreviewChange:o,loading:l,error:c,onRetry:d})=>{if(l)return y.jsxDEV("div",{className:"grid gap-4 md:grid-cols-2","data-testid":"hidra-template-loading",children:[0,1,2].map(v=>y.jsxDEV(nH,{},v,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hidra/wizard/TemplateEditor.tsx",lineNumber:39,columnNumber:11},void 0))},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hidra/wizard/TemplateEditor.tsx",lineNumber:37,columnNumber:7},void 0);if(c)return y.jsxDEV("div",{className:"flex flex-col gap-3 rounded-3xl border border-[var(--error-border)] bg-[var(--error-bg)] p-6 text-sm","data-testid":"hidra-template-error",style:{"--error-border":O.accentError,"--error-bg":Nr.errorTint},children:[y.jsxDEV("span",{style:{color:O.accentError},children:c},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hidra/wizard/TemplateEditor.tsx",lineNumber:52,columnNumber:9},void 0),d?y.jsxDEV(bt,{variant:"ghost",size:"sm",onClick:d,"data-testid":"hidra-template-retry",children:"Recarregar templates"},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hidra/wizard/TemplateEditor.tsx",lineNumber:54,columnNumber:11},void 0):null]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hidra/wizard/TemplateEditor.tsx",lineNumber:47,columnNumber:7},void 0);if(n.length===0)return y.jsxDEV(qt,{variant:"outlined","data-testid":"hidra-template-empty",children:y.jsxDEV(Rn,{className:"text-center text-sm",style:{color:O.textSecondary},children:"Nenhum template cadastrado. Configure modelos na Evolution API para liberar esta etapa."},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hidra/wizard/TemplateEditor.tsx",lineNumber:65,columnNumber:9},void 0)},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hidra/wizard/TemplateEditor.tsx",lineNumber:64,columnNumber:7},void 0);const m=n.find(v=>v.id===e)??null,p=v=>{o(v.target.value)};return y.jsxDEV("div",{className:"grid gap-6","data-testid":"hidra-template-editor",children:[y.jsxDEV("div",{className:"grid gap-4 md:grid-cols-2",children:n.map(v=>{const E=v.id===e;return y.jsxDEV("button",{type:"button",onClick:()=>s(v),className:"block w-full text-left focus:outline-none focus-visible:ring-2 focus-visible:ring-[var(--focus-ring)] focus-visible:ring-offset-2 focus-visible:ring-offset-[var(--focus-offset)]","data-testid":`hidra-template-${v.id}`,"aria-pressed":E,style:{"--focus-ring":O.borderAccent,"--focus-offset":O.bgPrimary},children:y.jsxDEV(qt,{variant:E?"outlined":"solid",glowing:E,className:"h-full transition-transform duration-200 hover:-translate-y-0.5",style:{"--card-border":E?O.borderAccent:O.borderPrimary,"--card-shadow":E?Mt.md:Mt.sm},children:[y.jsxDEV(wn,{className:"text-lg",style:{color:O.primary},children:v.title},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hidra/wizard/TemplateEditor.tsx",lineNumber:107,columnNumber:17},void 0),y.jsxDEV(Rn,{children:[y.jsxDEV("p",{className:"line-clamp-3 text-sm","data-testid":"hidra-template-body-preview",children:v.body},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hidra/wizard/TemplateEditor.tsx",lineNumber:111,columnNumber:19},void 0),y.jsxDEV("div",{className:"text-xs uppercase tracking-[0.18em]",style:{color:O.textSecondary},children:["Variveis: ",v.variables.length>0?v.variables.join(", "):"Nenhuma"]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hidra/wizard/TemplateEditor.tsx",lineNumber:114,columnNumber:19},void 0),v.mediaUrl?y.jsxDEV("span",{className:"text-xs",style:{color:O.textTertiary},children:["Anexo: ",v.mediaUrl]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hidra/wizard/TemplateEditor.tsx",lineNumber:118,columnNumber:21},void 0):null]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hidra/wizard/TemplateEditor.tsx",lineNumber:110,columnNumber:17},void 0)]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hidra/wizard/TemplateEditor.tsx",lineNumber:96,columnNumber:15},void 0)},v.id,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hidra/wizard/TemplateEditor.tsx",lineNumber:84,columnNumber:13},void 0)})},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hidra/wizard/TemplateEditor.tsx",lineNumber:80,columnNumber:7},void 0),m?y.jsxDEV(qt,{variant:"outlined","data-testid":"hidra-template-preview",children:[y.jsxDEV(wn,{className:"text-lg",style:{color:O.primary},children:"Pr-visualizao da mensagem"},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hidra/wizard/TemplateEditor.tsx",lineNumber:131,columnNumber:11},void 0),y.jsxDEV(Rn,{className:"gap-3",children:[y.jsxDEV(An,{label:"Ttulo",value:m.title,disabled:!0,containerClassName:"max-w-xl"},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hidra/wizard/TemplateEditor.tsx",lineNumber:135,columnNumber:13},void 0),y.jsxDEV("label",{className:"flex flex-col gap-2 text-sm",style:{color:O.textSecondary},children:[y.jsxDEV("span",{className:"text-xs uppercase tracking-[0.2em]",style:{color:O.textSecondary},children:"Mensagem personalizada"},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hidra/wizard/TemplateEditor.tsx",lineNumber:142,columnNumber:15},void 0),y.jsxDEV("textarea",{className:"min-h-[160px] rounded-2xl border border-[var(--textarea-border)] bg-[var(--textarea-bg)] px-4 py-3 text-sm focus:outline-none focus:ring-2 focus:ring-[var(--textarea-focus)]",style:{"--textarea-border":O.borderPrimary,"--textarea-bg":O.bgSecondary,"--textarea-focus":O.borderAccent},value:i,onChange:p,"data-testid":"hidra-template-preview-body"},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hidra/wizard/TemplateEditor.tsx",lineNumber:145,columnNumber:15},void 0),y.jsxDEV("span",{className:"text-xs",style:{color:O.textTertiary},children:"Utilize as variveis exatamente como listadas acima. A mensagem final no  enviada nesta etapa; ela serve como guia para reviso."},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hidra/wizard/TemplateEditor.tsx",lineNumber:158,columnNumber:15},void 0)]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hidra/wizard/TemplateEditor.tsx",lineNumber:141,columnNumber:13},void 0)]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hidra/wizard/TemplateEditor.tsx",lineNumber:134,columnNumber:11},void 0)]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hidra/wizard/TemplateEditor.tsx",lineNumber:130,columnNumber:9},void 0):null]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hidra/wizard/TemplateEditor.tsx",lineNumber:79,columnNumber:5},void 0)};WR.displayName="TemplateEditor";const KR=({form:n,onFormChange:e,onSubmit:i,submitting:s,canSubmit:o,segment:l,template:c,previewBody:d,submissionError:m})=>y.jsxDEV("div",{className:"grid gap-6","data-testid":"hidra-schedule-review",children:[y.jsxDEV(qt,{variant:"outlined",children:[y.jsxDEV(wn,{className:"text-lg",style:{color:O.primary},children:"Dados da campanha"},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hidra/wizard/ScheduleReview.tsx",lineNumber:41,columnNumber:9},void 0),y.jsxDEV(Rn,{className:"gap-4",children:[y.jsxDEV(An,{label:"Nome da campanha",placeholder:"Sequncia WhatsApp Neon",value:n.name,onChange:p=>e("name",p.target.value),required:!0,"data-testid":"hidra-schedule-name"},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hidra/wizard/ScheduleReview.tsx",lineNumber:45,columnNumber:11},void 0),y.jsxDEV("label",{className:"flex flex-col gap-2 text-sm",style:{color:O.textSecondary},children:[y.jsxDEV("span",{className:"text-xs uppercase tracking-[0.2em]",style:{color:O.textSecondary},children:"Descrio"},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hidra/wizard/ScheduleReview.tsx",lineNumber:54,columnNumber:13},void 0),y.jsxDEV("textarea",{className:"min-h-[140px] rounded-2xl border border-[var(--textarea-border)] bg-[var(--textarea-bg)] px-4 py-3 text-sm focus:outline-none focus:ring-2 focus:ring-[var(--textarea-focus)]",style:{"--textarea-border":O.borderPrimary,"--textarea-bg":O.bgSecondary,"--textarea-focus":O.borderAccent},value:n.description,onChange:p=>e("description",p.target.value),placeholder:"Resumo para o time acompanhar esta campanha","data-testid":"hidra-schedule-description"},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hidra/wizard/ScheduleReview.tsx",lineNumber:57,columnNumber:13},void 0)]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hidra/wizard/ScheduleReview.tsx",lineNumber:53,columnNumber:11},void 0),y.jsxDEV("div",{className:"grid gap-4 md:grid-cols-2",children:[y.jsxDEV(An,{label:"Mensagens por minuto",type:"number",min:1,max:1e3,value:n.maxMessagesPerMinute,onChange:p=>{const v=Number(p.target.value);e("maxMessagesPerMinute",Number.isNaN(v)?60:v)},required:!0,"data-testid":"hidra-schedule-max-rate"},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hidra/wizard/ScheduleReview.tsx",lineNumber:73,columnNumber:13},void 0),y.jsxDEV(An,{label:"Agendar para",type:"datetime-local",value:n.scheduledAt,onChange:p=>e("scheduledAt",p.target.value),"data-testid":"hidra-schedule-datetime"},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hidra/wizard/ScheduleReview.tsx",lineNumber:86,columnNumber:13},void 0)]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hidra/wizard/ScheduleReview.tsx",lineNumber:72,columnNumber:11},void 0),y.jsxDEV(An,{label:"ID externo (opcional)",placeholder:"evolution-job-123",value:n.externalId,onChange:p=>e("externalId",p.target.value),"data-testid":"hidra-schedule-external-id"},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hidra/wizard/ScheduleReview.tsx",lineNumber:94,columnNumber:11},void 0)]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hidra/wizard/ScheduleReview.tsx",lineNumber:44,columnNumber:9},void 0)]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hidra/wizard/ScheduleReview.tsx",lineNumber:40,columnNumber:7},void 0),y.jsxDEV(qt,{variant:"outlined",children:[y.jsxDEV(wn,{className:"text-lg",style:{color:O.primary},children:"Reviso"},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hidra/wizard/ScheduleReview.tsx",lineNumber:105,columnNumber:9},void 0),y.jsxDEV(Rn,{className:"gap-4",children:[y.jsxDEV("div",{children:[y.jsxDEV("span",{className:"text-xs uppercase tracking-[0.18em]",style:{color:O.textSecondary},children:"Segmento"},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hidra/wizard/ScheduleReview.tsx",lineNumber:110,columnNumber:13},void 0),y.jsxDEV("p",{"data-testid":"hidra-review-segment",style:{color:O.textPrimary},children:l?`${l.name}  ${l.totalContacts} contatos`:"Nenhum segmento selecionado"},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hidra/wizard/ScheduleReview.tsx",lineNumber:113,columnNumber:13},void 0)]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hidra/wizard/ScheduleReview.tsx",lineNumber:109,columnNumber:11},void 0),y.jsxDEV("div",{children:[y.jsxDEV("span",{className:"text-xs uppercase tracking-[0.18em]",style:{color:O.textSecondary},children:"Template"},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hidra/wizard/ScheduleReview.tsx",lineNumber:118,columnNumber:13},void 0),y.jsxDEV("p",{"data-testid":"hidra-review-template",style:{color:O.textPrimary},children:c?c.title:"Nenhum template selecionado"},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hidra/wizard/ScheduleReview.tsx",lineNumber:121,columnNumber:13},void 0)]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hidra/wizard/ScheduleReview.tsx",lineNumber:117,columnNumber:11},void 0),y.jsxDEV("div",{children:[y.jsxDEV("span",{className:"text-xs uppercase tracking-[0.18em]",style:{color:O.textSecondary},children:"Mensagem"},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hidra/wizard/ScheduleReview.tsx",lineNumber:126,columnNumber:13},void 0),y.jsxDEV("p",{className:"rounded-2xl border border-[var(--preview-border)] bg-[var(--preview-bg)] p-4 text-sm",style:{"--preview-border":O.borderPrimary,"--preview-bg":O.bgSecondary,color:O.textSecondary},children:d||"Selecione um template para visualizar a mensagem."},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hidra/wizard/ScheduleReview.tsx",lineNumber:129,columnNumber:13},void 0)]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hidra/wizard/ScheduleReview.tsx",lineNumber:125,columnNumber:11},void 0)]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hidra/wizard/ScheduleReview.tsx",lineNumber:108,columnNumber:9},void 0)]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hidra/wizard/ScheduleReview.tsx",lineNumber:104,columnNumber:7},void 0),m?y.jsxDEV("div",{className:"rounded-3xl border border-[var(--error-border)] bg-[var(--error-bg)] p-4 text-sm","data-testid":"hidra-schedule-error",style:{"--error-border":O.accentError,"--error-bg":Nr.errorTint},children:m},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hidra/wizard/ScheduleReview.tsx",lineNumber:141,columnNumber:9},void 0):null,y.jsxDEV("div",{className:"flex justify-end",children:y.jsxDEV(bt,{type:"button",variant:"primary",size:"lg",onClick:i,disabled:!o||s,loading:s,"data-testid":"hidra-schedule-submit",children:"Criar campanha"},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hidra/wizard/ScheduleReview.tsx",lineNumber:151,columnNumber:9},void 0)},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hidra/wizard/ScheduleReview.tsx",lineNumber:150,columnNumber:7},void 0)]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hidra/wizard/ScheduleReview.tsx",lineNumber:39,columnNumber:5},void 0);KR.displayName="ScheduleReview";const iH=[],rH=()=>{const n=it(_i);return Ea({queryKey:zt.hidra.segments(),queryFn:()=>Wh.fetchSegments(),enabled:n,placeholderData:iH,staleTime:60*1e3})},sH=[],aH=()=>{const n=it(_i);return Ea({queryKey:zt.hidra.templates(),queryFn:()=>Wh.fetchTemplates(),enabled:n,placeholderData:sH,staleTime:60*1e3})},Ob=[{id:"segment",label:"Segmentao"},{id:"template",label:"Template"},{id:"schedule",label:"Agendamento & Reviso"}],rw={name:"",description:"",scheduledAt:"",maxMessagesPerMinute:60,externalId:""},oH=()=>{const[n,e]=oe.useState(0),[i,s]=oe.useState(null),[o,l]=oe.useState(null),[c,d]=oe.useState(""),[m,p]=oe.useState(rw),[v,E]=oe.useState(null),[C,D]=oe.useState(null),P=rH(),A=aH(),U=vl();oe.useEffect(()=>{d(o?o.body:"")},[o?.id]);const M=P.error?wi(P.error):null,B=A.error?wi(A.error):null,L=n===Ob.length-1,H=oe.useMemo(()=>n===0?!!i:n===1?!!o:!0,[n,i,o]),Q=fe=>{s(fe),D(null)},se=fe=>{l(fe),D(null)},q=(fe,Re)=>{p(be=>({...be,[fe]:Re})),D(null)},te=()=>{!L&&H&&e(fe=>Math.min(fe+1,Ob.length-1))},I=()=>{e(fe=>Math.max(0,fe-1))},j=vo({mutationFn:fe=>Wh.createCampaign(fe),onSuccess:fe=>{D(`Campanha ${fe.name} criada com sucesso.`),E(null),p(rw),s(null),l(null),d(""),e(0),Promise.all([U.invalidateQueries({queryKey:zt.hidra.dashboard()}),U.invalidateQueries({queryKey:zt.hidra.campaignStats()})])},onError:fe=>{E(ku(fe))}}),ge=async()=>{if(!i||!o)return;E(null);const fe={name:m.name,description:m.description||void 0,segmentId:i.id,templateId:o.id,maxMessagesPerMinute:Math.max(1,m.maxMessagesPerMinute||60),scheduledAt:m.scheduledAt||null,externalId:m.externalId||void 0};try{await j.mutateAsync(fe)}catch{}},de=fe=>fe.id==="segment"?y.jsxDEV(ZR,{segments:P.data??[],selectedSegmentId:i?.id??null,onSelect:Q,loading:P.isLoading||P.isFetching,error:M,onRetry:()=>{P.refetch()}},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Hidra/Wizard.tsx",lineNumber:142,columnNumber:9},void 0):fe.id==="template"?y.jsxDEV(WR,{templates:A.data??[],selectedTemplateId:o?.id??null,previewBody:c,onSelectTemplate:se,onPreviewChange:d,loading:A.isLoading||A.isFetching,error:B,onRetry:()=>{A.refetch()}},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Hidra/Wizard.tsx",lineNumber:157,columnNumber:9},void 0):y.jsxDEV(KR,{form:m,onFormChange:q,onSubmit:ge,submitting:j.isPending,canSubmit:!!(m.name&&i&&o),segment:i,template:o,previewBody:c,submissionError:v},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Hidra/Wizard.tsx",lineNumber:173,columnNumber:7},void 0),ie=Ob[n];return y.jsxDEV("section",{className:"space-y-6","data-testid":"hidra-wizard",children:[y.jsxDEV("header",{className:"space-y-1",children:[y.jsxDEV("h1",{className:"text-2xl uppercase tracking-[0.18em]",style:{fontFamily:$e.fontHeading,color:O.primary},children:"Wizard de campanhas"},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Hidra/Wizard.tsx",lineNumber:192,columnNumber:9},void 0),y.jsxDEV("p",{className:"text-sm",style:{color:O.textSecondary},children:"Estruture campanhas em etapas neon: escolha o segmento, ajuste o template e finalize o agendamento com segurana."},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Hidra/Wizard.tsx",lineNumber:198,columnNumber:9},void 0)]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Hidra/Wizard.tsx",lineNumber:191,columnNumber:7},void 0),C?y.jsxDEV("div",{className:"rounded-3xl border border-[var(--success-border)] bg-[var(--success-bg)] p-4 text-sm","data-testid":"hidra-wizard-success",style:{"--success-border":O.borderAccent,"--success-bg":Nr.successTint},children:C},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Hidra/Wizard.tsx",lineNumber:204,columnNumber:9},void 0):null,y.jsxDEV("div",{className:"flex flex-wrap items-center gap-4","data-testid":"hidra-wizard-stepper",children:Ob.map((fe,Re)=>{const be=Re===n,ve=Re<n;return y.jsxDEV("div",{className:"flex items-center gap-3 rounded-full border px-4 py-2 text-xs uppercase tracking-[0.18em]",style:{borderColor:be?O.borderAccent:O.borderPrimary,boxShadow:be?Mt.sm:"none",color:be||ve?O.primary:O.textSecondary,background:be?"rgba(0, 255, 0, 0.08)":O.bgSecondary},"data-step":fe.id,children:[y.jsxDEV("span",{className:"flex h-6 w-6 items-center justify-center rounded-full border",style:{borderColor:be||ve?O.borderAccent:O.borderPrimary,color:be||ve?O.primary:O.textSecondary},children:Re+1},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Hidra/Wizard.tsx",lineNumber:229,columnNumber:15},void 0),y.jsxDEV("span",{children:fe.label},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Hidra/Wizard.tsx",lineNumber:238,columnNumber:15},void 0)]},fe.id,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Hidra/Wizard.tsx",lineNumber:218,columnNumber:13},void 0)})},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Hidra/Wizard.tsx",lineNumber:213,columnNumber:7},void 0),y.jsxDEV("div",{className:"space-y-6","data-testid":"hidra-wizard-content",children:[de(ie),y.jsxDEV("div",{className:"flex items-center justify-between",children:[y.jsxDEV(bt,{variant:"ghost",size:"sm",onClick:I,disabled:n===0||j.isPending,"data-testid":"hidra-wizard-back",children:"Voltar"},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Hidra/Wizard.tsx",lineNumber:248,columnNumber:11},void 0),L?y.jsxDEV("span",{},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Hidra/Wizard.tsx",lineNumber:268,columnNumber:13},void 0):y.jsxDEV(bt,{variant:"primary",size:"sm",onClick:te,disabled:!H,"data-testid":"hidra-wizard-next",children:"Prximo"},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Hidra/Wizard.tsx",lineNumber:258,columnNumber:13},void 0)]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Hidra/Wizard.tsx",lineNumber:247,columnNumber:9},void 0)]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Hidra/Wizard.tsx",lineNumber:244,columnNumber:7},void 0)]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Hidra/Wizard.tsx",lineNumber:190,columnNumber:5},void 0)},lH=()=>{const n=vl(),e=qR(),[i,s]=oe.useState(null),[o,l]=oe.useState(null),c=e.data?.config??null,d=e.error?ku(e.error):null,m=vo({mutationFn:async C=>(s(null),l(null),await Wh.updateEvolutionConfig({...C,verifyConnection:!0})),onSuccess:C=>{n.setQueryData(zt.hidra.dashboard(),D=>D&&{...D,config:C}),l("Configurao atualizada com sucesso.")},onError:C=>{s(ku(C))},onSettled:()=>{Promise.all([n.invalidateQueries({queryKey:zt.hidra.dashboard()}),n.invalidateQueries({queryKey:zt.hidra.campaignStats()})])}}),p=async C=>{await m.mutateAsync(C)},v=e.isLoading||e.isFetching,E=!!(d&&!i);return y.jsxDEV("section",{className:"space-y-6","data-testid":"hidra-config",children:[y.jsxDEV("header",{className:"space-y-1",children:[y.jsxDEV("h1",{className:"text-2xl uppercase tracking-[0.18em]",style:{fontFamily:$e.fontHeading,color:O.primary},children:"Configurao Evolution API"},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Hidra/Config.tsx",lineNumber:55,columnNumber:9},void 0),y.jsxDEV("p",{className:"text-sm",style:{color:O.textSecondary},children:"Cadastre sua instncia Evolution para liberar campanhas automatizadas."},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Hidra/Config.tsx",lineNumber:61,columnNumber:9},void 0)]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Hidra/Config.tsx",lineNumber:54,columnNumber:7},void 0),E?y.jsxDEV("div",{className:"rounded-3xl border border-[var(--err-border)] bg-[var(--err-bg)] p-4 text-sm",style:{"--err-border":O.accentError,"--err-bg":Nr.errorTint},children:d},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Hidra/Config.tsx",lineNumber:67,columnNumber:9},void 0):null,y.jsxDEV(HR,{initialConfig:c,onSubmit:p,submitting:v||m.isPending,successMessage:o,error:i},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Hidra/Config.tsx",lineNumber:75,columnNumber:7},void 0)]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Hidra/Config.tsx",lineNumber:53,columnNumber:5},void 0)},Dx={root:"component-hero-banner",primaryCta:"component-hero-banner-primary-cta",secondaryCta:"component-hero-banner-secondary-cta"},sw=new Intl.DateTimeFormat("pt-BR",{dateStyle:"medium",timeStyle:"short"}),uH=(n,e)=>n==="scheduled"&&e?"Em breve":n==="inactive"?"Pausado":"Ativo",cH=({banner:n,onPrimaryClick:e,onSecondaryClick:i})=>{const s=n.startsAt?sw.format(new Date(n.startsAt)):null,o=n.endsAt?sw.format(new Date(n.endsAt)):null,l=n.imageUrl?{backgroundImage:`linear-gradient(135deg, rgba(10,10,10,0.85) 0%, rgba(10,10,10,0.5) 50%, rgba(10,10,10,0.85) 100%), url(${n.imageUrl})`,backgroundSize:"cover",backgroundPosition:"center"}:{backgroundImage:WD.dark};return y.jsxDEV(qt,{"data-testid":Dx.root,className:"relative overflow-hidden border-none px-10 py-12",variant:"solid",glowing:!0,style:{...l,color:O.textPrimary},children:[y.jsxDEV("div",{className:"relative z-10 flex flex-col gap-6 md:flex-row md:items-end md:justify-between",children:[y.jsxDEV("div",{className:"max-w-2xl space-y-4",children:[y.jsxDEV(Er,{variant:"outline",children:uH(n.status,n.startsAt)},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hub/HeroBanner.tsx",lineNumber:59,columnNumber:11},void 0),y.jsxDEV(wn,{style:{color:O.primary},children:n.title},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hub/HeroBanner.tsx",lineNumber:60,columnNumber:11},void 0),y.jsxDEV(td,{style:{color:O.textSecondary},children:n.description},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hub/HeroBanner.tsx",lineNumber:61,columnNumber:11},void 0),y.jsxDEV(Rn,{className:"flex flex-wrap gap-4 text-base",style:{color:O.textSecondary},children:y.jsxDEV("p",{children:`Disponvel at ${o??"tempo indeterminado"}`},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hub/HeroBanner.tsx",lineNumber:63,columnNumber:13},void 0)},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hub/HeroBanner.tsx",lineNumber:62,columnNumber:11},void 0),y.jsxDEV("div",{className:"flex flex-wrap gap-4",children:[y.jsxDEV(bt,{"data-testid":Dx.primaryCta,onClick:e,children:n.primaryCta.label},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hub/HeroBanner.tsx",lineNumber:66,columnNumber:13},void 0),n.secondaryCta?y.jsxDEV(bt,{"data-testid":Dx.secondaryCta,variant:"secondary",onClick:i,children:n.secondaryCta.label},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hub/HeroBanner.tsx",lineNumber:70,columnNumber:15},void 0):null]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hub/HeroBanner.tsx",lineNumber:65,columnNumber:11},void 0)]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hub/HeroBanner.tsx",lineNumber:58,columnNumber:9},void 0),y.jsxDEV("div",{className:"flex flex-col items-end gap-3 text-right text-sm uppercase tracking-[0.16em]",style:{fontFamily:$e.fontHeading},children:[s?y.jsxDEV("span",{style:{color:O.textSecondary},children:["Incio: ",s]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hub/HeroBanner.tsx",lineNumber:77,columnNumber:26},void 0):null,o?y.jsxDEV("span",{style:{color:O.textSecondary},children:["Fim: ",o]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hub/HeroBanner.tsx",lineNumber:78,columnNumber:24},void 0):null]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hub/HeroBanner.tsx",lineNumber:76,columnNumber:9},void 0)]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hub/HeroBanner.tsx",lineNumber:57,columnNumber:7},void 0),y.jsxDEV("div",{className:"absolute inset-0 opacity-40","aria-hidden":!0,style:{background:WD.neon}},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hub/HeroBanner.tsx",lineNumber:81,columnNumber:7},void 0)]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hub/HeroBanner.tsx",lineNumber:47,columnNumber:5},void 0)},dH=[{key:"totalMessages",label:"Mensagens totais",accent:"primary"},{key:"delivered",label:"Entregues",accent:"primary"},{key:"pending",label:"Pendentes"},{key:"failed",label:"Falhas",accent:"danger"}],hH=({metrics:n,loading:e})=>e?y.jsxDEV("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:Array.from({length:4}).map((i,s)=>y.jsxDEV("div",{className:"h-28 animate-pulse rounded-2xl border border-[var(--skel-border)] bg-[var(--skel-bg)]",style:{"--skel-border":O.borderPrimary,"--skel-bg":O.bgPrimary}},s,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hub/MetricsOverview.tsx",lineNumber:29,columnNumber:11},void 0))},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hub/MetricsOverview.tsx",lineNumber:27,columnNumber:7},void 0):n?y.jsxDEV("div",{className:"space-y-4","data-testid":"hub-metrics-overview",children:[y.jsxDEV("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:dH.map(({key:i,label:s,accent:o})=>y.jsxDEV(fH,{label:s,value:n[i],accent:o},i,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hub/MetricsOverview.tsx",lineNumber:57,columnNumber:11},void 0))},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hub/MetricsOverview.tsx",lineNumber:55,columnNumber:7},void 0),y.jsxDEV("p",{className:"text-xs",style:{color:O.textSecondary},children:["Atualizado em"," ",n.lastUpdatedAt?new Date(n.lastUpdatedAt).toLocaleString("pt-BR"):"sem registro","."," ","Mdia de entrega: ",n.averageDeliveryMs,"ms."]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hub/MetricsOverview.tsx",lineNumber:60,columnNumber:7},void 0)]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hub/MetricsOverview.tsx",lineNumber:54,columnNumber:5},void 0):y.jsxDEV(qt,{variant:"outlined","data-testid":"hub-metrics-empty",children:[y.jsxDEV(wn,{className:"text-lg",style:{color:O.primary},children:"Mtricas indisponveis"},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hub/MetricsOverview.tsx",lineNumber:42,columnNumber:9},void 0),y.jsxDEV(Rn,{className:"mt-2 text-sm",style:{color:O.textSecondary},children:"As mtricas do Hidra ainda no foram sincronizadas. Assim que as campanhas enviarem dados, elas aparecero aqui."},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hub/MetricsOverview.tsx",lineNumber:45,columnNumber:9},void 0)]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hub/MetricsOverview.tsx",lineNumber:41,columnNumber:7},void 0),fH=({label:n,value:e,accent:i})=>y.jsxDEV("div",{className:"rounded-2xl border px-5 py-4",style:{borderColor:O.borderPrimary,background:O.bgSecondary,boxShadow:i==="primary"?Mt.sm:void 0},children:[y.jsxDEV("div",{className:"text-xs uppercase tracking-[0.16em]",style:{fontFamily:$e.fontHeading,color:O.textSecondary},children:n},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hub/MetricsOverview.tsx",lineNumber:86,columnNumber:5},void 0),y.jsxDEV("div",{className:"mt-1 text-2xl",style:{color:i==="danger"?O.accentError:O.primary},"data-testid":`hub-metric-${n.toLowerCase().replace(/\s+/g,"-")}`,children:e.toLocaleString("pt-BR")},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hub/MetricsOverview.tsx",lineNumber:92,columnNumber:5},void 0)]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hub/MetricsOverview.tsx",lineNumber:78,columnNumber:3},void 0),mH={active:{label:"Ativo",variant:"success"},locked:{label:"Bloqueado",variant:"error"},new:{label:"Novo",variant:"outline"},maintenance:{label:"Manuteno",variant:"warning"}},pH=({items:n})=>n.length?y.jsxDEV("section",{className:"space-y-4","aria-label":"Aplicativos disponveis","data-testid":"hub-saas-carousel",children:[y.jsxDEV("header",{className:"flex items-center justify-between",children:y.jsxDEV("div",{children:[y.jsxDEV("h2",{className:"text-2xl uppercase tracking-[0.16em]",style:{fontFamily:$e.fontHeading,color:O.primary,textShadow:Mt.text},children:"SaaS Blacksider"},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hub/SaaSCarousel.tsx",lineNumber:40,columnNumber:11},void 0),y.jsxDEV("p",{className:"text-sm",style:{color:O.textSecondary},children:"Aplicativos conectados  sua membresia."},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hub/SaaSCarousel.tsx",lineNumber:50,columnNumber:11},void 0)]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hub/SaaSCarousel.tsx",lineNumber:39,columnNumber:9},void 0)},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hub/SaaSCarousel.tsx",lineNumber:38,columnNumber:7},void 0),y.jsxDEV("div",{className:"relative",children:[y.jsxDEV("div",{className:"flex gap-6 overflow-x-auto pb-4",role:"list",children:n.map(e=>{const i=mH[e.status];return y.jsxDEV(qt,{className:"min-w-[18rem] flex-1",role:"listitem","data-status":e.status,children:y.jsxDEV(gH,{item:e,badgeLabel:i.label,badgeVariant:i.variant},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hub/SaaSCarousel.tsx",lineNumber:61,columnNumber:17},void 0)},e.feature,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hub/SaaSCarousel.tsx",lineNumber:60,columnNumber:15},void 0)})},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hub/SaaSCarousel.tsx",lineNumber:56,columnNumber:9},void 0),y.jsxDEV("div",{className:"pointer-events-none absolute inset-y-0 left-0 w-12 bg-gradient-to-r from-[rgba(10,10,10,1)] to-transparent","aria-hidden":!0},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hub/SaaSCarousel.tsx",lineNumber:66,columnNumber:9},void 0),y.jsxDEV("div",{className:"pointer-events-none absolute inset-y-0 right-0 w-12 bg-gradient-to-l from-[rgba(10,10,10,1)] to-transparent","aria-hidden":!0},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hub/SaaSCarousel.tsx",lineNumber:67,columnNumber:9},void 0)]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hub/SaaSCarousel.tsx",lineNumber:55,columnNumber:7},void 0)]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hub/SaaSCarousel.tsx",lineNumber:37,columnNumber:5},void 0):null,gH=({item:n,badgeLabel:e,badgeVariant:i})=>{const s=!n.enabled||n.status==="locked",o=n.enabled&&n.status==="active",l=n.status==="new";return y.jsxDEV("div",{className:"flex h-full flex-col gap-6",children:[y.jsxDEV("div",{className:"flex items-center justify-between gap-3",children:[y.jsxDEV("div",{className:"flex items-center gap-3 text-2xl",style:{color:O.primary},children:[y.jsxDEV("span",{"aria-hidden":!0,children:n.icon},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hub/SaaSCarousel.tsx",lineNumber:88,columnNumber:11},void 0),y.jsxDEV(wn,{className:"text-xl",style:{color:O.primary},children:n.title},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hub/SaaSCarousel.tsx",lineNumber:89,columnNumber:11},void 0)]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hub/SaaSCarousel.tsx",lineNumber:87,columnNumber:9},void 0),y.jsxDEV(Er,{variant:i,children:e},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hub/SaaSCarousel.tsx",lineNumber:93,columnNumber:9},void 0)]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hub/SaaSCarousel.tsx",lineNumber:86,columnNumber:7},void 0),y.jsxDEV(Rn,{style:{color:O.textSecondary},children:n.description},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hub/SaaSCarousel.tsx",lineNumber:95,columnNumber:7},void 0),y.jsxDEV(td,{style:{color:O.textSecondary},children:o?"Permisses ativas":l?"Convide a equipe para testar este SaaS recm-chegado":"Ajuste as permisses para liberar este SaaS"},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hub/SaaSCarousel.tsx",lineNumber:96,columnNumber:9},void 0),y.jsxDEV("div",{className:"mt-auto flex flex-wrap gap-3",children:[y.jsxDEV(bt,{variant:o?"secondary":"primary",onClick:n.onCtaClick,disabled:s&&!n.onCtaClick,"aria-disabled":s&&!n.onCtaClick?!0:void 0,"aria-label":n.ctaLabel?`${n.title}  ${n.ctaLabel}`:o?`Abrir ${n.title}`:`Ativar acesso ao ${n.title}`,"data-testid":n.feature===vi.Cybervault?"nav-cybervault":n.feature===vi.Hidra?"nav-hidra":void 0,children:n.ctaLabel??(o?"Abrir":"Ativar acesso")},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hub/SaaSCarousel.tsx",lineNumber:100,columnNumber:9},void 0),n.ctaHref?y.jsxDEV("a",{href:n.ctaHref,className:"inline-flex items-center gap-2 text-sm uppercase tracking-[0.16em]",style:{color:O.primary,fontFamily:$e.fontHeading},children:"Saiba mais "},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hub/SaaSCarousel.tsx",lineNumber:123,columnNumber:11},void 0):null]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hub/SaaSCarousel.tsx",lineNumber:99,columnNumber:7},void 0)]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/components/hub/SaaSCarousel.tsx",lineNumber:85,columnNumber:5},void 0)},bH=n=>{switch(n){case vi.Hidra:return"";case vi.Cybervault:return"";case vi.Academy:return"";case vi.Admin:return"";case vi.Community:default:return""}},yH=()=>{const n=T1(),{data:e}=n,i=it(_1),s=it(_i),o=e?.banners?.[0]??null,l=e?.academy.featured??[],c=e?.academy.recommendations??[],d=e?.hidra.messageSummary??null,m=oe.useMemo(()=>l.map(M=>M.id),[l]),{progressMap:p,isLoading:v}=x1(s?m:[]),E=oe.useMemo(()=>d?{totalMessages:d.totalMessages,delivered:d.delivered,failed:d.failed,pending:d.pending,averageDeliveryMs:d.averageDeliveryMs,lastUpdatedAt:d.lastUpdatedAt??new Date().toISOString()}:null,[d]),C=oe.useMemo(()=>i.map(M=>({feature:M.feature,enabled:M.enabled,permissions:M.permissions,title:M.feature.toUpperCase(),description:M.enabled?"Acesso concedido ao mdulo":"Ative para liberar este mdulo",icon:y.jsxDEV("span",{"aria-hidden":!0,children:bH(M.feature)},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Hub/Home.tsx",lineNumber:69,columnNumber:13},void 0),status:M.enabled?"active":"locked",ctaLabel:M.enabled?"Abrir":"Ativar acesso"})),[i]),D=oe.useMemo(()=>c.reduce((M,B)=>(M.set(B.course.id,B),M),new Map),[c]),P=oe.useMemo(()=>l.map(M=>({course:M,progress:p?.[M.id],recommendation:D.get(M.id)?.recommendation,locked:M.status!==ms.Published})),[l,p,D]),A=n.isLoading||v,U=n.isLoading&&!E;return s?y.jsxDEV("main",{"data-testid":"hub-home",className:"container mx-auto flex max-w-[var(--container-2xl)] flex-col gap-10 px-6 py-8",style:{"--container-2xl":"1440px"},children:[y.jsxDEV("header",{className:"space-y-1",children:[y.jsxDEV("h1",{className:"text-3xl uppercase tracking-[0.14em]",style:{fontFamily:$e.fontHeading,color:O.primary,textShadow:Mt.text},children:"Blacksider Hub"},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Hub/Home.tsx",lineNumber:140,columnNumber:9},void 0),y.jsxDEV("p",{className:"text-sm",style:{color:O.textSecondary},children:"Seu ponto central para cursos, ferramentas e recursos."},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Hub/Home.tsx",lineNumber:146,columnNumber:9},void 0)]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Hub/Home.tsx",lineNumber:139,columnNumber:7},void 0),o?y.jsxDEV(cH,{banner:o},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Hub/Home.tsx",lineNumber:151,columnNumber:17},void 0):null,C.length?y.jsxDEV(pH,{items:C},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Hub/Home.tsx",lineNumber:153,columnNumber:27},void 0):null,y.jsxDEV("section",{className:"space-y-4",children:[y.jsxDEV("h2",{className:"text-2xl uppercase tracking-[0.16em]",style:{fontFamily:$e.fontHeading,color:O.primary},children:"Hidra  viso rpida"},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Hub/Home.tsx",lineNumber:156,columnNumber:9},void 0),y.jsxDEV(hH,{metrics:E,loading:U},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Hub/Home.tsx",lineNumber:162,columnNumber:9},void 0)]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Hub/Home.tsx",lineNumber:155,columnNumber:7},void 0),y.jsxDEV("section",{className:"space-y-4",children:[y.jsxDEV("h2",{className:"text-2xl uppercase tracking-[0.16em]",style:{fontFamily:$e.fontHeading,color:O.primary},children:"Academia"},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Hub/Home.tsx",lineNumber:166,columnNumber:9},void 0),y.jsxDEV(Tw,{items:P,loading:A},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Hub/Home.tsx",lineNumber:172,columnNumber:9},void 0)]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Hub/Home.tsx",lineNumber:165,columnNumber:7},void 0)]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Hub/Home.tsx",lineNumber:134,columnNumber:5},void 0):y.jsxDEV("main",{"data-testid":"hub-home",className:"container mx-auto flex max-w-[var(--container-2xl)] flex-col gap-10 px-6 py-8",style:{"--container-2xl":"1440px"},children:[y.jsxDEV("header",{className:"space-y-1",children:[y.jsxDEV("h1",{className:"text-3xl uppercase tracking-[0.14em]",style:{fontFamily:$e.fontHeading,color:O.primary,textShadow:Mt.text},children:"Blacksider Hub"},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Hub/Home.tsx",lineNumber:102,columnNumber:11},void 0),y.jsxDEV("p",{className:"text-sm",style:{color:O.textSecondary},children:"Seu ponto central para cursos, ferramentas e recursos."},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Hub/Home.tsx",lineNumber:108,columnNumber:11},void 0)]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Hub/Home.tsx",lineNumber:101,columnNumber:9},void 0),y.jsxDEV("section",{className:"rounded-3xl border border-[var(--lock-border)] bg-[var(--lock-bg)] p-10 text-center",style:{"--lock-border":O.borderPrimary,"--lock-bg":O.bgSecondary,color:O.textSecondary},children:y.jsxDEV("p",{className:"text-lg uppercase tracking-[0.12em]",style:{fontFamily:$e.fontHeading},children:"Faa login para desbloquear o Hub neon."},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Hub/Home.tsx",lineNumber:121,columnNumber:11},void 0)},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Hub/Home.tsx",lineNumber:113,columnNumber:9},void 0),y.jsxDEV("div",{className:"mt-2",children:y.jsxDEV(S1,{},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Hub/Home.tsx",lineNumber:127,columnNumber:11},void 0)},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Hub/Home.tsx",lineNumber:126,columnNumber:9},void 0)]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/pages/Hub/Home.tsx",lineNumber:96,columnNumber:7},void 0)},vH=()=>y.jsxDEV("div",{className:"flex min-h-screen items-center justify-center bg-[var(--bg-primary)] px-4 py-10",style:{"--bg-primary":O.bgPrimary},children:y.jsxDEV("div",{className:"w-full max-w-lg space-y-6",children:[y.jsxDEV("header",{className:"text-center",children:[y.jsxDEV("p",{className:"text-xs uppercase tracking-[0.28em]",style:{fontFamily:$e.fontHeading,color:O.textSecondary},children:"Portal Blacksider Society"},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/layouts/AuthLayout.tsx",lineNumber:14,columnNumber:11},void 0),y.jsxDEV("h1",{className:"mt-2 text-3xl uppercase",style:{fontFamily:$e.fontHeading,color:O.primary,textShadow:Mt.text},children:"Bem-vindo ao SiderHub"},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/layouts/AuthLayout.tsx",lineNumber:20,columnNumber:11},void 0)]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/layouts/AuthLayout.tsx",lineNumber:13,columnNumber:9},void 0),y.jsxDEV("div",{className:"rounded-3xl border border-[var(--border-color)] bg-[var(--bg-secondary)] p-8 shadow-[var(--shadow)]",style:{"--border-color":O.borderPrimary,"--bg-secondary":O.bgSecondary,"--shadow":Mt.md},children:y.jsxDEV(f0,{},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/layouts/AuthLayout.tsx",lineNumber:34,columnNumber:11},void 0)},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/layouts/AuthLayout.tsx",lineNumber:27,columnNumber:9},void 0)]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/layouts/AuthLayout.tsx",lineNumber:12,columnNumber:7},void 0)},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/layouts/AuthLayout.tsx",lineNumber:8,columnNumber:5},void 0),_H=[{label:"Hub",to:"/",testId:"nav-hub"},{label:"Academia",to:"/academy",testId:"nav-academy",feature:vi.Academy},{label:"Hidra",to:"/hidra",testId:"nav-hidra",feature:vi.Hidra},{label:"Cybervault",to:"/cybervault",testId:"nav-cybervault",feature:vi.Cybervault},{label:"Admin",to:"/admin",testId:"nav-admin",feature:vi.Admin}],xH={fontFamily:$e.fontHeading,letterSpacing:"0.18em",textTransform:"uppercase"},TH=()=>{const n=it(_1);return y.jsxDEV("div",{className:"min-h-screen bg-[var(--app-bg)] text-[var(--app-text)]",style:{"--app-bg":O.bgPrimary,"--app-text":O.textPrimary},children:[y.jsxDEV("header",{className:"sticky top-0 z-50 border-b border-[var(--border-color)] bg-[var(--bg-elevated)]/80 backdrop-blur",style:{"--border-color":O.borderPrimary,"--bg-elevated":O.bgElevated},children:y.jsxDEV("div",{className:"mx-auto flex max-w-6xl items-center justify-between px-6 py-4",children:[y.jsxDEV("span",{className:"text-lg font-semibold uppercase",style:{fontFamily:$e.fontHeading,letterSpacing:"0.2em",color:O.primary,textShadow:Mt.sm},children:"SiderHub"},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/layouts/HubLayout.tsx",lineNumber:37,columnNumber:11},void 0),y.jsxDEV("nav",{className:"flex gap-4 text-xs",children:_H.map(e=>{const i=e.feature?n.find(o=>o.feature===e.feature):{enabled:!0},s=e.feature?!i?.enabled:!1;return y.jsxDEV(y1,{to:e.to,"data-testid":e.testId,"aria-disabled":s,className:({isActive:o})=>["rounded-full px-4 py-2 transition-transform",o?"text-[var(--active-color)] shadow-[var(--glow)]":"text-[var(--inactive-color)] hover:-translate-y-0.5",s?"pointer-events-none opacity-40":""].filter(Boolean).join(" "),style:{...xH,"--inactive-color":O.textSecondary,"--active-color":O.primary,"--glow":Mt.sm},children:e.label},e.to,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/layouts/HubLayout.tsx",lineNumber:50,columnNumber:17},void 0)})},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/layouts/HubLayout.tsx",lineNumber:43,columnNumber:11},void 0)]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/layouts/HubLayout.tsx",lineNumber:36,columnNumber:9},void 0)},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/layouts/HubLayout.tsx",lineNumber:29,columnNumber:7},void 0),y.jsxDEV("main",{className:"mx-auto min-h-[calc(100vh-4rem)] max-w-6xl px-6 py-10",children:y.jsxDEV(f0,{},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/layouts/HubLayout.tsx",lineNumber:79,columnNumber:9},void 0)},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/layouts/HubLayout.tsx",lineNumber:78,columnNumber:7},void 0)]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/layouts/HubLayout.tsx",lineNumber:25,columnNumber:5},void 0)},SH=[{label:"Dashboard",to:"/admin",testId:"admin-nav-dashboard"},{label:"Banners",to:"/admin/banners",testId:"admin-nav-banners"},{label:"Membros",to:"/admin/members",testId:"admin-nav-members"}],EH=()=>y.jsxDEV("div",{className:"grid min-h-screen grid-cols-[260px_1fr] grid-rows-[auto_1fr]",style:{backgroundColor:O.bgPrimary,color:O.textPrimary},children:[y.jsxDEV("aside",{className:"col-span-1 row-span-2 flex flex-col gap-6 border-r border-[var(--border-color)] bg-[var(--bg-elevated)] px-6 py-8",style:{"--border-color":O.borderPrimary,"--bg-elevated":O.bgSecondary},children:[y.jsxDEV("div",{children:[y.jsxDEV("p",{className:"text-sm uppercase tracking-[0.2em]",style:{fontFamily:$e.fontHeading,color:O.textSecondary},children:"Painel Admin"},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/layouts/AdminLayout.tsx",lineNumber:23,columnNumber:11},void 0),y.jsxDEV("h1",{className:"mt-2 text-2xl uppercase",style:{fontFamily:$e.fontHeading,color:O.primary,textShadow:Mt.sm},children:"Blacksider"},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/layouts/AdminLayout.tsx",lineNumber:29,columnNumber:11},void 0)]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/layouts/AdminLayout.tsx",lineNumber:22,columnNumber:9},void 0),y.jsxDEV("nav",{className:"flex flex-col gap-2 text-xs",children:SH.map(n=>y.jsxDEV(y1,{to:n.to,"data-testid":n.testId,className:({isActive:e})=>["rounded-full px-4 py-2 transition-colors",e?"bg-[var(--active-bg)] text-[var(--active-text)] shadow-[var(--glow)]":"text-[var(--inactive-text)] hover:bg-[var(--hover-bg)]"].join(" "),style:{fontFamily:$e.fontHeading,letterSpacing:"0.16em","--active-bg":O.primaryGlow,"--active-text":O.textPrimary,"--inactive-text":O.textSecondary,"--hover-bg":O.bgTertiary,"--glow":Mt.sm},children:n.label},n.to,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/layouts/AdminLayout.tsx",lineNumber:38,columnNumber:13},void 0))},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/layouts/AdminLayout.tsx",lineNumber:36,columnNumber:9},void 0)]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/layouts/AdminLayout.tsx",lineNumber:18,columnNumber:7},void 0),y.jsxDEV("main",{className:"col-start-2 row-start-1 row-end-3 px-10 py-8",children:y.jsxDEV(f0,{},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/layouts/AdminLayout.tsx",lineNumber:66,columnNumber:9},void 0)},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/layouts/AdminLayout.tsx",lineNumber:65,columnNumber:7},void 0)]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/layouts/AdminLayout.tsx",lineNumber:14,columnNumber:5},void 0),NH=()=>y.jsxDEV("div",{className:"flex min-h-screen items-center justify-center",style:{backgroundColor:O.bgPrimary,color:O.textSecondary,fontFamily:$e.fontHeading,letterSpacing:"0.12em",textTransform:"uppercase"},children:"Carregando interface neon..."},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/routes/ProtectedRoute.tsx",lineNumber:16,columnNumber:3},void 0),aw=({children:n,redirectTo:e="/login",requiredFeature:i,fallback:s=y.jsxDEV(NH,{},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/routes/ProtectedRoute.tsx",lineNumber:34,columnNumber:14},void 0)})=>{const o=Lu(),l=it(_i),c=it(_1),d=it(v=>v.hydratedAt),m=it(v=>v.isLoading);if(!!!d||m)return y.jsxDEV(y.Fragment,{children:s},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/routes/ProtectedRoute.tsx",lineNumber:45,columnNumber:12},void 0);if(!l)return y.jsxDEV(Ub,{to:e,replace:!0,state:{from:o}},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/routes/ProtectedRoute.tsx",lineNumber:49,columnNumber:12},void 0);if(i){const v=c.find(E=>E.feature===i);if(!v||!v.enabled)return y.jsxDEV(Ub,{to:"/",replace:!0},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/routes/ProtectedRoute.tsx",lineNumber:55,columnNumber:14},void 0)}return n?y.jsxDEV(y.Fragment,{children:n},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/routes/ProtectedRoute.tsx",lineNumber:60,columnNumber:12},void 0):y.jsxDEV(f0,{},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/routes/ProtectedRoute.tsx",lineNumber:63,columnNumber:10},void 0)};function CH({initialQueryState:n}={}){const e=it(o=>o.hydrateFromStorage),i=it(_i),s=Ew();return oe.useEffect(()=>{e()},[e]),oe.useEffect(()=>{JI(s,n)},[s,n]),y.jsxDEV(cM,{client:s,children:y.jsxDEV(dM,{state:n,children:y.jsxDEV(wI,{children:y.jsxDEV(mI,{children:[y.jsxDEV(bi,{path:"/login",element:y.jsxDEV(vH,{},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/App.tsx",lineNumber:48,columnNumber:41},this),children:y.jsxDEV(bi,{index:!0,element:i?y.jsxDEV(Ub,{to:"/",replace:!0},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/App.tsx",lineNumber:51,columnNumber:42},this):y.jsxDEV(S1,{},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/App.tsx",lineNumber:51,columnNumber:72},this)},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/App.tsx",lineNumber:49,columnNumber:13},this)},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/App.tsx",lineNumber:48,columnNumber:11},this),y.jsxDEV(bi,{path:"/",element:y.jsxDEV(aw,{children:y.jsxDEV(TH,{},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/App.tsx",lineNumber:59,columnNumber:17},this)},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/App.tsx",lineNumber:58,columnNumber:15},this),children:[y.jsxDEV(bi,{index:!0,element:y.jsxDEV(yH,{},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/App.tsx",lineNumber:63,columnNumber:35},this)},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/App.tsx",lineNumber:63,columnNumber:13},this),y.jsxDEV(bi,{path:"academy",element:y.jsxDEV(lL,{},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/App.tsx",lineNumber:64,columnNumber:44},this)},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/App.tsx",lineNumber:64,columnNumber:13},this),y.jsxDEV(bi,{path:"academy/courses/:courseId",element:y.jsxDEV(cL,{},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/App.tsx",lineNumber:65,columnNumber:62},this)},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/App.tsx",lineNumber:65,columnNumber:13},this),y.jsxDEV(bi,{path:"academy/lessons/:lessonId",element:y.jsxDEV(i7,{},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/App.tsx",lineNumber:66,columnNumber:62},this)},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/App.tsx",lineNumber:66,columnNumber:13},this),y.jsxDEV(bi,{path:"hidra",element:y.jsxDEV(Jz,{},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/App.tsx",lineNumber:67,columnNumber:42},this)},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/App.tsx",lineNumber:67,columnNumber:13},this),y.jsxDEV(bi,{path:"hidra/campaigns",element:y.jsxDEV(Zz,{},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/App.tsx",lineNumber:68,columnNumber:52},this)},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/App.tsx",lineNumber:68,columnNumber:13},this),y.jsxDEV(bi,{path:"hidra/campaigns/create",element:y.jsxDEV($z,{},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/App.tsx",lineNumber:69,columnNumber:59},this)},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/App.tsx",lineNumber:69,columnNumber:13},this),y.jsxDEV(bi,{path:"hidra/campaigns/wizard",element:y.jsxDEV(oH,{},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/App.tsx",lineNumber:70,columnNumber:59},this)},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/App.tsx",lineNumber:70,columnNumber:13},this),y.jsxDEV(bi,{path:"hidra/config",element:y.jsxDEV(lH,{},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/App.tsx",lineNumber:71,columnNumber:49},this)},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/App.tsx",lineNumber:71,columnNumber:13},this),y.jsxDEV(bi,{path:"cybervault",element:y.jsxDEV(Fz,{},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/App.tsx",lineNumber:72,columnNumber:47},this)},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/App.tsx",lineNumber:72,columnNumber:13},this),y.jsxDEV(bi,{path:"cybervault/:resourceSlug",element:y.jsxDEV(Pz,{},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/App.tsx",lineNumber:73,columnNumber:61},this)},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/App.tsx",lineNumber:73,columnNumber:13},this)]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/App.tsx",lineNumber:55,columnNumber:11},this),y.jsxDEV(bi,{path:"/admin",element:y.jsxDEV(aw,{requiredFeature:vi.Admin,children:y.jsxDEV(EH,{},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/App.tsx",lineNumber:80,columnNumber:17},this)},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/App.tsx",lineNumber:79,columnNumber:15},this),children:[y.jsxDEV(bi,{index:!0,element:y.jsxDEV(mz,{},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/App.tsx",lineNumber:84,columnNumber:35},this)},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/App.tsx",lineNumber:84,columnNumber:13},this),y.jsxDEV(bi,{path:"banners",element:y.jsxDEV(uz,{},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/App.tsx",lineNumber:85,columnNumber:44},this)},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/App.tsx",lineNumber:85,columnNumber:13},this),y.jsxDEV(bi,{path:"members",element:y.jsxDEV(Dz,{},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/App.tsx",lineNumber:86,columnNumber:44},this)},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/App.tsx",lineNumber:86,columnNumber:13},this)]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/App.tsx",lineNumber:76,columnNumber:11},this),y.jsxDEV(bi,{path:"*",element:y.jsxDEV(Ub,{to:i?"/":"/login",replace:!0},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/App.tsx",lineNumber:91,columnNumber:22},this)},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/App.tsx",lineNumber:89,columnNumber:11},this)]},void 0,!0,{fileName:"/home/bushido/siderhub_2/src/frontend/App.tsx",lineNumber:47,columnNumber:11},this)},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/App.tsx",lineNumber:46,columnNumber:9},this)},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/App.tsx",lineNumber:45,columnNumber:7},this)},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/App.tsx",lineNumber:44,columnNumber:5},this)}xM.createRoot(document.getElementById("root")).render(y.jsxDEV(hM.StrictMode,{children:y.jsxDEV(CH,{},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/main.tsx",lineNumber:8,columnNumber:5},void 0)},void 0,!1,{fileName:"/home/bushido/siderhub_2/src/frontend/main.tsx",lineNumber:7,columnNumber:3},void 0));
//# sourceMappingURL=index-CzRmbDdM.js.map
